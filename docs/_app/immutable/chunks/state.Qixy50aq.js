const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./zenuml-definition-ddfc84a5.DpFesTSV.js","./preload-helper.7MmsKPK7.js","./utils.G50m_0R7.js","./dagre-SWNTG5WE.Bnp9TEv2.js","./graph.DMYth3O2.js","./_baseUniq.Ryu5tLZS.js","./layout.CFI1aaoF.js","./_basePickBy.BX0KOLWn.js","./clone.CfC-i4KY.js","./c4Diagram-GPMAACGM.BWNGdB0P.js","./chunk-VCFP4HPQ.BSyrAirz.js","./flowDiagram-TSWR6T2D.DpQIKFwH.js","./chunk-EICJXIV7.4QncRC6V.js","./channel.BHsaaWVe.js","./erDiagram-WO52GFNT.DJkC-atB.js","./gitGraphDiagram-5C7YHVU6.A-7hcIQm.js","./chunk-BAOP5US2.Dyi4OwCq.js","./chunk-RGXPSUNZ.DMnmSISI.js","./gitGraph-YCYPL57B.C7p1sW8C.js","./ganttDiagram-FAOCOTIY.BE7ayUPt.js","./linear.DDMZNlP1.js","./init.Gi6I4Gst.js","./infoDiagram-P5D6MX3V.DvkIIp64.js","./pieDiagram-BLWKPB35.CyqX6Vfv.js","./arc.DGNE9sAq.js","./ordinal.BYWQX77i.js","./quadrantDiagram-QXWEEFXS.BGwqaDab.js","./xychartDiagram-MYLB5AYS.BQPJcyf8.js","./requirementDiagram-XAUNFCZY.BsFPYjub.js","./sequenceDiagram-D25TJ2OB.BjHI5s7l.js","./classDiagram-FEGYTUDG.Bjskp_wG.js","./chunk-CXDZ2C6O.CwX9Ios1.js","./classDiagram-v2-R65JCUOM.Bjskp_wG.js","./stateDiagram-GNSP7T6Y.BAkXUt87.js","./chunk-JZAHL7AJ.BaLKE8vj.js","./stateDiagram-v2-HP6YRVRG.DgiajoFc.js","./journeyDiagram-UIGPPNLY.DIXoUNat.js","./timeline-definition-27KQCCZ3.BTQDRdsh.js","./mindmap-definition-R7LC4OIY.DS12C7GA.js","./cytoscape.esm.YXkLVt_w.js","./sankeyDiagram-LVV36NHA.C5MHs2j4.js","./diagram-NZMEDLQF.CS4MI54a.js","./blockDiagram-XN6IQ5JY.BxlAO6-P.js","./architectureDiagram-AYX4OTIS.qdEI4H-T.js"])))=>i.map(i=>d[i]);
var Rr=Object.defineProperty;var yr=rt=>{throw TypeError(rt)};var Br=(rt,it,lt)=>it in rt?Rr(rt,it,{enumerable:!0,configurable:!0,writable:!0,value:lt}):rt[it]=lt;var Qt=(rt,it,lt)=>Br(rt,typeof it!="symbol"?it+"":it,lt),Nr=(rt,it,lt)=>it.has(rt)||yr("Cannot "+lt);var xr=(rt,it,lt)=>it.has(rt)?yr("Cannot add the same private member more than once"):it instanceof WeakSet?it.add(rt):it.set(rt,lt);var Oe=(rt,it,lt)=>(Nr(rt,it,"access private method"),lt);import{w as writable,d as derived,g as get$2}from"./index.DTmzJrfA.js";import{_ as __vitePreload}from"./preload-helper.7MmsKPK7.js";const defaultLoading={loading:!1},loadingStateStore=writable(defaultLoading),initLoading=async(rt,it)=>{loadingStateStore.set({loading:!0,message:rt});const lt=await it;return loadingStateStore.set({loading:!1}),lt};var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$1=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root$1.Symbol,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty,nativeObjectToString$1=objectProto$c.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(rt){var it=hasOwnProperty$a.call(rt,symToStringTag$1),lt=rt[symToStringTag$1];try{rt[symToStringTag$1]=void 0;var ct=!0}catch{}var ht=nativeObjectToString$1.call(rt);return ct&&(it?rt[symToStringTag$1]=lt:delete rt[symToStringTag$1]),ht}var objectProto$b=Object.prototype,nativeObjectToString=objectProto$b.toString;function objectToString(rt){return nativeObjectToString.call(rt)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(rt){return rt==null?rt===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(rt)?getRawTag(rt):objectToString(rt)}function isObjectLike(rt){return rt!=null&&typeof rt=="object"}var symbolTag="[object Symbol]";function isSymbol(rt){return typeof rt=="symbol"||isObjectLike(rt)&&baseGetTag(rt)==symbolTag}var isArray=Array.isArray,reWhitespace=/\s/;function trimmedEndIndex(rt){for(var it=rt.length;it--&&reWhitespace.test(rt.charAt(it)););return it}var reTrimStart=/^\s+/;function baseTrim(rt){return rt&&rt.slice(0,trimmedEndIndex(rt)+1).replace(reTrimStart,"")}function isObject$1(rt){var it=typeof rt;return rt!=null&&(it=="object"||it=="function")}var NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(rt){if(typeof rt=="number")return rt;if(isSymbol(rt))return NAN;if(isObject$1(rt)){var it=typeof rt.valueOf=="function"?rt.valueOf():rt;rt=isObject$1(it)?it+"":it}if(typeof rt!="string")return rt===0?rt:+rt;rt=baseTrim(rt);var lt=reIsBinary.test(rt);return lt||reIsOctal.test(rt)?freeParseInt(rt.slice(2),lt?2:8):reIsBadHex.test(rt)?NAN:+rt}function identity$1(rt){return rt}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(rt){if(!isObject$1(rt))return!1;var it=baseGetTag(rt);return it==funcTag$1||it==genTag||it==asyncTag||it==proxyTag}var coreJsData=root$1["__core-js_shared__"],maskSrcKey=function(){var rt=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return rt?"Symbol(src)_1."+rt:""}();function isMasked(rt){return!!maskSrcKey&&maskSrcKey in rt}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(rt){if(rt!=null){try{return funcToString$2.call(rt)}catch{}try{return rt+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$a=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$9=objectProto$a.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$9).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(rt){if(!isObject$1(rt)||isMasked(rt))return!1;var it=isFunction(rt)?reIsNative:reIsHostCtor;return it.test(toSource(rt))}function getValue(rt,it){return rt==null?void 0:rt[it]}function getNative(rt,it){var lt=getValue(rt,it);return baseIsNative(lt)?lt:void 0}var WeakMap=getNative(root$1,"WeakMap"),objectCreate=Object.create,baseCreate=function(){function rt(){}return function(it){if(!isObject$1(it))return{};if(objectCreate)return objectCreate(it);rt.prototype=it;var lt=new rt;return rt.prototype=void 0,lt}}();function apply$1(rt,it,lt){switch(lt.length){case 0:return rt.call(it);case 1:return rt.call(it,lt[0]);case 2:return rt.call(it,lt[0],lt[1]);case 3:return rt.call(it,lt[0],lt[1],lt[2])}return rt.apply(it,lt)}function copyArray(rt,it){var lt=-1,ct=rt.length;for(it||(it=Array(ct));++lt<ct;)it[lt]=rt[lt];return it}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(rt){var it=0,lt=0;return function(){var ct=nativeNow(),ht=HOT_SPAN-(ct-lt);if(lt=ct,ht>0){if(++it>=HOT_COUNT)return arguments[0]}else it=0;return rt.apply(void 0,arguments)}}function constant$3(rt){return function(){return rt}}var defineProperty=function(){try{var rt=getNative(Object,"defineProperty");return rt({},"",{}),rt}catch{}}(),baseSetToString=defineProperty?function(rt,it){return defineProperty(rt,"toString",{configurable:!0,enumerable:!1,value:constant$3(it),writable:!0})}:identity$1,setToString=shortOut(baseSetToString),MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(rt,it){var lt=typeof rt;return it=it??MAX_SAFE_INTEGER$1,!!it&&(lt=="number"||lt!="symbol"&&reIsUint.test(rt))&&rt>-1&&rt%1==0&&rt<it}function baseAssignValue(rt,it,lt){it=="__proto__"&&defineProperty?defineProperty(rt,it,{configurable:!0,enumerable:!0,value:lt,writable:!0}):rt[it]=lt}function eq(rt,it){return rt===it||rt!==rt&&it!==it}var objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function assignValue(rt,it,lt){var ct=rt[it];(!(hasOwnProperty$8.call(rt,it)&&eq(ct,lt))||lt===void 0&&!(it in rt))&&baseAssignValue(rt,it,lt)}function copyObject(rt,it,lt,ct){var ht=!lt;lt||(lt={});for(var ut=-1,ft=it.length;++ut<ft;){var dt=it[ut],pt=void 0;pt===void 0&&(pt=rt[dt]),ht?baseAssignValue(lt,dt,pt):assignValue(lt,dt,pt)}return lt}var nativeMax$1=Math.max;function overRest(rt,it,lt){return it=nativeMax$1(it===void 0?rt.length-1:it,0),function(){for(var ct=arguments,ht=-1,ut=nativeMax$1(ct.length-it,0),ft=Array(ut);++ht<ut;)ft[ht]=ct[it+ht];ht=-1;for(var dt=Array(it+1);++ht<it;)dt[ht]=ct[ht];return dt[it]=lt(ft),apply$1(rt,this,dt)}}function baseRest(rt,it){return setToString(overRest(rt,it,identity$1),rt+"")}var MAX_SAFE_INTEGER=9007199254740991;function isLength(rt){return typeof rt=="number"&&rt>-1&&rt%1==0&&rt<=MAX_SAFE_INTEGER}function isArrayLike(rt){return rt!=null&&isLength(rt.length)&&!isFunction(rt)}function isIterateeCall(rt,it,lt){if(!isObject$1(lt))return!1;var ct=typeof it;return(ct=="number"?isArrayLike(lt)&&isIndex(it,lt.length):ct=="string"&&it in lt)?eq(lt[it],rt):!1}function createAssigner(rt){return baseRest(function(it,lt){var ct=-1,ht=lt.length,ut=ht>1?lt[ht-1]:void 0,ft=ht>2?lt[2]:void 0;for(ut=rt.length>3&&typeof ut=="function"?(ht--,ut):void 0,ft&&isIterateeCall(lt[0],lt[1],ft)&&(ut=ht<3?void 0:ut,ht=1),it=Object(it);++ct<ht;){var dt=lt[ct];dt&&rt(it,dt,ct,ut)}return it})}var objectProto$8=Object.prototype;function isPrototype(rt){var it=rt&&rt.constructor,lt=typeof it=="function"&&it.prototype||objectProto$8;return rt===lt}function baseTimes(rt,it){for(var lt=-1,ct=Array(rt);++lt<rt;)ct[lt]=it(lt);return ct}var argsTag$1="[object Arguments]";function baseIsArguments(rt){return isObjectLike(rt)&&baseGetTag(rt)==argsTag$1}var objectProto$7=Object.prototype,hasOwnProperty$7=objectProto$7.hasOwnProperty,propertyIsEnumerable=objectProto$7.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(rt){return isObjectLike(rt)&&hasOwnProperty$7.call(rt,"callee")&&!propertyIsEnumerable.call(rt,"callee")};function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root$1.Buffer:void 0,nativeIsBuffer=Buffer$2?Buffer$2.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$2="[object Map]",numberTag="[object Number]",objectTag$2="[object Object]",regexpTag="[object RegExp]",setTag$2="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$2]=typedArrayTags[numberTag]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag]=typedArrayTags[setTag$2]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray(rt){return isObjectLike(rt)&&isLength(rt.length)&&!!typedArrayTags[baseGetTag(rt)]}function baseUnary(rt){return function(it){return rt(it)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal.process,nodeUtil=function(){try{var rt=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return rt||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty;function arrayLikeKeys(rt,it){var lt=isArray(rt),ct=!lt&&isArguments(rt),ht=!lt&&!ct&&isBuffer(rt),ut=!lt&&!ct&&!ht&&isTypedArray(rt),ft=lt||ct||ht||ut,dt=ft?baseTimes(rt.length,String):[],pt=dt.length;for(var gt in rt)(it||hasOwnProperty$6.call(rt,gt))&&!(ft&&(gt=="length"||ht&&(gt=="offset"||gt=="parent")||ut&&(gt=="buffer"||gt=="byteLength"||gt=="byteOffset")||isIndex(gt,pt)))&&dt.push(gt);return dt}function overArg(rt,it){return function(lt){return rt(it(lt))}}var nativeKeys=overArg(Object.keys,Object),objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function baseKeys(rt){if(!isPrototype(rt))return nativeKeys(rt);var it=[];for(var lt in Object(rt))hasOwnProperty$5.call(rt,lt)&&lt!="constructor"&&it.push(lt);return it}function nativeKeysIn(rt){var it=[];if(rt!=null)for(var lt in Object(rt))it.push(lt);return it}var objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function baseKeysIn(rt){if(!isObject$1(rt))return nativeKeysIn(rt);var it=isPrototype(rt),lt=[];for(var ct in rt)ct=="constructor"&&(it||!hasOwnProperty$4.call(rt,ct))||lt.push(ct);return lt}function keysIn(rt){return isArrayLike(rt)?arrayLikeKeys(rt,!0):baseKeysIn(rt)}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(rt){var it=this.has(rt)&&delete this.__data__[rt];return this.size-=it?1:0,it}var HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function hashGet(rt){var it=this.__data__;if(nativeCreate){var lt=it[rt];return lt===HASH_UNDEFINED$1?void 0:lt}return hasOwnProperty$3.call(it,rt)?it[rt]:void 0}var objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function hashHas(rt){var it=this.__data__;return nativeCreate?it[rt]!==void 0:hasOwnProperty$2.call(it,rt)}var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(rt,it){var lt=this.__data__;return this.size+=this.has(rt)?0:1,lt[rt]=nativeCreate&&it===void 0?HASH_UNDEFINED:it,this}function Hash(rt){var it=-1,lt=rt==null?0:rt.length;for(this.clear();++it<lt;){var ct=rt[it];this.set(ct[0],ct[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(rt,it){for(var lt=rt.length;lt--;)if(eq(rt[lt][0],it))return lt;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(rt){var it=this.__data__,lt=assocIndexOf(it,rt);if(lt<0)return!1;var ct=it.length-1;return lt==ct?it.pop():splice.call(it,lt,1),--this.size,!0}function listCacheGet(rt){var it=this.__data__,lt=assocIndexOf(it,rt);return lt<0?void 0:it[lt][1]}function listCacheHas(rt){return assocIndexOf(this.__data__,rt)>-1}function listCacheSet(rt,it){var lt=this.__data__,ct=assocIndexOf(lt,rt);return ct<0?(++this.size,lt.push([rt,it])):lt[ct][1]=it,this}function ListCache(rt){var it=-1,lt=rt==null?0:rt.length;for(this.clear();++it<lt;){var ct=rt[it];this.set(ct[0],ct[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root$1,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(rt){var it=typeof rt;return it=="string"||it=="number"||it=="symbol"||it=="boolean"?rt!=="__proto__":rt===null}function getMapData(rt,it){var lt=rt.__data__;return isKeyable(it)?lt[typeof it=="string"?"string":"hash"]:lt.map}function mapCacheDelete(rt){var it=getMapData(this,rt).delete(rt);return this.size-=it?1:0,it}function mapCacheGet(rt){return getMapData(this,rt).get(rt)}function mapCacheHas(rt){return getMapData(this,rt).has(rt)}function mapCacheSet(rt,it){var lt=getMapData(this,rt),ct=lt.size;return lt.set(rt,it),this.size+=lt.size==ct?0:1,this}function MapCache(rt){var it=-1,lt=rt==null?0:rt.length;for(this.clear();++it<lt;){var ct=rt[it];this.set(ct[0],ct[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT$1="Expected a function";function memoize(rt,it){if(typeof rt!="function"||it!=null&&typeof it!="function")throw new TypeError(FUNC_ERROR_TEXT$1);var lt=function(){var ct=arguments,ht=it?it.apply(this,ct):ct[0],ut=lt.cache;if(ut.has(ht))return ut.get(ht);var ft=rt.apply(this,ct);return lt.cache=ut.set(ht,ft)||ut,ft};return lt.cache=new(memoize.Cache||MapCache),lt}memoize.Cache=MapCache;var getPrototype=overArg(Object.getPrototypeOf,Object),objectTag$1="[object Object]",funcProto=Function.prototype,objectProto$1=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$1=objectProto$1.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(rt){if(!isObjectLike(rt)||baseGetTag(rt)!=objectTag$1)return!1;var it=getPrototype(rt);if(it===null)return!0;var lt=hasOwnProperty$1.call(it,"constructor")&&it.constructor;return typeof lt=="function"&&lt instanceof lt&&funcToString.call(lt)==objectCtorString}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(rt){var it=this.__data__,lt=it.delete(rt);return this.size=it.size,lt}function stackGet(rt){return this.__data__.get(rt)}function stackHas(rt){return this.__data__.has(rt)}var LARGE_ARRAY_SIZE=200;function stackSet(rt,it){var lt=this.__data__;if(lt instanceof ListCache){var ct=lt.__data__;if(!Map$1||ct.length<LARGE_ARRAY_SIZE-1)return ct.push([rt,it]),this.size=++lt.size,this;lt=this.__data__=new MapCache(ct)}return lt.set(rt,it),this.size=lt.size,this}function Stack(rt){var it=this.__data__=new ListCache(rt);this.size=it.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer$1=moduleExports?root$1.Buffer:void 0,allocUnsafe=Buffer$1?Buffer$1.allocUnsafe:void 0;function cloneBuffer(rt,it){if(it)return rt.slice();var lt=rt.length,ct=allocUnsafe?allocUnsafe(lt):new rt.constructor(lt);return rt.copy(ct),ct}var DataView$1=getNative(root$1,"DataView"),Promise$1=getNative(root$1,"Promise"),Set$1=getNative(root$1,"Set"),mapTag$1="[object Map]",objectTag="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag(new Map$1)!=mapTag$1||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$1||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(rt){var it=baseGetTag(rt),lt=it==objectTag?rt.constructor:void 0,ct=lt?toSource(lt):"";if(ct)switch(ct){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag}return it});var Uint8Array$1=root$1.Uint8Array;function cloneArrayBuffer(rt){var it=new rt.constructor(rt.byteLength);return new Uint8Array$1(it).set(new Uint8Array$1(rt)),it}function cloneTypedArray(rt,it){var lt=it?cloneArrayBuffer(rt.buffer):rt.buffer;return new rt.constructor(lt,rt.byteOffset,rt.length)}function initCloneObject(rt){return typeof rt.constructor=="function"&&!isPrototype(rt)?baseCreate(getPrototype(rt)):{}}function createBaseFor(rt){return function(it,lt,ct){for(var ht=-1,ut=Object(it),ft=ct(it),dt=ft.length;dt--;){var pt=ft[++ht];if(lt(ut[pt],pt,ut)===!1)break}return it}}var baseFor=createBaseFor(),now$1=function(){return root$1.Date.now()},FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce(rt,it,lt){var ct,ht,ut,ft,dt,pt,gt=0,_t=!1,yt=!1,mt=!0;if(typeof rt!="function")throw new TypeError(FUNC_ERROR_TEXT);it=toNumber(it)||0,isObject$1(lt)&&(_t=!!lt.leading,yt="maxWait"in lt,ut=yt?nativeMax(toNumber(lt.maxWait)||0,it):ut,mt="trailing"in lt?!!lt.trailing:mt);function bt(It){var At=ct,Dt=ht;return ct=ht=void 0,gt=It,ft=rt.apply(Dt,At),ft}function xt(It){return gt=It,dt=setTimeout(St,it),_t?bt(It):ft}function wt(It){var At=It-pt,Dt=It-gt,Nt=it-At;return yt?nativeMin(Nt,ut-Dt):Nt}function Ct(It){var At=It-pt,Dt=It-gt;return pt===void 0||At>=it||At<0||yt&&Dt>=ut}function St(){var It=now$1();if(Ct(It))return Tt(It);dt=setTimeout(St,wt(It))}function Tt(It){return dt=void 0,mt&&ct?bt(It):(ct=ht=void 0,ft)}function vt(){dt!==void 0&&clearTimeout(dt),gt=0,ct=pt=ht=dt=void 0}function kt(){return dt===void 0?ft:Tt(now$1())}function Et(){var It=now$1(),At=Ct(It);if(ct=arguments,ht=this,pt=It,At){if(dt===void 0)return xt(pt);if(yt)return clearTimeout(dt),dt=setTimeout(St,it),bt(pt)}return dt===void 0&&(dt=setTimeout(St,it)),ft}return Et.cancel=vt,Et.flush=kt,Et}function assignMergeValue(rt,it,lt){(lt!==void 0&&!eq(rt[it],lt)||lt===void 0&&!(it in rt))&&baseAssignValue(rt,it,lt)}function isArrayLikeObject(rt){return isObjectLike(rt)&&isArrayLike(rt)}function safeGet(rt,it){if(!(it==="constructor"&&typeof rt[it]=="function")&&it!="__proto__")return rt[it]}function toPlainObject(rt){return copyObject(rt,keysIn(rt))}function baseMergeDeep(rt,it,lt,ct,ht,ut,ft){var dt=safeGet(rt,lt),pt=safeGet(it,lt),gt=ft.get(pt);if(gt){assignMergeValue(rt,lt,gt);return}var _t=ut?ut(dt,pt,lt+"",rt,it,ft):void 0,yt=_t===void 0;if(yt){var mt=isArray(pt),bt=!mt&&isBuffer(pt),xt=!mt&&!bt&&isTypedArray(pt);_t=pt,mt||bt||xt?isArray(dt)?_t=dt:isArrayLikeObject(dt)?_t=copyArray(dt):bt?(yt=!1,_t=cloneBuffer(pt,!0)):xt?(yt=!1,_t=cloneTypedArray(pt,!0)):_t=[]:isPlainObject(pt)||isArguments(pt)?(_t=dt,isArguments(dt)?_t=toPlainObject(dt):(!isObject$1(dt)||isFunction(dt))&&(_t=initCloneObject(pt))):yt=!1}yt&&(ft.set(pt,_t),ht(_t,pt,ct,ut,ft),ft.delete(pt)),assignMergeValue(rt,lt,_t)}function baseMerge(rt,it,lt,ct,ht){rt!==it&&baseFor(it,function(ut,ft){if(ht||(ht=new Stack),isObject$1(ut))baseMergeDeep(rt,it,ft,lt,baseMerge,ct,ht);else{var dt=ct?ct(safeGet(rt,ft),ut,ft+"",rt,it,ht):void 0;dt===void 0&&(dt=ut),assignMergeValue(rt,ft,dt)}},keysIn)}var mapTag="[object Map]",setTag="[object Set]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function isEmpty(rt){if(rt==null)return!0;if(isArrayLike(rt)&&(isArray(rt)||typeof rt=="string"||typeof rt.splice=="function"||isBuffer(rt)||isTypedArray(rt)||isArguments(rt)))return!rt.length;var it=getTag(rt);if(it==mapTag||it==setTag)return!rt.size;if(isPrototype(rt))return!baseKeys(rt).length;for(var lt in rt)if(hasOwnProperty.call(rt,lt))return!1;return!0}var merge$1=createAssigner(function(rt,it,lt){baseMerge(rt,it,lt)});function findMostRelevantLineNumber(rt,it){const lt=it.split(`
`);let ct=-1,ht=0;for(const[ut,ft]of lt.entries()){let dt=0;for(let pt=0;pt<=rt.length;pt++)for(let gt=pt+1;gt<=rt.length;gt++){const _t=rt.slice(pt,gt);ft.includes(_t)&&(dt=Math.max(dt,_t.length))}dt>ht&&(ht=dt,ct=ut+1)}return ct}function replaceLineNumberInErrorMessage(rt,it){const lt=/Parse error on line (\d+):/,ct=/Lexical error on line (\d+)/;return rt.replace(lt,`Parse error on line ${it}:`).replace(ct,`Lexical error on line ${it}:`)}function extractErrorLineText(rt){const it=/Error: Parse error on line \d+:\n(.+)\n+/,lt=rt.match(it);if(lt)return lt[1].slice(3);const ct=/Error: Lexical error on line \d+. Unrecognized text.\n(.+)\n-+/,ht=rt.match(ct);return ht?ht[1].slice(3):""}var __defProp$1=Object.defineProperty,__name$1=(rt,it)=>__defProp$1(rt,"name",{value:it,configurable:!0}),loader$3=__name$1(async()=>await __vitePreload(()=>import("./render-3CU3DUVI.w9Ygv-7k.js"),[],import.meta.url),"loader"),algos=["elk.stress","elk.force","elk.mrtree","elk.sporeOverlap"],layouts=[{name:"elk",loader:loader$3,algorithm:"elk.layered"},...algos.map(rt=>({name:rt,loader:loader$3,algorithm:rt}))],layouts_default=layouts;const id$2="zenuml",detector$1=rt=>/^\s*zenuml/.test(rt),loader$2=async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:it}=await import("./zenuml-definition-ddfc84a5.DpFesTSV.js").then(lt=>lt.z);return{diagram:it}},__vite__mapDeps([0,1,2]),import.meta.url);return{id:id$2,diagram:rt}},plugin$1={id:id$2,detector:detector$1,loader:loader$2};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(rt){return rt&&rt.__esModule&&Object.prototype.hasOwnProperty.call(rt,"default")?rt.default:rt}var dayjs_min={exports:{}};(function(rt,it){(function(lt,ct){rt.exports=ct()})(commonjsGlobal,function(){var lt=1e3,ct=6e4,ht=36e5,ut="millisecond",ft="second",dt="minute",pt="hour",gt="day",_t="week",yt="month",mt="quarter",bt="year",xt="date",wt="Invalid Date",Ct=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,St=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Tt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Ft){var $t=["th","st","nd","rd"],Bt=Ft%100;return"["+Ft+($t[(Bt-20)%10]||$t[Bt]||$t[0])+"]"}},vt=function(Ft,$t,Bt){var Pt=String(Ft);return!Pt||Pt.length>=$t?Ft:""+Array($t+1-Pt.length).join(Bt)+Ft},kt={s:vt,z:function(Ft){var $t=-Ft.utcOffset(),Bt=Math.abs($t),Pt=Math.floor(Bt/60),Ot=Bt%60;return($t<=0?"+":"-")+vt(Pt,2,"0")+":"+vt(Ot,2,"0")},m:function Ft($t,Bt){if($t.date()<Bt.date())return-Ft(Bt,$t);var Pt=12*(Bt.year()-$t.year())+(Bt.month()-$t.month()),Ot=$t.clone().add(Pt,yt),Wt=Bt-Ot<0,jt=$t.clone().add(Pt+(Wt?-1:1),yt);return+(-(Pt+(Bt-Ot)/(Wt?Ot-jt:jt-Ot))||0)},a:function(Ft){return Ft<0?Math.ceil(Ft)||0:Math.floor(Ft)},p:function(Ft){return{M:yt,y:bt,w:_t,d:gt,D:xt,h:pt,m:dt,s:ft,ms:ut,Q:mt}[Ft]||String(Ft||"").toLowerCase().replace(/s$/,"")},u:function(Ft){return Ft===void 0}},Et="en",It={};It[Et]=Tt;var At="$isDayjsObject",Dt=function(Ft){return Ft instanceof zt||!(!Ft||!Ft[At])},Nt=function Ft($t,Bt,Pt){var Ot;if(!$t)return Et;if(typeof $t=="string"){var Wt=$t.toLowerCase();It[Wt]&&(Ot=Wt),Bt&&(It[Wt]=Bt,Ot=Wt);var jt=$t.split("-");if(!Ot&&jt.length>1)return Ft(jt[0])}else{var Gt=$t.name;It[Gt]=$t,Ot=Gt}return!Pt&&Ot&&(Et=Ot),Ot||!Pt&&Et},Mt=function(Ft,$t){if(Dt(Ft))return Ft.clone();var Bt=typeof $t=="object"?$t:{};return Bt.date=Ft,Bt.args=arguments,new zt(Bt)},Rt=kt;Rt.l=Nt,Rt.i=Dt,Rt.w=function(Ft,$t){return Mt(Ft,{locale:$t.$L,utc:$t.$u,x:$t.$x,$offset:$t.$offset})};var zt=function(){function Ft(Bt){this.$L=Nt(Bt.locale,null,!0),this.parse(Bt),this.$x=this.$x||Bt.x||{},this[At]=!0}var $t=Ft.prototype;return $t.parse=function(Bt){this.$d=function(Pt){var Ot=Pt.date,Wt=Pt.utc;if(Ot===null)return new Date(NaN);if(Rt.u(Ot))return new Date;if(Ot instanceof Date)return new Date(Ot);if(typeof Ot=="string"&&!/Z$/i.test(Ot)){var jt=Ot.match(Ct);if(jt){var Gt=jt[2]-1||0,Xt=(jt[7]||"0").substring(0,3);return Wt?new Date(Date.UTC(jt[1],Gt,jt[3]||1,jt[4]||0,jt[5]||0,jt[6]||0,Xt)):new Date(jt[1],Gt,jt[3]||1,jt[4]||0,jt[5]||0,jt[6]||0,Xt)}}return new Date(Ot)}(Bt),this.init()},$t.init=function(){var Bt=this.$d;this.$y=Bt.getFullYear(),this.$M=Bt.getMonth(),this.$D=Bt.getDate(),this.$W=Bt.getDay(),this.$H=Bt.getHours(),this.$m=Bt.getMinutes(),this.$s=Bt.getSeconds(),this.$ms=Bt.getMilliseconds()},$t.$utils=function(){return Rt},$t.isValid=function(){return this.$d.toString()!==wt},$t.isSame=function(Bt,Pt){var Ot=Mt(Bt);return this.startOf(Pt)<=Ot&&Ot<=this.endOf(Pt)},$t.isAfter=function(Bt,Pt){return Mt(Bt)<this.startOf(Pt)},$t.isBefore=function(Bt,Pt){return this.endOf(Pt)<Mt(Bt)},$t.$g=function(Bt,Pt,Ot){return Rt.u(Bt)?this[Pt]:this.set(Ot,Bt)},$t.unix=function(){return Math.floor(this.valueOf()/1e3)},$t.valueOf=function(){return this.$d.getTime()},$t.startOf=function(Bt,Pt){var Ot=this,Wt=!!Rt.u(Pt)||Pt,jt=Rt.p(Bt),Gt=function(ce,ee){var he=Rt.w(Ot.$u?Date.UTC(Ot.$y,ee,ce):new Date(Ot.$y,ee,ce),Ot);return Wt?he:he.endOf(gt)},Xt=function(ce,ee){return Rt.w(Ot.toDate()[ce].apply(Ot.toDate("s"),(Wt?[0,0,0,0]:[23,59,59,999]).slice(ee)),Ot)},Zt=this.$W,Jt=this.$M,Vt=this.$D,oe="set"+(this.$u?"UTC":"");switch(jt){case bt:return Wt?Gt(1,0):Gt(31,11);case yt:return Wt?Gt(1,Jt):Gt(0,Jt+1);case _t:var le=this.$locale().weekStart||0,_e=(Zt<le?Zt+7:Zt)-le;return Gt(Wt?Vt-_e:Vt+(6-_e),Jt);case gt:case xt:return Xt(oe+"Hours",0);case pt:return Xt(oe+"Minutes",1);case dt:return Xt(oe+"Seconds",2);case ft:return Xt(oe+"Milliseconds",3);default:return this.clone()}},$t.endOf=function(Bt){return this.startOf(Bt,!1)},$t.$set=function(Bt,Pt){var Ot,Wt=Rt.p(Bt),jt="set"+(this.$u?"UTC":""),Gt=(Ot={},Ot[gt]=jt+"Date",Ot[xt]=jt+"Date",Ot[yt]=jt+"Month",Ot[bt]=jt+"FullYear",Ot[pt]=jt+"Hours",Ot[dt]=jt+"Minutes",Ot[ft]=jt+"Seconds",Ot[ut]=jt+"Milliseconds",Ot)[Wt],Xt=Wt===gt?this.$D+(Pt-this.$W):Pt;if(Wt===yt||Wt===bt){var Zt=this.clone().set(xt,1);Zt.$d[Gt](Xt),Zt.init(),this.$d=Zt.set(xt,Math.min(this.$D,Zt.daysInMonth())).$d}else Gt&&this.$d[Gt](Xt);return this.init(),this},$t.set=function(Bt,Pt){return this.clone().$set(Bt,Pt)},$t.get=function(Bt){return this[Rt.p(Bt)]()},$t.add=function(Bt,Pt){var Ot,Wt=this;Bt=Number(Bt);var jt=Rt.p(Pt),Gt=function(Jt){var Vt=Mt(Wt);return Rt.w(Vt.date(Vt.date()+Math.round(Jt*Bt)),Wt)};if(jt===yt)return this.set(yt,this.$M+Bt);if(jt===bt)return this.set(bt,this.$y+Bt);if(jt===gt)return Gt(1);if(jt===_t)return Gt(7);var Xt=(Ot={},Ot[dt]=ct,Ot[pt]=ht,Ot[ft]=lt,Ot)[jt]||1,Zt=this.$d.getTime()+Bt*Xt;return Rt.w(Zt,this)},$t.subtract=function(Bt,Pt){return this.add(-1*Bt,Pt)},$t.format=function(Bt){var Pt=this,Ot=this.$locale();if(!this.isValid())return Ot.invalidDate||wt;var Wt=Bt||"YYYY-MM-DDTHH:mm:ssZ",jt=Rt.z(this),Gt=this.$H,Xt=this.$m,Zt=this.$M,Jt=Ot.weekdays,Vt=Ot.months,oe=Ot.meridiem,le=function(ee,he,se,me){return ee&&(ee[he]||ee(Pt,Wt))||se[he].slice(0,me)},_e=function(ee){return Rt.s(Gt%12||12,ee,"0")},ce=oe||function(ee,he,se){var me=ee<12?"AM":"PM";return se?me.toLowerCase():me};return Wt.replace(St,function(ee,he){return he||function(se){switch(se){case"YY":return String(Pt.$y).slice(-2);case"YYYY":return Rt.s(Pt.$y,4,"0");case"M":return Zt+1;case"MM":return Rt.s(Zt+1,2,"0");case"MMM":return le(Ot.monthsShort,Zt,Vt,3);case"MMMM":return le(Vt,Zt);case"D":return Pt.$D;case"DD":return Rt.s(Pt.$D,2,"0");case"d":return String(Pt.$W);case"dd":return le(Ot.weekdaysMin,Pt.$W,Jt,2);case"ddd":return le(Ot.weekdaysShort,Pt.$W,Jt,3);case"dddd":return Jt[Pt.$W];case"H":return String(Gt);case"HH":return Rt.s(Gt,2,"0");case"h":return _e(1);case"hh":return _e(2);case"a":return ce(Gt,Xt,!0);case"A":return ce(Gt,Xt,!1);case"m":return String(Xt);case"mm":return Rt.s(Xt,2,"0");case"s":return String(Pt.$s);case"ss":return Rt.s(Pt.$s,2,"0");case"SSS":return Rt.s(Pt.$ms,3,"0");case"Z":return jt}return null}(ee)||jt.replace(":","")})},$t.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$t.diff=function(Bt,Pt,Ot){var Wt,jt=this,Gt=Rt.p(Pt),Xt=Mt(Bt),Zt=(Xt.utcOffset()-this.utcOffset())*ct,Jt=this-Xt,Vt=function(){return Rt.m(jt,Xt)};switch(Gt){case bt:Wt=Vt()/12;break;case yt:Wt=Vt();break;case mt:Wt=Vt()/3;break;case _t:Wt=(Jt-Zt)/6048e5;break;case gt:Wt=(Jt-Zt)/864e5;break;case pt:Wt=Jt/ht;break;case dt:Wt=Jt/ct;break;case ft:Wt=Jt/lt;break;default:Wt=Jt}return Ot?Wt:Rt.a(Wt)},$t.daysInMonth=function(){return this.endOf(yt).$D},$t.$locale=function(){return It[this.$L]},$t.locale=function(Bt,Pt){if(!Bt)return this.$L;var Ot=this.clone(),Wt=Nt(Bt,Pt,!0);return Wt&&(Ot.$L=Wt),Ot},$t.clone=function(){return Rt.w(this.$d,this)},$t.toDate=function(){return new Date(this.valueOf())},$t.toJSON=function(){return this.isValid()?this.toISOString():null},$t.toISOString=function(){return this.$d.toISOString()},$t.toString=function(){return this.$d.toUTCString()},Ft}(),Ht=zt.prototype;return Mt.prototype=Ht,[["$ms",ut],["$s",ft],["$m",dt],["$H",pt],["$W",gt],["$M",yt],["$y",bt],["$D",xt]].forEach(function(Ft){Ht[Ft[1]]=function($t){return this.$g($t,Ft[0],Ft[1])}}),Mt.extend=function(Ft,$t){return Ft.$i||(Ft($t,zt,Mt),Ft.$i=!0),Mt},Mt.locale=Nt,Mt.isDayjs=Dt,Mt.unix=function(Ft){return Mt(1e3*Ft)},Mt.en=It[Et],Mt.Ls=It,Mt.p={},Mt})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs2=getDefaultExportFromCjs(dayjs_minExports),Channel={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:rt=>rt>=255?255:rt<0?0:rt,g:rt=>rt>=255?255:rt<0?0:rt,b:rt=>rt>=255?255:rt<0?0:rt,h:rt=>rt%360,s:rt=>rt>=100?100:rt<0?0:rt,l:rt=>rt>=100?100:rt<0?0:rt,a:rt=>rt>=1?1:rt<0?0:rt},toLinear:rt=>{const it=rt/255;return rt>.03928?Math.pow((it+.055)/1.055,2.4):it/12.92},hue2rgb:(rt,it,lt)=>(lt<0&&(lt+=1),lt>1&&(lt-=1),lt<1/6?rt+(it-rt)*6*lt:lt<1/2?it:lt<2/3?rt+(it-rt)*(2/3-lt)*6:rt),hsl2rgb:({h:rt,s:it,l:lt},ct)=>{if(!it)return lt*2.55;rt/=360,it/=100,lt/=100;const ht=lt<.5?lt*(1+it):lt+it-lt*it,ut=2*lt-ht;switch(ct){case"r":return Channel.hue2rgb(ut,ht,rt+1/3)*255;case"g":return Channel.hue2rgb(ut,ht,rt)*255;case"b":return Channel.hue2rgb(ut,ht,rt-1/3)*255}},rgb2hsl:({r:rt,g:it,b:lt},ct)=>{rt/=255,it/=255,lt/=255;const ht=Math.max(rt,it,lt),ut=Math.min(rt,it,lt),ft=(ht+ut)/2;if(ct==="l")return ft*100;if(ht===ut)return 0;const dt=ht-ut,pt=ft>.5?dt/(2-ht-ut):dt/(ht+ut);if(ct==="s")return pt*100;switch(ht){case rt:return((it-lt)/dt+(it<lt?6:0))*60;case it:return((lt-rt)/dt+2)*60;case lt:return((rt-it)/dt+4)*60;default:return-1}}},Lang={clamp:(rt,it,lt)=>it>lt?Math.min(it,Math.max(lt,rt)):Math.min(lt,Math.max(it,rt)),round:rt=>Math.round(rt*1e10)/1e10},Unit={dec2hex:rt=>{const it=Math.round(rt).toString(16);return it.length>1?it:`0${it}`}},Utils={channel:Channel,lang:Lang,unit:Unit},DEC2HEX={};for(let rt=0;rt<=255;rt++)DEC2HEX[rt]=Utils.unit.dec2hex(rt);const TYPE$2={ALL:0,RGB:1,HSL:2};class Type{constructor(){this.type=TYPE$2.ALL}get(){return this.type}set(it){if(this.type&&this.type!==it)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=it}reset(){this.type=TYPE$2.ALL}is(it){return this.type===it}}class Channels{constructor(it,lt){this.color=lt,this.changed=!1,this.data=it,this.type=new Type}set(it,lt){return this.color=lt,this.changed=!1,this.data=it,this.type.type=TYPE$2.ALL,this}_ensureHSL(){const it=this.data,{h:lt,s:ct,l:ht}=it;lt===void 0&&(it.h=Utils.channel.rgb2hsl(it,"h")),ct===void 0&&(it.s=Utils.channel.rgb2hsl(it,"s")),ht===void 0&&(it.l=Utils.channel.rgb2hsl(it,"l"))}_ensureRGB(){const it=this.data,{r:lt,g:ct,b:ht}=it;lt===void 0&&(it.r=Utils.channel.hsl2rgb(it,"r")),ct===void 0&&(it.g=Utils.channel.hsl2rgb(it,"g")),ht===void 0&&(it.b=Utils.channel.hsl2rgb(it,"b"))}get r(){const it=this.data,lt=it.r;return!this.type.is(TYPE$2.HSL)&&lt!==void 0?lt:(this._ensureHSL(),Utils.channel.hsl2rgb(it,"r"))}get g(){const it=this.data,lt=it.g;return!this.type.is(TYPE$2.HSL)&&lt!==void 0?lt:(this._ensureHSL(),Utils.channel.hsl2rgb(it,"g"))}get b(){const it=this.data,lt=it.b;return!this.type.is(TYPE$2.HSL)&&lt!==void 0?lt:(this._ensureHSL(),Utils.channel.hsl2rgb(it,"b"))}get h(){const it=this.data,lt=it.h;return!this.type.is(TYPE$2.RGB)&&lt!==void 0?lt:(this._ensureRGB(),Utils.channel.rgb2hsl(it,"h"))}get s(){const it=this.data,lt=it.s;return!this.type.is(TYPE$2.RGB)&&lt!==void 0?lt:(this._ensureRGB(),Utils.channel.rgb2hsl(it,"s"))}get l(){const it=this.data,lt=it.l;return!this.type.is(TYPE$2.RGB)&&lt!==void 0?lt:(this._ensureRGB(),Utils.channel.rgb2hsl(it,"l"))}get a(){return this.data.a}set r(it){this.type.set(TYPE$2.RGB),this.changed=!0,this.data.r=it}set g(it){this.type.set(TYPE$2.RGB),this.changed=!0,this.data.g=it}set b(it){this.type.set(TYPE$2.RGB),this.changed=!0,this.data.b=it}set h(it){this.type.set(TYPE$2.HSL),this.changed=!0,this.data.h=it}set s(it){this.type.set(TYPE$2.HSL),this.changed=!0,this.data.s=it}set l(it){this.type.set(TYPE$2.HSL),this.changed=!0,this.data.l=it}set a(it){this.changed=!0,this.data.a=it}}const channels=new Channels({r:0,g:0,b:0,a:0},"transparent"),Hex={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:rt=>{if(rt.charCodeAt(0)!==35)return;const it=rt.match(Hex.re);if(!it)return;const lt=it[1],ct=parseInt(lt,16),ht=lt.length,ut=ht%4===0,ft=ht>4,dt=ft?1:17,pt=ft?8:4,gt=ut?0:-1,_t=ft?255:15;return channels.set({r:(ct>>pt*(gt+3)&_t)*dt,g:(ct>>pt*(gt+2)&_t)*dt,b:(ct>>pt*(gt+1)&_t)*dt,a:ut?(ct&_t)*dt/255:1},rt)},stringify:rt=>{const{r:it,g:lt,b:ct,a:ht}=rt;return ht<1?`#${DEC2HEX[Math.round(it)]}${DEC2HEX[Math.round(lt)]}${DEC2HEX[Math.round(ct)]}${DEC2HEX[Math.round(ht*255)]}`:`#${DEC2HEX[Math.round(it)]}${DEC2HEX[Math.round(lt)]}${DEC2HEX[Math.round(ct)]}`}},HSL={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:rt=>{const it=rt.match(HSL.hueRe);if(it){const[,lt,ct]=it;switch(ct){case"grad":return Utils.channel.clamp.h(parseFloat(lt)*.9);case"rad":return Utils.channel.clamp.h(parseFloat(lt)*180/Math.PI);case"turn":return Utils.channel.clamp.h(parseFloat(lt)*360)}}return Utils.channel.clamp.h(parseFloat(rt))},parse:rt=>{const it=rt.charCodeAt(0);if(it!==104&&it!==72)return;const lt=rt.match(HSL.re);if(!lt)return;const[,ct,ht,ut,ft,dt]=lt;return channels.set({h:HSL._hue2deg(ct),s:Utils.channel.clamp.s(parseFloat(ht)),l:Utils.channel.clamp.l(parseFloat(ut)),a:ft?Utils.channel.clamp.a(dt?parseFloat(ft)/100:parseFloat(ft)):1},rt)},stringify:rt=>{const{h:it,s:lt,l:ct,a:ht}=rt;return ht<1?`hsla(${Utils.lang.round(it)}, ${Utils.lang.round(lt)}%, ${Utils.lang.round(ct)}%, ${ht})`:`hsl(${Utils.lang.round(it)}, ${Utils.lang.round(lt)}%, ${Utils.lang.round(ct)}%)`}},Keyword={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:rt=>{rt=rt.toLowerCase();const it=Keyword.colors[rt];if(it)return Hex.parse(it)},stringify:rt=>{const it=Hex.stringify(rt);for(const lt in Keyword.colors)if(Keyword.colors[lt]===it)return lt}},RGB={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:rt=>{const it=rt.charCodeAt(0);if(it!==114&&it!==82)return;const lt=rt.match(RGB.re);if(!lt)return;const[,ct,ht,ut,ft,dt,pt,gt,_t]=lt;return channels.set({r:Utils.channel.clamp.r(ht?parseFloat(ct)*2.55:parseFloat(ct)),g:Utils.channel.clamp.g(ft?parseFloat(ut)*2.55:parseFloat(ut)),b:Utils.channel.clamp.b(pt?parseFloat(dt)*2.55:parseFloat(dt)),a:gt?Utils.channel.clamp.a(_t?parseFloat(gt)/100:parseFloat(gt)):1},rt)},stringify:rt=>{const{r:it,g:lt,b:ct,a:ht}=rt;return ht<1?`rgba(${Utils.lang.round(it)}, ${Utils.lang.round(lt)}, ${Utils.lang.round(ct)}, ${Utils.lang.round(ht)})`:`rgb(${Utils.lang.round(it)}, ${Utils.lang.round(lt)}, ${Utils.lang.round(ct)})`}},Color$1={format:{keyword:Keyword,hex:Hex,rgb:RGB,rgba:RGB,hsl:HSL,hsla:HSL},parse:rt=>{if(typeof rt!="string")return rt;const it=Hex.parse(rt)||RGB.parse(rt)||HSL.parse(rt)||Keyword.parse(rt);if(it)return it;throw new Error(`Unsupported color format: "${rt}"`)},stringify:rt=>!rt.changed&&rt.color?rt.color:rt.type.is(TYPE$2.HSL)||rt.data.r===void 0?HSL.stringify(rt):rt.a<1||!Number.isInteger(rt.r)||!Number.isInteger(rt.g)||!Number.isInteger(rt.b)?RGB.stringify(rt):Hex.stringify(rt)},change=(rt,it)=>{const lt=Color$1.parse(rt);for(const ct in it)lt[ct]=Utils.channel.clamp[ct](it[ct]);return Color$1.stringify(lt)},rgba$1=(rt,it,lt=0,ct=1)=>{if(typeof rt!="number")return change(rt,{a:it});const ht=channels.set({r:Utils.channel.clamp.r(rt),g:Utils.channel.clamp.g(it),b:Utils.channel.clamp.b(lt),a:Utils.channel.clamp.a(ct)});return Color$1.stringify(ht)},luminance=rt=>{const{r:it,g:lt,b:ct}=Color$1.parse(rt),ht=.2126*Utils.channel.toLinear(it)+.7152*Utils.channel.toLinear(lt)+.0722*Utils.channel.toLinear(ct);return Utils.lang.round(ht)},isLight=rt=>luminance(rt)>=.5,isDark=rt=>!isLight(rt),adjustChannel=(rt,it,lt)=>{const ct=Color$1.parse(rt),ht=ct[it],ut=Utils.channel.clamp[it](ht+lt);return ht!==ut&&(ct[it]=ut),Color$1.stringify(ct)},lighten=(rt,it)=>adjustChannel(rt,"l",it),darken=(rt,it)=>adjustChannel(rt,"l",-it),adjust=(rt,it)=>{const lt=Color$1.parse(rt),ct={};for(const ht in it)it[ht]&&(ct[ht]=lt[ht]+it[ht]);return change(rt,ct)},mix=(rt,it,lt=50)=>{const{r:ct,g:ht,b:ut,a:ft}=Color$1.parse(rt),{r:dt,g:pt,b:gt,a:_t}=Color$1.parse(it),yt=lt/100,mt=yt*2-1,bt=ft-_t,wt=((mt*bt===-1?mt:(mt+bt)/(1+mt*bt))+1)/2,Ct=1-wt,St=ct*wt+dt*Ct,Tt=ht*wt+pt*Ct,vt=ut*wt+gt*Ct,kt=ft*yt+_t*(1-yt);return rgba$1(St,Tt,vt,kt)},invert=(rt,it=100)=>{const lt=Color$1.parse(rt);return lt.r=255-lt.r,lt.g=255-lt.g,lt.b=255-lt.b,mix(lt,rt,it)};/*! @license DOMPurify 3.1.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.6/LICENSE */const{entries,setPrototypeOf,isFrozen,getPrototypeOf,getOwnPropertyDescriptor}=Object;let{freeze,seal,create:create$1}=Object,{apply,construct}=typeof Reflect<"u"&&Reflect;freeze||(freeze=function(it){return it});seal||(seal=function(it){return it});apply||(apply=function(it,lt,ct){return it.apply(lt,ct)});construct||(construct=function(it,lt){return new it(...lt)});const arrayForEach=unapply(Array.prototype.forEach),arrayPop=unapply(Array.prototype.pop),arrayPush=unapply(Array.prototype.push),stringToLowerCase=unapply(String.prototype.toLowerCase),stringToString=unapply(String.prototype.toString),stringMatch=unapply(String.prototype.match),stringReplace=unapply(String.prototype.replace),stringIndexOf=unapply(String.prototype.indexOf),stringTrim=unapply(String.prototype.trim),objectHasOwnProperty=unapply(Object.prototype.hasOwnProperty),regExpTest=unapply(RegExp.prototype.test),typeErrorCreate=unconstruct(TypeError);function unapply(rt){return function(it){for(var lt=arguments.length,ct=new Array(lt>1?lt-1:0),ht=1;ht<lt;ht++)ct[ht-1]=arguments[ht];return apply(rt,it,ct)}}function unconstruct(rt){return function(){for(var it=arguments.length,lt=new Array(it),ct=0;ct<it;ct++)lt[ct]=arguments[ct];return construct(rt,lt)}}function addToSet(rt,it){let lt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:stringToLowerCase;setPrototypeOf&&setPrototypeOf(rt,null);let ct=it.length;for(;ct--;){let ht=it[ct];if(typeof ht=="string"){const ut=lt(ht);ut!==ht&&(isFrozen(it)||(it[ct]=ut),ht=ut)}rt[ht]=!0}return rt}function cleanArray(rt){for(let it=0;it<rt.length;it++)objectHasOwnProperty(rt,it)||(rt[it]=null);return rt}function clone(rt){const it=create$1(null);for(const[lt,ct]of entries(rt))objectHasOwnProperty(rt,lt)&&(Array.isArray(ct)?it[lt]=cleanArray(ct):ct&&typeof ct=="object"&&ct.constructor===Object?it[lt]=clone(ct):it[lt]=ct);return it}function lookupGetter(rt,it){for(;rt!==null;){const ct=getOwnPropertyDescriptor(rt,it);if(ct){if(ct.get)return unapply(ct.get);if(typeof ct.value=="function")return unapply(ct.value)}rt=getPrototypeOf(rt)}function lt(){return null}return lt}const html$1=freeze(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg$1=freeze(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),svgFilters=freeze(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),svgDisallowed=freeze(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mathMl$1=freeze(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),mathMlDisallowed=freeze(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),text$1=freeze(["#text"]),html$2=freeze(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),svg=freeze(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mathMl=freeze(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xml=freeze(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MUSTACHE_EXPR=seal(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ERB_EXPR=seal(/<%[\w\W]*|[\w\W]*%>/gm),TMPLIT_EXPR=seal(/\${[\w\W]*}/gm),DATA_ATTR=seal(/^data-[\-\w.\u00B7-\uFFFF]/),ARIA_ATTR=seal(/^aria-[\-\w]+$/),IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IS_SCRIPT_OR_DATA=seal(/^(?:\w+script|data):/i),ATTR_WHITESPACE=seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),DOCTYPE_NAME=seal(/^html$/i),CUSTOM_ELEMENT=seal(/^[a-z][.\w]*(-[.\w]+)+$/i);var EXPRESSIONS=Object.freeze({__proto__:null,MUSTACHE_EXPR,ERB_EXPR,TMPLIT_EXPR,DATA_ATTR,ARIA_ATTR,IS_ALLOWED_URI,IS_SCRIPT_OR_DATA,ATTR_WHITESPACE,DOCTYPE_NAME,CUSTOM_ELEMENT});const NODE_TYPE={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},getGlobal=function(){return typeof window>"u"?null:window},_createTrustedTypesPolicy=function(it,lt){if(typeof it!="object"||typeof it.createPolicy!="function")return null;let ct=null;const ht="data-tt-policy-suffix";lt&&lt.hasAttribute(ht)&&(ct=lt.getAttribute(ht));const ut="dompurify"+(ct?"#"+ct:"");try{return it.createPolicy(ut,{createHTML(ft){return ft},createScriptURL(ft){return ft}})}catch{return console.warn("TrustedTypes policy "+ut+" could not be created."),null}};function createDOMPurify(){let rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:getGlobal();const it=Yt=>createDOMPurify(Yt);if(it.version="3.1.6",it.removed=[],!rt||!rt.document||rt.document.nodeType!==NODE_TYPE.document)return it.isSupported=!1,it;let{document:lt}=rt;const ct=lt,ht=ct.currentScript,{DocumentFragment:ut,HTMLTemplateElement:ft,Node:dt,Element:pt,NodeFilter:gt,NamedNodeMap:_t=rt.NamedNodeMap||rt.MozNamedAttrMap,HTMLFormElement:yt,DOMParser:mt,trustedTypes:bt}=rt,xt=pt.prototype,wt=lookupGetter(xt,"cloneNode"),Ct=lookupGetter(xt,"remove"),St=lookupGetter(xt,"nextSibling"),Tt=lookupGetter(xt,"childNodes"),vt=lookupGetter(xt,"parentNode");if(typeof ft=="function"){const Yt=lt.createElement("template");Yt.content&&Yt.content.ownerDocument&&(lt=Yt.content.ownerDocument)}let kt,Et="";const{implementation:It,createNodeIterator:At,createDocumentFragment:Dt,getElementsByTagName:Nt}=lt,{importNode:Mt}=ct;let Rt={};it.isSupported=typeof entries=="function"&&typeof vt=="function"&&It&&It.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:zt,ERB_EXPR:Ht,TMPLIT_EXPR:Ft,DATA_ATTR:$t,ARIA_ATTR:Bt,IS_SCRIPT_OR_DATA:Pt,ATTR_WHITESPACE:Ot,CUSTOM_ELEMENT:Wt}=EXPRESSIONS;let{IS_ALLOWED_URI:jt}=EXPRESSIONS,Gt=null;const Xt=addToSet({},[...html$1,...svg$1,...svgFilters,...mathMl$1,...text$1]);let Zt=null;const Jt=addToSet({},[...html$2,...svg,...mathMl,...xml]);let Vt=Object.seal(create$1(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),oe=null,le=null,_e=!0,ce=!0,ee=!1,he=!0,se=!1,me=!0,ye=!1,Ue=!1,We=!1,xe=!1,De=!1,Fe=!1,Xe=!0,Ke=!1;const Cr="user-content-";let je=!0,Ne=!1,we={},Se=null;const Qe=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Je=null;const tr=addToSet({},["audio","video","img","source","image","track"]);let qe=null;const er=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Pe="http://www.w3.org/1998/Math/MathML",He="http://www.w3.org/2000/svg",fe="http://www.w3.org/1999/xhtml";let Ce=fe,Ye=!1,Ge=null;const Tr=addToSet({},[Pe,He,fe],stringToString);let Me=null;const vr=["application/xhtml+xml","text/html"],kr="text/html";let te=null,Te=null;const Er=lt.createElement("form"),rr=function(Lt){return Lt instanceof RegExp||Lt instanceof Function},Ze=function(){let Lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Te&&Te===Lt)){if((!Lt||typeof Lt!="object")&&(Lt={}),Lt=clone(Lt),Me=vr.indexOf(Lt.PARSER_MEDIA_TYPE)===-1?kr:Lt.PARSER_MEDIA_TYPE,te=Me==="application/xhtml+xml"?stringToString:stringToLowerCase,Gt=objectHasOwnProperty(Lt,"ALLOWED_TAGS")?addToSet({},Lt.ALLOWED_TAGS,te):Xt,Zt=objectHasOwnProperty(Lt,"ALLOWED_ATTR")?addToSet({},Lt.ALLOWED_ATTR,te):Jt,Ge=objectHasOwnProperty(Lt,"ALLOWED_NAMESPACES")?addToSet({},Lt.ALLOWED_NAMESPACES,stringToString):Tr,qe=objectHasOwnProperty(Lt,"ADD_URI_SAFE_ATTR")?addToSet(clone(er),Lt.ADD_URI_SAFE_ATTR,te):er,Je=objectHasOwnProperty(Lt,"ADD_DATA_URI_TAGS")?addToSet(clone(tr),Lt.ADD_DATA_URI_TAGS,te):tr,Se=objectHasOwnProperty(Lt,"FORBID_CONTENTS")?addToSet({},Lt.FORBID_CONTENTS,te):Qe,oe=objectHasOwnProperty(Lt,"FORBID_TAGS")?addToSet({},Lt.FORBID_TAGS,te):{},le=objectHasOwnProperty(Lt,"FORBID_ATTR")?addToSet({},Lt.FORBID_ATTR,te):{},we=objectHasOwnProperty(Lt,"USE_PROFILES")?Lt.USE_PROFILES:!1,_e=Lt.ALLOW_ARIA_ATTR!==!1,ce=Lt.ALLOW_DATA_ATTR!==!1,ee=Lt.ALLOW_UNKNOWN_PROTOCOLS||!1,he=Lt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,se=Lt.SAFE_FOR_TEMPLATES||!1,me=Lt.SAFE_FOR_XML!==!1,ye=Lt.WHOLE_DOCUMENT||!1,xe=Lt.RETURN_DOM||!1,De=Lt.RETURN_DOM_FRAGMENT||!1,Fe=Lt.RETURN_TRUSTED_TYPE||!1,We=Lt.FORCE_BODY||!1,Xe=Lt.SANITIZE_DOM!==!1,Ke=Lt.SANITIZE_NAMED_PROPS||!1,je=Lt.KEEP_CONTENT!==!1,Ne=Lt.IN_PLACE||!1,jt=Lt.ALLOWED_URI_REGEXP||IS_ALLOWED_URI,Ce=Lt.NAMESPACE||fe,Vt=Lt.CUSTOM_ELEMENT_HANDLING||{},Lt.CUSTOM_ELEMENT_HANDLING&&rr(Lt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Vt.tagNameCheck=Lt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Lt.CUSTOM_ELEMENT_HANDLING&&rr(Lt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Vt.attributeNameCheck=Lt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Lt.CUSTOM_ELEMENT_HANDLING&&typeof Lt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Vt.allowCustomizedBuiltInElements=Lt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),se&&(ce=!1),De&&(xe=!0),we&&(Gt=addToSet({},text$1),Zt=[],we.html===!0&&(addToSet(Gt,html$1),addToSet(Zt,html$2)),we.svg===!0&&(addToSet(Gt,svg$1),addToSet(Zt,svg),addToSet(Zt,xml)),we.svgFilters===!0&&(addToSet(Gt,svgFilters),addToSet(Zt,svg),addToSet(Zt,xml)),we.mathMl===!0&&(addToSet(Gt,mathMl$1),addToSet(Zt,mathMl),addToSet(Zt,xml))),Lt.ADD_TAGS&&(Gt===Xt&&(Gt=clone(Gt)),addToSet(Gt,Lt.ADD_TAGS,te)),Lt.ADD_ATTR&&(Zt===Jt&&(Zt=clone(Zt)),addToSet(Zt,Lt.ADD_ATTR,te)),Lt.ADD_URI_SAFE_ATTR&&addToSet(qe,Lt.ADD_URI_SAFE_ATTR,te),Lt.FORBID_CONTENTS&&(Se===Qe&&(Se=clone(Se)),addToSet(Se,Lt.FORBID_CONTENTS,te)),je&&(Gt["#text"]=!0),ye&&addToSet(Gt,["html","head","body"]),Gt.table&&(addToSet(Gt,["tbody"]),delete oe.tbody),Lt.TRUSTED_TYPES_POLICY){if(typeof Lt.TRUSTED_TYPES_POLICY.createHTML!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Lt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');kt=Lt.TRUSTED_TYPES_POLICY,Et=kt.createHTML("")}else kt===void 0&&(kt=_createTrustedTypesPolicy(bt,ht)),kt!==null&&typeof Et=="string"&&(Et=kt.createHTML(""));freeze&&freeze(Lt),Te=Lt}},ir=addToSet({},["mi","mo","mn","ms","mtext"]),ar=addToSet({},["foreignobject","annotation-xml"]),Ar=addToSet({},["title","style","font","a","script"]),nr=addToSet({},[...svg$1,...svgFilters,...svgDisallowed]),or=addToSet({},[...mathMl$1,...mathMlDisallowed]),Lr=function(Lt){let Ut=vt(Lt);(!Ut||!Ut.tagName)&&(Ut={namespaceURI:Ce,tagName:"template"});const qt=stringToLowerCase(Lt.tagName),Kt=stringToLowerCase(Ut.tagName);return Ge[Lt.namespaceURI]?Lt.namespaceURI===He?Ut.namespaceURI===fe?qt==="svg":Ut.namespaceURI===Pe?qt==="svg"&&(Kt==="annotation-xml"||ir[Kt]):!!nr[qt]:Lt.namespaceURI===Pe?Ut.namespaceURI===fe?qt==="math":Ut.namespaceURI===He?qt==="math"&&ar[Kt]:!!or[qt]:Lt.namespaceURI===fe?Ut.namespaceURI===He&&!ar[Kt]||Ut.namespaceURI===Pe&&!ir[Kt]?!1:!or[qt]&&(Ar[qt]||!nr[qt]):!!(Me==="application/xhtml+xml"&&Ge[Lt.namespaceURI]):!1},ue=function(Lt){arrayPush(it.removed,{element:Lt});try{vt(Lt).removeChild(Lt)}catch{Ct(Lt)}},ze=function(Lt,Ut){try{arrayPush(it.removed,{attribute:Ut.getAttributeNode(Lt),from:Ut})}catch{arrayPush(it.removed,{attribute:null,from:Ut})}if(Ut.removeAttribute(Lt),Lt==="is"&&!Zt[Lt])if(xe||De)try{ue(Ut)}catch{}else try{Ut.setAttribute(Lt,"")}catch{}},sr=function(Lt){let Ut=null,qt=null;if(We)Lt="<remove></remove>"+Lt;else{const re=stringMatch(Lt,/^[\r\n\t ]+/);qt=re&&re[0]}Me==="application/xhtml+xml"&&Ce===fe&&(Lt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Lt+"</body></html>");const Kt=kt?kt.createHTML(Lt):Lt;if(Ce===fe)try{Ut=new mt().parseFromString(Kt,Me)}catch{}if(!Ut||!Ut.documentElement){Ut=It.createDocument(Ce,"template",null);try{Ut.documentElement.innerHTML=Ye?Et:Kt}catch{}}const ie=Ut.body||Ut.documentElement;return Lt&&qt&&ie.insertBefore(lt.createTextNode(qt),ie.childNodes[0]||null),Ce===fe?Nt.call(Ut,ye?"html":"body")[0]:ye?Ut.documentElement:ie},lr=function(Lt){return At.call(Lt.ownerDocument||Lt,Lt,gt.SHOW_ELEMENT|gt.SHOW_COMMENT|gt.SHOW_TEXT|gt.SHOW_PROCESSING_INSTRUCTION|gt.SHOW_CDATA_SECTION,null)},cr=function(Lt){return Lt instanceof yt&&(typeof Lt.nodeName!="string"||typeof Lt.textContent!="string"||typeof Lt.removeChild!="function"||!(Lt.attributes instanceof _t)||typeof Lt.removeAttribute!="function"||typeof Lt.setAttribute!="function"||typeof Lt.namespaceURI!="string"||typeof Lt.insertBefore!="function"||typeof Lt.hasChildNodes!="function")},ur=function(Lt){return typeof dt=="function"&&Lt instanceof dt},ge=function(Lt,Ut,qt){Rt[Lt]&&arrayForEach(Rt[Lt],Kt=>{Kt.call(it,Ut,qt,Te)})},dr=function(Lt){let Ut=null;if(ge("beforeSanitizeElements",Lt,null),cr(Lt))return ue(Lt),!0;const qt=te(Lt.nodeName);if(ge("uponSanitizeElement",Lt,{tagName:qt,allowedTags:Gt}),Lt.hasChildNodes()&&!ur(Lt.firstElementChild)&&regExpTest(/<[/\w]/g,Lt.innerHTML)&&regExpTest(/<[/\w]/g,Lt.textContent)||Lt.nodeType===NODE_TYPE.progressingInstruction||me&&Lt.nodeType===NODE_TYPE.comment&&regExpTest(/<[/\w]/g,Lt.data))return ue(Lt),!0;if(!Gt[qt]||oe[qt]){if(!oe[qt]&&gr(qt)&&(Vt.tagNameCheck instanceof RegExp&&regExpTest(Vt.tagNameCheck,qt)||Vt.tagNameCheck instanceof Function&&Vt.tagNameCheck(qt)))return!1;if(je&&!Se[qt]){const Kt=vt(Lt)||Lt.parentNode,ie=Tt(Lt)||Lt.childNodes;if(ie&&Kt){const re=ie.length;for(let ne=re-1;ne>=0;--ne){const de=wt(ie[ne],!0);de.__removalCount=(Lt.__removalCount||0)+1,Kt.insertBefore(de,St(Lt))}}}return ue(Lt),!0}return Lt instanceof pt&&!Lr(Lt)||(qt==="noscript"||qt==="noembed"||qt==="noframes")&&regExpTest(/<\/no(script|embed|frames)/i,Lt.innerHTML)?(ue(Lt),!0):(se&&Lt.nodeType===NODE_TYPE.text&&(Ut=Lt.textContent,arrayForEach([zt,Ht,Ft],Kt=>{Ut=stringReplace(Ut,Kt," ")}),Lt.textContent!==Ut&&(arrayPush(it.removed,{element:Lt.cloneNode()}),Lt.textContent=Ut)),ge("afterSanitizeElements",Lt,null),!1)},fr=function(Lt,Ut,qt){if(Xe&&(Ut==="id"||Ut==="name")&&(qt in lt||qt in Er))return!1;if(!(ce&&!le[Ut]&&regExpTest($t,Ut))){if(!(_e&&regExpTest(Bt,Ut))){if(!Zt[Ut]||le[Ut]){if(!(gr(Lt)&&(Vt.tagNameCheck instanceof RegExp&&regExpTest(Vt.tagNameCheck,Lt)||Vt.tagNameCheck instanceof Function&&Vt.tagNameCheck(Lt))&&(Vt.attributeNameCheck instanceof RegExp&&regExpTest(Vt.attributeNameCheck,Ut)||Vt.attributeNameCheck instanceof Function&&Vt.attributeNameCheck(Ut))||Ut==="is"&&Vt.allowCustomizedBuiltInElements&&(Vt.tagNameCheck instanceof RegExp&&regExpTest(Vt.tagNameCheck,qt)||Vt.tagNameCheck instanceof Function&&Vt.tagNameCheck(qt))))return!1}else if(!qe[Ut]){if(!regExpTest(jt,stringReplace(qt,Ot,""))){if(!((Ut==="src"||Ut==="xlink:href"||Ut==="href")&&Lt!=="script"&&stringIndexOf(qt,"data:")===0&&Je[Lt])){if(!(ee&&!regExpTest(Pt,stringReplace(qt,Ot,"")))){if(qt)return!1}}}}}}return!0},gr=function(Lt){return Lt!=="annotation-xml"&&stringMatch(Lt,Wt)},pr=function(Lt){ge("beforeSanitizeAttributes",Lt,null);const{attributes:Ut}=Lt;if(!Ut)return;const qt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Zt};let Kt=Ut.length;for(;Kt--;){const ie=Ut[Kt],{name:re,namespaceURI:ne,value:de}=ie,$e=te(re);let ae=re==="value"?de:stringTrim(de);if(qt.attrName=$e,qt.attrValue=ae,qt.keepAttr=!0,qt.forceKeepAttr=void 0,ge("uponSanitizeAttribute",Lt,qt),ae=qt.attrValue,me&&regExpTest(/((--!?|])>)|<\/(style|title)/i,ae)){ze(re,Lt);continue}if(qt.forceKeepAttr||(ze(re,Lt),!qt.keepAttr))continue;if(!he&&regExpTest(/\/>/i,ae)){ze(re,Lt);continue}se&&arrayForEach([zt,Ht,Ft],mr=>{ae=stringReplace(ae,mr," ")});const _r=te(Lt.nodeName);if(fr(_r,$e,ae)){if(Ke&&($e==="id"||$e==="name")&&(ze(re,Lt),ae=Cr+ae),kt&&typeof bt=="object"&&typeof bt.getAttributeType=="function"&&!ne)switch(bt.getAttributeType(_r,$e)){case"TrustedHTML":{ae=kt.createHTML(ae);break}case"TrustedScriptURL":{ae=kt.createScriptURL(ae);break}}try{ne?Lt.setAttributeNS(ne,re,ae):Lt.setAttribute(re,ae),cr(Lt)?ue(Lt):arrayPop(it.removed)}catch{}}}ge("afterSanitizeAttributes",Lt,null)},Ir=function Yt(Lt){let Ut=null;const qt=lr(Lt);for(ge("beforeSanitizeShadowDOM",Lt,null);Ut=qt.nextNode();)ge("uponSanitizeShadowNode",Ut,null),!dr(Ut)&&(Ut.content instanceof ut&&Yt(Ut.content),pr(Ut));ge("afterSanitizeShadowDOM",Lt,null)};return it.sanitize=function(Yt){let Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ut=null,qt=null,Kt=null,ie=null;if(Ye=!Yt,Ye&&(Yt="<!-->"),typeof Yt!="string"&&!ur(Yt))if(typeof Yt.toString=="function"){if(Yt=Yt.toString(),typeof Yt!="string")throw typeErrorCreate("dirty is not a string, aborting")}else throw typeErrorCreate("toString is not a function");if(!it.isSupported)return Yt;if(Ue||Ze(Lt),it.removed=[],typeof Yt=="string"&&(Ne=!1),Ne){if(Yt.nodeName){const de=te(Yt.nodeName);if(!Gt[de]||oe[de])throw typeErrorCreate("root node is forbidden and cannot be sanitized in-place")}}else if(Yt instanceof dt)Ut=sr("<!---->"),qt=Ut.ownerDocument.importNode(Yt,!0),qt.nodeType===NODE_TYPE.element&&qt.nodeName==="BODY"||qt.nodeName==="HTML"?Ut=qt:Ut.appendChild(qt);else{if(!xe&&!se&&!ye&&Yt.indexOf("<")===-1)return kt&&Fe?kt.createHTML(Yt):Yt;if(Ut=sr(Yt),!Ut)return xe?null:Fe?Et:""}Ut&&We&&ue(Ut.firstChild);const re=lr(Ne?Yt:Ut);for(;Kt=re.nextNode();)dr(Kt)||(Kt.content instanceof ut&&Ir(Kt.content),pr(Kt));if(Ne)return Yt;if(xe){if(De)for(ie=Dt.call(Ut.ownerDocument);Ut.firstChild;)ie.appendChild(Ut.firstChild);else ie=Ut;return(Zt.shadowroot||Zt.shadowrootmode)&&(ie=Mt.call(ct,ie,!0)),ie}let ne=ye?Ut.outerHTML:Ut.innerHTML;return ye&&Gt["!doctype"]&&Ut.ownerDocument&&Ut.ownerDocument.doctype&&Ut.ownerDocument.doctype.name&&regExpTest(DOCTYPE_NAME,Ut.ownerDocument.doctype.name)&&(ne="<!DOCTYPE "+Ut.ownerDocument.doctype.name+`>
`+ne),se&&arrayForEach([zt,Ht,Ft],de=>{ne=stringReplace(ne,de," ")}),kt&&Fe?kt.createHTML(ne):ne},it.setConfig=function(){let Yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ze(Yt),Ue=!0},it.clearConfig=function(){Te=null,Ue=!1},it.isValidAttribute=function(Yt,Lt,Ut){Te||Ze({});const qt=te(Yt),Kt=te(Lt);return fr(qt,Kt,Ut)},it.addHook=function(Yt,Lt){typeof Lt=="function"&&(Rt[Yt]=Rt[Yt]||[],arrayPush(Rt[Yt],Lt))},it.removeHook=function(Yt){if(Rt[Yt])return arrayPop(Rt[Yt])},it.removeHooks=function(Yt){Rt[Yt]&&(Rt[Yt]=[])},it.removeAllHooks=function(){Rt={}},it}var purify=createDOMPurify(),__defProp=Object.defineProperty,__name=(rt,it)=>__defProp(rt,"name",{value:it,configurable:!0}),__export=(rt,it)=>{for(var lt in it)__defProp(rt,lt,{get:it[lt],enumerable:!0})},LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},log={trace:__name((...rt)=>{},"trace"),debug:__name((...rt)=>{},"debug"),info:__name((...rt)=>{},"info"),warn:__name((...rt)=>{},"warn"),error:__name((...rt)=>{},"error"),fatal:__name((...rt)=>{},"fatal")},setLogLevel=__name(function(rt="fatal"){let it=LEVELS.fatal;typeof rt=="string"?rt.toLowerCase()in LEVELS&&(it=LEVELS[rt]):typeof rt=="number"&&(it=rt),log.trace=()=>{},log.debug=()=>{},log.info=()=>{},log.warn=()=>{},log.error=()=>{},log.fatal=()=>{},it<=LEVELS.fatal&&(log.fatal=console.error?console.error.bind(console,format("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",format("FATAL"))),it<=LEVELS.error&&(log.error=console.error?console.error.bind(console,format("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",format("ERROR"))),it<=LEVELS.warn&&(log.warn=console.warn?console.warn.bind(console,format("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",format("WARN"))),it<=LEVELS.info&&(log.info=console.info?console.info.bind(console,format("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",format("INFO"))),it<=LEVELS.debug&&(log.debug=console.debug?console.debug.bind(console,format("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format("DEBUG"))),it<=LEVELS.trace&&(log.trace=console.debug?console.debug.bind(console,format("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format("TRACE")))},"setLogLevel"),format=__name(rt=>`%c${dayjs2().format("ss.SSS")} : ${rt} : `,"format"),frontMatterRegex=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,directiveRegex=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,anyCommentRegex=/\s*%%.*\n/gm,ve,UnknownDiagramError=(ve=class extends Error{constructor(it){super(it),this.name="UnknownDiagramError"}},__name(ve,"UnknownDiagramError"),ve),detectors={},detectType$2=__name(function(rt,it){rt=rt.replace(frontMatterRegex,"").replace(directiveRegex,"").replace(anyCommentRegex,`
`);for(const[lt,{detector:ct}]of Object.entries(detectors))if(ct(rt,it))return lt;throw new UnknownDiagramError(`No diagram type detected matching given configuration for text: ${rt}`)},"detectType"),registerLazyLoadedDiagrams=__name((...rt)=>{for(const{id:it,detector:lt,loader:ct}of rt)addDetector(it,lt,ct)},"registerLazyLoadedDiagrams"),addDetector=__name((rt,it,lt)=>{detectors[rt]&&log.warn(`Detector with key ${rt} already exists. Overwriting.`),detectors[rt]={detector:it,loader:lt},log.debug(`Detector with key ${rt} added${lt?" with loader":""}`)},"addDetector"),getDiagramLoader=__name(rt=>detectors[rt].loader,"getDiagramLoader"),assignWithDepth=__name((rt,it,{depth:lt=2,clobber:ct=!1}={})=>{const ht={depth:lt,clobber:ct};return Array.isArray(it)&&!Array.isArray(rt)?(it.forEach(ut=>assignWithDepth(rt,ut,ht)),rt):Array.isArray(it)&&Array.isArray(rt)?(it.forEach(ut=>{rt.includes(ut)||rt.push(ut)}),rt):rt===void 0||lt<=0?rt!=null&&typeof rt=="object"&&typeof it=="object"?Object.assign(rt,it):it:(it!==void 0&&typeof rt=="object"&&typeof it=="object"&&Object.keys(it).forEach(ut=>{typeof it[ut]=="object"&&(rt[ut]===void 0||typeof rt[ut]=="object")?(rt[ut]===void 0&&(rt[ut]=Array.isArray(it[ut])?[]:{}),rt[ut]=assignWithDepth(rt[ut],it[ut],{depth:lt-1,clobber:ct})):(ct||typeof rt[ut]!="object"&&typeof it[ut]!="object")&&(rt[ut]=it[ut])}),rt)},"assignWithDepth"),assignWithDepth_default=assignWithDepth,oldAttributeBackgroundColorOdd="#ffffff",oldAttributeBackgroundColorEven="#f2f2f2",mkBorder=__name((rt,it)=>it?adjust(rt,{s:-40,l:10}):adjust(rt,{s:-40,l:-10}),"mkBorder"),ke,Theme=(ke=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var lt,ct,ht,ut,ft,dt,pt,gt,_t,yt,mt;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||adjust(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||adjust(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||mkBorder(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||mkBorder(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||invert(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||invert(this.tertiaryColor),this.lineColor=this.lineColor||invert(this.background),this.arrowheadColor=this.arrowheadColor||invert(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?darken(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||darken(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||invert(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||lighten(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330}),this.darkMode)for(let bt=0;bt<this.THEME_COLOR_LIMIT;bt++)this["cScale"+bt]=darken(this["cScale"+bt],75);else for(let bt=0;bt<this.THEME_COLOR_LIMIT;bt++)this["cScale"+bt]=darken(this["cScale"+bt],25);for(let bt=0;bt<this.THEME_COLOR_LIMIT;bt++)this["cScaleInv"+bt]=this["cScaleInv"+bt]||invert(this["cScale"+bt]);for(let bt=0;bt<this.THEME_COLOR_LIMIT;bt++)this.darkMode?this["cScalePeer"+bt]=this["cScalePeer"+bt]||lighten(this["cScale"+bt],10):this["cScalePeer"+bt]=this["cScalePeer"+bt]||darken(this["cScale"+bt],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let bt=0;bt<this.THEME_COLOR_LIMIT;bt++)this["cScaleLabel"+bt]=this["cScaleLabel"+bt]||this.scaleLabelColor;const it=this.darkMode?-4:-1;for(let bt=0;bt<5;bt++)this["surface"+bt]=this["surface"+bt]||adjust(this.mainBkg,{h:180,s:-15,l:it*(5+bt*3)}),this["surfacePeer"+bt]=this["surfacePeer"+bt]||adjust(this.mainBkg,{h:180,s:-15,l:it*(8+bt*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||adjust(this.primaryColor,{h:64}),this.fillType3=this.fillType3||adjust(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||adjust(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||adjust(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||adjust(this.primaryColor,{h:128}),this.fillType7=this.fillType7||adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust(this.secondaryColor,{l:-10}),this.pie6=this.pie6||adjust(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||adjust(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||adjust(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||adjust(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((lt=this.xyChart)==null?void 0:lt.backgroundColor)||this.background,titleColor:((ct=this.xyChart)==null?void 0:ct.titleColor)||this.primaryTextColor,xAxisTitleColor:((ht=this.xyChart)==null?void 0:ht.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((ut=this.xyChart)==null?void 0:ut.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((ft=this.xyChart)==null?void 0:ft.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((dt=this.xyChart)==null?void 0:dt.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((pt=this.xyChart)==null?void 0:pt.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((gt=this.xyChart)==null?void 0:gt.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((_t=this.xyChart)==null?void 0:_t.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((yt=this.xyChart)==null?void 0:yt.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((mt=this.xyChart)==null?void 0:mt.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust(this.primaryColor,{h:-30}),this.git4=this.git4||adjust(this.primaryColor,{h:-60}),this.git5=this.git5||adjust(this.primaryColor,{h:-90}),this.git6=this.git6||adjust(this.primaryColor,{h:60}),this.git7=this.git7||adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten(this.git0,25),this.git1=lighten(this.git1,25),this.git2=lighten(this.git2,25),this.git3=lighten(this.git3,25),this.git4=lighten(this.git4,25),this.git5=lighten(this.git5,25),this.git6=lighten(this.git6,25),this.git7=lighten(this.git7,25)):(this.git0=darken(this.git0,25),this.git1=darken(this.git1,25),this.git2=darken(this.git2,25),this.git3=darken(this.git3,25),this.git4=darken(this.git4,25),this.git5=darken(this.git5,25),this.git6=darken(this.git6,25),this.git7=darken(this.git7,25)),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(it){if(typeof it!="object"){this.updateColors();return}const lt=Object.keys(it);lt.forEach(ct=>{this[ct]=it[ct]}),this.updateColors(),lt.forEach(ct=>{this[ct]=it[ct]})}},__name(ke,"Theme"),ke),getThemeVariables=__name(rt=>{const it=new Theme;return it.calculate(rt),it},"getThemeVariables"),Ee,Theme2=(Ee=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=lighten(this.primaryColor,16),this.tertiaryColor=adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=invert(this.background),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.tertiaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=lighten(invert("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=rgba$1(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=darken("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=darken(this.sectionBkgColor,10),this.taskBorderColor=rgba$1(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=rgba$1(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var it,lt,ct,ht,ut,ft,dt,pt,gt,_t,yt;this.secondBkg=lighten(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=lighten(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=lighten(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330});for(let mt=0;mt<this.THEME_COLOR_LIMIT;mt++)this["cScaleInv"+mt]=this["cScaleInv"+mt]||invert(this["cScale"+mt]);for(let mt=0;mt<this.THEME_COLOR_LIMIT;mt++)this["cScalePeer"+mt]=this["cScalePeer"+mt]||lighten(this["cScale"+mt],10);for(let mt=0;mt<5;mt++)this["surface"+mt]=this["surface"+mt]||adjust(this.mainBkg,{h:30,s:-30,l:-(-10+mt*4)}),this["surfacePeer"+mt]=this["surfacePeer"+mt]||adjust(this.mainBkg,{h:30,s:-30,l:-(-7+mt*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let mt=0;mt<this.THEME_COLOR_LIMIT;mt++)this["cScaleLabel"+mt]=this["cScaleLabel"+mt]||this.scaleLabelColor;for(let mt=0;mt<this.THEME_COLOR_LIMIT;mt++)this["pie"+mt]=this["cScale"+mt];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((it=this.xyChart)==null?void 0:it.backgroundColor)||this.background,titleColor:((lt=this.xyChart)==null?void 0:lt.titleColor)||this.primaryTextColor,xAxisTitleColor:((ct=this.xyChart)==null?void 0:ct.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((ht=this.xyChart)==null?void 0:ht.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((ut=this.xyChart)==null?void 0:ut.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((ft=this.xyChart)==null?void 0:ft.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((dt=this.xyChart)==null?void 0:dt.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((pt=this.xyChart)==null?void 0:pt.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((gt=this.xyChart)==null?void 0:gt.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((_t=this.xyChart)==null?void 0:_t.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((yt=this.xyChart)==null?void 0:yt.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=lighten(this.secondaryColor,20),this.git1=lighten(this.pie2||this.secondaryColor,20),this.git2=lighten(this.pie3||this.tertiaryColor,20),this.git3=lighten(this.pie4||adjust(this.primaryColor,{h:-30}),20),this.git4=lighten(this.pie5||adjust(this.primaryColor,{h:-60}),20),this.git5=lighten(this.pie6||adjust(this.primaryColor,{h:-90}),10),this.git6=lighten(this.pie7||adjust(this.primaryColor,{h:60}),10),this.git7=lighten(this.pie8||adjust(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||lighten(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||lighten(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(it){if(typeof it!="object"){this.updateColors();return}const lt=Object.keys(it);lt.forEach(ct=>{this[ct]=it[ct]}),this.updateColors(),lt.forEach(ct=>{this[ct]=it[ct]})}},__name(Ee,"Theme"),Ee),getThemeVariables2=__name(rt=>{const it=new Theme2;return it.calculate(rt),it},"getThemeVariables"),Ae,Theme3=(Ae=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=adjust(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.tertiaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=rgba$1(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var it,lt,ct,ht,ut,ft,dt,pt,gt,_t,yt;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||darken(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||darken(this.tertiaryColor,40);for(let mt=0;mt<this.THEME_COLOR_LIMIT;mt++)this["cScale"+mt]=darken(this["cScale"+mt],10),this["cScalePeer"+mt]=this["cScalePeer"+mt]||darken(this["cScale"+mt],25);for(let mt=0;mt<this.THEME_COLOR_LIMIT;mt++)this["cScaleInv"+mt]=this["cScaleInv"+mt]||adjust(this["cScale"+mt],{h:180});for(let mt=0;mt<5;mt++)this["surface"+mt]=this["surface"+mt]||adjust(this.mainBkg,{h:30,l:-(5+mt*5)}),this["surfacePeer"+mt]=this["surfacePeer"+mt]||adjust(this.mainBkg,{h:30,l:-(7+mt*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||invert(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||invert(this.labelTextColor);for(let mt=0;mt<this.THEME_COLOR_LIMIT;mt++)this["cScaleLabel"+mt]=this["cScaleLabel"+mt]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=lighten(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||adjust(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||adjust(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||adjust(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||adjust(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||adjust(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||adjust(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||adjust(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||adjust(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((it=this.xyChart)==null?void 0:it.backgroundColor)||this.background,titleColor:((lt=this.xyChart)==null?void 0:lt.titleColor)||this.primaryTextColor,xAxisTitleColor:((ct=this.xyChart)==null?void 0:ct.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((ht=this.xyChart)==null?void 0:ht.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((ut=this.xyChart)==null?void 0:ut.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((ft=this.xyChart)==null?void 0:ft.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((dt=this.xyChart)==null?void 0:dt.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((pt=this.xyChart)==null?void 0:pt.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((gt=this.xyChart)==null?void 0:gt.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((_t=this.xyChart)==null?void 0:_t.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((yt=this.xyChart)==null?void 0:yt.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust(this.primaryColor,{h:-30}),this.git4=this.git4||adjust(this.primaryColor,{h:-60}),this.git5=this.git5||adjust(this.primaryColor,{h:-90}),this.git6=this.git6||adjust(this.primaryColor,{h:60}),this.git7=this.git7||adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten(this.git0,25),this.git1=lighten(this.git1,25),this.git2=lighten(this.git2,25),this.git3=lighten(this.git3,25),this.git4=lighten(this.git4,25),this.git5=lighten(this.git5,25),this.git6=lighten(this.git6,25),this.git7=lighten(this.git7,25)):(this.git0=darken(this.git0,25),this.git1=darken(this.git1,25),this.git2=darken(this.git2,25),this.git3=darken(this.git3,25),this.git4=darken(this.git4,25),this.git5=darken(this.git5,25),this.git6=darken(this.git6,25),this.git7=darken(this.git7,25)),this.gitInv0=this.gitInv0||darken(invert(this.git0),25),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(it){if(typeof it!="object"){this.updateColors();return}const lt=Object.keys(it);lt.forEach(ct=>{this[ct]=it[ct]}),this.updateColors(),lt.forEach(ct=>{this[ct]=it[ct]})}},__name(Ae,"Theme"),Ae),getThemeVariables3=__name(rt=>{const it=new Theme3;return it.calculate(rt),it},"getThemeVariables"),Le,Theme4=(Le=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=lighten("#cde498",10),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.primaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var it,lt,ct,ht,ut,ft,dt,pt,gt,_t,yt;this.actorBorder=darken(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||darken(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||darken(this.tertiaryColor,40);for(let mt=0;mt<this.THEME_COLOR_LIMIT;mt++)this["cScale"+mt]=darken(this["cScale"+mt],10),this["cScalePeer"+mt]=this["cScalePeer"+mt]||darken(this["cScale"+mt],25);for(let mt=0;mt<this.THEME_COLOR_LIMIT;mt++)this["cScaleInv"+mt]=this["cScaleInv"+mt]||adjust(this["cScale"+mt],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let mt=0;mt<this.THEME_COLOR_LIMIT;mt++)this["cScaleLabel"+mt]=this["cScaleLabel"+mt]||this.scaleLabelColor;for(let mt=0;mt<5;mt++)this["surface"+mt]=this["surface"+mt]||adjust(this.mainBkg,{h:30,s:-30,l:-(5+mt*5)}),this["surfacePeer"+mt]=this["surfacePeer"+mt]||adjust(this.mainBkg,{h:30,s:-30,l:-(8+mt*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust(this.primaryColor,{l:-30}),this.pie5=this.pie5||adjust(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||adjust(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||adjust(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||adjust(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.xyChart={backgroundColor:((it=this.xyChart)==null?void 0:it.backgroundColor)||this.background,titleColor:((lt=this.xyChart)==null?void 0:lt.titleColor)||this.primaryTextColor,xAxisTitleColor:((ct=this.xyChart)==null?void 0:ct.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((ht=this.xyChart)==null?void 0:ht.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((ut=this.xyChart)==null?void 0:ut.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((ft=this.xyChart)==null?void 0:ft.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((dt=this.xyChart)==null?void 0:dt.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((pt=this.xyChart)==null?void 0:pt.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((gt=this.xyChart)==null?void 0:gt.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((_t=this.xyChart)==null?void 0:_t.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((yt=this.xyChart)==null?void 0:yt.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust(this.primaryColor,{h:-30}),this.git4=this.git4||adjust(this.primaryColor,{h:-60}),this.git5=this.git5||adjust(this.primaryColor,{h:-90}),this.git6=this.git6||adjust(this.primaryColor,{h:60}),this.git7=this.git7||adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten(this.git0,25),this.git1=lighten(this.git1,25),this.git2=lighten(this.git2,25),this.git3=lighten(this.git3,25),this.git4=lighten(this.git4,25),this.git5=lighten(this.git5,25),this.git6=lighten(this.git6,25),this.git7=lighten(this.git7,25)):(this.git0=darken(this.git0,25),this.git1=darken(this.git1,25),this.git2=darken(this.git2,25),this.git3=darken(this.git3,25),this.git4=darken(this.git4,25),this.git5=darken(this.git5,25),this.git6=darken(this.git6,25),this.git7=darken(this.git7,25)),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(it){if(typeof it!="object"){this.updateColors();return}const lt=Object.keys(it);lt.forEach(ct=>{this[ct]=it[ct]}),this.updateColors(),lt.forEach(ct=>{this[ct]=it[ct]})}},__name(Le,"Theme"),Le),getThemeVariables4=__name(rt=>{const it=new Theme4;return it.calculate(rt),it},"getThemeVariables"),Ie,Theme5=(Ie=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=lighten(this.contrast,55),this.background="#ffffff",this.tertiaryColor=adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.tertiaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var it,lt,ct,ht,ut,ft,dt,pt,gt,_t,yt;this.secondBkg=lighten(this.contrast,55),this.border2=this.contrast,this.actorBorder=lighten(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let mt=0;mt<this.THEME_COLOR_LIMIT;mt++)this["cScaleInv"+mt]=this["cScaleInv"+mt]||invert(this["cScale"+mt]);for(let mt=0;mt<this.THEME_COLOR_LIMIT;mt++)this.darkMode?this["cScalePeer"+mt]=this["cScalePeer"+mt]||lighten(this["cScale"+mt],10):this["cScalePeer"+mt]=this["cScalePeer"+mt]||darken(this["cScale"+mt],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let mt=0;mt<this.THEME_COLOR_LIMIT;mt++)this["cScaleLabel"+mt]=this["cScaleLabel"+mt]||this.scaleLabelColor;for(let mt=0;mt<5;mt++)this["surface"+mt]=this["surface"+mt]||adjust(this.mainBkg,{l:-(5+mt*5)}),this["surfacePeer"+mt]=this["surfacePeer"+mt]||adjust(this.mainBkg,{l:-(8+mt*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=lighten(this.contrast,30),this.sectionBkgColor2=lighten(this.contrast,30),this.taskBorderColor=darken(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=lighten(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=darken(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128});for(let mt=0;mt<this.THEME_COLOR_LIMIT;mt++)this["pie"+mt]=this["cScale"+mt];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((it=this.xyChart)==null?void 0:it.backgroundColor)||this.background,titleColor:((lt=this.xyChart)==null?void 0:lt.titleColor)||this.primaryTextColor,xAxisTitleColor:((ct=this.xyChart)==null?void 0:ct.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((ht=this.xyChart)==null?void 0:ht.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((ut=this.xyChart)==null?void 0:ut.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((ft=this.xyChart)==null?void 0:ft.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((dt=this.xyChart)==null?void 0:dt.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((pt=this.xyChart)==null?void 0:pt.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((gt=this.xyChart)==null?void 0:gt.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((_t=this.xyChart)==null?void 0:_t.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((yt=this.xyChart)==null?void 0:yt.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=darken(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||adjust(this.primaryColor,{h:-30}),this.git4=this.pie5||adjust(this.primaryColor,{h:-60}),this.git5=this.pie6||adjust(this.primaryColor,{h:-90}),this.git6=this.pie7||adjust(this.primaryColor,{h:60}),this.git7=this.pie8||adjust(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(it){if(typeof it!="object"){this.updateColors();return}const lt=Object.keys(it);lt.forEach(ct=>{this[ct]=it[ct]}),this.updateColors(),lt.forEach(ct=>{this[ct]=it[ct]})}},__name(Ie,"Theme"),Ie),getThemeVariables5=__name(rt=>{const it=new Theme5;return it.calculate(rt),it},"getThemeVariables"),themes_default={base:{getThemeVariables},dark:{getThemeVariables:getThemeVariables2},default:{getThemeVariables:getThemeVariables3},forest:{getThemeVariables:getThemeVariables4},neutral:{getThemeVariables:getThemeVariables5}},config_schema_default={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},config={...config_schema_default,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF"},themeCSS:void 0,themeVariables:themes_default.default.getThemeVariables(),sequence:{...config_schema_default.sequence,messageFont:__name(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:__name(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:__name(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...config_schema_default.gantt,tickInterval:void 0,useWidth:void 0},c4:{...config_schema_default.c4,useWidth:void 0,personFont:__name(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),external_personFont:__name(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:__name(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:__name(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:__name(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:__name(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:__name(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:__name(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:__name(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:__name(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:__name(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:__name(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:__name(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:__name(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:__name(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:__name(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:__name(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:__name(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:__name(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:__name(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:__name(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:__name(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...config_schema_default.pie,useWidth:984},xyChart:{...config_schema_default.xyChart,useWidth:void 0},requirement:{...config_schema_default.requirement,useWidth:void 0},packet:{...config_schema_default.packet}},keyify=__name((rt,it="")=>Object.keys(rt).reduce((lt,ct)=>Array.isArray(rt[ct])?lt:typeof rt[ct]=="object"&&rt[ct]!==null?[...lt,it+ct,...keyify(rt[ct],"")]:[...lt,it+ct],[]),"keyify"),configKeys=new Set(keyify(config,"")),defaultConfig_default=config,sanitizeDirective=__name(rt=>{if(log.debug("sanitizeDirective called with",rt),!(typeof rt!="object"||rt==null)){if(Array.isArray(rt)){rt.forEach(it=>sanitizeDirective(it));return}for(const it of Object.keys(rt)){if(log.debug("Checking key",it),it.startsWith("__")||it.includes("proto")||it.includes("constr")||!configKeys.has(it)||rt[it]==null){log.debug("sanitize deleting key: ",it),delete rt[it];continue}if(typeof rt[it]=="object"){log.debug("sanitizing object",it),sanitizeDirective(rt[it]);continue}const lt=["themeCSS","fontFamily","altFontFamily"];for(const ct of lt)it.includes(ct)&&(log.debug("sanitizing css option",it),rt[it]=sanitizeCss(rt[it]))}if(rt.themeVariables)for(const it of Object.keys(rt.themeVariables)){const lt=rt.themeVariables[it];lt!=null&&lt.match&&!lt.match(/^[\d "#%(),.;A-Za-z]+$/)&&(rt.themeVariables[it]="")}log.debug("After sanitization",rt)}},"sanitizeDirective"),sanitizeCss=__name(rt=>{let it=0,lt=0;for(const ct of rt){if(it<lt)return"{ /* ERROR: Unbalanced CSS */ }";ct==="{"?it++:ct==="}"&&lt++}return it!==lt?"{ /* ERROR: Unbalanced CSS */ }":rt},"sanitizeCss"),defaultConfig=Object.freeze(defaultConfig_default),siteConfig=assignWithDepth_default({},defaultConfig),configFromInitialize,directives=[],currentConfig=assignWithDepth_default({},defaultConfig),updateCurrentConfig=__name((rt,it)=>{let lt=assignWithDepth_default({},rt),ct={};for(const ht of it)sanitize(ht),ct=assignWithDepth_default(ct,ht);if(lt=assignWithDepth_default(lt,ct),ct.theme&&ct.theme in themes_default){const ht=assignWithDepth_default({},configFromInitialize),ut=assignWithDepth_default(ht.themeVariables||{},ct.themeVariables);lt.theme&&lt.theme in themes_default&&(lt.themeVariables=themes_default[lt.theme].getThemeVariables(ut))}return currentConfig=lt,checkConfig(currentConfig),currentConfig},"updateCurrentConfig"),setSiteConfig=__name(rt=>(siteConfig=assignWithDepth_default({},defaultConfig),siteConfig=assignWithDepth_default(siteConfig,rt),rt.theme&&themes_default[rt.theme]&&(siteConfig.themeVariables=themes_default[rt.theme].getThemeVariables(rt.themeVariables)),updateCurrentConfig(siteConfig,directives),siteConfig),"setSiteConfig"),saveConfigFromInitialize=__name(rt=>{configFromInitialize=assignWithDepth_default({},rt)},"saveConfigFromInitialize"),updateSiteConfig=__name(rt=>(siteConfig=assignWithDepth_default(siteConfig,rt),updateCurrentConfig(siteConfig,directives),siteConfig),"updateSiteConfig"),getSiteConfig=__name(()=>assignWithDepth_default({},siteConfig),"getSiteConfig"),setConfig=__name(rt=>(checkConfig(rt),assignWithDepth_default(currentConfig,rt),getConfig()),"setConfig"),getConfig=__name(()=>assignWithDepth_default({},currentConfig),"getConfig"),sanitize=__name(rt=>{rt&&(["secure",...siteConfig.secure??[]].forEach(it=>{Object.hasOwn(rt,it)&&(log.debug(`Denied attempt to modify a secure key ${it}`,rt[it]),delete rt[it])}),Object.keys(rt).forEach(it=>{it.startsWith("__")&&delete rt[it]}),Object.keys(rt).forEach(it=>{typeof rt[it]=="string"&&(rt[it].includes("<")||rt[it].includes(">")||rt[it].includes("url(data:"))&&delete rt[it],typeof rt[it]=="object"&&sanitize(rt[it])}))},"sanitize"),addDirective=__name(rt=>{var it;sanitizeDirective(rt),rt.fontFamily&&!((it=rt.themeVariables)!=null&&it.fontFamily)&&(rt.themeVariables={...rt.themeVariables,fontFamily:rt.fontFamily}),directives.push(rt),updateCurrentConfig(siteConfig,directives)},"addDirective"),reset=__name((rt=siteConfig)=>{directives=[],updateCurrentConfig(rt,directives)},"reset"),ConfigWarning={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},issuedWarnings={},issueWarning=__name(rt=>{issuedWarnings[rt]||(log.warn(ConfigWarning[rt]),issuedWarnings[rt]=!0)},"issueWarning"),checkConfig=__name(rt=>{rt&&(rt.lazyLoadedDiagrams||rt.loadExternalDiagramsAtStartup)&&issueWarning("LAZY_LOAD_DEPRECATED")},"checkConfig"),lineBreakRegex=/<br\s*\/?>/gi,getRows=__name(rt=>rt?breakToPlaceholder(rt).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),setupDompurifyHooksIfNotSetup=(()=>{let rt=!1;return()=>{rt||(setupDompurifyHooks(),rt=!0)}})();function setupDompurifyHooks(){const rt="data-temp-href-target";purify.addHook("beforeSanitizeAttributes",it=>{it.tagName==="A"&&it.hasAttribute("target")&&it.setAttribute(rt,it.getAttribute("target")??"")}),purify.addHook("afterSanitizeAttributes",it=>{it.tagName==="A"&&it.hasAttribute(rt)&&(it.setAttribute("target",it.getAttribute(rt)??""),it.removeAttribute(rt),it.getAttribute("target")==="_blank"&&it.setAttribute("rel","noopener"))})}__name(setupDompurifyHooks,"setupDompurifyHooks");var removeScript=__name(rt=>(setupDompurifyHooksIfNotSetup(),purify.sanitize(rt)),"removeScript"),sanitizeMore=__name((rt,it)=>{var lt;if(((lt=it.flowchart)==null?void 0:lt.htmlLabels)!==!1){const ct=it.securityLevel;ct==="antiscript"||ct==="strict"?rt=removeScript(rt):ct!=="loose"&&(rt=breakToPlaceholder(rt),rt=rt.replace(/</g,"&lt;").replace(/>/g,"&gt;"),rt=rt.replace(/=/g,"&equals;"),rt=placeholderToBreak(rt))}return rt},"sanitizeMore"),sanitizeText=__name((rt,it)=>rt&&(it.dompurifyConfig?rt=purify.sanitize(sanitizeMore(rt,it),it.dompurifyConfig).toString():rt=purify.sanitize(sanitizeMore(rt,it),{FORBID_TAGS:["style"]}).toString(),rt),"sanitizeText"),sanitizeTextOrArray=__name((rt,it)=>typeof rt=="string"?sanitizeText(rt,it):rt.flat().map(lt=>sanitizeText(lt,it)),"sanitizeTextOrArray"),hasBreaks=__name(rt=>lineBreakRegex.test(rt),"hasBreaks"),splitBreaks=__name(rt=>rt.split(lineBreakRegex),"splitBreaks"),placeholderToBreak=__name(rt=>rt.replace(/#br#/g,"<br/>"),"placeholderToBreak"),breakToPlaceholder=__name(rt=>rt.replace(lineBreakRegex,"#br#"),"breakToPlaceholder"),getUrl=__name(rt=>{let it="";return rt&&(it=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,it=it.replaceAll(/\(/g,"\\("),it=it.replaceAll(/\)/g,"\\)")),it},"getUrl"),evaluate=__name(rt=>!(rt===!1||["false","null","0"].includes(String(rt).trim().toLowerCase())),"evaluate"),getMax=__name(function(...rt){const it=rt.filter(lt=>!isNaN(lt));return Math.max(...it)},"getMax"),getMin=__name(function(...rt){const it=rt.filter(lt=>!isNaN(lt));return Math.min(...it)},"getMin"),parseGenericTypes=__name(function(rt){const it=rt.split(/(,)/),lt=[];for(let ct=0;ct<it.length;ct++){let ht=it[ct];if(ht===","&&ct>0&&ct+1<it.length){const ut=it[ct-1],ft=it[ct+1];shouldCombineSets(ut,ft)&&(ht=ut+","+ft,ct++,lt.pop())}lt.push(processSet(ht))}return lt.join("")},"parseGenericTypes"),countOccurrence=__name((rt,it)=>Math.max(0,rt.split(it).length-1),"countOccurrence"),shouldCombineSets=__name((rt,it)=>{const lt=countOccurrence(rt,"~"),ct=countOccurrence(it,"~");return lt===1&&ct===1},"shouldCombineSets"),processSet=__name(rt=>{const it=countOccurrence(rt,"~");let lt=!1;if(it<=1)return rt;it%2!==0&&rt.startsWith("~")&&(rt=rt.substring(1),lt=!0);const ct=[...rt];let ht=ct.indexOf("~"),ut=ct.lastIndexOf("~");for(;ht!==-1&&ut!==-1&&ht!==ut;)ct[ht]="<",ct[ut]=">",ht=ct.indexOf("~"),ut=ct.lastIndexOf("~");return lt&&ct.unshift("~"),ct.join("")},"processSet"),isMathMLSupported=__name(()=>window.MathMLElement!==void 0,"isMathMLSupported"),katexRegex=/\$\$(.*)\$\$/g,hasKatex=__name(rt=>{var it;return(((it=rt.match(katexRegex))==null?void 0:it.length)??0)>0},"hasKatex"),calculateMathMLDimensions=__name(async(rt,it)=>{rt=await renderKatex(rt,it);const lt=document.createElement("div");lt.innerHTML=rt,lt.id="katex-temp",lt.style.visibility="hidden",lt.style.position="absolute",lt.style.top="0";const ct=document.querySelector("body");ct==null||ct.insertAdjacentElement("beforeend",lt);const ht={width:lt.clientWidth,height:lt.clientHeight};return lt.remove(),ht},"calculateMathMLDimensions"),renderKatex=__name(async(rt,it)=>{if(!hasKatex(rt))return rt;if(!(isMathMLSupported()||it.legacyMathML||it.forceLegacyMathML))return rt.replace(katexRegex,"MathML is unsupported in this environment.");const{default:lt}=await __vitePreload(async()=>{const{default:ht}=await import("./katex.CvgdMzdh.js");return{default:ht}},[],import.meta.url),ct=it.forceLegacyMathML||!isMathMLSupported()&&it.legacyMathML?"htmlAndMathml":"mathml";return rt.split(lineBreakRegex).map(ht=>hasKatex(ht)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${ht}</div>`:`<div>${ht}</div>`).join("").replace(katexRegex,(ht,ut)=>lt.renderToString(ut,{throwOnError:!0,displayMode:!0,output:ct}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},"renderKatex"),common_default={getRows,sanitizeText,sanitizeTextOrArray,hasBreaks,splitBreaks,lineBreakRegex,removeScript,getUrl,evaluate,getMax,getMin},d3Attrs=__name(function(rt,it){for(let lt of it)rt.attr(lt[0],lt[1])},"d3Attrs"),calculateSvgSizeAttrs=__name(function(rt,it,lt){let ct=new Map;return lt?(ct.set("width","100%"),ct.set("style",`max-width: ${it}px;`)):(ct.set("height",rt),ct.set("width",it)),ct},"calculateSvgSizeAttrs"),configureSvgSize=__name(function(rt,it,lt,ct){const ht=calculateSvgSizeAttrs(it,lt,ct);d3Attrs(rt,ht)},"configureSvgSize"),setupGraphViewbox=__name(function(rt,it,lt,ct){const ht=it.node().getBBox(),ut=ht.width,ft=ht.height;log.info(`SVG bounds: ${ut}x${ft}`,ht);let dt=0,pt=0;log.info(`Graph bounds: ${dt}x${pt}`,rt),dt=ut+lt*2,pt=ft+lt*2,log.info(`Calculated bounds: ${dt}x${pt}`),configureSvgSize(it,pt,dt,ct);const gt=`${ht.x-lt} ${ht.y-lt} ${ht.width+2*lt} ${ht.height+2*lt}`;it.attr("viewBox",gt)},"setupGraphViewbox"),themes={},getStyles=__name((rt,it,lt)=>{let ct="";return rt in themes&&themes[rt]?ct=themes[rt](lt):log.warn(`No theme found for ${rt}`),` & {
    font-family: ${lt.fontFamily};
    font-size: ${lt.fontSize};
    fill: ${lt.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${lt.errorBkgColor};
  }
  & .error-text {
    fill: ${lt.errorTextColor};
    stroke: ${lt.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${lt.lineColor};
    stroke: ${lt.lineColor};
  }
  & .marker.cross {
    stroke: ${lt.lineColor};
  }

  & svg {
    font-family: ${lt.fontFamily};
    font-size: ${lt.fontSize};
  }
   & p {
    margin: 0
   }

  ${ct}

  ${it}
`},"getStyles"),addStylesForDiagram=__name((rt,it)=>{it!==void 0&&(themes[rt]=it)},"addStylesForDiagram"),styles_default=getStyles,commonDb_exports={};__export(commonDb_exports,{clear:()=>clear$2,getAccDescription:()=>getAccDescription,getAccTitle:()=>getAccTitle,getDiagramTitle:()=>getDiagramTitle,setAccDescription:()=>setAccDescription,setAccTitle:()=>setAccTitle,setDiagramTitle:()=>setDiagramTitle});var accTitle="",diagramTitle="",accDescription="",sanitizeText2=__name(rt=>sanitizeText(rt,getConfig()),"sanitizeText"),clear$2=__name(()=>{accTitle="",accDescription="",diagramTitle=""},"clear"),setAccTitle=__name(rt=>{accTitle=sanitizeText2(rt).replace(/^\s+/g,"")},"setAccTitle"),getAccTitle=__name(()=>accTitle,"getAccTitle"),setAccDescription=__name(rt=>{accDescription=sanitizeText2(rt).replace(/\n\s+/g,`
`)},"setAccDescription"),getAccDescription=__name(()=>accDescription,"getAccDescription"),setDiagramTitle=__name(rt=>{diagramTitle=sanitizeText2(rt)},"setDiagramTitle"),getDiagramTitle=__name(()=>diagramTitle,"getDiagramTitle"),log2=log,setLogLevel2=setLogLevel,getConfig2=getConfig,setConfig2=setConfig,defaultConfig2=defaultConfig,sanitizeText3=__name(rt=>sanitizeText(rt,getConfig2()),"sanitizeText"),setupGraphViewbox2=setupGraphViewbox,getCommonDb=__name(()=>commonDb_exports,"getCommonDb"),diagrams={},registerDiagram=__name((rt,it,lt)=>{var ct;diagrams[rt]&&log2.warn(`Diagram with id ${rt} already registered. Overwriting.`),diagrams[rt]=it,lt&&addDetector(rt,lt),addStylesForDiagram(rt,it.styles),(ct=it.injectUtils)==null||ct.call(it,log2,setLogLevel2,getConfig2,sanitizeText3,setupGraphViewbox2,getCommonDb(),()=>{})},"registerDiagram"),getDiagram=__name(rt=>{if(rt in diagrams)return diagrams[rt];throw new DiagramNotFoundError(rt)},"getDiagram"),Re,DiagramNotFoundError=(Re=class extends Error{constructor(it){super(`Diagram ${it} not found.`)}},__name(Re,"DiagramNotFoundError"),Re);function isNothing(rt){return typeof rt>"u"||rt===null}__name(isNothing,"isNothing");function isObject(rt){return typeof rt=="object"&&rt!==null}__name(isObject,"isObject");function toArray(rt){return Array.isArray(rt)?rt:isNothing(rt)?[]:[rt]}__name(toArray,"toArray");function extend$1(rt,it){var lt,ct,ht,ut;if(it)for(ut=Object.keys(it),lt=0,ct=ut.length;lt<ct;lt+=1)ht=ut[lt],rt[ht]=it[ht];return rt}__name(extend$1,"extend");function repeat(rt,it){var lt="",ct;for(ct=0;ct<it;ct+=1)lt+=rt;return lt}__name(repeat,"repeat");function isNegativeZero(rt){return rt===0&&Number.NEGATIVE_INFINITY===1/rt}__name(isNegativeZero,"isNegativeZero");var isNothing_1=isNothing,isObject_1=isObject,toArray_1=toArray,repeat_1=repeat,isNegativeZero_1=isNegativeZero,extend_1=extend$1,common$1={isNothing:isNothing_1,isObject:isObject_1,toArray:toArray_1,repeat:repeat_1,isNegativeZero:isNegativeZero_1,extend:extend_1};function formatError(rt,it){var lt="",ct=rt.reason||"(unknown reason)";return rt.mark?(rt.mark.name&&(lt+='in "'+rt.mark.name+'" '),lt+="("+(rt.mark.line+1)+":"+(rt.mark.column+1)+")",!it&&rt.mark.snippet&&(lt+=`

`+rt.mark.snippet),ct+" "+lt):ct}__name(formatError,"formatError");function YAMLException$1(rt,it){Error.call(this),this.name="YAMLException",this.reason=rt,this.mark=it,this.message=formatError(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}__name(YAMLException$1,"YAMLException$1");YAMLException$1.prototype=Object.create(Error.prototype);YAMLException$1.prototype.constructor=YAMLException$1;YAMLException$1.prototype.toString=__name(function(it){return this.name+": "+formatError(this,it)},"toString");var exception=YAMLException$1;function getLine(rt,it,lt,ct,ht){var ut="",ft="",dt=Math.floor(ht/2)-1;return ct-it>dt&&(ut=" ... ",it=ct-dt+ut.length),lt-ct>dt&&(ft=" ...",lt=ct+dt-ft.length),{str:ut+rt.slice(it,lt).replace(/\t/g,"→")+ft,pos:ct-it+ut.length}}__name(getLine,"getLine");function padStart(rt,it){return common$1.repeat(" ",it-rt.length)+rt}__name(padStart,"padStart");function makeSnippet(rt,it){if(it=Object.create(it||null),!rt.buffer)return null;it.maxLength||(it.maxLength=79),typeof it.indent!="number"&&(it.indent=1),typeof it.linesBefore!="number"&&(it.linesBefore=3),typeof it.linesAfter!="number"&&(it.linesAfter=2);for(var lt=/\r?\n|\r|\0/g,ct=[0],ht=[],ut,ft=-1;ut=lt.exec(rt.buffer);)ht.push(ut.index),ct.push(ut.index+ut[0].length),rt.position<=ut.index&&ft<0&&(ft=ct.length-2);ft<0&&(ft=ct.length-1);var dt="",pt,gt,_t=Math.min(rt.line+it.linesAfter,ht.length).toString().length,yt=it.maxLength-(it.indent+_t+3);for(pt=1;pt<=it.linesBefore&&!(ft-pt<0);pt++)gt=getLine(rt.buffer,ct[ft-pt],ht[ft-pt],rt.position-(ct[ft]-ct[ft-pt]),yt),dt=common$1.repeat(" ",it.indent)+padStart((rt.line-pt+1).toString(),_t)+" | "+gt.str+`
`+dt;for(gt=getLine(rt.buffer,ct[ft],ht[ft],rt.position,yt),dt+=common$1.repeat(" ",it.indent)+padStart((rt.line+1).toString(),_t)+" | "+gt.str+`
`,dt+=common$1.repeat("-",it.indent+_t+3+gt.pos)+`^
`,pt=1;pt<=it.linesAfter&&!(ft+pt>=ht.length);pt++)gt=getLine(rt.buffer,ct[ft+pt],ht[ft+pt],rt.position-(ct[ft]-ct[ft+pt]),yt),dt+=common$1.repeat(" ",it.indent)+padStart((rt.line+pt+1).toString(),_t)+" | "+gt.str+`
`;return dt.replace(/\n$/,"")}__name(makeSnippet,"makeSnippet");var snippet=makeSnippet,TYPE_CONSTRUCTOR_OPTIONS=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],YAML_NODE_KINDS=["scalar","sequence","mapping"];function compileStyleAliases(rt){var it={};return rt!==null&&Object.keys(rt).forEach(function(lt){rt[lt].forEach(function(ct){it[String(ct)]=lt})}),it}__name(compileStyleAliases,"compileStyleAliases");function Type$1(rt,it){if(it=it||{},Object.keys(it).forEach(function(lt){if(TYPE_CONSTRUCTOR_OPTIONS.indexOf(lt)===-1)throw new exception('Unknown option "'+lt+'" is met in definition of "'+rt+'" YAML type.')}),this.options=it,this.tag=rt,this.kind=it.kind||null,this.resolve=it.resolve||function(){return!0},this.construct=it.construct||function(lt){return lt},this.instanceOf=it.instanceOf||null,this.predicate=it.predicate||null,this.represent=it.represent||null,this.representName=it.representName||null,this.defaultStyle=it.defaultStyle||null,this.multi=it.multi||!1,this.styleAliases=compileStyleAliases(it.styleAliases||null),YAML_NODE_KINDS.indexOf(this.kind)===-1)throw new exception('Unknown kind "'+this.kind+'" is specified for "'+rt+'" YAML type.')}__name(Type$1,"Type$1");var type=Type$1;function compileList(rt,it){var lt=[];return rt[it].forEach(function(ct){var ht=lt.length;lt.forEach(function(ut,ft){ut.tag===ct.tag&&ut.kind===ct.kind&&ut.multi===ct.multi&&(ht=ft)}),lt[ht]=ct}),lt}__name(compileList,"compileList");function compileMap(){var rt={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},it,lt;function ct(ht){ht.multi?(rt.multi[ht.kind].push(ht),rt.multi.fallback.push(ht)):rt[ht.kind][ht.tag]=rt.fallback[ht.tag]=ht}for(__name(ct,"collectType"),it=0,lt=arguments.length;it<lt;it+=1)arguments[it].forEach(ct);return rt}__name(compileMap,"compileMap");function Schema$1(rt){return this.extend(rt)}__name(Schema$1,"Schema$1");Schema$1.prototype.extend=__name(function(it){var lt=[],ct=[];if(it instanceof type)ct.push(it);else if(Array.isArray(it))ct=ct.concat(it);else if(it&&(Array.isArray(it.implicit)||Array.isArray(it.explicit)))it.implicit&&(lt=lt.concat(it.implicit)),it.explicit&&(ct=ct.concat(it.explicit));else throw new exception("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");lt.forEach(function(ut){if(!(ut instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(ut.loadKind&&ut.loadKind!=="scalar")throw new exception("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(ut.multi)throw new exception("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),ct.forEach(function(ut){if(!(ut instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var ht=Object.create(Schema$1.prototype);return ht.implicit=(this.implicit||[]).concat(lt),ht.explicit=(this.explicit||[]).concat(ct),ht.compiledImplicit=compileList(ht,"implicit"),ht.compiledExplicit=compileList(ht,"explicit"),ht.compiledTypeMap=compileMap(ht.compiledImplicit,ht.compiledExplicit),ht},"extend");var schema=Schema$1,str=new type("tag:yaml.org,2002:str",{kind:"scalar",construct:__name(function(rt){return rt!==null?rt:""},"construct")}),seq=new type("tag:yaml.org,2002:seq",{kind:"sequence",construct:__name(function(rt){return rt!==null?rt:[]},"construct")}),map=new type("tag:yaml.org,2002:map",{kind:"mapping",construct:__name(function(rt){return rt!==null?rt:{}},"construct")}),failsafe=new schema({explicit:[str,seq,map]});function resolveYamlNull(rt){if(rt===null)return!0;var it=rt.length;return it===1&&rt==="~"||it===4&&(rt==="null"||rt==="Null"||rt==="NULL")}__name(resolveYamlNull,"resolveYamlNull");function constructYamlNull(){return null}__name(constructYamlNull,"constructYamlNull");function isNull(rt){return rt===null}__name(isNull,"isNull");var _null=new type("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:__name(function(){return"~"},"canonical"),lowercase:__name(function(){return"null"},"lowercase"),uppercase:__name(function(){return"NULL"},"uppercase"),camelcase:__name(function(){return"Null"},"camelcase"),empty:__name(function(){return""},"empty")},defaultStyle:"lowercase"});function resolveYamlBoolean(rt){if(rt===null)return!1;var it=rt.length;return it===4&&(rt==="true"||rt==="True"||rt==="TRUE")||it===5&&(rt==="false"||rt==="False"||rt==="FALSE")}__name(resolveYamlBoolean,"resolveYamlBoolean");function constructYamlBoolean(rt){return rt==="true"||rt==="True"||rt==="TRUE"}__name(constructYamlBoolean,"constructYamlBoolean");function isBoolean(rt){return Object.prototype.toString.call(rt)==="[object Boolean]"}__name(isBoolean,"isBoolean");var bool=new type("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:__name(function(rt){return rt?"true":"false"},"lowercase"),uppercase:__name(function(rt){return rt?"TRUE":"FALSE"},"uppercase"),camelcase:__name(function(rt){return rt?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function isHexCode(rt){return 48<=rt&&rt<=57||65<=rt&&rt<=70||97<=rt&&rt<=102}__name(isHexCode,"isHexCode");function isOctCode(rt){return 48<=rt&&rt<=55}__name(isOctCode,"isOctCode");function isDecCode(rt){return 48<=rt&&rt<=57}__name(isDecCode,"isDecCode");function resolveYamlInteger(rt){if(rt===null)return!1;var it=rt.length,lt=0,ct=!1,ht;if(!it)return!1;if(ht=rt[lt],(ht==="-"||ht==="+")&&(ht=rt[++lt]),ht==="0"){if(lt+1===it)return!0;if(ht=rt[++lt],ht==="b"){for(lt++;lt<it;lt++)if(ht=rt[lt],ht!=="_"){if(ht!=="0"&&ht!=="1")return!1;ct=!0}return ct&&ht!=="_"}if(ht==="x"){for(lt++;lt<it;lt++)if(ht=rt[lt],ht!=="_"){if(!isHexCode(rt.charCodeAt(lt)))return!1;ct=!0}return ct&&ht!=="_"}if(ht==="o"){for(lt++;lt<it;lt++)if(ht=rt[lt],ht!=="_"){if(!isOctCode(rt.charCodeAt(lt)))return!1;ct=!0}return ct&&ht!=="_"}}if(ht==="_")return!1;for(;lt<it;lt++)if(ht=rt[lt],ht!=="_"){if(!isDecCode(rt.charCodeAt(lt)))return!1;ct=!0}return!(!ct||ht==="_")}__name(resolveYamlInteger,"resolveYamlInteger");function constructYamlInteger(rt){var it=rt,lt=1,ct;if(it.indexOf("_")!==-1&&(it=it.replace(/_/g,"")),ct=it[0],(ct==="-"||ct==="+")&&(ct==="-"&&(lt=-1),it=it.slice(1),ct=it[0]),it==="0")return 0;if(ct==="0"){if(it[1]==="b")return lt*parseInt(it.slice(2),2);if(it[1]==="x")return lt*parseInt(it.slice(2),16);if(it[1]==="o")return lt*parseInt(it.slice(2),8)}return lt*parseInt(it,10)}__name(constructYamlInteger,"constructYamlInteger");function isInteger(rt){return Object.prototype.toString.call(rt)==="[object Number]"&&rt%1===0&&!common$1.isNegativeZero(rt)}__name(isInteger,"isInteger");var int=new type("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:__name(function(rt){return rt>=0?"0b"+rt.toString(2):"-0b"+rt.toString(2).slice(1)},"binary"),octal:__name(function(rt){return rt>=0?"0o"+rt.toString(8):"-0o"+rt.toString(8).slice(1)},"octal"),decimal:__name(function(rt){return rt.toString(10)},"decimal"),hexadecimal:__name(function(rt){return rt>=0?"0x"+rt.toString(16).toUpperCase():"-0x"+rt.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),YAML_FLOAT_PATTERN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(rt){return!(rt===null||!YAML_FLOAT_PATTERN.test(rt)||rt[rt.length-1]==="_")}__name(resolveYamlFloat,"resolveYamlFloat");function constructYamlFloat(rt){var it,lt;return it=rt.replace(/_/g,"").toLowerCase(),lt=it[0]==="-"?-1:1,"+-".indexOf(it[0])>=0&&(it=it.slice(1)),it===".inf"?lt===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:it===".nan"?NaN:lt*parseFloat(it,10)}__name(constructYamlFloat,"constructYamlFloat");var SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;function representYamlFloat(rt,it){var lt;if(isNaN(rt))switch(it){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===rt)switch(it){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===rt)switch(it){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common$1.isNegativeZero(rt))return"-0.0";return lt=rt.toString(10),SCIENTIFIC_WITHOUT_DOT.test(lt)?lt.replace("e",".e"):lt}__name(representYamlFloat,"representYamlFloat");function isFloat(rt){return Object.prototype.toString.call(rt)==="[object Number]"&&(rt%1!==0||common$1.isNegativeZero(rt))}__name(isFloat,"isFloat");var float=new type("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"}),json=failsafe.extend({implicit:[_null,bool,int,float]}),core=json,YAML_DATE_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YAML_TIMESTAMP_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(rt){return rt===null?!1:YAML_DATE_REGEXP.exec(rt)!==null||YAML_TIMESTAMP_REGEXP.exec(rt)!==null}__name(resolveYamlTimestamp,"resolveYamlTimestamp");function constructYamlTimestamp(rt){var it,lt,ct,ht,ut,ft,dt,pt=0,gt=null,_t,yt,mt;if(it=YAML_DATE_REGEXP.exec(rt),it===null&&(it=YAML_TIMESTAMP_REGEXP.exec(rt)),it===null)throw new Error("Date resolve error");if(lt=+it[1],ct=+it[2]-1,ht=+it[3],!it[4])return new Date(Date.UTC(lt,ct,ht));if(ut=+it[4],ft=+it[5],dt=+it[6],it[7]){for(pt=it[7].slice(0,3);pt.length<3;)pt+="0";pt=+pt}return it[9]&&(_t=+it[10],yt=+(it[11]||0),gt=(_t*60+yt)*6e4,it[9]==="-"&&(gt=-gt)),mt=new Date(Date.UTC(lt,ct,ht,ut,ft,dt,pt)),gt&&mt.setTime(mt.getTime()-gt),mt}__name(constructYamlTimestamp,"constructYamlTimestamp");function representYamlTimestamp(rt){return rt.toISOString()}__name(representYamlTimestamp,"representYamlTimestamp");var timestamp=new type("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp});function resolveYamlMerge(rt){return rt==="<<"||rt===null}__name(resolveYamlMerge,"resolveYamlMerge");var merge=new type("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge}),BASE64_MAP=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function resolveYamlBinary(rt){if(rt===null)return!1;var it,lt,ct=0,ht=rt.length,ut=BASE64_MAP;for(lt=0;lt<ht;lt++)if(it=ut.indexOf(rt.charAt(lt)),!(it>64)){if(it<0)return!1;ct+=6}return ct%8===0}__name(resolveYamlBinary,"resolveYamlBinary");function constructYamlBinary(rt){var it,lt,ct=rt.replace(/[\r\n=]/g,""),ht=ct.length,ut=BASE64_MAP,ft=0,dt=[];for(it=0;it<ht;it++)it%4===0&&it&&(dt.push(ft>>16&255),dt.push(ft>>8&255),dt.push(ft&255)),ft=ft<<6|ut.indexOf(ct.charAt(it));return lt=ht%4*6,lt===0?(dt.push(ft>>16&255),dt.push(ft>>8&255),dt.push(ft&255)):lt===18?(dt.push(ft>>10&255),dt.push(ft>>2&255)):lt===12&&dt.push(ft>>4&255),new Uint8Array(dt)}__name(constructYamlBinary,"constructYamlBinary");function representYamlBinary(rt){var it="",lt=0,ct,ht,ut=rt.length,ft=BASE64_MAP;for(ct=0;ct<ut;ct++)ct%3===0&&ct&&(it+=ft[lt>>18&63],it+=ft[lt>>12&63],it+=ft[lt>>6&63],it+=ft[lt&63]),lt=(lt<<8)+rt[ct];return ht=ut%3,ht===0?(it+=ft[lt>>18&63],it+=ft[lt>>12&63],it+=ft[lt>>6&63],it+=ft[lt&63]):ht===2?(it+=ft[lt>>10&63],it+=ft[lt>>4&63],it+=ft[lt<<2&63],it+=ft[64]):ht===1&&(it+=ft[lt>>2&63],it+=ft[lt<<4&63],it+=ft[64],it+=ft[64]),it}__name(representYamlBinary,"representYamlBinary");function isBinary(rt){return Object.prototype.toString.call(rt)==="[object Uint8Array]"}__name(isBinary,"isBinary");var binary=new type("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary}),_hasOwnProperty$3=Object.prototype.hasOwnProperty,_toString$2=Object.prototype.toString;function resolveYamlOmap(rt){if(rt===null)return!0;var it=[],lt,ct,ht,ut,ft,dt=rt;for(lt=0,ct=dt.length;lt<ct;lt+=1){if(ht=dt[lt],ft=!1,_toString$2.call(ht)!=="[object Object]")return!1;for(ut in ht)if(_hasOwnProperty$3.call(ht,ut))if(!ft)ft=!0;else return!1;if(!ft)return!1;if(it.indexOf(ut)===-1)it.push(ut);else return!1}return!0}__name(resolveYamlOmap,"resolveYamlOmap");function constructYamlOmap(rt){return rt!==null?rt:[]}__name(constructYamlOmap,"constructYamlOmap");var omap=new type("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap}),_toString$1=Object.prototype.toString;function resolveYamlPairs(rt){if(rt===null)return!0;var it,lt,ct,ht,ut,ft=rt;for(ut=new Array(ft.length),it=0,lt=ft.length;it<lt;it+=1){if(ct=ft[it],_toString$1.call(ct)!=="[object Object]"||(ht=Object.keys(ct),ht.length!==1))return!1;ut[it]=[ht[0],ct[ht[0]]]}return!0}__name(resolveYamlPairs,"resolveYamlPairs");function constructYamlPairs(rt){if(rt===null)return[];var it,lt,ct,ht,ut,ft=rt;for(ut=new Array(ft.length),it=0,lt=ft.length;it<lt;it+=1)ct=ft[it],ht=Object.keys(ct),ut[it]=[ht[0],ct[ht[0]]];return ut}__name(constructYamlPairs,"constructYamlPairs");var pairs=new type("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs}),_hasOwnProperty$2=Object.prototype.hasOwnProperty;function resolveYamlSet(rt){if(rt===null)return!0;var it,lt=rt;for(it in lt)if(_hasOwnProperty$2.call(lt,it)&&lt[it]!==null)return!1;return!0}__name(resolveYamlSet,"resolveYamlSet");function constructYamlSet(rt){return rt!==null?rt:{}}__name(constructYamlSet,"constructYamlSet");var set$2=new type("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet}),_default=core.extend({implicit:[timestamp,merge],explicit:[binary,omap,pairs,set$2]}),_hasOwnProperty$1=Object.prototype.hasOwnProperty,CONTEXT_FLOW_IN=1,CONTEXT_FLOW_OUT=2,CONTEXT_BLOCK_IN=3,CONTEXT_BLOCK_OUT=4,CHOMPING_CLIP=1,CHOMPING_STRIP=2,CHOMPING_KEEP=3,PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(rt){return Object.prototype.toString.call(rt)}__name(_class,"_class");function is_EOL(rt){return rt===10||rt===13}__name(is_EOL,"is_EOL");function is_WHITE_SPACE(rt){return rt===9||rt===32}__name(is_WHITE_SPACE,"is_WHITE_SPACE");function is_WS_OR_EOL(rt){return rt===9||rt===32||rt===10||rt===13}__name(is_WS_OR_EOL,"is_WS_OR_EOL");function is_FLOW_INDICATOR(rt){return rt===44||rt===91||rt===93||rt===123||rt===125}__name(is_FLOW_INDICATOR,"is_FLOW_INDICATOR");function fromHexCode(rt){var it;return 48<=rt&&rt<=57?rt-48:(it=rt|32,97<=it&&it<=102?it-97+10:-1)}__name(fromHexCode,"fromHexCode");function escapedHexLen(rt){return rt===120?2:rt===117?4:rt===85?8:0}__name(escapedHexLen,"escapedHexLen");function fromDecimalCode(rt){return 48<=rt&&rt<=57?rt-48:-1}__name(fromDecimalCode,"fromDecimalCode");function simpleEscapeSequence(rt){return rt===48?"\0":rt===97?"\x07":rt===98?"\b":rt===116||rt===9?"	":rt===110?`
`:rt===118?"\v":rt===102?"\f":rt===114?"\r":rt===101?"\x1B":rt===32?" ":rt===34?'"':rt===47?"/":rt===92?"\\":rt===78?"":rt===95?" ":rt===76?"\u2028":rt===80?"\u2029":""}__name(simpleEscapeSequence,"simpleEscapeSequence");function charFromCodepoint(rt){return rt<=65535?String.fromCharCode(rt):String.fromCharCode((rt-65536>>10)+55296,(rt-65536&1023)+56320)}__name(charFromCodepoint,"charFromCodepoint");var simpleEscapeCheck=new Array(256),simpleEscapeMap=new Array(256);for(i$1=0;i$1<256;i$1++)simpleEscapeCheck[i$1]=simpleEscapeSequence(i$1)?1:0,simpleEscapeMap[i$1]=simpleEscapeSequence(i$1);var i$1;function State$1(rt,it){this.input=rt,this.filename=it.filename||null,this.schema=it.schema||_default,this.onWarning=it.onWarning||null,this.legacy=it.legacy||!1,this.json=it.json||!1,this.listener=it.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=rt.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}__name(State$1,"State$1");function generateError(rt,it){var lt={name:rt.filename,buffer:rt.input.slice(0,-1),position:rt.position,line:rt.line,column:rt.position-rt.lineStart};return lt.snippet=snippet(lt),new exception(it,lt)}__name(generateError,"generateError");function throwError(rt,it){throw generateError(rt,it)}__name(throwError,"throwError");function throwWarning(rt,it){rt.onWarning&&rt.onWarning.call(null,generateError(rt,it))}__name(throwWarning,"throwWarning");var directiveHandlers={YAML:__name(function(it,lt,ct){var ht,ut,ft;it.version!==null&&throwError(it,"duplication of %YAML directive"),ct.length!==1&&throwError(it,"YAML directive accepts exactly one argument"),ht=/^([0-9]+)\.([0-9]+)$/.exec(ct[0]),ht===null&&throwError(it,"ill-formed argument of the YAML directive"),ut=parseInt(ht[1],10),ft=parseInt(ht[2],10),ut!==1&&throwError(it,"unacceptable YAML version of the document"),it.version=ct[0],it.checkLineBreaks=ft<2,ft!==1&&ft!==2&&throwWarning(it,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:__name(function(it,lt,ct){var ht,ut;ct.length!==2&&throwError(it,"TAG directive accepts exactly two arguments"),ht=ct[0],ut=ct[1],PATTERN_TAG_HANDLE.test(ht)||throwError(it,"ill-formed tag handle (first argument) of the TAG directive"),_hasOwnProperty$1.call(it.tagMap,ht)&&throwError(it,'there is a previously declared suffix for "'+ht+'" tag handle'),PATTERN_TAG_URI.test(ut)||throwError(it,"ill-formed tag prefix (second argument) of the TAG directive");try{ut=decodeURIComponent(ut)}catch{throwError(it,"tag prefix is malformed: "+ut)}it.tagMap[ht]=ut},"handleTagDirective")};function captureSegment(rt,it,lt,ct){var ht,ut,ft,dt;if(it<lt){if(dt=rt.input.slice(it,lt),ct)for(ht=0,ut=dt.length;ht<ut;ht+=1)ft=dt.charCodeAt(ht),ft===9||32<=ft&&ft<=1114111||throwError(rt,"expected valid JSON character");else PATTERN_NON_PRINTABLE.test(dt)&&throwError(rt,"the stream contains non-printable characters");rt.result+=dt}}__name(captureSegment,"captureSegment");function mergeMappings(rt,it,lt,ct){var ht,ut,ft,dt;for(common$1.isObject(lt)||throwError(rt,"cannot merge mappings; the provided source object is unacceptable"),ht=Object.keys(lt),ft=0,dt=ht.length;ft<dt;ft+=1)ut=ht[ft],_hasOwnProperty$1.call(it,ut)||(it[ut]=lt[ut],ct[ut]=!0)}__name(mergeMappings,"mergeMappings");function storeMappingPair(rt,it,lt,ct,ht,ut,ft,dt,pt){var gt,_t;if(Array.isArray(ht))for(ht=Array.prototype.slice.call(ht),gt=0,_t=ht.length;gt<_t;gt+=1)Array.isArray(ht[gt])&&throwError(rt,"nested arrays are not supported inside keys"),typeof ht=="object"&&_class(ht[gt])==="[object Object]"&&(ht[gt]="[object Object]");if(typeof ht=="object"&&_class(ht)==="[object Object]"&&(ht="[object Object]"),ht=String(ht),it===null&&(it={}),ct==="tag:yaml.org,2002:merge")if(Array.isArray(ut))for(gt=0,_t=ut.length;gt<_t;gt+=1)mergeMappings(rt,it,ut[gt],lt);else mergeMappings(rt,it,ut,lt);else!rt.json&&!_hasOwnProperty$1.call(lt,ht)&&_hasOwnProperty$1.call(it,ht)&&(rt.line=ft||rt.line,rt.lineStart=dt||rt.lineStart,rt.position=pt||rt.position,throwError(rt,"duplicated mapping key")),ht==="__proto__"?Object.defineProperty(it,ht,{configurable:!0,enumerable:!0,writable:!0,value:ut}):it[ht]=ut,delete lt[ht];return it}__name(storeMappingPair,"storeMappingPair");function readLineBreak(rt){var it;it=rt.input.charCodeAt(rt.position),it===10?rt.position++:it===13?(rt.position++,rt.input.charCodeAt(rt.position)===10&&rt.position++):throwError(rt,"a line break is expected"),rt.line+=1,rt.lineStart=rt.position,rt.firstTabInLine=-1}__name(readLineBreak,"readLineBreak");function skipSeparationSpace(rt,it,lt){for(var ct=0,ht=rt.input.charCodeAt(rt.position);ht!==0;){for(;is_WHITE_SPACE(ht);)ht===9&&rt.firstTabInLine===-1&&(rt.firstTabInLine=rt.position),ht=rt.input.charCodeAt(++rt.position);if(it&&ht===35)do ht=rt.input.charCodeAt(++rt.position);while(ht!==10&&ht!==13&&ht!==0);if(is_EOL(ht))for(readLineBreak(rt),ht=rt.input.charCodeAt(rt.position),ct++,rt.lineIndent=0;ht===32;)rt.lineIndent++,ht=rt.input.charCodeAt(++rt.position);else break}return lt!==-1&&ct!==0&&rt.lineIndent<lt&&throwWarning(rt,"deficient indentation"),ct}__name(skipSeparationSpace,"skipSeparationSpace");function testDocumentSeparator(rt){var it=rt.position,lt;return lt=rt.input.charCodeAt(it),!!((lt===45||lt===46)&&lt===rt.input.charCodeAt(it+1)&&lt===rt.input.charCodeAt(it+2)&&(it+=3,lt=rt.input.charCodeAt(it),lt===0||is_WS_OR_EOL(lt)))}__name(testDocumentSeparator,"testDocumentSeparator");function writeFoldedLines(rt,it){it===1?rt.result+=" ":it>1&&(rt.result+=common$1.repeat(`
`,it-1))}__name(writeFoldedLines,"writeFoldedLines");function readPlainScalar(rt,it,lt){var ct,ht,ut,ft,dt,pt,gt,_t,yt=rt.kind,mt=rt.result,bt;if(bt=rt.input.charCodeAt(rt.position),is_WS_OR_EOL(bt)||is_FLOW_INDICATOR(bt)||bt===35||bt===38||bt===42||bt===33||bt===124||bt===62||bt===39||bt===34||bt===37||bt===64||bt===96||(bt===63||bt===45)&&(ht=rt.input.charCodeAt(rt.position+1),is_WS_OR_EOL(ht)||lt&&is_FLOW_INDICATOR(ht)))return!1;for(rt.kind="scalar",rt.result="",ut=ft=rt.position,dt=!1;bt!==0;){if(bt===58){if(ht=rt.input.charCodeAt(rt.position+1),is_WS_OR_EOL(ht)||lt&&is_FLOW_INDICATOR(ht))break}else if(bt===35){if(ct=rt.input.charCodeAt(rt.position-1),is_WS_OR_EOL(ct))break}else{if(rt.position===rt.lineStart&&testDocumentSeparator(rt)||lt&&is_FLOW_INDICATOR(bt))break;if(is_EOL(bt))if(pt=rt.line,gt=rt.lineStart,_t=rt.lineIndent,skipSeparationSpace(rt,!1,-1),rt.lineIndent>=it){dt=!0,bt=rt.input.charCodeAt(rt.position);continue}else{rt.position=ft,rt.line=pt,rt.lineStart=gt,rt.lineIndent=_t;break}}dt&&(captureSegment(rt,ut,ft,!1),writeFoldedLines(rt,rt.line-pt),ut=ft=rt.position,dt=!1),is_WHITE_SPACE(bt)||(ft=rt.position+1),bt=rt.input.charCodeAt(++rt.position)}return captureSegment(rt,ut,ft,!1),rt.result?!0:(rt.kind=yt,rt.result=mt,!1)}__name(readPlainScalar,"readPlainScalar");function readSingleQuotedScalar(rt,it){var lt,ct,ht;if(lt=rt.input.charCodeAt(rt.position),lt!==39)return!1;for(rt.kind="scalar",rt.result="",rt.position++,ct=ht=rt.position;(lt=rt.input.charCodeAt(rt.position))!==0;)if(lt===39)if(captureSegment(rt,ct,rt.position,!0),lt=rt.input.charCodeAt(++rt.position),lt===39)ct=rt.position,rt.position++,ht=rt.position;else return!0;else is_EOL(lt)?(captureSegment(rt,ct,ht,!0),writeFoldedLines(rt,skipSeparationSpace(rt,!1,it)),ct=ht=rt.position):rt.position===rt.lineStart&&testDocumentSeparator(rt)?throwError(rt,"unexpected end of the document within a single quoted scalar"):(rt.position++,ht=rt.position);throwError(rt,"unexpected end of the stream within a single quoted scalar")}__name(readSingleQuotedScalar,"readSingleQuotedScalar");function readDoubleQuotedScalar(rt,it){var lt,ct,ht,ut,ft,dt;if(dt=rt.input.charCodeAt(rt.position),dt!==34)return!1;for(rt.kind="scalar",rt.result="",rt.position++,lt=ct=rt.position;(dt=rt.input.charCodeAt(rt.position))!==0;){if(dt===34)return captureSegment(rt,lt,rt.position,!0),rt.position++,!0;if(dt===92){if(captureSegment(rt,lt,rt.position,!0),dt=rt.input.charCodeAt(++rt.position),is_EOL(dt))skipSeparationSpace(rt,!1,it);else if(dt<256&&simpleEscapeCheck[dt])rt.result+=simpleEscapeMap[dt],rt.position++;else if((ft=escapedHexLen(dt))>0){for(ht=ft,ut=0;ht>0;ht--)dt=rt.input.charCodeAt(++rt.position),(ft=fromHexCode(dt))>=0?ut=(ut<<4)+ft:throwError(rt,"expected hexadecimal character");rt.result+=charFromCodepoint(ut),rt.position++}else throwError(rt,"unknown escape sequence");lt=ct=rt.position}else is_EOL(dt)?(captureSegment(rt,lt,ct,!0),writeFoldedLines(rt,skipSeparationSpace(rt,!1,it)),lt=ct=rt.position):rt.position===rt.lineStart&&testDocumentSeparator(rt)?throwError(rt,"unexpected end of the document within a double quoted scalar"):(rt.position++,ct=rt.position)}throwError(rt,"unexpected end of the stream within a double quoted scalar")}__name(readDoubleQuotedScalar,"readDoubleQuotedScalar");function readFlowCollection(rt,it){var lt=!0,ct,ht,ut,ft=rt.tag,dt,pt=rt.anchor,gt,_t,yt,mt,bt,xt=Object.create(null),wt,Ct,St,Tt;if(Tt=rt.input.charCodeAt(rt.position),Tt===91)_t=93,bt=!1,dt=[];else if(Tt===123)_t=125,bt=!0,dt={};else return!1;for(rt.anchor!==null&&(rt.anchorMap[rt.anchor]=dt),Tt=rt.input.charCodeAt(++rt.position);Tt!==0;){if(skipSeparationSpace(rt,!0,it),Tt=rt.input.charCodeAt(rt.position),Tt===_t)return rt.position++,rt.tag=ft,rt.anchor=pt,rt.kind=bt?"mapping":"sequence",rt.result=dt,!0;lt?Tt===44&&throwError(rt,"expected the node content, but found ','"):throwError(rt,"missed comma between flow collection entries"),Ct=wt=St=null,yt=mt=!1,Tt===63&&(gt=rt.input.charCodeAt(rt.position+1),is_WS_OR_EOL(gt)&&(yt=mt=!0,rt.position++,skipSeparationSpace(rt,!0,it))),ct=rt.line,ht=rt.lineStart,ut=rt.position,composeNode(rt,it,CONTEXT_FLOW_IN,!1,!0),Ct=rt.tag,wt=rt.result,skipSeparationSpace(rt,!0,it),Tt=rt.input.charCodeAt(rt.position),(mt||rt.line===ct)&&Tt===58&&(yt=!0,Tt=rt.input.charCodeAt(++rt.position),skipSeparationSpace(rt,!0,it),composeNode(rt,it,CONTEXT_FLOW_IN,!1,!0),St=rt.result),bt?storeMappingPair(rt,dt,xt,Ct,wt,St,ct,ht,ut):yt?dt.push(storeMappingPair(rt,null,xt,Ct,wt,St,ct,ht,ut)):dt.push(wt),skipSeparationSpace(rt,!0,it),Tt=rt.input.charCodeAt(rt.position),Tt===44?(lt=!0,Tt=rt.input.charCodeAt(++rt.position)):lt=!1}throwError(rt,"unexpected end of the stream within a flow collection")}__name(readFlowCollection,"readFlowCollection");function readBlockScalar(rt,it){var lt,ct,ht=CHOMPING_CLIP,ut=!1,ft=!1,dt=it,pt=0,gt=!1,_t,yt;if(yt=rt.input.charCodeAt(rt.position),yt===124)ct=!1;else if(yt===62)ct=!0;else return!1;for(rt.kind="scalar",rt.result="";yt!==0;)if(yt=rt.input.charCodeAt(++rt.position),yt===43||yt===45)CHOMPING_CLIP===ht?ht=yt===43?CHOMPING_KEEP:CHOMPING_STRIP:throwError(rt,"repeat of a chomping mode identifier");else if((_t=fromDecimalCode(yt))>=0)_t===0?throwError(rt,"bad explicit indentation width of a block scalar; it cannot be less than one"):ft?throwError(rt,"repeat of an indentation width identifier"):(dt=it+_t-1,ft=!0);else break;if(is_WHITE_SPACE(yt)){do yt=rt.input.charCodeAt(++rt.position);while(is_WHITE_SPACE(yt));if(yt===35)do yt=rt.input.charCodeAt(++rt.position);while(!is_EOL(yt)&&yt!==0)}for(;yt!==0;){for(readLineBreak(rt),rt.lineIndent=0,yt=rt.input.charCodeAt(rt.position);(!ft||rt.lineIndent<dt)&&yt===32;)rt.lineIndent++,yt=rt.input.charCodeAt(++rt.position);if(!ft&&rt.lineIndent>dt&&(dt=rt.lineIndent),is_EOL(yt)){pt++;continue}if(rt.lineIndent<dt){ht===CHOMPING_KEEP?rt.result+=common$1.repeat(`
`,ut?1+pt:pt):ht===CHOMPING_CLIP&&ut&&(rt.result+=`
`);break}for(ct?is_WHITE_SPACE(yt)?(gt=!0,rt.result+=common$1.repeat(`
`,ut?1+pt:pt)):gt?(gt=!1,rt.result+=common$1.repeat(`
`,pt+1)):pt===0?ut&&(rt.result+=" "):rt.result+=common$1.repeat(`
`,pt):rt.result+=common$1.repeat(`
`,ut?1+pt:pt),ut=!0,ft=!0,pt=0,lt=rt.position;!is_EOL(yt)&&yt!==0;)yt=rt.input.charCodeAt(++rt.position);captureSegment(rt,lt,rt.position,!1)}return!0}__name(readBlockScalar,"readBlockScalar");function readBlockSequence(rt,it){var lt,ct=rt.tag,ht=rt.anchor,ut=[],ft,dt=!1,pt;if(rt.firstTabInLine!==-1)return!1;for(rt.anchor!==null&&(rt.anchorMap[rt.anchor]=ut),pt=rt.input.charCodeAt(rt.position);pt!==0&&(rt.firstTabInLine!==-1&&(rt.position=rt.firstTabInLine,throwError(rt,"tab characters must not be used in indentation")),!(pt!==45||(ft=rt.input.charCodeAt(rt.position+1),!is_WS_OR_EOL(ft))));){if(dt=!0,rt.position++,skipSeparationSpace(rt,!0,-1)&&rt.lineIndent<=it){ut.push(null),pt=rt.input.charCodeAt(rt.position);continue}if(lt=rt.line,composeNode(rt,it,CONTEXT_BLOCK_IN,!1,!0),ut.push(rt.result),skipSeparationSpace(rt,!0,-1),pt=rt.input.charCodeAt(rt.position),(rt.line===lt||rt.lineIndent>it)&&pt!==0)throwError(rt,"bad indentation of a sequence entry");else if(rt.lineIndent<it)break}return dt?(rt.tag=ct,rt.anchor=ht,rt.kind="sequence",rt.result=ut,!0):!1}__name(readBlockSequence,"readBlockSequence");function readBlockMapping(rt,it,lt){var ct,ht,ut,ft,dt,pt,gt=rt.tag,_t=rt.anchor,yt={},mt=Object.create(null),bt=null,xt=null,wt=null,Ct=!1,St=!1,Tt;if(rt.firstTabInLine!==-1)return!1;for(rt.anchor!==null&&(rt.anchorMap[rt.anchor]=yt),Tt=rt.input.charCodeAt(rt.position);Tt!==0;){if(!Ct&&rt.firstTabInLine!==-1&&(rt.position=rt.firstTabInLine,throwError(rt,"tab characters must not be used in indentation")),ct=rt.input.charCodeAt(rt.position+1),ut=rt.line,(Tt===63||Tt===58)&&is_WS_OR_EOL(ct))Tt===63?(Ct&&(storeMappingPair(rt,yt,mt,bt,xt,null,ft,dt,pt),bt=xt=wt=null),St=!0,Ct=!0,ht=!0):Ct?(Ct=!1,ht=!0):throwError(rt,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),rt.position+=1,Tt=ct;else{if(ft=rt.line,dt=rt.lineStart,pt=rt.position,!composeNode(rt,lt,CONTEXT_FLOW_OUT,!1,!0))break;if(rt.line===ut){for(Tt=rt.input.charCodeAt(rt.position);is_WHITE_SPACE(Tt);)Tt=rt.input.charCodeAt(++rt.position);if(Tt===58)Tt=rt.input.charCodeAt(++rt.position),is_WS_OR_EOL(Tt)||throwError(rt,"a whitespace character is expected after the key-value separator within a block mapping"),Ct&&(storeMappingPair(rt,yt,mt,bt,xt,null,ft,dt,pt),bt=xt=wt=null),St=!0,Ct=!1,ht=!1,bt=rt.tag,xt=rt.result;else if(St)throwError(rt,"can not read an implicit mapping pair; a colon is missed");else return rt.tag=gt,rt.anchor=_t,!0}else if(St)throwError(rt,"can not read a block mapping entry; a multiline key may not be an implicit key");else return rt.tag=gt,rt.anchor=_t,!0}if((rt.line===ut||rt.lineIndent>it)&&(Ct&&(ft=rt.line,dt=rt.lineStart,pt=rt.position),composeNode(rt,it,CONTEXT_BLOCK_OUT,!0,ht)&&(Ct?xt=rt.result:wt=rt.result),Ct||(storeMappingPair(rt,yt,mt,bt,xt,wt,ft,dt,pt),bt=xt=wt=null),skipSeparationSpace(rt,!0,-1),Tt=rt.input.charCodeAt(rt.position)),(rt.line===ut||rt.lineIndent>it)&&Tt!==0)throwError(rt,"bad indentation of a mapping entry");else if(rt.lineIndent<it)break}return Ct&&storeMappingPair(rt,yt,mt,bt,xt,null,ft,dt,pt),St&&(rt.tag=gt,rt.anchor=_t,rt.kind="mapping",rt.result=yt),St}__name(readBlockMapping,"readBlockMapping");function readTagProperty(rt){var it,lt=!1,ct=!1,ht,ut,ft;if(ft=rt.input.charCodeAt(rt.position),ft!==33)return!1;if(rt.tag!==null&&throwError(rt,"duplication of a tag property"),ft=rt.input.charCodeAt(++rt.position),ft===60?(lt=!0,ft=rt.input.charCodeAt(++rt.position)):ft===33?(ct=!0,ht="!!",ft=rt.input.charCodeAt(++rt.position)):ht="!",it=rt.position,lt){do ft=rt.input.charCodeAt(++rt.position);while(ft!==0&&ft!==62);rt.position<rt.length?(ut=rt.input.slice(it,rt.position),ft=rt.input.charCodeAt(++rt.position)):throwError(rt,"unexpected end of the stream within a verbatim tag")}else{for(;ft!==0&&!is_WS_OR_EOL(ft);)ft===33&&(ct?throwError(rt,"tag suffix cannot contain exclamation marks"):(ht=rt.input.slice(it-1,rt.position+1),PATTERN_TAG_HANDLE.test(ht)||throwError(rt,"named tag handle cannot contain such characters"),ct=!0,it=rt.position+1)),ft=rt.input.charCodeAt(++rt.position);ut=rt.input.slice(it,rt.position),PATTERN_FLOW_INDICATORS.test(ut)&&throwError(rt,"tag suffix cannot contain flow indicator characters")}ut&&!PATTERN_TAG_URI.test(ut)&&throwError(rt,"tag name cannot contain such characters: "+ut);try{ut=decodeURIComponent(ut)}catch{throwError(rt,"tag name is malformed: "+ut)}return lt?rt.tag=ut:_hasOwnProperty$1.call(rt.tagMap,ht)?rt.tag=rt.tagMap[ht]+ut:ht==="!"?rt.tag="!"+ut:ht==="!!"?rt.tag="tag:yaml.org,2002:"+ut:throwError(rt,'undeclared tag handle "'+ht+'"'),!0}__name(readTagProperty,"readTagProperty");function readAnchorProperty(rt){var it,lt;if(lt=rt.input.charCodeAt(rt.position),lt!==38)return!1;for(rt.anchor!==null&&throwError(rt,"duplication of an anchor property"),lt=rt.input.charCodeAt(++rt.position),it=rt.position;lt!==0&&!is_WS_OR_EOL(lt)&&!is_FLOW_INDICATOR(lt);)lt=rt.input.charCodeAt(++rt.position);return rt.position===it&&throwError(rt,"name of an anchor node must contain at least one character"),rt.anchor=rt.input.slice(it,rt.position),!0}__name(readAnchorProperty,"readAnchorProperty");function readAlias(rt){var it,lt,ct;if(ct=rt.input.charCodeAt(rt.position),ct!==42)return!1;for(ct=rt.input.charCodeAt(++rt.position),it=rt.position;ct!==0&&!is_WS_OR_EOL(ct)&&!is_FLOW_INDICATOR(ct);)ct=rt.input.charCodeAt(++rt.position);return rt.position===it&&throwError(rt,"name of an alias node must contain at least one character"),lt=rt.input.slice(it,rt.position),_hasOwnProperty$1.call(rt.anchorMap,lt)||throwError(rt,'unidentified alias "'+lt+'"'),rt.result=rt.anchorMap[lt],skipSeparationSpace(rt,!0,-1),!0}__name(readAlias,"readAlias");function composeNode(rt,it,lt,ct,ht){var ut,ft,dt,pt=1,gt=!1,_t=!1,yt,mt,bt,xt,wt,Ct;if(rt.listener!==null&&rt.listener("open",rt),rt.tag=null,rt.anchor=null,rt.kind=null,rt.result=null,ut=ft=dt=CONTEXT_BLOCK_OUT===lt||CONTEXT_BLOCK_IN===lt,ct&&skipSeparationSpace(rt,!0,-1)&&(gt=!0,rt.lineIndent>it?pt=1:rt.lineIndent===it?pt=0:rt.lineIndent<it&&(pt=-1)),pt===1)for(;readTagProperty(rt)||readAnchorProperty(rt);)skipSeparationSpace(rt,!0,-1)?(gt=!0,dt=ut,rt.lineIndent>it?pt=1:rt.lineIndent===it?pt=0:rt.lineIndent<it&&(pt=-1)):dt=!1;if(dt&&(dt=gt||ht),(pt===1||CONTEXT_BLOCK_OUT===lt)&&(CONTEXT_FLOW_IN===lt||CONTEXT_FLOW_OUT===lt?wt=it:wt=it+1,Ct=rt.position-rt.lineStart,pt===1?dt&&(readBlockSequence(rt,Ct)||readBlockMapping(rt,Ct,wt))||readFlowCollection(rt,wt)?_t=!0:(ft&&readBlockScalar(rt,wt)||readSingleQuotedScalar(rt,wt)||readDoubleQuotedScalar(rt,wt)?_t=!0:readAlias(rt)?(_t=!0,(rt.tag!==null||rt.anchor!==null)&&throwError(rt,"alias node should not have any properties")):readPlainScalar(rt,wt,CONTEXT_FLOW_IN===lt)&&(_t=!0,rt.tag===null&&(rt.tag="?")),rt.anchor!==null&&(rt.anchorMap[rt.anchor]=rt.result)):pt===0&&(_t=dt&&readBlockSequence(rt,Ct))),rt.tag===null)rt.anchor!==null&&(rt.anchorMap[rt.anchor]=rt.result);else if(rt.tag==="?"){for(rt.result!==null&&rt.kind!=="scalar"&&throwError(rt,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+rt.kind+'"'),yt=0,mt=rt.implicitTypes.length;yt<mt;yt+=1)if(xt=rt.implicitTypes[yt],xt.resolve(rt.result)){rt.result=xt.construct(rt.result),rt.tag=xt.tag,rt.anchor!==null&&(rt.anchorMap[rt.anchor]=rt.result);break}}else if(rt.tag!=="!"){if(_hasOwnProperty$1.call(rt.typeMap[rt.kind||"fallback"],rt.tag))xt=rt.typeMap[rt.kind||"fallback"][rt.tag];else for(xt=null,bt=rt.typeMap.multi[rt.kind||"fallback"],yt=0,mt=bt.length;yt<mt;yt+=1)if(rt.tag.slice(0,bt[yt].tag.length)===bt[yt].tag){xt=bt[yt];break}xt||throwError(rt,"unknown tag !<"+rt.tag+">"),rt.result!==null&&xt.kind!==rt.kind&&throwError(rt,"unacceptable node kind for !<"+rt.tag+'> tag; it should be "'+xt.kind+'", not "'+rt.kind+'"'),xt.resolve(rt.result,rt.tag)?(rt.result=xt.construct(rt.result,rt.tag),rt.anchor!==null&&(rt.anchorMap[rt.anchor]=rt.result)):throwError(rt,"cannot resolve a node with !<"+rt.tag+"> explicit tag")}return rt.listener!==null&&rt.listener("close",rt),rt.tag!==null||rt.anchor!==null||_t}__name(composeNode,"composeNode");function readDocument(rt){var it=rt.position,lt,ct,ht,ut=!1,ft;for(rt.version=null,rt.checkLineBreaks=rt.legacy,rt.tagMap=Object.create(null),rt.anchorMap=Object.create(null);(ft=rt.input.charCodeAt(rt.position))!==0&&(skipSeparationSpace(rt,!0,-1),ft=rt.input.charCodeAt(rt.position),!(rt.lineIndent>0||ft!==37));){for(ut=!0,ft=rt.input.charCodeAt(++rt.position),lt=rt.position;ft!==0&&!is_WS_OR_EOL(ft);)ft=rt.input.charCodeAt(++rt.position);for(ct=rt.input.slice(lt,rt.position),ht=[],ct.length<1&&throwError(rt,"directive name must not be less than one character in length");ft!==0;){for(;is_WHITE_SPACE(ft);)ft=rt.input.charCodeAt(++rt.position);if(ft===35){do ft=rt.input.charCodeAt(++rt.position);while(ft!==0&&!is_EOL(ft));break}if(is_EOL(ft))break;for(lt=rt.position;ft!==0&&!is_WS_OR_EOL(ft);)ft=rt.input.charCodeAt(++rt.position);ht.push(rt.input.slice(lt,rt.position))}ft!==0&&readLineBreak(rt),_hasOwnProperty$1.call(directiveHandlers,ct)?directiveHandlers[ct](rt,ct,ht):throwWarning(rt,'unknown document directive "'+ct+'"')}if(skipSeparationSpace(rt,!0,-1),rt.lineIndent===0&&rt.input.charCodeAt(rt.position)===45&&rt.input.charCodeAt(rt.position+1)===45&&rt.input.charCodeAt(rt.position+2)===45?(rt.position+=3,skipSeparationSpace(rt,!0,-1)):ut&&throwError(rt,"directives end mark is expected"),composeNode(rt,rt.lineIndent-1,CONTEXT_BLOCK_OUT,!1,!0),skipSeparationSpace(rt,!0,-1),rt.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(rt.input.slice(it,rt.position))&&throwWarning(rt,"non-ASCII line breaks are interpreted as content"),rt.documents.push(rt.result),rt.position===rt.lineStart&&testDocumentSeparator(rt)){rt.input.charCodeAt(rt.position)===46&&(rt.position+=3,skipSeparationSpace(rt,!0,-1));return}if(rt.position<rt.length-1)throwError(rt,"end of the stream or a document separator is expected");else return}__name(readDocument,"readDocument");function loadDocuments(rt,it){rt=String(rt),it=it||{},rt.length!==0&&(rt.charCodeAt(rt.length-1)!==10&&rt.charCodeAt(rt.length-1)!==13&&(rt+=`
`),rt.charCodeAt(0)===65279&&(rt=rt.slice(1)));var lt=new State$1(rt,it),ct=rt.indexOf("\0");for(ct!==-1&&(lt.position=ct,throwError(lt,"null byte is not allowed in input")),lt.input+="\0";lt.input.charCodeAt(lt.position)===32;)lt.lineIndent+=1,lt.position+=1;for(;lt.position<lt.length-1;)readDocument(lt);return lt.documents}__name(loadDocuments,"loadDocuments");function loadAll$1(rt,it,lt){it!==null&&typeof it=="object"&&typeof lt>"u"&&(lt=it,it=null);var ct=loadDocuments(rt,lt);if(typeof it!="function")return ct;for(var ht=0,ut=ct.length;ht<ut;ht+=1)it(ct[ht])}__name(loadAll$1,"loadAll$1");function load$1(rt,it){var lt=loadDocuments(rt,it);if(lt.length!==0){if(lt.length===1)return lt[0];throw new exception("expected a single document in the stream, but found more")}}__name(load$1,"load$1");var loadAll_1=loadAll$1,load_1=load$1,loader$1={loadAll:loadAll_1,load:load_1},_toString=Object.prototype.toString,_hasOwnProperty=Object.prototype.hasOwnProperty,CHAR_BOM=65279,CHAR_TAB=9,CHAR_LINE_FEED=10,CHAR_CARRIAGE_RETURN=13,CHAR_SPACE=32,CHAR_EXCLAMATION=33,CHAR_DOUBLE_QUOTE=34,CHAR_SHARP=35,CHAR_PERCENT=37,CHAR_AMPERSAND=38,CHAR_SINGLE_QUOTE=39,CHAR_ASTERISK=42,CHAR_COMMA=44,CHAR_MINUS=45,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_GREATER_THAN=62,CHAR_QUESTION=63,CHAR_COMMERCIAL_AT=64,CHAR_LEFT_SQUARE_BRACKET=91,CHAR_RIGHT_SQUARE_BRACKET=93,CHAR_GRAVE_ACCENT=96,CHAR_LEFT_CURLY_BRACKET=123,CHAR_VERTICAL_LINE=124,CHAR_RIGHT_CURLY_BRACKET=125,ESCAPE_SEQUENCES={};ESCAPE_SEQUENCES[0]="\\0";ESCAPE_SEQUENCES[7]="\\a";ESCAPE_SEQUENCES[8]="\\b";ESCAPE_SEQUENCES[9]="\\t";ESCAPE_SEQUENCES[10]="\\n";ESCAPE_SEQUENCES[11]="\\v";ESCAPE_SEQUENCES[12]="\\f";ESCAPE_SEQUENCES[13]="\\r";ESCAPE_SEQUENCES[27]="\\e";ESCAPE_SEQUENCES[34]='\\"';ESCAPE_SEQUENCES[92]="\\\\";ESCAPE_SEQUENCES[133]="\\N";ESCAPE_SEQUENCES[160]="\\_";ESCAPE_SEQUENCES[8232]="\\L";ESCAPE_SEQUENCES[8233]="\\P";var DEPRECATED_BOOLEANS_SYNTAX=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],DEPRECATED_BASE60_SYNTAX=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function compileStyleMap(rt,it){var lt,ct,ht,ut,ft,dt,pt;if(it===null)return{};for(lt={},ct=Object.keys(it),ht=0,ut=ct.length;ht<ut;ht+=1)ft=ct[ht],dt=String(it[ft]),ft.slice(0,2)==="!!"&&(ft="tag:yaml.org,2002:"+ft.slice(2)),pt=rt.compiledTypeMap.fallback[ft],pt&&_hasOwnProperty.call(pt.styleAliases,dt)&&(dt=pt.styleAliases[dt]),lt[ft]=dt;return lt}__name(compileStyleMap,"compileStyleMap");function encodeHex(rt){var it,lt,ct;if(it=rt.toString(16).toUpperCase(),rt<=255)lt="x",ct=2;else if(rt<=65535)lt="u",ct=4;else if(rt<=4294967295)lt="U",ct=8;else throw new exception("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+lt+common$1.repeat("0",ct-it.length)+it}__name(encodeHex,"encodeHex");var QUOTING_TYPE_SINGLE=1,QUOTING_TYPE_DOUBLE=2;function State(rt){this.schema=rt.schema||_default,this.indent=Math.max(1,rt.indent||2),this.noArrayIndent=rt.noArrayIndent||!1,this.skipInvalid=rt.skipInvalid||!1,this.flowLevel=common$1.isNothing(rt.flowLevel)?-1:rt.flowLevel,this.styleMap=compileStyleMap(this.schema,rt.styles||null),this.sortKeys=rt.sortKeys||!1,this.lineWidth=rt.lineWidth||80,this.noRefs=rt.noRefs||!1,this.noCompatMode=rt.noCompatMode||!1,this.condenseFlow=rt.condenseFlow||!1,this.quotingType=rt.quotingType==='"'?QUOTING_TYPE_DOUBLE:QUOTING_TYPE_SINGLE,this.forceQuotes=rt.forceQuotes||!1,this.replacer=typeof rt.replacer=="function"?rt.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}__name(State,"State");function indentString(rt,it){for(var lt=common$1.repeat(" ",it),ct=0,ht=-1,ut="",ft,dt=rt.length;ct<dt;)ht=rt.indexOf(`
`,ct),ht===-1?(ft=rt.slice(ct),ct=dt):(ft=rt.slice(ct,ht+1),ct=ht+1),ft.length&&ft!==`
`&&(ut+=lt),ut+=ft;return ut}__name(indentString,"indentString");function generateNextLine(rt,it){return`
`+common$1.repeat(" ",rt.indent*it)}__name(generateNextLine,"generateNextLine");function testImplicitResolving(rt,it){var lt,ct,ht;for(lt=0,ct=rt.implicitTypes.length;lt<ct;lt+=1)if(ht=rt.implicitTypes[lt],ht.resolve(it))return!0;return!1}__name(testImplicitResolving,"testImplicitResolving");function isWhitespace(rt){return rt===CHAR_SPACE||rt===CHAR_TAB}__name(isWhitespace,"isWhitespace");function isPrintable(rt){return 32<=rt&&rt<=126||161<=rt&&rt<=55295&&rt!==8232&&rt!==8233||57344<=rt&&rt<=65533&&rt!==CHAR_BOM||65536<=rt&&rt<=1114111}__name(isPrintable,"isPrintable");function isNsCharOrWhitespace(rt){return isPrintable(rt)&&rt!==CHAR_BOM&&rt!==CHAR_CARRIAGE_RETURN&&rt!==CHAR_LINE_FEED}__name(isNsCharOrWhitespace,"isNsCharOrWhitespace");function isPlainSafe(rt,it,lt){var ct=isNsCharOrWhitespace(rt),ht=ct&&!isWhitespace(rt);return(lt?ct:ct&&rt!==CHAR_COMMA&&rt!==CHAR_LEFT_SQUARE_BRACKET&&rt!==CHAR_RIGHT_SQUARE_BRACKET&&rt!==CHAR_LEFT_CURLY_BRACKET&&rt!==CHAR_RIGHT_CURLY_BRACKET)&&rt!==CHAR_SHARP&&!(it===CHAR_COLON&&!ht)||isNsCharOrWhitespace(it)&&!isWhitespace(it)&&rt===CHAR_SHARP||it===CHAR_COLON&&ht}__name(isPlainSafe,"isPlainSafe");function isPlainSafeFirst(rt){return isPrintable(rt)&&rt!==CHAR_BOM&&!isWhitespace(rt)&&rt!==CHAR_MINUS&&rt!==CHAR_QUESTION&&rt!==CHAR_COLON&&rt!==CHAR_COMMA&&rt!==CHAR_LEFT_SQUARE_BRACKET&&rt!==CHAR_RIGHT_SQUARE_BRACKET&&rt!==CHAR_LEFT_CURLY_BRACKET&&rt!==CHAR_RIGHT_CURLY_BRACKET&&rt!==CHAR_SHARP&&rt!==CHAR_AMPERSAND&&rt!==CHAR_ASTERISK&&rt!==CHAR_EXCLAMATION&&rt!==CHAR_VERTICAL_LINE&&rt!==CHAR_EQUALS&&rt!==CHAR_GREATER_THAN&&rt!==CHAR_SINGLE_QUOTE&&rt!==CHAR_DOUBLE_QUOTE&&rt!==CHAR_PERCENT&&rt!==CHAR_COMMERCIAL_AT&&rt!==CHAR_GRAVE_ACCENT}__name(isPlainSafeFirst,"isPlainSafeFirst");function isPlainSafeLast(rt){return!isWhitespace(rt)&&rt!==CHAR_COLON}__name(isPlainSafeLast,"isPlainSafeLast");function codePointAt(rt,it){var lt=rt.charCodeAt(it),ct;return lt>=55296&&lt<=56319&&it+1<rt.length&&(ct=rt.charCodeAt(it+1),ct>=56320&&ct<=57343)?(lt-55296)*1024+ct-56320+65536:lt}__name(codePointAt,"codePointAt");function needIndentIndicator(rt){var it=/^\n* /;return it.test(rt)}__name(needIndentIndicator,"needIndentIndicator");var STYLE_PLAIN=1,STYLE_SINGLE=2,STYLE_LITERAL=3,STYLE_FOLDED=4,STYLE_DOUBLE=5;function chooseScalarStyle(rt,it,lt,ct,ht,ut,ft,dt){var pt,gt=0,_t=null,yt=!1,mt=!1,bt=ct!==-1,xt=-1,wt=isPlainSafeFirst(codePointAt(rt,0))&&isPlainSafeLast(codePointAt(rt,rt.length-1));if(it||ft)for(pt=0;pt<rt.length;gt>=65536?pt+=2:pt++){if(gt=codePointAt(rt,pt),!isPrintable(gt))return STYLE_DOUBLE;wt=wt&&isPlainSafe(gt,_t,dt),_t=gt}else{for(pt=0;pt<rt.length;gt>=65536?pt+=2:pt++){if(gt=codePointAt(rt,pt),gt===CHAR_LINE_FEED)yt=!0,bt&&(mt=mt||pt-xt-1>ct&&rt[xt+1]!==" ",xt=pt);else if(!isPrintable(gt))return STYLE_DOUBLE;wt=wt&&isPlainSafe(gt,_t,dt),_t=gt}mt=mt||bt&&pt-xt-1>ct&&rt[xt+1]!==" "}return!yt&&!mt?wt&&!ft&&!ht(rt)?STYLE_PLAIN:ut===QUOTING_TYPE_DOUBLE?STYLE_DOUBLE:STYLE_SINGLE:lt>9&&needIndentIndicator(rt)?STYLE_DOUBLE:ft?ut===QUOTING_TYPE_DOUBLE?STYLE_DOUBLE:STYLE_SINGLE:mt?STYLE_FOLDED:STYLE_LITERAL}__name(chooseScalarStyle,"chooseScalarStyle");function writeScalar(rt,it,lt,ct,ht){rt.dump=function(){if(it.length===0)return rt.quotingType===QUOTING_TYPE_DOUBLE?'""':"''";if(!rt.noCompatMode&&(DEPRECATED_BOOLEANS_SYNTAX.indexOf(it)!==-1||DEPRECATED_BASE60_SYNTAX.test(it)))return rt.quotingType===QUOTING_TYPE_DOUBLE?'"'+it+'"':"'"+it+"'";var ut=rt.indent*Math.max(1,lt),ft=rt.lineWidth===-1?-1:Math.max(Math.min(rt.lineWidth,40),rt.lineWidth-ut),dt=ct||rt.flowLevel>-1&&lt>=rt.flowLevel;function pt(gt){return testImplicitResolving(rt,gt)}switch(__name(pt,"testAmbiguity"),chooseScalarStyle(it,dt,rt.indent,ft,pt,rt.quotingType,rt.forceQuotes&&!ct,ht)){case STYLE_PLAIN:return it;case STYLE_SINGLE:return"'"+it.replace(/'/g,"''")+"'";case STYLE_LITERAL:return"|"+blockHeader(it,rt.indent)+dropEndingNewline(indentString(it,ut));case STYLE_FOLDED:return">"+blockHeader(it,rt.indent)+dropEndingNewline(indentString(foldString(it,ft),ut));case STYLE_DOUBLE:return'"'+escapeString(it)+'"';default:throw new exception("impossible error: invalid scalar style")}}()}__name(writeScalar,"writeScalar");function blockHeader(rt,it){var lt=needIndentIndicator(rt)?String(it):"",ct=rt[rt.length-1]===`
`,ht=ct&&(rt[rt.length-2]===`
`||rt===`
`),ut=ht?"+":ct?"":"-";return lt+ut+`
`}__name(blockHeader,"blockHeader");function dropEndingNewline(rt){return rt[rt.length-1]===`
`?rt.slice(0,-1):rt}__name(dropEndingNewline,"dropEndingNewline");function foldString(rt,it){for(var lt=/(\n+)([^\n]*)/g,ct=function(){var gt=rt.indexOf(`
`);return gt=gt!==-1?gt:rt.length,lt.lastIndex=gt,foldLine(rt.slice(0,gt),it)}(),ht=rt[0]===`
`||rt[0]===" ",ut,ft;ft=lt.exec(rt);){var dt=ft[1],pt=ft[2];ut=pt[0]===" ",ct+=dt+(!ht&&!ut&&pt!==""?`
`:"")+foldLine(pt,it),ht=ut}return ct}__name(foldString,"foldString");function foldLine(rt,it){if(rt===""||rt[0]===" ")return rt;for(var lt=/ [^ ]/g,ct,ht=0,ut,ft=0,dt=0,pt="";ct=lt.exec(rt);)dt=ct.index,dt-ht>it&&(ut=ft>ht?ft:dt,pt+=`
`+rt.slice(ht,ut),ht=ut+1),ft=dt;return pt+=`
`,rt.length-ht>it&&ft>ht?pt+=rt.slice(ht,ft)+`
`+rt.slice(ft+1):pt+=rt.slice(ht),pt.slice(1)}__name(foldLine,"foldLine");function escapeString(rt){for(var it="",lt=0,ct,ht=0;ht<rt.length;lt>=65536?ht+=2:ht++)lt=codePointAt(rt,ht),ct=ESCAPE_SEQUENCES[lt],!ct&&isPrintable(lt)?(it+=rt[ht],lt>=65536&&(it+=rt[ht+1])):it+=ct||encodeHex(lt);return it}__name(escapeString,"escapeString");function writeFlowSequence(rt,it,lt){var ct="",ht=rt.tag,ut,ft,dt;for(ut=0,ft=lt.length;ut<ft;ut+=1)dt=lt[ut],rt.replacer&&(dt=rt.replacer.call(lt,String(ut),dt)),(writeNode(rt,it,dt,!1,!1)||typeof dt>"u"&&writeNode(rt,it,null,!1,!1))&&(ct!==""&&(ct+=","+(rt.condenseFlow?"":" ")),ct+=rt.dump);rt.tag=ht,rt.dump="["+ct+"]"}__name(writeFlowSequence,"writeFlowSequence");function writeBlockSequence(rt,it,lt,ct){var ht="",ut=rt.tag,ft,dt,pt;for(ft=0,dt=lt.length;ft<dt;ft+=1)pt=lt[ft],rt.replacer&&(pt=rt.replacer.call(lt,String(ft),pt)),(writeNode(rt,it+1,pt,!0,!0,!1,!0)||typeof pt>"u"&&writeNode(rt,it+1,null,!0,!0,!1,!0))&&((!ct||ht!=="")&&(ht+=generateNextLine(rt,it)),rt.dump&&CHAR_LINE_FEED===rt.dump.charCodeAt(0)?ht+="-":ht+="- ",ht+=rt.dump);rt.tag=ut,rt.dump=ht||"[]"}__name(writeBlockSequence,"writeBlockSequence");function writeFlowMapping(rt,it,lt){var ct="",ht=rt.tag,ut=Object.keys(lt),ft,dt,pt,gt,_t;for(ft=0,dt=ut.length;ft<dt;ft+=1)_t="",ct!==""&&(_t+=", "),rt.condenseFlow&&(_t+='"'),pt=ut[ft],gt=lt[pt],rt.replacer&&(gt=rt.replacer.call(lt,pt,gt)),writeNode(rt,it,pt,!1,!1)&&(rt.dump.length>1024&&(_t+="? "),_t+=rt.dump+(rt.condenseFlow?'"':"")+":"+(rt.condenseFlow?"":" "),writeNode(rt,it,gt,!1,!1)&&(_t+=rt.dump,ct+=_t));rt.tag=ht,rt.dump="{"+ct+"}"}__name(writeFlowMapping,"writeFlowMapping");function writeBlockMapping(rt,it,lt,ct){var ht="",ut=rt.tag,ft=Object.keys(lt),dt,pt,gt,_t,yt,mt;if(rt.sortKeys===!0)ft.sort();else if(typeof rt.sortKeys=="function")ft.sort(rt.sortKeys);else if(rt.sortKeys)throw new exception("sortKeys must be a boolean or a function");for(dt=0,pt=ft.length;dt<pt;dt+=1)mt="",(!ct||ht!=="")&&(mt+=generateNextLine(rt,it)),gt=ft[dt],_t=lt[gt],rt.replacer&&(_t=rt.replacer.call(lt,gt,_t)),writeNode(rt,it+1,gt,!0,!0,!0)&&(yt=rt.tag!==null&&rt.tag!=="?"||rt.dump&&rt.dump.length>1024,yt&&(rt.dump&&CHAR_LINE_FEED===rt.dump.charCodeAt(0)?mt+="?":mt+="? "),mt+=rt.dump,yt&&(mt+=generateNextLine(rt,it)),writeNode(rt,it+1,_t,!0,yt)&&(rt.dump&&CHAR_LINE_FEED===rt.dump.charCodeAt(0)?mt+=":":mt+=": ",mt+=rt.dump,ht+=mt));rt.tag=ut,rt.dump=ht||"{}"}__name(writeBlockMapping,"writeBlockMapping");function detectType$1(rt,it,lt){var ct,ht,ut,ft,dt,pt;for(ht=lt?rt.explicitTypes:rt.implicitTypes,ut=0,ft=ht.length;ut<ft;ut+=1)if(dt=ht[ut],(dt.instanceOf||dt.predicate)&&(!dt.instanceOf||typeof it=="object"&&it instanceof dt.instanceOf)&&(!dt.predicate||dt.predicate(it))){if(lt?dt.multi&&dt.representName?rt.tag=dt.representName(it):rt.tag=dt.tag:rt.tag="?",dt.represent){if(pt=rt.styleMap[dt.tag]||dt.defaultStyle,_toString.call(dt.represent)==="[object Function]")ct=dt.represent(it,pt);else if(_hasOwnProperty.call(dt.represent,pt))ct=dt.represent[pt](it,pt);else throw new exception("!<"+dt.tag+'> tag resolver accepts not "'+pt+'" style');rt.dump=ct}return!0}return!1}__name(detectType$1,"detectType");function writeNode(rt,it,lt,ct,ht,ut,ft){rt.tag=null,rt.dump=lt,detectType$1(rt,lt,!1)||detectType$1(rt,lt,!0);var dt=_toString.call(rt.dump),pt=ct,gt;ct&&(ct=rt.flowLevel<0||rt.flowLevel>it);var _t=dt==="[object Object]"||dt==="[object Array]",yt,mt;if(_t&&(yt=rt.duplicates.indexOf(lt),mt=yt!==-1),(rt.tag!==null&&rt.tag!=="?"||mt||rt.indent!==2&&it>0)&&(ht=!1),mt&&rt.usedDuplicates[yt])rt.dump="*ref_"+yt;else{if(_t&&mt&&!rt.usedDuplicates[yt]&&(rt.usedDuplicates[yt]=!0),dt==="[object Object]")ct&&Object.keys(rt.dump).length!==0?(writeBlockMapping(rt,it,rt.dump,ht),mt&&(rt.dump="&ref_"+yt+rt.dump)):(writeFlowMapping(rt,it,rt.dump),mt&&(rt.dump="&ref_"+yt+" "+rt.dump));else if(dt==="[object Array]")ct&&rt.dump.length!==0?(rt.noArrayIndent&&!ft&&it>0?writeBlockSequence(rt,it-1,rt.dump,ht):writeBlockSequence(rt,it,rt.dump,ht),mt&&(rt.dump="&ref_"+yt+rt.dump)):(writeFlowSequence(rt,it,rt.dump),mt&&(rt.dump="&ref_"+yt+" "+rt.dump));else if(dt==="[object String]")rt.tag!=="?"&&writeScalar(rt,rt.dump,it,ut,pt);else{if(dt==="[object Undefined]")return!1;if(rt.skipInvalid)return!1;throw new exception("unacceptable kind of an object to dump "+dt)}rt.tag!==null&&rt.tag!=="?"&&(gt=encodeURI(rt.tag[0]==="!"?rt.tag.slice(1):rt.tag).replace(/!/g,"%21"),rt.tag[0]==="!"?gt="!"+gt:gt.slice(0,18)==="tag:yaml.org,2002:"?gt="!!"+gt.slice(18):gt="!<"+gt+">",rt.dump=gt+" "+rt.dump)}return!0}__name(writeNode,"writeNode");function getDuplicateReferences(rt,it){var lt=[],ct=[],ht,ut;for(inspectNode(rt,lt,ct),ht=0,ut=ct.length;ht<ut;ht+=1)it.duplicates.push(lt[ct[ht]]);it.usedDuplicates=new Array(ut)}__name(getDuplicateReferences,"getDuplicateReferences");function inspectNode(rt,it,lt){var ct,ht,ut;if(rt!==null&&typeof rt=="object")if(ht=it.indexOf(rt),ht!==-1)lt.indexOf(ht)===-1&&lt.push(ht);else if(it.push(rt),Array.isArray(rt))for(ht=0,ut=rt.length;ht<ut;ht+=1)inspectNode(rt[ht],it,lt);else for(ct=Object.keys(rt),ht=0,ut=ct.length;ht<ut;ht+=1)inspectNode(rt[ct[ht]],it,lt)}__name(inspectNode,"inspectNode");function dump$1(rt,it){it=it||{};var lt=new State(it);lt.noRefs||getDuplicateReferences(rt,lt);var ct=rt;return lt.replacer&&(ct=lt.replacer.call({"":ct},"",ct)),writeNode(lt,0,ct,!0,!0)?lt.dump+`
`:""}__name(dump$1,"dump$1");function renamed(rt,it){return function(){throw new Error("Function yaml."+rt+" is removed in js-yaml 4. Use yaml."+it+" instead, which is now safe by default.")}}__name(renamed,"renamed");var JSON_SCHEMA=json,load=loader$1.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/const defaultIconDimensions=Object.freeze({left:0,top:0,width:16,height:16}),defaultIconTransformations=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),defaultIconProps=Object.freeze({...defaultIconDimensions,...defaultIconTransformations}),defaultExtendedIconProps=Object.freeze({...defaultIconProps,body:"",hidden:!1}),defaultIconSizeCustomisations=Object.freeze({width:null,height:null}),defaultIconCustomisations=Object.freeze({...defaultIconSizeCustomisations,...defaultIconTransformations}),matchIconName=/^[a-z0-9]+(-[a-z0-9]+)*$/,stringToIcon=(rt,it,lt,ct="")=>{const ht=rt.split(":");if(rt.slice(0,1)==="@"){if(ht.length<2||ht.length>3)return null;ct=ht.shift().slice(1)}if(ht.length>3||!ht.length)return null;if(ht.length>1){const dt=ht.pop(),pt=ht.pop(),gt={provider:ht.length>0?ht[0]:ct,prefix:pt,name:dt};return validateIconName(gt)?gt:null}const ut=ht[0],ft=ut.split("-");if(ft.length>1){const dt={provider:ct,prefix:ft.shift(),name:ft.join("-")};return validateIconName(dt)?dt:null}if(lt&&ct===""){const dt={provider:ct,prefix:"",name:ut};return validateIconName(dt,lt)?dt:null}return null},validateIconName=(rt,it)=>rt?!!((rt.provider===""||rt.provider.match(matchIconName))&&(it&&rt.prefix===""||rt.prefix.match(matchIconName))&&rt.name.match(matchIconName)):!1;function mergeIconTransformations(rt,it){const lt={};!rt.hFlip!=!it.hFlip&&(lt.hFlip=!0),!rt.vFlip!=!it.vFlip&&(lt.vFlip=!0);const ct=((rt.rotate||0)+(it.rotate||0))%4;return ct&&(lt.rotate=ct),lt}function mergeIconData(rt,it){const lt=mergeIconTransformations(rt,it);for(const ct in defaultExtendedIconProps)ct in defaultIconTransformations?ct in rt&&!(ct in lt)&&(lt[ct]=defaultIconTransformations[ct]):ct in it?lt[ct]=it[ct]:ct in rt&&(lt[ct]=rt[ct]);return lt}function getIconsTree(rt,it){const lt=rt.icons,ct=rt.aliases||Object.create(null),ht=Object.create(null);function ut(ft){if(lt[ft])return ht[ft]=[];if(!(ft in ht)){ht[ft]=null;const dt=ct[ft]&&ct[ft].parent,pt=dt&&ut(dt);pt&&(ht[ft]=[dt].concat(pt))}return ht[ft]}return(it||Object.keys(lt).concat(Object.keys(ct))).forEach(ut),ht}function internalGetIconData(rt,it,lt){const ct=rt.icons,ht=rt.aliases||Object.create(null);let ut={};function ft(dt){ut=mergeIconData(ct[dt]||ht[dt],ut)}return ft(it),lt.forEach(ft),mergeIconData(rt,ut)}function getIconData(rt,it){if(rt.icons[it])return internalGetIconData(rt,it,[]);const lt=getIconsTree(rt,[it])[it];return lt?internalGetIconData(rt,it,lt):null}const unitsSplit=/(-?[0-9.]*[0-9]+[0-9.]*)/g,unitsTest=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function calculateSize(rt,it,lt){if(it===1)return rt;if(lt=lt||100,typeof rt=="number")return Math.ceil(rt*it*lt)/lt;if(typeof rt!="string")return rt;const ct=rt.split(unitsSplit);if(ct===null||!ct.length)return rt;const ht=[];let ut=ct.shift(),ft=unitsTest.test(ut);for(;;){if(ft){const dt=parseFloat(ut);isNaN(dt)?ht.push(ut):ht.push(Math.ceil(dt*it*lt)/lt)}else ht.push(ut);if(ut=ct.shift(),ut===void 0)return ht.join("");ft=!ft}}function splitSVGDefs(rt,it="defs"){let lt="";const ct=rt.indexOf("<"+it);for(;ct>=0;){const ht=rt.indexOf(">",ct),ut=rt.indexOf("</"+it);if(ht===-1||ut===-1)break;const ft=rt.indexOf(">",ut);if(ft===-1)break;lt+=rt.slice(ht+1,ut).trim(),rt=rt.slice(0,ct).trim()+rt.slice(ft+1)}return{defs:lt,content:rt}}function mergeDefsAndContent(rt,it){return rt?"<defs>"+rt+"</defs>"+it:it}function wrapSVGContent(rt,it,lt){const ct=splitSVGDefs(rt);return mergeDefsAndContent(ct.defs,it+ct.content+lt)}const isUnsetKeyword=rt=>rt==="unset"||rt==="undefined"||rt==="none";function iconToSVG(rt,it){const lt={...defaultIconProps,...rt},ct={...defaultIconCustomisations,...it},ht={left:lt.left,top:lt.top,width:lt.width,height:lt.height};let ut=lt.body;[lt,ct].forEach(wt=>{const Ct=[],St=wt.hFlip,Tt=wt.vFlip;let vt=wt.rotate;St?Tt?vt+=2:(Ct.push("translate("+(ht.width+ht.left).toString()+" "+(0-ht.top).toString()+")"),Ct.push("scale(-1 1)"),ht.top=ht.left=0):Tt&&(Ct.push("translate("+(0-ht.left).toString()+" "+(ht.height+ht.top).toString()+")"),Ct.push("scale(1 -1)"),ht.top=ht.left=0);let kt;switch(vt<0&&(vt-=Math.floor(vt/4)*4),vt=vt%4,vt){case 1:kt=ht.height/2+ht.top,Ct.unshift("rotate(90 "+kt.toString()+" "+kt.toString()+")");break;case 2:Ct.unshift("rotate(180 "+(ht.width/2+ht.left).toString()+" "+(ht.height/2+ht.top).toString()+")");break;case 3:kt=ht.width/2+ht.left,Ct.unshift("rotate(-90 "+kt.toString()+" "+kt.toString()+")");break}vt%2===1&&(ht.left!==ht.top&&(kt=ht.left,ht.left=ht.top,ht.top=kt),ht.width!==ht.height&&(kt=ht.width,ht.width=ht.height,ht.height=kt)),Ct.length&&(ut=wrapSVGContent(ut,'<g transform="'+Ct.join(" ")+'">',"</g>"))});const ft=ct.width,dt=ct.height,pt=ht.width,gt=ht.height;let _t,yt;ft===null?(yt=dt===null?"1em":dt==="auto"?gt:dt,_t=calculateSize(yt,pt/gt)):(_t=ft==="auto"?pt:ft,yt=dt===null?calculateSize(_t,gt/pt):dt==="auto"?gt:dt);const mt={},bt=(wt,Ct)=>{isUnsetKeyword(Ct)||(mt[wt]=Ct.toString())};bt("width",_t),bt("height",yt);const xt=[ht.left,ht.top,pt,gt];return mt.viewBox=xt.join(" "),{attributes:mt,viewBox:xt,body:ut}}const regex=/\sid="(\S+)"/g,randomPrefix="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let counter=0;function replaceIDs(rt,it=randomPrefix){const lt=[];let ct;for(;ct=regex.exec(rt);)lt.push(ct[1]);if(!lt.length)return rt;const ht="suffix"+(Math.random()*16777216|Date.now()).toString(16);return lt.forEach(ut=>{const ft=typeof it=="function"?it(ut):it+(counter++).toString(),dt=ut.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");rt=rt.replace(new RegExp('([#;"])('+dt+')([")]|\\.[a-z])',"g"),"$1"+ft+ht+"$3")}),rt=rt.replace(new RegExp(ht,"g"),""),rt}function iconToHTML(rt,it){let lt=rt.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const ct in it)lt+=" "+ct+'="'+it[ct]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+lt+">"+rt+"</svg>"}var unknownIcon={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},iconsStore=new Map,loaderStore=new Map,registerIconPacks=__name(rt=>{for(const it of rt){if(!it.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(log.debug("Registering icon pack:",it.name),"loader"in it)loaderStore.set(it.name,it.loader);else if("icons"in it)iconsStore.set(it.name,it.icons);else throw log.error("Invalid icon loader:",it),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),getRegisteredIconData=__name(async(rt,it)=>{const lt=stringToIcon(rt,!0,it!==void 0);if(!lt)throw new Error(`Invalid icon name: ${rt}`);const ct=lt.prefix||it;if(!ct)throw new Error(`Icon name must contain a prefix: ${rt}`);let ht=iconsStore.get(ct);if(!ht){const ft=loaderStore.get(ct);if(!ft)throw new Error(`Icon set not found: ${lt.prefix}`);try{ht={...await ft(),prefix:ct},iconsStore.set(ct,ht)}catch(dt){throw log.error(dt),new Error(`Failed to load icon set: ${lt.prefix}`)}}const ut=getIconData(ht,lt.name);if(!ut)throw new Error(`Icon not found: ${rt}`);return ut},"getRegisteredIconData"),getIconSVG=__name(async(rt,it)=>{let lt;try{lt=await getRegisteredIconData(rt,it==null?void 0:it.fallbackPrefix)}catch(ut){log.error(ut),lt=unknownIcon}const ct=iconToSVG(lt,it);return iconToHTML(replaceIDs(ct.body),ct.attributes)},"getIconSVG"),getSubGraphTitleMargins=__name(({flowchart:rt})=>{var ht,ut;const it=((ht=rt==null?void 0:rt.subGraphTitleMargin)==null?void 0:ht.top)??0,lt=((ut=rt==null?void 0:rt.subGraphTitleMargin)==null?void 0:ut.bottom)??0,ct=it+lt;return{subGraphTitleTopMargin:it,subGraphTitleBottomMargin:lt,subGraphTitleTotalMargin:ct}},"getSubGraphTitleMargins"),dist$1={},constants$3={};Object.defineProperty(constants$3,"__esModule",{value:!0});constants$3.BLANK_URL=constants$3.relativeFirstCharacters=constants$3.whitespaceEscapeCharsRegex=constants$3.urlSchemeRegex=constants$3.ctrlCharactersRegex=constants$3.htmlCtrlEntityRegex=constants$3.htmlEntitiesRegex=constants$3.invalidProtocolRegex=void 0;constants$3.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im;constants$3.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g;constants$3.htmlCtrlEntityRegex=/&(newline|tab);/gi;constants$3.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim;constants$3.urlSchemeRegex=/^.+(:|&colon;)/gim;constants$3.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g;constants$3.relativeFirstCharacters=[".","/"];constants$3.BLANK_URL="about:blank";Object.defineProperty(dist$1,"__esModule",{value:!0});var sanitizeUrl_1=dist$1.sanitizeUrl=void 0,constants_1=constants$3;function isRelativeUrlWithoutProtocol(rt){return constants_1.relativeFirstCharacters.indexOf(rt[0])>-1}function decodeHtmlCharacters(rt){var it=rt.replace(constants_1.ctrlCharactersRegex,"");return it.replace(constants_1.htmlEntitiesRegex,function(lt,ct){return String.fromCharCode(ct)})}function isValidUrl(rt){return URL.canParse(rt)}function decodeURI(rt){try{return decodeURIComponent(rt)}catch{return rt}}function sanitizeUrl(rt){if(!rt)return constants_1.BLANK_URL;var it,lt=decodeURI(rt.trim());do lt=decodeHtmlCharacters(lt).replace(constants_1.htmlCtrlEntityRegex,"").replace(constants_1.ctrlCharactersRegex,"").replace(constants_1.whitespaceEscapeCharsRegex,"").trim(),lt=decodeURI(lt),it=lt.match(constants_1.ctrlCharactersRegex)||lt.match(constants_1.htmlEntitiesRegex)||lt.match(constants_1.htmlCtrlEntityRegex)||lt.match(constants_1.whitespaceEscapeCharsRegex);while(it&&it.length>0);var ct=lt;if(!ct)return constants_1.BLANK_URL;if(isRelativeUrlWithoutProtocol(ct))return ct;var ht=ct.trimStart(),ut=ht.match(constants_1.urlSchemeRegex);if(!ut)return ct;var ft=ut[0].toLowerCase().trim();if(constants_1.invalidProtocolRegex.test(ft))return constants_1.BLANK_URL;var dt=ht.replace(/\\/g,"/");if(ft==="mailto:"||ft.includes("://"))return dt;if(ft==="http:"||ft==="https:"){if(!isValidUrl(dt))return constants_1.BLANK_URL;var pt=new URL(dt);return pt.protocol=pt.protocol.toLowerCase(),pt.hostname=pt.hostname.toLowerCase(),pt.toString()}return dt}sanitizeUrl_1=dist$1.sanitizeUrl=sanitizeUrl;var noop$1={value:()=>{}};function dispatch(){for(var rt=0,it=arguments.length,lt={},ct;rt<it;++rt){if(!(ct=arguments[rt]+"")||ct in lt||/[\s.]/.test(ct))throw new Error("illegal type: "+ct);lt[ct]=[]}return new Dispatch(lt)}function Dispatch(rt){this._=rt}function parseTypenames$1(rt,it){return rt.trim().split(/^|\s+/).map(function(lt){var ct="",ht=lt.indexOf(".");if(ht>=0&&(ct=lt.slice(ht+1),lt=lt.slice(0,ht)),lt&&!it.hasOwnProperty(lt))throw new Error("unknown type: "+lt);return{type:lt,name:ct}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(rt,it){var lt=this._,ct=parseTypenames$1(rt+"",lt),ht,ut=-1,ft=ct.length;if(arguments.length<2){for(;++ut<ft;)if((ht=(rt=ct[ut]).type)&&(ht=get$1(lt[ht],rt.name)))return ht;return}if(it!=null&&typeof it!="function")throw new Error("invalid callback: "+it);for(;++ut<ft;)if(ht=(rt=ct[ut]).type)lt[ht]=set$1(lt[ht],rt.name,it);else if(it==null)for(ht in lt)lt[ht]=set$1(lt[ht],rt.name,null);return this},copy:function(){var rt={},it=this._;for(var lt in it)rt[lt]=it[lt].slice();return new Dispatch(rt)},call:function(rt,it){if((ht=arguments.length-2)>0)for(var lt=new Array(ht),ct=0,ht,ut;ct<ht;++ct)lt[ct]=arguments[ct+2];if(!this._.hasOwnProperty(rt))throw new Error("unknown type: "+rt);for(ut=this._[rt],ct=0,ht=ut.length;ct<ht;++ct)ut[ct].value.apply(it,lt)},apply:function(rt,it,lt){if(!this._.hasOwnProperty(rt))throw new Error("unknown type: "+rt);for(var ct=this._[rt],ht=0,ut=ct.length;ht<ut;++ht)ct[ht].value.apply(it,lt)}};function get$1(rt,it){for(var lt=0,ct=rt.length,ht;lt<ct;++lt)if((ht=rt[lt]).name===it)return ht.value}function set$1(rt,it,lt){for(var ct=0,ht=rt.length;ct<ht;++ct)if(rt[ct].name===it){rt[ct]=noop$1,rt=rt.slice(0,ct).concat(rt.slice(ct+1));break}return lt!=null&&rt.push({name:it,value:lt}),rt}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(rt){var it=rt+="",lt=it.indexOf(":");return lt>=0&&(it=rt.slice(0,lt))!=="xmlns"&&(rt=rt.slice(lt+1)),namespaces.hasOwnProperty(it)?{space:namespaces[it],local:rt}:rt}function creatorInherit(rt){return function(){var it=this.ownerDocument,lt=this.namespaceURI;return lt===xhtml&&it.documentElement.namespaceURI===xhtml?it.createElement(rt):it.createElementNS(lt,rt)}}function creatorFixed(rt){return function(){return this.ownerDocument.createElementNS(rt.space,rt.local)}}function creator(rt){var it=namespace(rt);return(it.local?creatorFixed:creatorInherit)(it)}function none(){}function selector(rt){return rt==null?none:function(){return this.querySelector(rt)}}function selection_select(rt){typeof rt!="function"&&(rt=selector(rt));for(var it=this._groups,lt=it.length,ct=new Array(lt),ht=0;ht<lt;++ht)for(var ut=it[ht],ft=ut.length,dt=ct[ht]=new Array(ft),pt,gt,_t=0;_t<ft;++_t)(pt=ut[_t])&&(gt=rt.call(pt,pt.__data__,_t,ut))&&("__data__"in pt&&(gt.__data__=pt.__data__),dt[_t]=gt);return new Selection$1(ct,this._parents)}function array$1(rt){return rt==null?[]:Array.isArray(rt)?rt:Array.from(rt)}function empty(){return[]}function selectorAll(rt){return rt==null?empty:function(){return this.querySelectorAll(rt)}}function arrayAll(rt){return function(){return array$1(rt.apply(this,arguments))}}function selection_selectAll(rt){typeof rt=="function"?rt=arrayAll(rt):rt=selectorAll(rt);for(var it=this._groups,lt=it.length,ct=[],ht=[],ut=0;ut<lt;++ut)for(var ft=it[ut],dt=ft.length,pt,gt=0;gt<dt;++gt)(pt=ft[gt])&&(ct.push(rt.call(pt,pt.__data__,gt,ft)),ht.push(pt));return new Selection$1(ct,ht)}function matcher(rt){return function(){return this.matches(rt)}}function childMatcher(rt){return function(it){return it.matches(rt)}}var find=Array.prototype.find;function childFind(rt){return function(){return find.call(this.children,rt)}}function childFirst(){return this.firstElementChild}function selection_selectChild(rt){return this.select(rt==null?childFirst:childFind(typeof rt=="function"?rt:childMatcher(rt)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(rt){return function(){return filter.call(this.children,rt)}}function selection_selectChildren(rt){return this.selectAll(rt==null?children:childrenFilter(typeof rt=="function"?rt:childMatcher(rt)))}function selection_filter(rt){typeof rt!="function"&&(rt=matcher(rt));for(var it=this._groups,lt=it.length,ct=new Array(lt),ht=0;ht<lt;++ht)for(var ut=it[ht],ft=ut.length,dt=ct[ht]=[],pt,gt=0;gt<ft;++gt)(pt=ut[gt])&&rt.call(pt,pt.__data__,gt,ut)&&dt.push(pt);return new Selection$1(ct,this._parents)}function sparse(rt){return new Array(rt.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(rt,it){this.ownerDocument=rt.ownerDocument,this.namespaceURI=rt.namespaceURI,this._next=null,this._parent=rt,this.__data__=it}EnterNode.prototype={constructor:EnterNode,appendChild:function(rt){return this._parent.insertBefore(rt,this._next)},insertBefore:function(rt,it){return this._parent.insertBefore(rt,it)},querySelector:function(rt){return this._parent.querySelector(rt)},querySelectorAll:function(rt){return this._parent.querySelectorAll(rt)}};function constant$2(rt){return function(){return rt}}function bindIndex(rt,it,lt,ct,ht,ut){for(var ft=0,dt,pt=it.length,gt=ut.length;ft<gt;++ft)(dt=it[ft])?(dt.__data__=ut[ft],ct[ft]=dt):lt[ft]=new EnterNode(rt,ut[ft]);for(;ft<pt;++ft)(dt=it[ft])&&(ht[ft]=dt)}function bindKey(rt,it,lt,ct,ht,ut,ft){var dt,pt,gt=new Map,_t=it.length,yt=ut.length,mt=new Array(_t),bt;for(dt=0;dt<_t;++dt)(pt=it[dt])&&(mt[dt]=bt=ft.call(pt,pt.__data__,dt,it)+"",gt.has(bt)?ht[dt]=pt:gt.set(bt,pt));for(dt=0;dt<yt;++dt)bt=ft.call(rt,ut[dt],dt,ut)+"",(pt=gt.get(bt))?(ct[dt]=pt,pt.__data__=ut[dt],gt.delete(bt)):lt[dt]=new EnterNode(rt,ut[dt]);for(dt=0;dt<_t;++dt)(pt=it[dt])&&gt.get(mt[dt])===pt&&(ht[dt]=pt)}function datum(rt){return rt.__data__}function selection_data(rt,it){if(!arguments.length)return Array.from(this,datum);var lt=it?bindKey:bindIndex,ct=this._parents,ht=this._groups;typeof rt!="function"&&(rt=constant$2(rt));for(var ut=ht.length,ft=new Array(ut),dt=new Array(ut),pt=new Array(ut),gt=0;gt<ut;++gt){var _t=ct[gt],yt=ht[gt],mt=yt.length,bt=arraylike(rt.call(_t,_t&&_t.__data__,gt,ct)),xt=bt.length,wt=dt[gt]=new Array(xt),Ct=ft[gt]=new Array(xt),St=pt[gt]=new Array(mt);lt(_t,yt,wt,Ct,St,bt,it);for(var Tt=0,vt=0,kt,Et;Tt<xt;++Tt)if(kt=wt[Tt]){for(Tt>=vt&&(vt=Tt+1);!(Et=Ct[vt])&&++vt<xt;);kt._next=Et||null}}return ft=new Selection$1(ft,ct),ft._enter=dt,ft._exit=pt,ft}function arraylike(rt){return typeof rt=="object"&&"length"in rt?rt:Array.from(rt)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(rt,it,lt){var ct=this.enter(),ht=this,ut=this.exit();return typeof rt=="function"?(ct=rt(ct),ct&&(ct=ct.selection())):ct=ct.append(rt+""),it!=null&&(ht=it(ht),ht&&(ht=ht.selection())),lt==null?ut.remove():lt(ut),ct&&ht?ct.merge(ht).order():ht}function selection_merge(rt){for(var it=rt.selection?rt.selection():rt,lt=this._groups,ct=it._groups,ht=lt.length,ut=ct.length,ft=Math.min(ht,ut),dt=new Array(ht),pt=0;pt<ft;++pt)for(var gt=lt[pt],_t=ct[pt],yt=gt.length,mt=dt[pt]=new Array(yt),bt,xt=0;xt<yt;++xt)(bt=gt[xt]||_t[xt])&&(mt[xt]=bt);for(;pt<ht;++pt)dt[pt]=lt[pt];return new Selection$1(dt,this._parents)}function selection_order(){for(var rt=this._groups,it=-1,lt=rt.length;++it<lt;)for(var ct=rt[it],ht=ct.length-1,ut=ct[ht],ft;--ht>=0;)(ft=ct[ht])&&(ut&&ft.compareDocumentPosition(ut)^4&&ut.parentNode.insertBefore(ft,ut),ut=ft);return this}function selection_sort(rt){rt||(rt=ascending);function it(yt,mt){return yt&&mt?rt(yt.__data__,mt.__data__):!yt-!mt}for(var lt=this._groups,ct=lt.length,ht=new Array(ct),ut=0;ut<ct;++ut){for(var ft=lt[ut],dt=ft.length,pt=ht[ut]=new Array(dt),gt,_t=0;_t<dt;++_t)(gt=ft[_t])&&(pt[_t]=gt);pt.sort(it)}return new Selection$1(ht,this._parents).order()}function ascending(rt,it){return rt<it?-1:rt>it?1:rt>=it?0:NaN}function selection_call(){var rt=arguments[0];return arguments[0]=this,rt.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var rt=this._groups,it=0,lt=rt.length;it<lt;++it)for(var ct=rt[it],ht=0,ut=ct.length;ht<ut;++ht){var ft=ct[ht];if(ft)return ft}return null}function selection_size(){let rt=0;for(const it of this)++rt;return rt}function selection_empty(){return!this.node()}function selection_each(rt){for(var it=this._groups,lt=0,ct=it.length;lt<ct;++lt)for(var ht=it[lt],ut=0,ft=ht.length,dt;ut<ft;++ut)(dt=ht[ut])&&rt.call(dt,dt.__data__,ut,ht);return this}function attrRemove$1(rt){return function(){this.removeAttribute(rt)}}function attrRemoveNS$1(rt){return function(){this.removeAttributeNS(rt.space,rt.local)}}function attrConstant$1(rt,it){return function(){this.setAttribute(rt,it)}}function attrConstantNS$1(rt,it){return function(){this.setAttributeNS(rt.space,rt.local,it)}}function attrFunction$1(rt,it){return function(){var lt=it.apply(this,arguments);lt==null?this.removeAttribute(rt):this.setAttribute(rt,lt)}}function attrFunctionNS$1(rt,it){return function(){var lt=it.apply(this,arguments);lt==null?this.removeAttributeNS(rt.space,rt.local):this.setAttributeNS(rt.space,rt.local,lt)}}function selection_attr(rt,it){var lt=namespace(rt);if(arguments.length<2){var ct=this.node();return lt.local?ct.getAttributeNS(lt.space,lt.local):ct.getAttribute(lt)}return this.each((it==null?lt.local?attrRemoveNS$1:attrRemove$1:typeof it=="function"?lt.local?attrFunctionNS$1:attrFunction$1:lt.local?attrConstantNS$1:attrConstant$1)(lt,it))}function defaultView(rt){return rt.ownerDocument&&rt.ownerDocument.defaultView||rt.document&&rt||rt.defaultView}function styleRemove$1(rt){return function(){this.style.removeProperty(rt)}}function styleConstant$1(rt,it,lt){return function(){this.style.setProperty(rt,it,lt)}}function styleFunction$1(rt,it,lt){return function(){var ct=it.apply(this,arguments);ct==null?this.style.removeProperty(rt):this.style.setProperty(rt,ct,lt)}}function selection_style(rt,it,lt){return arguments.length>1?this.each((it==null?styleRemove$1:typeof it=="function"?styleFunction$1:styleConstant$1)(rt,it,lt??"")):styleValue(this.node(),rt)}function styleValue(rt,it){return rt.style.getPropertyValue(it)||defaultView(rt).getComputedStyle(rt,null).getPropertyValue(it)}function propertyRemove(rt){return function(){delete this[rt]}}function propertyConstant(rt,it){return function(){this[rt]=it}}function propertyFunction(rt,it){return function(){var lt=it.apply(this,arguments);lt==null?delete this[rt]:this[rt]=lt}}function selection_property(rt,it){return arguments.length>1?this.each((it==null?propertyRemove:typeof it=="function"?propertyFunction:propertyConstant)(rt,it)):this.node()[rt]}function classArray(rt){return rt.trim().split(/^|\s+/)}function classList(rt){return rt.classList||new ClassList(rt)}function ClassList(rt){this._node=rt,this._names=classArray(rt.getAttribute("class")||"")}ClassList.prototype={add:function(rt){var it=this._names.indexOf(rt);it<0&&(this._names.push(rt),this._node.setAttribute("class",this._names.join(" ")))},remove:function(rt){var it=this._names.indexOf(rt);it>=0&&(this._names.splice(it,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(rt){return this._names.indexOf(rt)>=0}};function classedAdd(rt,it){for(var lt=classList(rt),ct=-1,ht=it.length;++ct<ht;)lt.add(it[ct])}function classedRemove(rt,it){for(var lt=classList(rt),ct=-1,ht=it.length;++ct<ht;)lt.remove(it[ct])}function classedTrue(rt){return function(){classedAdd(this,rt)}}function classedFalse(rt){return function(){classedRemove(this,rt)}}function classedFunction(rt,it){return function(){(it.apply(this,arguments)?classedAdd:classedRemove)(this,rt)}}function selection_classed(rt,it){var lt=classArray(rt+"");if(arguments.length<2){for(var ct=classList(this.node()),ht=-1,ut=lt.length;++ht<ut;)if(!ct.contains(lt[ht]))return!1;return!0}return this.each((typeof it=="function"?classedFunction:it?classedTrue:classedFalse)(lt,it))}function textRemove(){this.textContent=""}function textConstant$1(rt){return function(){this.textContent=rt}}function textFunction$1(rt){return function(){var it=rt.apply(this,arguments);this.textContent=it??""}}function selection_text(rt){return arguments.length?this.each(rt==null?textRemove:(typeof rt=="function"?textFunction$1:textConstant$1)(rt)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(rt){return function(){this.innerHTML=rt}}function htmlFunction(rt){return function(){var it=rt.apply(this,arguments);this.innerHTML=it??""}}function selection_html(rt){return arguments.length?this.each(rt==null?htmlRemove:(typeof rt=="function"?htmlFunction:htmlConstant)(rt)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(rt){var it=typeof rt=="function"?rt:creator(rt);return this.select(function(){return this.appendChild(it.apply(this,arguments))})}function constantNull(){return null}function selection_insert(rt,it){var lt=typeof rt=="function"?rt:creator(rt),ct=it==null?constantNull:typeof it=="function"?it:selector(it);return this.select(function(){return this.insertBefore(lt.apply(this,arguments),ct.apply(this,arguments)||null)})}function remove(){var rt=this.parentNode;rt&&rt.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var rt=this.cloneNode(!1),it=this.parentNode;return it?it.insertBefore(rt,this.nextSibling):rt}function selection_cloneDeep(){var rt=this.cloneNode(!0),it=this.parentNode;return it?it.insertBefore(rt,this.nextSibling):rt}function selection_clone(rt){return this.select(rt?selection_cloneDeep:selection_cloneShallow)}function selection_datum(rt){return arguments.length?this.property("__data__",rt):this.node().__data__}function contextListener(rt){return function(it){rt.call(this,it,this.__data__)}}function parseTypenames(rt){return rt.trim().split(/^|\s+/).map(function(it){var lt="",ct=it.indexOf(".");return ct>=0&&(lt=it.slice(ct+1),it=it.slice(0,ct)),{type:it,name:lt}})}function onRemove(rt){return function(){var it=this.__on;if(it){for(var lt=0,ct=-1,ht=it.length,ut;lt<ht;++lt)ut=it[lt],(!rt.type||ut.type===rt.type)&&ut.name===rt.name?this.removeEventListener(ut.type,ut.listener,ut.options):it[++ct]=ut;++ct?it.length=ct:delete this.__on}}}function onAdd(rt,it,lt){return function(){var ct=this.__on,ht,ut=contextListener(it);if(ct){for(var ft=0,dt=ct.length;ft<dt;++ft)if((ht=ct[ft]).type===rt.type&&ht.name===rt.name){this.removeEventListener(ht.type,ht.listener,ht.options),this.addEventListener(ht.type,ht.listener=ut,ht.options=lt),ht.value=it;return}}this.addEventListener(rt.type,ut,lt),ht={type:rt.type,name:rt.name,value:it,listener:ut,options:lt},ct?ct.push(ht):this.__on=[ht]}}function selection_on(rt,it,lt){var ct=parseTypenames(rt+""),ht,ut=ct.length,ft;if(arguments.length<2){var dt=this.node().__on;if(dt){for(var pt=0,gt=dt.length,_t;pt<gt;++pt)for(ht=0,_t=dt[pt];ht<ut;++ht)if((ft=ct[ht]).type===_t.type&&ft.name===_t.name)return _t.value}return}for(dt=it?onAdd:onRemove,ht=0;ht<ut;++ht)this.each(dt(ct[ht],it,lt));return this}function dispatchEvent(rt,it,lt){var ct=defaultView(rt),ht=ct.CustomEvent;typeof ht=="function"?ht=new ht(it,lt):(ht=ct.document.createEvent("Event"),lt?(ht.initEvent(it,lt.bubbles,lt.cancelable),ht.detail=lt.detail):ht.initEvent(it,!1,!1)),rt.dispatchEvent(ht)}function dispatchConstant(rt,it){return function(){return dispatchEvent(this,rt,it)}}function dispatchFunction(rt,it){return function(){return dispatchEvent(this,rt,it.apply(this,arguments))}}function selection_dispatch(rt,it){return this.each((typeof it=="function"?dispatchFunction:dispatchConstant)(rt,it))}function*selection_iterator(){for(var rt=this._groups,it=0,lt=rt.length;it<lt;++it)for(var ct=rt[it],ht=0,ut=ct.length,ft;ht<ut;++ht)(ft=ct[ht])&&(yield ft)}var root=[null];function Selection$1(rt,it){this._groups=rt,this._parents=it}function selection(){return new Selection$1([[document.documentElement]],root)}function selection_selection(){return this}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(rt){return typeof rt=="string"?new Selection$1([[document.querySelector(rt)]],[document.documentElement]):new Selection$1([[rt]],root)}function define(rt,it,lt){rt.prototype=it.prototype=lt,lt.constructor=rt}function extend(rt,it){var lt=Object.create(rt.prototype);for(var ct in it)lt[ct]=it[ct];return lt}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(rt){return Object.assign(new this.constructor,this,rt)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(rt){var it,lt;return rt=(rt+"").trim().toLowerCase(),(it=reHex.exec(rt))?(lt=it[1].length,it=parseInt(it[1],16),lt===6?rgbn(it):lt===3?new Rgb(it>>8&15|it>>4&240,it>>4&15|it&240,(it&15)<<4|it&15,1):lt===8?rgba(it>>24&255,it>>16&255,it>>8&255,(it&255)/255):lt===4?rgba(it>>12&15|it>>8&240,it>>8&15|it>>4&240,it>>4&15|it&240,((it&15)<<4|it&15)/255):null):(it=reRgbInteger.exec(rt))?new Rgb(it[1],it[2],it[3],1):(it=reRgbPercent.exec(rt))?new Rgb(it[1]*255/100,it[2]*255/100,it[3]*255/100,1):(it=reRgbaInteger.exec(rt))?rgba(it[1],it[2],it[3],it[4]):(it=reRgbaPercent.exec(rt))?rgba(it[1]*255/100,it[2]*255/100,it[3]*255/100,it[4]):(it=reHslPercent.exec(rt))?hsla(it[1],it[2]/100,it[3]/100,1):(it=reHslaPercent.exec(rt))?hsla(it[1],it[2]/100,it[3]/100,it[4]):named.hasOwnProperty(rt)?rgbn(named[rt]):rt==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(rt){return new Rgb(rt>>16&255,rt>>8&255,rt&255,1)}function rgba(rt,it,lt,ct){return ct<=0&&(rt=it=lt=NaN),new Rgb(rt,it,lt,ct)}function rgbConvert(rt){return rt instanceof Color||(rt=color(rt)),rt?(rt=rt.rgb(),new Rgb(rt.r,rt.g,rt.b,rt.opacity)):new Rgb}function rgb(rt,it,lt,ct){return arguments.length===1?rgbConvert(rt):new Rgb(rt,it,lt,ct??1)}function Rgb(rt,it,lt,ct){this.r=+rt,this.g=+it,this.b=+lt,this.opacity=+ct}define(Rgb,rgb,extend(Color,{brighter(rt){return rt=rt==null?brighter:Math.pow(brighter,rt),new Rgb(this.r*rt,this.g*rt,this.b*rt,this.opacity)},darker(rt){return rt=rt==null?darker:Math.pow(darker,rt),new Rgb(this.r*rt,this.g*rt,this.b*rt,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const rt=clampa(this.opacity);return`${rt===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${rt===1?")":`, ${rt})`}`}function clampa(rt){return isNaN(rt)?1:Math.max(0,Math.min(1,rt))}function clampi(rt){return Math.max(0,Math.min(255,Math.round(rt)||0))}function hex(rt){return rt=clampi(rt),(rt<16?"0":"")+rt.toString(16)}function hsla(rt,it,lt,ct){return ct<=0?rt=it=lt=NaN:lt<=0||lt>=1?rt=it=NaN:it<=0&&(rt=NaN),new Hsl(rt,it,lt,ct)}function hslConvert(rt){if(rt instanceof Hsl)return new Hsl(rt.h,rt.s,rt.l,rt.opacity);if(rt instanceof Color||(rt=color(rt)),!rt)return new Hsl;if(rt instanceof Hsl)return rt;rt=rt.rgb();var it=rt.r/255,lt=rt.g/255,ct=rt.b/255,ht=Math.min(it,lt,ct),ut=Math.max(it,lt,ct),ft=NaN,dt=ut-ht,pt=(ut+ht)/2;return dt?(it===ut?ft=(lt-ct)/dt+(lt<ct)*6:lt===ut?ft=(ct-it)/dt+2:ft=(it-lt)/dt+4,dt/=pt<.5?ut+ht:2-ut-ht,ft*=60):dt=pt>0&&pt<1?0:ft,new Hsl(ft,dt,pt,rt.opacity)}function hsl(rt,it,lt,ct){return arguments.length===1?hslConvert(rt):new Hsl(rt,it,lt,ct??1)}function Hsl(rt,it,lt,ct){this.h=+rt,this.s=+it,this.l=+lt,this.opacity=+ct}define(Hsl,hsl,extend(Color,{brighter(rt){return rt=rt==null?brighter:Math.pow(brighter,rt),new Hsl(this.h,this.s,this.l*rt,this.opacity)},darker(rt){return rt=rt==null?darker:Math.pow(darker,rt),new Hsl(this.h,this.s,this.l*rt,this.opacity)},rgb(){var rt=this.h%360+(this.h<0)*360,it=isNaN(rt)||isNaN(this.s)?0:this.s,lt=this.l,ct=lt+(lt<.5?lt:1-lt)*it,ht=2*lt-ct;return new Rgb(hsl2rgb(rt>=240?rt-240:rt+120,ht,ct),hsl2rgb(rt,ht,ct),hsl2rgb(rt<120?rt+240:rt-120,ht,ct),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const rt=clampa(this.opacity);return`${rt===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${rt===1?")":`, ${rt})`}`}}));function clamph(rt){return rt=(rt||0)%360,rt<0?rt+360:rt}function clampt(rt){return Math.max(0,Math.min(1,rt||0))}function hsl2rgb(rt,it,lt){return(rt<60?it+(lt-it)*rt/60:rt<180?lt:rt<240?it+(lt-it)*(240-rt)/60:it)*255}const constant$1=rt=>()=>rt;function linear(rt,it){return function(lt){return rt+lt*it}}function exponential(rt,it,lt){return rt=Math.pow(rt,lt),it=Math.pow(it,lt)-rt,lt=1/lt,function(ct){return Math.pow(rt+ct*it,lt)}}function hue(rt,it){var lt=it-rt;return lt?linear(rt,lt>180||lt<-180?lt-360*Math.round(lt/360):lt):constant$1(isNaN(rt)?it:rt)}function gamma(rt){return(rt=+rt)==1?nogamma:function(it,lt){return lt-it?exponential(it,lt,rt):constant$1(isNaN(it)?lt:it)}}function nogamma(rt,it){var lt=it-rt;return lt?linear(rt,lt):constant$1(isNaN(rt)?it:rt)}const interpolateRgb=function rt(it){var lt=gamma(it);function ct(ht,ut){var ft=lt((ht=rgb(ht)).r,(ut=rgb(ut)).r),dt=lt(ht.g,ut.g),pt=lt(ht.b,ut.b),gt=nogamma(ht.opacity,ut.opacity);return function(_t){return ht.r=ft(_t),ht.g=dt(_t),ht.b=pt(_t),ht.opacity=gt(_t),ht+""}}return ct.gamma=rt,ct}(1);function interpolateNumber(rt,it){return rt=+rt,it=+it,function(lt){return rt*(1-lt)+it*lt}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero$2(rt){return function(){return rt}}function one(rt){return function(it){return rt(it)+""}}function interpolateString(rt,it){var lt=reA.lastIndex=reB.lastIndex=0,ct,ht,ut,ft=-1,dt=[],pt=[];for(rt=rt+"",it=it+"";(ct=reA.exec(rt))&&(ht=reB.exec(it));)(ut=ht.index)>lt&&(ut=it.slice(lt,ut),dt[ft]?dt[ft]+=ut:dt[++ft]=ut),(ct=ct[0])===(ht=ht[0])?dt[ft]?dt[ft]+=ht:dt[++ft]=ht:(dt[++ft]=null,pt.push({i:ft,x:interpolateNumber(ct,ht)})),lt=reB.lastIndex;return lt<it.length&&(ut=it.slice(lt),dt[ft]?dt[ft]+=ut:dt[++ft]=ut),dt.length<2?pt[0]?one(pt[0].x):zero$2(it):(it=pt.length,function(gt){for(var _t=0,yt;_t<it;++_t)dt[(yt=pt[_t]).i]=yt.x(gt);return dt.join("")})}var degrees=180/Math.PI,identity={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(rt,it,lt,ct,ht,ut){var ft,dt,pt;return(ft=Math.sqrt(rt*rt+it*it))&&(rt/=ft,it/=ft),(pt=rt*lt+it*ct)&&(lt-=rt*pt,ct-=it*pt),(dt=Math.sqrt(lt*lt+ct*ct))&&(lt/=dt,ct/=dt,pt/=dt),rt*ct<it*lt&&(rt=-rt,it=-it,pt=-pt,ft=-ft),{translateX:ht,translateY:ut,rotate:Math.atan2(it,rt)*degrees,skewX:Math.atan(pt)*degrees,scaleX:ft,scaleY:dt}}var svgNode;function parseCss(rt){const it=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(rt+"");return it.isIdentity?identity:decompose(it.a,it.b,it.c,it.d,it.e,it.f)}function parseSvg(rt){return rt==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",rt),!(rt=svgNode.transform.baseVal.consolidate()))?identity:(rt=rt.matrix,decompose(rt.a,rt.b,rt.c,rt.d,rt.e,rt.f))}function interpolateTransform(rt,it,lt,ct){function ht(gt){return gt.length?gt.pop()+" ":""}function ut(gt,_t,yt,mt,bt,xt){if(gt!==yt||_t!==mt){var wt=bt.push("translate(",null,it,null,lt);xt.push({i:wt-4,x:interpolateNumber(gt,yt)},{i:wt-2,x:interpolateNumber(_t,mt)})}else(yt||mt)&&bt.push("translate("+yt+it+mt+lt)}function ft(gt,_t,yt,mt){gt!==_t?(gt-_t>180?_t+=360:_t-gt>180&&(gt+=360),mt.push({i:yt.push(ht(yt)+"rotate(",null,ct)-2,x:interpolateNumber(gt,_t)})):_t&&yt.push(ht(yt)+"rotate("+_t+ct)}function dt(gt,_t,yt,mt){gt!==_t?mt.push({i:yt.push(ht(yt)+"skewX(",null,ct)-2,x:interpolateNumber(gt,_t)}):_t&&yt.push(ht(yt)+"skewX("+_t+ct)}function pt(gt,_t,yt,mt,bt,xt){if(gt!==yt||_t!==mt){var wt=bt.push(ht(bt)+"scale(",null,",",null,")");xt.push({i:wt-4,x:interpolateNumber(gt,yt)},{i:wt-2,x:interpolateNumber(_t,mt)})}else(yt!==1||mt!==1)&&bt.push(ht(bt)+"scale("+yt+","+mt+")")}return function(gt,_t){var yt=[],mt=[];return gt=rt(gt),_t=rt(_t),ut(gt.translateX,gt.translateY,_t.translateX,_t.translateY,yt,mt),ft(gt.rotate,_t.rotate,yt,mt),dt(gt.skewX,_t.skewX,yt,mt),pt(gt.scaleX,gt.scaleY,_t.scaleX,_t.scaleY,yt,mt),gt=_t=null,function(bt){for(var xt=-1,wt=mt.length,Ct;++xt<wt;)yt[(Ct=mt[xt]).i]=Ct.x(bt);return yt.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),frame=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(rt){setTimeout(rt,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(rt,it,lt){if(typeof rt!="function")throw new TypeError("callback is not a function");lt=(lt==null?now():+lt)+(it==null?0:+it),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=rt,this._time=lt,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(rt,it,lt){var ct=new Timer;return ct.restart(rt,it,lt),ct}function timerFlush(){now(),++frame;for(var rt=taskHead,it;rt;)(it=clockNow-rt._time)>=0&&rt._call.call(void 0,it),rt=rt._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout$1=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var rt=clock.now(),it=rt-clockLast;it>pokeDelay&&(clockSkew-=it,clockLast=rt)}function nap(){for(var rt,it=taskHead,lt,ct=1/0;it;)it._call?(ct>it._time&&(ct=it._time),rt=it,it=it._next):(lt=it._next,it._next=null,it=rt?rt._next=lt:taskHead=lt);taskTail=rt,sleep(ct)}function sleep(rt){if(!frame){timeout$1&&(timeout$1=clearTimeout(timeout$1));var it=rt-clockNow;it>24?(rt<1/0&&(timeout$1=setTimeout(wake,rt-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake))}}function timeout(rt,it,lt){var ct=new Timer;return it=it==null?0:+it,ct.restart(ht=>{ct.stop(),rt(ht+it)},it,lt),ct}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(rt,it,lt,ct,ht,ut){var ft=rt.__transition;if(!ft)rt.__transition={};else if(lt in ft)return;create(rt,lt,{name:it,index:ct,group:ht,on:emptyOn,tween:emptyTween,time:ut.time,delay:ut.delay,duration:ut.duration,ease:ut.ease,timer:null,state:CREATED})}function init$2(rt,it){var lt=get(rt,it);if(lt.state>CREATED)throw new Error("too late; already scheduled");return lt}function set(rt,it){var lt=get(rt,it);if(lt.state>STARTED)throw new Error("too late; already running");return lt}function get(rt,it){var lt=rt.__transition;if(!lt||!(lt=lt[it]))throw new Error("transition not found");return lt}function create(rt,it,lt){var ct=rt.__transition,ht;ct[it]=lt,lt.timer=timer(ut,0,lt.time);function ut(gt){lt.state=SCHEDULED,lt.timer.restart(ft,lt.delay,lt.time),lt.delay<=gt&&ft(gt-lt.delay)}function ft(gt){var _t,yt,mt,bt;if(lt.state!==SCHEDULED)return pt();for(_t in ct)if(bt=ct[_t],bt.name===lt.name){if(bt.state===STARTED)return timeout(ft);bt.state===RUNNING?(bt.state=ENDED,bt.timer.stop(),bt.on.call("interrupt",rt,rt.__data__,bt.index,bt.group),delete ct[_t]):+_t<it&&(bt.state=ENDED,bt.timer.stop(),bt.on.call("cancel",rt,rt.__data__,bt.index,bt.group),delete ct[_t])}if(timeout(function(){lt.state===STARTED&&(lt.state=RUNNING,lt.timer.restart(dt,lt.delay,lt.time),dt(gt))}),lt.state=STARTING,lt.on.call("start",rt,rt.__data__,lt.index,lt.group),lt.state===STARTING){for(lt.state=STARTED,ht=new Array(mt=lt.tween.length),_t=0,yt=-1;_t<mt;++_t)(bt=lt.tween[_t].value.call(rt,rt.__data__,lt.index,lt.group))&&(ht[++yt]=bt);ht.length=yt+1}}function dt(gt){for(var _t=gt<lt.duration?lt.ease.call(null,gt/lt.duration):(lt.timer.restart(pt),lt.state=ENDING,1),yt=-1,mt=ht.length;++yt<mt;)ht[yt].call(rt,_t);lt.state===ENDING&&(lt.on.call("end",rt,rt.__data__,lt.index,lt.group),pt())}function pt(){lt.state=ENDED,lt.timer.stop(),delete ct[it];for(var gt in ct)return;delete rt.__transition}}function interrupt(rt,it){var lt=rt.__transition,ct,ht,ut=!0,ft;if(lt){it=it==null?null:it+"";for(ft in lt){if((ct=lt[ft]).name!==it){ut=!1;continue}ht=ct.state>STARTING&&ct.state<ENDING,ct.state=ENDED,ct.timer.stop(),ct.on.call(ht?"interrupt":"cancel",rt,rt.__data__,ct.index,ct.group),delete lt[ft]}ut&&delete rt.__transition}}function selection_interrupt(rt){return this.each(function(){interrupt(this,rt)})}function tweenRemove(rt,it){var lt,ct;return function(){var ht=set(this,rt),ut=ht.tween;if(ut!==lt){ct=lt=ut;for(var ft=0,dt=ct.length;ft<dt;++ft)if(ct[ft].name===it){ct=ct.slice(),ct.splice(ft,1);break}}ht.tween=ct}}function tweenFunction(rt,it,lt){var ct,ht;if(typeof lt!="function")throw new Error;return function(){var ut=set(this,rt),ft=ut.tween;if(ft!==ct){ht=(ct=ft).slice();for(var dt={name:it,value:lt},pt=0,gt=ht.length;pt<gt;++pt)if(ht[pt].name===it){ht[pt]=dt;break}pt===gt&&ht.push(dt)}ut.tween=ht}}function transition_tween(rt,it){var lt=this._id;if(rt+="",arguments.length<2){for(var ct=get(this.node(),lt).tween,ht=0,ut=ct.length,ft;ht<ut;++ht)if((ft=ct[ht]).name===rt)return ft.value;return null}return this.each((it==null?tweenRemove:tweenFunction)(lt,rt,it))}function tweenValue(rt,it,lt){var ct=rt._id;return rt.each(function(){var ht=set(this,ct);(ht.value||(ht.value={}))[it]=lt.apply(this,arguments)}),function(ht){return get(ht,ct).value[it]}}function interpolate(rt,it){var lt;return(typeof it=="number"?interpolateNumber:it instanceof color?interpolateRgb:(lt=color(it))?(it=lt,interpolateRgb):interpolateString)(rt,it)}function attrRemove(rt){return function(){this.removeAttribute(rt)}}function attrRemoveNS(rt){return function(){this.removeAttributeNS(rt.space,rt.local)}}function attrConstant(rt,it,lt){var ct,ht=lt+"",ut;return function(){var ft=this.getAttribute(rt);return ft===ht?null:ft===ct?ut:ut=it(ct=ft,lt)}}function attrConstantNS(rt,it,lt){var ct,ht=lt+"",ut;return function(){var ft=this.getAttributeNS(rt.space,rt.local);return ft===ht?null:ft===ct?ut:ut=it(ct=ft,lt)}}function attrFunction(rt,it,lt){var ct,ht,ut;return function(){var ft,dt=lt(this),pt;return dt==null?void this.removeAttribute(rt):(ft=this.getAttribute(rt),pt=dt+"",ft===pt?null:ft===ct&&pt===ht?ut:(ht=pt,ut=it(ct=ft,dt)))}}function attrFunctionNS(rt,it,lt){var ct,ht,ut;return function(){var ft,dt=lt(this),pt;return dt==null?void this.removeAttributeNS(rt.space,rt.local):(ft=this.getAttributeNS(rt.space,rt.local),pt=dt+"",ft===pt?null:ft===ct&&pt===ht?ut:(ht=pt,ut=it(ct=ft,dt)))}}function transition_attr(rt,it){var lt=namespace(rt),ct=lt==="transform"?interpolateTransformSvg:interpolate;return this.attrTween(rt,typeof it=="function"?(lt.local?attrFunctionNS:attrFunction)(lt,ct,tweenValue(this,"attr."+rt,it)):it==null?(lt.local?attrRemoveNS:attrRemove)(lt):(lt.local?attrConstantNS:attrConstant)(lt,ct,it))}function attrInterpolate(rt,it){return function(lt){this.setAttribute(rt,it.call(this,lt))}}function attrInterpolateNS(rt,it){return function(lt){this.setAttributeNS(rt.space,rt.local,it.call(this,lt))}}function attrTweenNS(rt,it){var lt,ct;function ht(){var ut=it.apply(this,arguments);return ut!==ct&&(lt=(ct=ut)&&attrInterpolateNS(rt,ut)),lt}return ht._value=it,ht}function attrTween(rt,it){var lt,ct;function ht(){var ut=it.apply(this,arguments);return ut!==ct&&(lt=(ct=ut)&&attrInterpolate(rt,ut)),lt}return ht._value=it,ht}function transition_attrTween(rt,it){var lt="attr."+rt;if(arguments.length<2)return(lt=this.tween(lt))&&lt._value;if(it==null)return this.tween(lt,null);if(typeof it!="function")throw new Error;var ct=namespace(rt);return this.tween(lt,(ct.local?attrTweenNS:attrTween)(ct,it))}function delayFunction(rt,it){return function(){init$2(this,rt).delay=+it.apply(this,arguments)}}function delayConstant(rt,it){return it=+it,function(){init$2(this,rt).delay=it}}function transition_delay(rt){var it=this._id;return arguments.length?this.each((typeof rt=="function"?delayFunction:delayConstant)(it,rt)):get(this.node(),it).delay}function durationFunction(rt,it){return function(){set(this,rt).duration=+it.apply(this,arguments)}}function durationConstant(rt,it){return it=+it,function(){set(this,rt).duration=it}}function transition_duration(rt){var it=this._id;return arguments.length?this.each((typeof rt=="function"?durationFunction:durationConstant)(it,rt)):get(this.node(),it).duration}function easeConstant(rt,it){if(typeof it!="function")throw new Error;return function(){set(this,rt).ease=it}}function transition_ease(rt){var it=this._id;return arguments.length?this.each(easeConstant(it,rt)):get(this.node(),it).ease}function easeVarying(rt,it){return function(){var lt=it.apply(this,arguments);if(typeof lt!="function")throw new Error;set(this,rt).ease=lt}}function transition_easeVarying(rt){if(typeof rt!="function")throw new Error;return this.each(easeVarying(this._id,rt))}function transition_filter(rt){typeof rt!="function"&&(rt=matcher(rt));for(var it=this._groups,lt=it.length,ct=new Array(lt),ht=0;ht<lt;++ht)for(var ut=it[ht],ft=ut.length,dt=ct[ht]=[],pt,gt=0;gt<ft;++gt)(pt=ut[gt])&&rt.call(pt,pt.__data__,gt,ut)&&dt.push(pt);return new Transition(ct,this._parents,this._name,this._id)}function transition_merge(rt){if(rt._id!==this._id)throw new Error;for(var it=this._groups,lt=rt._groups,ct=it.length,ht=lt.length,ut=Math.min(ct,ht),ft=new Array(ct),dt=0;dt<ut;++dt)for(var pt=it[dt],gt=lt[dt],_t=pt.length,yt=ft[dt]=new Array(_t),mt,bt=0;bt<_t;++bt)(mt=pt[bt]||gt[bt])&&(yt[bt]=mt);for(;dt<ct;++dt)ft[dt]=it[dt];return new Transition(ft,this._parents,this._name,this._id)}function start(rt){return(rt+"").trim().split(/^|\s+/).every(function(it){var lt=it.indexOf(".");return lt>=0&&(it=it.slice(0,lt)),!it||it==="start"})}function onFunction(rt,it,lt){var ct,ht,ut=start(it)?init$2:set;return function(){var ft=ut(this,rt),dt=ft.on;dt!==ct&&(ht=(ct=dt).copy()).on(it,lt),ft.on=ht}}function transition_on(rt,it){var lt=this._id;return arguments.length<2?get(this.node(),lt).on.on(rt):this.each(onFunction(lt,rt,it))}function removeFunction(rt){return function(){var it=this.parentNode;for(var lt in this.__transition)if(+lt!==rt)return;it&&it.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(rt){var it=this._name,lt=this._id;typeof rt!="function"&&(rt=selector(rt));for(var ct=this._groups,ht=ct.length,ut=new Array(ht),ft=0;ft<ht;++ft)for(var dt=ct[ft],pt=dt.length,gt=ut[ft]=new Array(pt),_t,yt,mt=0;mt<pt;++mt)(_t=dt[mt])&&(yt=rt.call(_t,_t.__data__,mt,dt))&&("__data__"in _t&&(yt.__data__=_t.__data__),gt[mt]=yt,schedule(gt[mt],it,lt,mt,gt,get(_t,lt)));return new Transition(ut,this._parents,it,lt)}function transition_selectAll(rt){var it=this._name,lt=this._id;typeof rt!="function"&&(rt=selectorAll(rt));for(var ct=this._groups,ht=ct.length,ut=[],ft=[],dt=0;dt<ht;++dt)for(var pt=ct[dt],gt=pt.length,_t,yt=0;yt<gt;++yt)if(_t=pt[yt]){for(var mt=rt.call(_t,_t.__data__,yt,pt),bt,xt=get(_t,lt),wt=0,Ct=mt.length;wt<Ct;++wt)(bt=mt[wt])&&schedule(bt,it,lt,wt,mt,xt);ut.push(mt),ft.push(_t)}return new Transition(ut,ft,it,lt)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(rt,it){var lt,ct,ht;return function(){var ut=styleValue(this,rt),ft=(this.style.removeProperty(rt),styleValue(this,rt));return ut===ft?null:ut===lt&&ft===ct?ht:ht=it(lt=ut,ct=ft)}}function styleRemove(rt){return function(){this.style.removeProperty(rt)}}function styleConstant(rt,it,lt){var ct,ht=lt+"",ut;return function(){var ft=styleValue(this,rt);return ft===ht?null:ft===ct?ut:ut=it(ct=ft,lt)}}function styleFunction(rt,it,lt){var ct,ht,ut;return function(){var ft=styleValue(this,rt),dt=lt(this),pt=dt+"";return dt==null&&(pt=dt=(this.style.removeProperty(rt),styleValue(this,rt))),ft===pt?null:ft===ct&&pt===ht?ut:(ht=pt,ut=it(ct=ft,dt))}}function styleMaybeRemove(rt,it){var lt,ct,ht,ut="style."+it,ft="end."+ut,dt;return function(){var pt=set(this,rt),gt=pt.on,_t=pt.value[ut]==null?dt||(dt=styleRemove(it)):void 0;(gt!==lt||ht!==_t)&&(ct=(lt=gt).copy()).on(ft,ht=_t),pt.on=ct}}function transition_style(rt,it,lt){var ct=(rt+="")=="transform"?interpolateTransformCss:interpolate;return it==null?this.styleTween(rt,styleNull(rt,ct)).on("end.style."+rt,styleRemove(rt)):typeof it=="function"?this.styleTween(rt,styleFunction(rt,ct,tweenValue(this,"style."+rt,it))).each(styleMaybeRemove(this._id,rt)):this.styleTween(rt,styleConstant(rt,ct,it),lt).on("end.style."+rt,null)}function styleInterpolate(rt,it,lt){return function(ct){this.style.setProperty(rt,it.call(this,ct),lt)}}function styleTween(rt,it,lt){var ct,ht;function ut(){var ft=it.apply(this,arguments);return ft!==ht&&(ct=(ht=ft)&&styleInterpolate(rt,ft,lt)),ct}return ut._value=it,ut}function transition_styleTween(rt,it,lt){var ct="style."+(rt+="");if(arguments.length<2)return(ct=this.tween(ct))&&ct._value;if(it==null)return this.tween(ct,null);if(typeof it!="function")throw new Error;return this.tween(ct,styleTween(rt,it,lt??""))}function textConstant(rt){return function(){this.textContent=rt}}function textFunction(rt){return function(){var it=rt(this);this.textContent=it??""}}function transition_text(rt){return this.tween("text",typeof rt=="function"?textFunction(tweenValue(this,"text",rt)):textConstant(rt==null?"":rt+""))}function textInterpolate(rt){return function(it){this.textContent=rt.call(this,it)}}function textTween(rt){var it,lt;function ct(){var ht=rt.apply(this,arguments);return ht!==lt&&(it=(lt=ht)&&textInterpolate(ht)),it}return ct._value=rt,ct}function transition_textTween(rt){var it="text";if(arguments.length<1)return(it=this.tween(it))&&it._value;if(rt==null)return this.tween(it,null);if(typeof rt!="function")throw new Error;return this.tween(it,textTween(rt))}function transition_transition(){for(var rt=this._name,it=this._id,lt=newId(),ct=this._groups,ht=ct.length,ut=0;ut<ht;++ut)for(var ft=ct[ut],dt=ft.length,pt,gt=0;gt<dt;++gt)if(pt=ft[gt]){var _t=get(pt,it);schedule(pt,rt,lt,gt,ft,{time:_t.time+_t.delay+_t.duration,delay:0,duration:_t.duration,ease:_t.ease})}return new Transition(ct,this._parents,rt,lt)}function transition_end(){var rt,it,lt=this,ct=lt._id,ht=lt.size();return new Promise(function(ut,ft){var dt={value:ft},pt={value:function(){--ht===0&&ut()}};lt.each(function(){var gt=set(this,ct),_t=gt.on;_t!==rt&&(it=(rt=_t).copy(),it._.cancel.push(dt),it._.interrupt.push(dt),it._.end.push(pt)),gt.on=it}),ht===0&&ut()})}var id$1=0;function Transition(rt,it,lt,ct){this._groups=rt,this._parents=it,this._name=lt,this._id=ct}function newId(){return++id$1}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};function cubicInOut(rt){return((rt*=2)<=1?rt*rt*rt:(rt-=2)*rt*rt+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(rt,it){for(var lt;!(lt=rt.__transition)||!(lt=lt[it]);)if(!(rt=rt.parentNode))throw new Error(`transition ${it} not found`);return lt}function selection_transition(rt){var it,lt;rt instanceof Transition?(it=rt._id,rt=rt._name):(it=newId(),(lt=defaultTiming).time=now(),rt=rt==null?null:rt+"");for(var ct=this._groups,ht=ct.length,ut=0;ut<ht;++ut)for(var ft=ct[ut],dt=ft.length,pt,gt=0;gt<dt;++gt)(pt=ft[gt])&&schedule(pt,rt,it,gt,ft,lt||inherit(pt,it));return new Transition(ct,this._parents,rt,it)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;const pi$1=Math.PI,tau$1=2*pi$1,epsilon$1=1e-6,tauEpsilon=tau$1-epsilon$1;function append$1(rt){this._+=rt[0];for(let it=1,lt=rt.length;it<lt;++it)this._+=arguments[it]+rt[it]}function appendRound(rt){let it=Math.floor(rt);if(!(it>=0))throw new Error(`invalid digits: ${rt}`);if(it>15)return append$1;const lt=10**it;return function(ct){this._+=ct[0];for(let ht=1,ut=ct.length;ht<ut;++ht)this._+=Math.round(arguments[ht]*lt)/lt+ct[ht]}}class Path{constructor(it){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=it==null?append$1:appendRound(it)}moveTo(it,lt){this._append`M${this._x0=this._x1=+it},${this._y0=this._y1=+lt}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(it,lt){this._append`L${this._x1=+it},${this._y1=+lt}`}quadraticCurveTo(it,lt,ct,ht){this._append`Q${+it},${+lt},${this._x1=+ct},${this._y1=+ht}`}bezierCurveTo(it,lt,ct,ht,ut,ft){this._append`C${+it},${+lt},${+ct},${+ht},${this._x1=+ut},${this._y1=+ft}`}arcTo(it,lt,ct,ht,ut){if(it=+it,lt=+lt,ct=+ct,ht=+ht,ut=+ut,ut<0)throw new Error(`negative radius: ${ut}`);let ft=this._x1,dt=this._y1,pt=ct-it,gt=ht-lt,_t=ft-it,yt=dt-lt,mt=_t*_t+yt*yt;if(this._x1===null)this._append`M${this._x1=it},${this._y1=lt}`;else if(mt>epsilon$1)if(!(Math.abs(yt*pt-gt*_t)>epsilon$1)||!ut)this._append`L${this._x1=it},${this._y1=lt}`;else{let bt=ct-ft,xt=ht-dt,wt=pt*pt+gt*gt,Ct=bt*bt+xt*xt,St=Math.sqrt(wt),Tt=Math.sqrt(mt),vt=ut*Math.tan((pi$1-Math.acos((wt+mt-Ct)/(2*St*Tt)))/2),kt=vt/Tt,Et=vt/St;Math.abs(kt-1)>epsilon$1&&this._append`L${it+kt*_t},${lt+kt*yt}`,this._append`A${ut},${ut},0,0,${+(yt*bt>_t*xt)},${this._x1=it+Et*pt},${this._y1=lt+Et*gt}`}}arc(it,lt,ct,ht,ut,ft){if(it=+it,lt=+lt,ct=+ct,ft=!!ft,ct<0)throw new Error(`negative radius: ${ct}`);let dt=ct*Math.cos(ht),pt=ct*Math.sin(ht),gt=it+dt,_t=lt+pt,yt=1^ft,mt=ft?ht-ut:ut-ht;this._x1===null?this._append`M${gt},${_t}`:(Math.abs(this._x1-gt)>epsilon$1||Math.abs(this._y1-_t)>epsilon$1)&&this._append`L${gt},${_t}`,ct&&(mt<0&&(mt=mt%tau$1+tau$1),mt>tauEpsilon?this._append`A${ct},${ct},0,1,${yt},${it-dt},${lt-pt}A${ct},${ct},0,1,${yt},${this._x1=gt},${this._y1=_t}`:mt>epsilon$1&&this._append`A${ct},${ct},0,${+(mt>=pi$1)},${yt},${this._x1=it+ct*Math.cos(ut)},${this._y1=lt+ct*Math.sin(ut)}`)}rect(it,lt,ct,ht){this._append`M${this._x0=this._x1=+it},${this._y0=this._y1=+lt}h${ct=+ct}v${+ht}h${-ct}Z`}toString(){return this._}}function constant(rt){return function(){return rt}}const abs$1=Math.abs,atan2=Math.atan2,cos=Math.cos,max=Math.max,min=Math.min,sin=Math.sin,sqrt=Math.sqrt,epsilon=1e-12,pi=Math.PI,halfPi=pi/2,tau=2*pi;function acos(rt){return rt>1?0:rt<-1?pi:Math.acos(rt)}function asin(rt){return rt>=1?halfPi:rt<=-1?-halfPi:Math.asin(rt)}function withPath(rt){let it=3;return rt.digits=function(lt){if(!arguments.length)return it;if(lt==null)it=null;else{const ct=Math.floor(lt);if(!(ct>=0))throw new RangeError(`invalid digits: ${lt}`);it=ct}return rt},()=>new Path(it)}function array(rt){return typeof rt=="object"&&"length"in rt?rt:Array.from(rt)}function Linear(rt){this._context=rt}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(rt,it){switch(rt=+rt,it=+it,this._point){case 0:this._point=1,this._line?this._context.lineTo(rt,it):this._context.moveTo(rt,it);break;case 1:this._point=2;default:this._context.lineTo(rt,it);break}}};function curveLinear(rt){return new Linear(rt)}function x$1(rt){return rt[0]}function y$1(rt){return rt[1]}function line$1(rt,it){var lt=constant(!0),ct=null,ht=curveLinear,ut=null,ft=withPath(dt);rt=typeof rt=="function"?rt:rt===void 0?x$1:constant(rt),it=typeof it=="function"?it:it===void 0?y$1:constant(it);function dt(pt){var gt,_t=(pt=array(pt)).length,yt,mt=!1,bt;for(ct==null&&(ut=ht(bt=ft())),gt=0;gt<=_t;++gt)!(gt<_t&&lt(yt=pt[gt],gt,pt))===mt&&((mt=!mt)?ut.lineStart():ut.lineEnd()),mt&&ut.point(+rt(yt,gt,pt),+it(yt,gt,pt));if(bt)return ut=null,bt+""||null}return dt.x=function(pt){return arguments.length?(rt=typeof pt=="function"?pt:constant(+pt),dt):rt},dt.y=function(pt){return arguments.length?(it=typeof pt=="function"?pt:constant(+pt),dt):it},dt.defined=function(pt){return arguments.length?(lt=typeof pt=="function"?pt:constant(!!pt),dt):lt},dt.curve=function(pt){return arguments.length?(ht=pt,ct!=null&&(ut=ht(ct)),dt):ht},dt.context=function(pt){return arguments.length?(pt==null?ct=ut=null:ut=ht(ct=pt),dt):ct},dt}class Bump{constructor(it,lt){this._context=it,this._x=lt}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(it,lt){switch(it=+it,lt=+lt,this._point){case 0:{this._point=1,this._line?this._context.lineTo(it,lt):this._context.moveTo(it,lt);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+it)/2,this._y0,this._x0,lt,it,lt):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+lt)/2,it,this._y0,it,lt);break}}this._x0=it,this._y0=lt}}function bumpX(rt){return new Bump(rt,!0)}function bumpY(rt){return new Bump(rt,!1)}function noop(){}function point$4(rt,it,lt){rt._context.bezierCurveTo((2*rt._x0+rt._x1)/3,(2*rt._y0+rt._y1)/3,(rt._x0+2*rt._x1)/3,(rt._y0+2*rt._y1)/3,(rt._x0+4*rt._x1+it)/6,(rt._y0+4*rt._y1+lt)/6)}function Basis(rt){this._context=rt}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$4(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(rt,it){switch(rt=+rt,it=+it,this._point){case 0:this._point=1,this._line?this._context.lineTo(rt,it):this._context.moveTo(rt,it);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$4(this,rt,it);break}this._x0=this._x1,this._x1=rt,this._y0=this._y1,this._y1=it}};function curveBasis(rt){return new Basis(rt)}function BasisClosed(rt){this._context=rt}BasisClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(rt,it){switch(rt=+rt,it=+it,this._point){case 0:this._point=1,this._x2=rt,this._y2=it;break;case 1:this._point=2,this._x3=rt,this._y3=it;break;case 2:this._point=3,this._x4=rt,this._y4=it,this._context.moveTo((this._x0+4*this._x1+rt)/6,(this._y0+4*this._y1+it)/6);break;default:point$4(this,rt,it);break}this._x0=this._x1,this._x1=rt,this._y0=this._y1,this._y1=it}};function curveBasisClosed(rt){return new BasisClosed(rt)}function BasisOpen(rt){this._context=rt}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(rt,it){switch(rt=+rt,it=+it,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var lt=(this._x0+4*this._x1+rt)/6,ct=(this._y0+4*this._y1+it)/6;this._line?this._context.lineTo(lt,ct):this._context.moveTo(lt,ct);break;case 3:this._point=4;default:point$4(this,rt,it);break}this._x0=this._x1,this._x1=rt,this._y0=this._y1,this._y1=it}};function curveBasisOpen(rt){return new BasisOpen(rt)}function Bundle(rt,it){this._basis=new Basis(rt),this._beta=it}Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var rt=this._x,it=this._y,lt=rt.length-1;if(lt>0)for(var ct=rt[0],ht=it[0],ut=rt[lt]-ct,ft=it[lt]-ht,dt=-1,pt;++dt<=lt;)pt=dt/lt,this._basis.point(this._beta*rt[dt]+(1-this._beta)*(ct+pt*ut),this._beta*it[dt]+(1-this._beta)*(ht+pt*ft));this._x=this._y=null,this._basis.lineEnd()},point:function(rt,it){this._x.push(+rt),this._y.push(+it)}};const curveBundle=function rt(it){function lt(ct){return it===1?new Basis(ct):new Bundle(ct,it)}return lt.beta=function(ct){return rt(+ct)},lt}(.85);function point$3(rt,it,lt){rt._context.bezierCurveTo(rt._x1+rt._k*(rt._x2-rt._x0),rt._y1+rt._k*(rt._y2-rt._y0),rt._x2+rt._k*(rt._x1-it),rt._y2+rt._k*(rt._y1-lt),rt._x2,rt._y2)}function Cardinal(rt,it){this._context=rt,this._k=(1-it)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$3(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(rt,it){switch(rt=+rt,it=+it,this._point){case 0:this._point=1,this._line?this._context.lineTo(rt,it):this._context.moveTo(rt,it);break;case 1:this._point=2,this._x1=rt,this._y1=it;break;case 2:this._point=3;default:point$3(this,rt,it);break}this._x0=this._x1,this._x1=this._x2,this._x2=rt,this._y0=this._y1,this._y1=this._y2,this._y2=it}};const curveCardinal=function rt(it){function lt(ct){return new Cardinal(ct,it)}return lt.tension=function(ct){return rt(+ct)},lt}(0);function CardinalClosed(rt,it){this._context=rt,this._k=(1-it)/6}CardinalClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(rt,it){switch(rt=+rt,it=+it,this._point){case 0:this._point=1,this._x3=rt,this._y3=it;break;case 1:this._point=2,this._context.moveTo(this._x4=rt,this._y4=it);break;case 2:this._point=3,this._x5=rt,this._y5=it;break;default:point$3(this,rt,it);break}this._x0=this._x1,this._x1=this._x2,this._x2=rt,this._y0=this._y1,this._y1=this._y2,this._y2=it}};const curveCardinalClosed=function rt(it){function lt(ct){return new CardinalClosed(ct,it)}return lt.tension=function(ct){return rt(+ct)},lt}(0);function CardinalOpen(rt,it){this._context=rt,this._k=(1-it)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(rt,it){switch(rt=+rt,it=+it,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$3(this,rt,it);break}this._x0=this._x1,this._x1=this._x2,this._x2=rt,this._y0=this._y1,this._y1=this._y2,this._y2=it}};const curveCardinalOpen=function rt(it){function lt(ct){return new CardinalOpen(ct,it)}return lt.tension=function(ct){return rt(+ct)},lt}(0);function point$2(rt,it,lt){var ct=rt._x1,ht=rt._y1,ut=rt._x2,ft=rt._y2;if(rt._l01_a>epsilon){var dt=2*rt._l01_2a+3*rt._l01_a*rt._l12_a+rt._l12_2a,pt=3*rt._l01_a*(rt._l01_a+rt._l12_a);ct=(ct*dt-rt._x0*rt._l12_2a+rt._x2*rt._l01_2a)/pt,ht=(ht*dt-rt._y0*rt._l12_2a+rt._y2*rt._l01_2a)/pt}if(rt._l23_a>epsilon){var gt=2*rt._l23_2a+3*rt._l23_a*rt._l12_a+rt._l12_2a,_t=3*rt._l23_a*(rt._l23_a+rt._l12_a);ut=(ut*gt+rt._x1*rt._l23_2a-it*rt._l12_2a)/_t,ft=(ft*gt+rt._y1*rt._l23_2a-lt*rt._l12_2a)/_t}rt._context.bezierCurveTo(ct,ht,ut,ft,rt._x2,rt._y2)}function CatmullRom(rt,it){this._context=rt,this._alpha=it}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(rt,it){if(rt=+rt,it=+it,this._point){var lt=this._x2-rt,ct=this._y2-it;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(lt*lt+ct*ct,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(rt,it):this._context.moveTo(rt,it);break;case 1:this._point=2;break;case 2:this._point=3;default:point$2(this,rt,it);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=rt,this._y0=this._y1,this._y1=this._y2,this._y2=it}};const curveCatmullRom=function rt(it){function lt(ct){return it?new CatmullRom(ct,it):new Cardinal(ct,0)}return lt.alpha=function(ct){return rt(+ct)},lt}(.5);function CatmullRomClosed(rt,it){this._context=rt,this._alpha=it}CatmullRomClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(rt,it){if(rt=+rt,it=+it,this._point){var lt=this._x2-rt,ct=this._y2-it;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(lt*lt+ct*ct,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=rt,this._y3=it;break;case 1:this._point=2,this._context.moveTo(this._x4=rt,this._y4=it);break;case 2:this._point=3,this._x5=rt,this._y5=it;break;default:point$2(this,rt,it);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=rt,this._y0=this._y1,this._y1=this._y2,this._y2=it}};const curveCatmullRomClosed=function rt(it){function lt(ct){return it?new CatmullRomClosed(ct,it):new CardinalClosed(ct,0)}return lt.alpha=function(ct){return rt(+ct)},lt}(.5);function CatmullRomOpen(rt,it){this._context=rt,this._alpha=it}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(rt,it){if(rt=+rt,it=+it,this._point){var lt=this._x2-rt,ct=this._y2-it;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(lt*lt+ct*ct,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$2(this,rt,it);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=rt,this._y0=this._y1,this._y1=this._y2,this._y2=it}};const curveCatmullRomOpen=function rt(it){function lt(ct){return it?new CatmullRomOpen(ct,it):new CardinalOpen(ct,0)}return lt.alpha=function(ct){return rt(+ct)},lt}(.5);function LinearClosed(rt){this._context=rt}LinearClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(rt,it){rt=+rt,it=+it,this._point?this._context.lineTo(rt,it):(this._point=1,this._context.moveTo(rt,it))}};function curveLinearClosed(rt){return new LinearClosed(rt)}function sign(rt){return rt<0?-1:1}function slope3(rt,it,lt){var ct=rt._x1-rt._x0,ht=it-rt._x1,ut=(rt._y1-rt._y0)/(ct||ht<0&&-0),ft=(lt-rt._y1)/(ht||ct<0&&-0),dt=(ut*ht+ft*ct)/(ct+ht);return(sign(ut)+sign(ft))*Math.min(Math.abs(ut),Math.abs(ft),.5*Math.abs(dt))||0}function slope2(rt,it){var lt=rt._x1-rt._x0;return lt?(3*(rt._y1-rt._y0)/lt-it)/2:it}function point$1(rt,it,lt){var ct=rt._x0,ht=rt._y0,ut=rt._x1,ft=rt._y1,dt=(ut-ct)/3;rt._context.bezierCurveTo(ct+dt,ht+dt*it,ut-dt,ft-dt*lt,ut,ft)}function MonotoneX(rt){this._context=rt}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(rt,it){var lt=NaN;if(rt=+rt,it=+it,!(rt===this._x1&&it===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(rt,it):this._context.moveTo(rt,it);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,lt=slope3(this,rt,it)),lt);break;default:point$1(this,this._t0,lt=slope3(this,rt,it));break}this._x0=this._x1,this._x1=rt,this._y0=this._y1,this._y1=it,this._t0=lt}}};function MonotoneY(rt){this._context=new ReflectContext(rt)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(rt,it){MonotoneX.prototype.point.call(this,it,rt)};function ReflectContext(rt){this._context=rt}ReflectContext.prototype={moveTo:function(rt,it){this._context.moveTo(it,rt)},closePath:function(){this._context.closePath()},lineTo:function(rt,it){this._context.lineTo(it,rt)},bezierCurveTo:function(rt,it,lt,ct,ht,ut){this._context.bezierCurveTo(it,rt,ct,lt,ut,ht)}};function monotoneX(rt){return new MonotoneX(rt)}function monotoneY(rt){return new MonotoneY(rt)}function Natural(rt){this._context=rt}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var rt=this._x,it=this._y,lt=rt.length;if(lt)if(this._line?this._context.lineTo(rt[0],it[0]):this._context.moveTo(rt[0],it[0]),lt===2)this._context.lineTo(rt[1],it[1]);else for(var ct=controlPoints(rt),ht=controlPoints(it),ut=0,ft=1;ft<lt;++ut,++ft)this._context.bezierCurveTo(ct[0][ut],ht[0][ut],ct[1][ut],ht[1][ut],rt[ft],it[ft]);(this._line||this._line!==0&&lt===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(rt,it){this._x.push(+rt),this._y.push(+it)}};function controlPoints(rt){var it,lt=rt.length-1,ct,ht=new Array(lt),ut=new Array(lt),ft=new Array(lt);for(ht[0]=0,ut[0]=2,ft[0]=rt[0]+2*rt[1],it=1;it<lt-1;++it)ht[it]=1,ut[it]=4,ft[it]=4*rt[it]+2*rt[it+1];for(ht[lt-1]=2,ut[lt-1]=7,ft[lt-1]=8*rt[lt-1]+rt[lt],it=1;it<lt;++it)ct=ht[it]/ut[it-1],ut[it]-=ct,ft[it]-=ct*ft[it-1];for(ht[lt-1]=ft[lt-1]/ut[lt-1],it=lt-2;it>=0;--it)ht[it]=(ft[it]-ht[it+1])/ut[it];for(ut[lt-1]=(rt[lt]+ht[lt-1])/2,it=0;it<lt-1;++it)ut[it]=2*rt[it+1]-ht[it+1];return[ht,ut]}function curveNatural(rt){return new Natural(rt)}function Step(rt,it){this._context=rt,this._t=it}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(rt,it){switch(rt=+rt,it=+it,this._point){case 0:this._point=1,this._line?this._context.lineTo(rt,it):this._context.moveTo(rt,it);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,it),this._context.lineTo(rt,it);else{var lt=this._x*(1-this._t)+rt*this._t;this._context.lineTo(lt,this._y),this._context.lineTo(lt,it)}break}}this._x=rt,this._y=it}};function curveStep(rt){return new Step(rt,.5)}function stepBefore(rt){return new Step(rt,0)}function stepAfter(rt){return new Step(rt,1)}function Transform(rt,it,lt){this.k=rt,this.x=it,this.y=lt}Transform.prototype={constructor:Transform,scale:function(rt){return rt===1?this:new Transform(this.k*rt,this.x,this.y)},translate:function(rt,it){return rt===0&it===0?this:new Transform(this.k,this.x+this.k*rt,this.y+this.k*it)},apply:function(rt){return[rt[0]*this.k+this.x,rt[1]*this.k+this.y]},applyX:function(rt){return rt*this.k+this.x},applyY:function(rt){return rt*this.k+this.y},invert:function(rt){return[(rt[0]-this.x)/this.k,(rt[1]-this.y)/this.k]},invertX:function(rt){return(rt-this.x)/this.k},invertY:function(rt){return(rt-this.y)/this.k},rescaleX:function(rt){return rt.copy().domain(rt.range().map(this.invertX,this).map(rt.invert,rt))},rescaleY:function(rt){return rt.copy().domain(rt.range().map(this.invertY,this).map(rt.invert,rt))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Transform.prototype;var ZERO_WIDTH_SPACE="​",d3CurveTypes={curveBasis,curveBasisClosed,curveBasisOpen,curveBumpX:bumpX,curveBumpY:bumpY,curveBundle,curveCardinalClosed,curveCardinalOpen,curveCardinal,curveCatmullRomClosed,curveCatmullRomOpen,curveCatmullRom,curveLinear,curveLinearClosed,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},directiveWithoutOpen=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,detectInit=__name(function(rt,it){const lt=detectDirective(rt,/(?:init\b)|(?:initialize\b)/);let ct={};if(Array.isArray(lt)){const ft=lt.map(dt=>dt.args);sanitizeDirective(ft),ct=assignWithDepth_default(ct,[...ft])}else ct=lt.args;if(!ct)return;let ht=detectType$2(rt,it);const ut="config";return ct[ut]!==void 0&&(ht==="flowchart-v2"&&(ht="flowchart"),ct[ht]=ct[ut],delete ct[ut]),ct},"detectInit"),detectDirective=__name(function(rt,it=null){var lt,ct;try{const ht=new RegExp(`[%]{2}(?![{]${directiveWithoutOpen.source})(?=[}][%]{2}).*
`,"ig");rt=rt.trim().replace(ht,"").replace(/'/gm,'"'),log.debug(`Detecting diagram directive${it!==null?" type:"+it:""} based on the text:${rt}`);let ut;const ft=[];for(;(ut=directiveRegex.exec(rt))!==null;)if(ut.index===directiveRegex.lastIndex&&directiveRegex.lastIndex++,ut&&!it||it&&((lt=ut[1])!=null&&lt.match(it))||it&&((ct=ut[2])!=null&&ct.match(it))){const dt=ut[1]?ut[1]:ut[2],pt=ut[3]?ut[3].trim():ut[4]?JSON.parse(ut[4].trim()):null;ft.push({type:dt,args:pt})}return ft.length===0?{type:rt,args:null}:ft.length===1?ft[0]:ft}catch(ht){return log.error(`ERROR: ${ht.message} - Unable to parse directive type: '${it}' based on the text: '${rt}'`),{type:void 0,args:null}}},"detectDirective"),removeDirectives=__name(function(rt){return rt.replace(directiveRegex,"")},"removeDirectives"),isSubstringInArray=__name(function(rt,it){for(const[lt,ct]of it.entries())if(ct.match(rt))return lt;return-1},"isSubstringInArray");function interpolateToCurve(rt,it){if(!rt)return it;const lt=`curve${rt.charAt(0).toUpperCase()+rt.slice(1)}`;return d3CurveTypes[lt]??it}__name(interpolateToCurve,"interpolateToCurve");function formatUrl(rt,it){const lt=rt.trim();if(lt)return it.securityLevel!=="loose"?sanitizeUrl_1(lt):lt}__name(formatUrl,"formatUrl");var runFunc=__name((rt,...it)=>{const lt=rt.split("."),ct=lt.length-1,ht=lt[ct];let ut=window;for(let ft=0;ft<ct;ft++)if(ut=ut[lt[ft]],!ut){log.error(`Function name: ${rt} not found in window`);return}ut[ht](...it)},"runFunc");function distance(rt,it){return!rt||!it?0:Math.sqrt(Math.pow(it.x-rt.x,2)+Math.pow(it.y-rt.y,2))}__name(distance,"distance");function traverseEdge(rt){let it,lt=0;rt.forEach(ht=>{lt+=distance(ht,it),it=ht});const ct=lt/2;return calculatePoint(rt,ct)}__name(traverseEdge,"traverseEdge");function calcLabelPosition(rt){return rt.length===1?rt[0]:traverseEdge(rt)}__name(calcLabelPosition,"calcLabelPosition");var roundNumber=__name((rt,it=2)=>{const lt=Math.pow(10,it);return Math.round(rt*lt)/lt},"roundNumber"),calculatePoint=__name((rt,it)=>{let lt,ct=it;for(const ht of rt){if(lt){const ut=distance(ht,lt);if(ut<ct)ct-=ut;else{const ft=ct/ut;if(ft<=0)return lt;if(ft>=1)return{x:ht.x,y:ht.y};if(ft>0&&ft<1)return{x:roundNumber((1-ft)*lt.x+ft*ht.x,5),y:roundNumber((1-ft)*lt.y+ft*ht.y,5)}}}lt=ht}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),calcCardinalityPosition=__name((rt,it,lt)=>{log.info(`our points ${JSON.stringify(it)}`),it[0]!==lt&&(it=it.reverse());const ht=calculatePoint(it,25),ut=rt?10:5,ft=Math.atan2(it[0].y-ht.y,it[0].x-ht.x),dt={x:0,y:0};return dt.x=Math.sin(ft)*ut+(it[0].x+ht.x)/2,dt.y=-Math.cos(ft)*ut+(it[0].y+ht.y)/2,dt},"calcCardinalityPosition");function calcTerminalLabelPosition(rt,it,lt){const ct=structuredClone(lt);log.info("our points",ct),it!=="start_left"&&it!=="start_right"&&ct.reverse();const ht=25+rt,ut=calculatePoint(ct,ht),ft=10+rt*.5,dt=Math.atan2(ct[0].y-ut.y,ct[0].x-ut.x),pt={x:0,y:0};return it==="start_left"?(pt.x=Math.sin(dt+Math.PI)*ft+(ct[0].x+ut.x)/2,pt.y=-Math.cos(dt+Math.PI)*ft+(ct[0].y+ut.y)/2):it==="end_right"?(pt.x=Math.sin(dt-Math.PI)*ft+(ct[0].x+ut.x)/2-5,pt.y=-Math.cos(dt-Math.PI)*ft+(ct[0].y+ut.y)/2-5):it==="end_left"?(pt.x=Math.sin(dt)*ft+(ct[0].x+ut.x)/2-5,pt.y=-Math.cos(dt)*ft+(ct[0].y+ut.y)/2-5):(pt.x=Math.sin(dt)*ft+(ct[0].x+ut.x)/2,pt.y=-Math.cos(dt)*ft+(ct[0].y+ut.y)/2),pt}__name(calcTerminalLabelPosition,"calcTerminalLabelPosition");function getStylesFromArray(rt){let it="",lt="";for(const ct of rt)ct!==void 0&&(ct.startsWith("color:")||ct.startsWith("text-align:")?lt=lt+ct+";":it=it+ct+";");return{style:it,labelStyle:lt}}__name(getStylesFromArray,"getStylesFromArray");var cnt=0,generateId=__name(()=>(cnt++,"id-"+Math.random().toString(36).substr(2,12)+"-"+cnt),"generateId");function makeRandomHex(rt){let it="";const lt="0123456789abcdef",ct=lt.length;for(let ht=0;ht<rt;ht++)it+=lt.charAt(Math.floor(Math.random()*ct));return it}__name(makeRandomHex,"makeRandomHex");var random=__name(rt=>makeRandomHex(rt.length),"random"),getTextObj=__name(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),drawSimpleText=__name(function(rt,it){const lt=it.text.replace(common_default.lineBreakRegex," "),[,ct]=parseFontSize(it.fontSize),ht=rt.append("text");ht.attr("x",it.x),ht.attr("y",it.y),ht.style("text-anchor",it.anchor),ht.style("font-family",it.fontFamily),ht.style("font-size",ct),ht.style("font-weight",it.fontWeight),ht.attr("fill",it.fill),it.class!==void 0&&ht.attr("class",it.class);const ut=ht.append("tspan");return ut.attr("x",it.x+it.textMargin*2),ut.attr("fill",it.fill),ut.text(lt),ht},"drawSimpleText"),wrapLabel=memoize((rt,it,lt)=>{if(!rt||(lt=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},lt),common_default.lineBreakRegex.test(rt)))return rt;const ct=rt.split(" ").filter(Boolean),ht=[];let ut="";return ct.forEach((ft,dt)=>{const pt=calculateTextWidth(`${ft} `,lt),gt=calculateTextWidth(ut,lt);if(pt>it){const{hyphenatedStrings:mt,remainingWord:bt}=breakString(ft,it,"-",lt);ht.push(ut,...mt),ut=bt}else gt+pt>=it?(ht.push(ut),ut=ft):ut=[ut,ft].filter(Boolean).join(" ");dt+1===ct.length&&ht.push(ut)}),ht.filter(ft=>ft!=="").join(lt.joinWith)},(rt,it,lt)=>`${rt}${it}${lt.fontSize}${lt.fontWeight}${lt.fontFamily}${lt.joinWith}`),breakString=memoize((rt,it,lt="-",ct)=>{ct=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},ct);const ht=[...rt],ut=[];let ft="";return ht.forEach((dt,pt)=>{const gt=`${ft}${dt}`;if(calculateTextWidth(gt,ct)>=it){const yt=pt+1,mt=ht.length===yt,bt=`${gt}${lt}`;ut.push(mt?gt:bt),ft=""}else ft=gt}),{hyphenatedStrings:ut,remainingWord:ft}},(rt,it,lt="-",ct)=>`${rt}${it}${lt}${ct.fontSize}${ct.fontWeight}${ct.fontFamily}`);function calculateTextHeight(rt,it){return calculateTextDimensions(rt,it).height}__name(calculateTextHeight,"calculateTextHeight");function calculateTextWidth(rt,it){return calculateTextDimensions(rt,it).width}__name(calculateTextWidth,"calculateTextWidth");var calculateTextDimensions=memoize((rt,it)=>{const{fontSize:lt=12,fontFamily:ct="Arial",fontWeight:ht=400}=it;if(!rt)return{width:0,height:0};const[,ut]=parseFontSize(lt),ft=["sans-serif",ct],dt=rt.split(common_default.lineBreakRegex),pt=[],gt=select("body");if(!gt.remove)return{width:0,height:0,lineHeight:0};const _t=gt.append("svg");for(const mt of ft){let bt=0;const xt={width:0,height:0,lineHeight:0};for(const wt of dt){const Ct=getTextObj();Ct.text=wt||ZERO_WIDTH_SPACE;const St=drawSimpleText(_t,Ct).style("font-size",ut).style("font-weight",ht).style("font-family",mt),Tt=(St._groups||St)[0][0].getBBox();if(Tt.width===0&&Tt.height===0)throw new Error("svg element not in render tree");xt.width=Math.round(Math.max(xt.width,Tt.width)),bt=Math.round(Tt.height),xt.height+=bt,xt.lineHeight=Math.round(Math.max(xt.lineHeight,bt))}pt.push(xt)}_t.remove();const yt=isNaN(pt[1].height)||isNaN(pt[1].width)||isNaN(pt[1].lineHeight)||pt[0].height>pt[1].height&&pt[0].width>pt[1].width&&pt[0].lineHeight>pt[1].lineHeight?0:1;return pt[yt]},(rt,it)=>`${rt}${it.fontSize}${it.fontWeight}${it.fontFamily}`),Be,InitIDGenerator=(Be=class{constructor(it=!1,lt){this.count=0,this.count=lt?lt.length:0,this.next=it?()=>this.count++:()=>Date.now()}},__name(Be,"InitIDGenerator"),Be),decoder,entityDecode=__name(function(rt){return decoder=decoder||document.createElement("div"),rt=escape(rt).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),decoder.innerHTML=rt,unescape(decoder.textContent)},"entityDecode");function isDetailedError(rt){return"str"in rt}__name(isDetailedError,"isDetailedError");var insertTitle=__name((rt,it,lt,ct)=>{var ut;if(!ct)return;const ht=(ut=rt.node())==null?void 0:ut.getBBox();ht&&rt.append("text").text(ct).attr("text-anchor","middle").attr("x",ht.x+ht.width/2).attr("y",-lt).attr("class",it)},"insertTitle"),parseFontSize=__name(rt=>{if(typeof rt=="number")return[rt,rt+"px"];const it=parseInt(rt??"",10);return Number.isNaN(it)?[void 0,void 0]:rt===String(it)?[it,rt+"px"]:[it,rt]},"parseFontSize");function cleanAndMerge(rt,it){return merge$1({},rt,it)}__name(cleanAndMerge,"cleanAndMerge");var utils_default={assignWithDepth:assignWithDepth_default,wrapLabel,calculateTextHeight,calculateTextWidth,calculateTextDimensions,cleanAndMerge,detectInit,detectDirective,isSubstringInArray,interpolateToCurve,calcLabelPosition,calcCardinalityPosition,calcTerminalLabelPosition,formatUrl,getStylesFromArray,generateId,random,runFunc,entityDecode,insertTitle,parseFontSize,InitIDGenerator},encodeEntities=__name(function(rt){let it=rt;return it=it.replace(/style.*:\S*#.*;/g,function(lt){return lt.substring(0,lt.length-1)}),it=it.replace(/classDef.*:\S*#.*;/g,function(lt){return lt.substring(0,lt.length-1)}),it=it.replace(/#\w+;/g,function(lt){const ct=lt.substring(1,lt.length-1);return/^\+?\d+$/.test(ct)?"ﬂ°°"+ct+"¶ß":"ﬂ°"+ct+"¶ß"}),it},"encodeEntities"),decodeEntities=__name(function(rt){return rt.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),getEdgeId=__name((rt,it,{counter:lt=0,prefix:ct,suffix:ht})=>`${ct?`${ct}_`:""}${rt}_${it}_${lt}${ht?`_${ht}`:""}`,"getEdgeId");function handleUndefinedAttr(rt){return rt??null}__name(handleUndefinedAttr,"handleUndefinedAttr");function _getDefaults(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let _defaults=_getDefaults();function changeDefaults(rt){_defaults=rt}const escapeTest=/[&<>"']/,escapeReplace=new RegExp(escapeTest.source,"g"),escapeTestNoEncode=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode=new RegExp(escapeTestNoEncode.source,"g"),escapeReplacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=rt=>escapeReplacements[rt];function escape$1(rt,it){if(it){if(escapeTest.test(rt))return rt.replace(escapeReplace,getEscapeReplacement)}else if(escapeTestNoEncode.test(rt))return rt.replace(escapeReplaceNoEncode,getEscapeReplacement);return rt}const unescapeTest=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function unescape$1(rt){return rt.replace(unescapeTest,(it,lt)=>(lt=lt.toLowerCase(),lt==="colon"?":":lt.charAt(0)==="#"?lt.charAt(1)==="x"?String.fromCharCode(parseInt(lt.substring(2),16)):String.fromCharCode(+lt.substring(1)):""))}const caret$1=/(^|[^\[])\^/g;function edit(rt,it){let lt=typeof rt=="string"?rt:rt.source;it=it||"";const ct={replace:(ht,ut)=>{let ft=typeof ut=="string"?ut:ut.source;return ft=ft.replace(caret$1,"$1"),lt=lt.replace(ht,ft),ct},getRegex:()=>new RegExp(lt,it)};return ct}function cleanUrl(rt){try{rt=encodeURI(rt).replace(/%25/g,"%")}catch{return null}return rt}const noopTest={exec:()=>null};function splitCells(rt,it){const lt=rt.replace(/\|/g,(ut,ft,dt)=>{let pt=!1,gt=ft;for(;--gt>=0&&dt[gt]==="\\";)pt=!pt;return pt?"|":" |"}),ct=lt.split(/ \|/);let ht=0;if(ct[0].trim()||ct.shift(),ct.length>0&&!ct[ct.length-1].trim()&&ct.pop(),it)if(ct.length>it)ct.splice(it);else for(;ct.length<it;)ct.push("");for(;ht<ct.length;ht++)ct[ht]=ct[ht].trim().replace(/\\\|/g,"|");return ct}function rtrim(rt,it,lt){const ct=rt.length;if(ct===0)return"";let ht=0;for(;ht<ct;){const ut=rt.charAt(ct-ht-1);if(ut===it&&!lt)ht++;else if(ut!==it&&lt)ht++;else break}return rt.slice(0,ct-ht)}function findClosingBracket(rt,it){if(rt.indexOf(it[1])===-1)return-1;let lt=0;for(let ct=0;ct<rt.length;ct++)if(rt[ct]==="\\")ct++;else if(rt[ct]===it[0])lt++;else if(rt[ct]===it[1]&&(lt--,lt<0))return ct;return-1}function outputLink(rt,it,lt,ct){const ht=it.href,ut=it.title?escape$1(it.title):null,ft=rt[1].replace(/\\([\[\]])/g,"$1");if(rt[0].charAt(0)!=="!"){ct.state.inLink=!0;const dt={type:"link",raw:lt,href:ht,title:ut,text:ft,tokens:ct.inlineTokens(ft)};return ct.state.inLink=!1,dt}return{type:"image",raw:lt,href:ht,title:ut,text:escape$1(ft)}}function indentCodeCompensation(rt,it){const lt=rt.match(/^(\s+)(?:```)/);if(lt===null)return it;const ct=lt[1];return it.split(`
`).map(ht=>{const ut=ht.match(/^\s+/);if(ut===null)return ht;const[ft]=ut;return ft.length>=ct.length?ht.slice(ct.length):ht}).join(`
`)}class _Tokenizer{constructor(it){Qt(this,"options");Qt(this,"rules");Qt(this,"lexer");this.options=it||_defaults}space(it){const lt=this.rules.block.newline.exec(it);if(lt&&lt[0].length>0)return{type:"space",raw:lt[0]}}code(it){const lt=this.rules.block.code.exec(it);if(lt){const ct=lt[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:lt[0],codeBlockStyle:"indented",text:this.options.pedantic?ct:rtrim(ct,`
`)}}}fences(it){const lt=this.rules.block.fences.exec(it);if(lt){const ct=lt[0],ht=indentCodeCompensation(ct,lt[3]||"");return{type:"code",raw:ct,lang:lt[2]?lt[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):lt[2],text:ht}}}heading(it){const lt=this.rules.block.heading.exec(it);if(lt){let ct=lt[2].trim();if(/#$/.test(ct)){const ht=rtrim(ct,"#");(this.options.pedantic||!ht||/ $/.test(ht))&&(ct=ht.trim())}return{type:"heading",raw:lt[0],depth:lt[1].length,text:ct,tokens:this.lexer.inline(ct)}}}hr(it){const lt=this.rules.block.hr.exec(it);if(lt)return{type:"hr",raw:rtrim(lt[0],`
`)}}blockquote(it){const lt=this.rules.block.blockquote.exec(it);if(lt){let ct=rtrim(lt[0],`
`).split(`
`),ht="",ut="";const ft=[];for(;ct.length>0;){let dt=!1;const pt=[];let gt;for(gt=0;gt<ct.length;gt++)if(/^ {0,3}>/.test(ct[gt]))pt.push(ct[gt]),dt=!0;else if(!dt)pt.push(ct[gt]);else break;ct=ct.slice(gt);const _t=pt.join(`
`),yt=_t.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");ht=ht?`${ht}
${_t}`:_t,ut=ut?`${ut}
${yt}`:yt;const mt=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(yt,ft,!0),this.lexer.state.top=mt,ct.length===0)break;const bt=ft[ft.length-1];if((bt==null?void 0:bt.type)==="code")break;if((bt==null?void 0:bt.type)==="blockquote"){const xt=bt,wt=xt.raw+`
`+ct.join(`
`),Ct=this.blockquote(wt);ft[ft.length-1]=Ct,ht=ht.substring(0,ht.length-xt.raw.length)+Ct.raw,ut=ut.substring(0,ut.length-xt.text.length)+Ct.text;break}else if((bt==null?void 0:bt.type)==="list"){const xt=bt,wt=xt.raw+`
`+ct.join(`
`),Ct=this.list(wt);ft[ft.length-1]=Ct,ht=ht.substring(0,ht.length-bt.raw.length)+Ct.raw,ut=ut.substring(0,ut.length-xt.raw.length)+Ct.raw,ct=wt.substring(ft[ft.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:ht,tokens:ft,text:ut}}}list(it){let lt=this.rules.block.list.exec(it);if(lt){let ct=lt[1].trim();const ht=ct.length>1,ut={type:"list",raw:"",ordered:ht,start:ht?+ct.slice(0,-1):"",loose:!1,items:[]};ct=ht?`\\d{1,9}\\${ct.slice(-1)}`:`\\${ct}`,this.options.pedantic&&(ct=ht?ct:"[*+-]");const ft=new RegExp(`^( {0,3}${ct})((?:[	 ][^\\n]*)?(?:\\n|$))`);let dt=!1;for(;it;){let pt=!1,gt="",_t="";if(!(lt=ft.exec(it))||this.rules.block.hr.test(it))break;gt=lt[0],it=it.substring(gt.length);let yt=lt[2].split(`
`,1)[0].replace(/^\t+/,St=>" ".repeat(3*St.length)),mt=it.split(`
`,1)[0],bt=!yt.trim(),xt=0;if(this.options.pedantic?(xt=2,_t=yt.trimStart()):bt?xt=lt[1].length+1:(xt=lt[2].search(/[^ ]/),xt=xt>4?1:xt,_t=yt.slice(xt),xt+=lt[1].length),bt&&/^ *$/.test(mt)&&(gt+=mt+`
`,it=it.substring(mt.length+1),pt=!0),!pt){const St=new RegExp(`^ {0,${Math.min(3,xt-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),Tt=new RegExp(`^ {0,${Math.min(3,xt-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),vt=new RegExp(`^ {0,${Math.min(3,xt-1)}}(?:\`\`\`|~~~)`),kt=new RegExp(`^ {0,${Math.min(3,xt-1)}}#`);for(;it;){const Et=it.split(`
`,1)[0];if(mt=Et,this.options.pedantic&&(mt=mt.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),vt.test(mt)||kt.test(mt)||St.test(mt)||Tt.test(it))break;if(mt.search(/[^ ]/)>=xt||!mt.trim())_t+=`
`+mt.slice(xt);else{if(bt||yt.search(/[^ ]/)>=4||vt.test(yt)||kt.test(yt)||Tt.test(yt))break;_t+=`
`+mt}!bt&&!mt.trim()&&(bt=!0),gt+=Et+`
`,it=it.substring(Et.length+1),yt=mt.slice(xt)}}ut.loose||(dt?ut.loose=!0:/\n *\n *$/.test(gt)&&(dt=!0));let wt=null,Ct;this.options.gfm&&(wt=/^\[[ xX]\] /.exec(_t),wt&&(Ct=wt[0]!=="[ ] ",_t=_t.replace(/^\[[ xX]\] +/,""))),ut.items.push({type:"list_item",raw:gt,task:!!wt,checked:Ct,loose:!1,text:_t,tokens:[]}),ut.raw+=gt}ut.items[ut.items.length-1].raw=ut.items[ut.items.length-1].raw.trimEnd(),ut.items[ut.items.length-1].text=ut.items[ut.items.length-1].text.trimEnd(),ut.raw=ut.raw.trimEnd();for(let pt=0;pt<ut.items.length;pt++)if(this.lexer.state.top=!1,ut.items[pt].tokens=this.lexer.blockTokens(ut.items[pt].text,[]),!ut.loose){const gt=ut.items[pt].tokens.filter(yt=>yt.type==="space"),_t=gt.length>0&&gt.some(yt=>/\n.*\n/.test(yt.raw));ut.loose=_t}if(ut.loose)for(let pt=0;pt<ut.items.length;pt++)ut.items[pt].loose=!0;return ut}}html(it){const lt=this.rules.block.html.exec(it);if(lt)return{type:"html",block:!0,raw:lt[0],pre:lt[1]==="pre"||lt[1]==="script"||lt[1]==="style",text:lt[0]}}def(it){const lt=this.rules.block.def.exec(it);if(lt){const ct=lt[1].toLowerCase().replace(/\s+/g," "),ht=lt[2]?lt[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",ut=lt[3]?lt[3].substring(1,lt[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):lt[3];return{type:"def",tag:ct,raw:lt[0],href:ht,title:ut}}}table(it){const lt=this.rules.block.table.exec(it);if(!lt||!/[:|]/.test(lt[2]))return;const ct=splitCells(lt[1]),ht=lt[2].replace(/^\||\| *$/g,"").split("|"),ut=lt[3]&&lt[3].trim()?lt[3].replace(/\n[ \t]*$/,"").split(`
`):[],ft={type:"table",raw:lt[0],header:[],align:[],rows:[]};if(ct.length===ht.length){for(const dt of ht)/^ *-+: *$/.test(dt)?ft.align.push("right"):/^ *:-+: *$/.test(dt)?ft.align.push("center"):/^ *:-+ *$/.test(dt)?ft.align.push("left"):ft.align.push(null);for(let dt=0;dt<ct.length;dt++)ft.header.push({text:ct[dt],tokens:this.lexer.inline(ct[dt]),header:!0,align:ft.align[dt]});for(const dt of ut)ft.rows.push(splitCells(dt,ft.header.length).map((pt,gt)=>({text:pt,tokens:this.lexer.inline(pt),header:!1,align:ft.align[gt]})));return ft}}lheading(it){const lt=this.rules.block.lheading.exec(it);if(lt)return{type:"heading",raw:lt[0],depth:lt[2].charAt(0)==="="?1:2,text:lt[1],tokens:this.lexer.inline(lt[1])}}paragraph(it){const lt=this.rules.block.paragraph.exec(it);if(lt){const ct=lt[1].charAt(lt[1].length-1)===`
`?lt[1].slice(0,-1):lt[1];return{type:"paragraph",raw:lt[0],text:ct,tokens:this.lexer.inline(ct)}}}text(it){const lt=this.rules.block.text.exec(it);if(lt)return{type:"text",raw:lt[0],text:lt[0],tokens:this.lexer.inline(lt[0])}}escape(it){const lt=this.rules.inline.escape.exec(it);if(lt)return{type:"escape",raw:lt[0],text:escape$1(lt[1])}}tag(it){const lt=this.rules.inline.tag.exec(it);if(lt)return!this.lexer.state.inLink&&/^<a /i.test(lt[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(lt[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(lt[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(lt[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:lt[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:lt[0]}}link(it){const lt=this.rules.inline.link.exec(it);if(lt){const ct=lt[2].trim();if(!this.options.pedantic&&/^</.test(ct)){if(!/>$/.test(ct))return;const ft=rtrim(ct.slice(0,-1),"\\");if((ct.length-ft.length)%2===0)return}else{const ft=findClosingBracket(lt[2],"()");if(ft>-1){const pt=(lt[0].indexOf("!")===0?5:4)+lt[1].length+ft;lt[2]=lt[2].substring(0,ft),lt[0]=lt[0].substring(0,pt).trim(),lt[3]=""}}let ht=lt[2],ut="";if(this.options.pedantic){const ft=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(ht);ft&&(ht=ft[1],ut=ft[3])}else ut=lt[3]?lt[3].slice(1,-1):"";return ht=ht.trim(),/^</.test(ht)&&(this.options.pedantic&&!/>$/.test(ct)?ht=ht.slice(1):ht=ht.slice(1,-1)),outputLink(lt,{href:ht&&ht.replace(this.rules.inline.anyPunctuation,"$1"),title:ut&&ut.replace(this.rules.inline.anyPunctuation,"$1")},lt[0],this.lexer)}}reflink(it,lt){let ct;if((ct=this.rules.inline.reflink.exec(it))||(ct=this.rules.inline.nolink.exec(it))){const ht=(ct[2]||ct[1]).replace(/\s+/g," "),ut=lt[ht.toLowerCase()];if(!ut){const ft=ct[0].charAt(0);return{type:"text",raw:ft,text:ft}}return outputLink(ct,ut,ct[0],this.lexer)}}emStrong(it,lt,ct=""){let ht=this.rules.inline.emStrongLDelim.exec(it);if(!ht||ht[3]&&ct.match(/[\p{L}\p{N}]/u))return;if(!(ht[1]||ht[2]||"")||!ct||this.rules.inline.punctuation.exec(ct)){const ft=[...ht[0]].length-1;let dt,pt,gt=ft,_t=0;const yt=ht[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(yt.lastIndex=0,lt=lt.slice(-1*it.length+ft);(ht=yt.exec(lt))!=null;){if(dt=ht[1]||ht[2]||ht[3]||ht[4]||ht[5]||ht[6],!dt)continue;if(pt=[...dt].length,ht[3]||ht[4]){gt+=pt;continue}else if((ht[5]||ht[6])&&ft%3&&!((ft+pt)%3)){_t+=pt;continue}if(gt-=pt,gt>0)continue;pt=Math.min(pt,pt+gt+_t);const mt=[...ht[0]][0].length,bt=it.slice(0,ft+ht.index+mt+pt);if(Math.min(ft,pt)%2){const wt=bt.slice(1,-1);return{type:"em",raw:bt,text:wt,tokens:this.lexer.inlineTokens(wt)}}const xt=bt.slice(2,-2);return{type:"strong",raw:bt,text:xt,tokens:this.lexer.inlineTokens(xt)}}}}codespan(it){const lt=this.rules.inline.code.exec(it);if(lt){let ct=lt[2].replace(/\n/g," ");const ht=/[^ ]/.test(ct),ut=/^ /.test(ct)&&/ $/.test(ct);return ht&&ut&&(ct=ct.substring(1,ct.length-1)),ct=escape$1(ct,!0),{type:"codespan",raw:lt[0],text:ct}}}br(it){const lt=this.rules.inline.br.exec(it);if(lt)return{type:"br",raw:lt[0]}}del(it){const lt=this.rules.inline.del.exec(it);if(lt)return{type:"del",raw:lt[0],text:lt[2],tokens:this.lexer.inlineTokens(lt[2])}}autolink(it){const lt=this.rules.inline.autolink.exec(it);if(lt){let ct,ht;return lt[2]==="@"?(ct=escape$1(lt[1]),ht="mailto:"+ct):(ct=escape$1(lt[1]),ht=ct),{type:"link",raw:lt[0],text:ct,href:ht,tokens:[{type:"text",raw:ct,text:ct}]}}}url(it){var ct;let lt;if(lt=this.rules.inline.url.exec(it)){let ht,ut;if(lt[2]==="@")ht=escape$1(lt[0]),ut="mailto:"+ht;else{let ft;do ft=lt[0],lt[0]=((ct=this.rules.inline._backpedal.exec(lt[0]))==null?void 0:ct[0])??"";while(ft!==lt[0]);ht=escape$1(lt[0]),lt[1]==="www."?ut="http://"+lt[0]:ut=lt[0]}return{type:"link",raw:lt[0],text:ht,href:ut,tokens:[{type:"text",raw:ht,text:ht}]}}}inlineText(it){const lt=this.rules.inline.text.exec(it);if(lt){let ct;return this.lexer.state.inRawBlock?ct=lt[0]:ct=escape$1(lt[0]),{type:"text",raw:lt[0],text:ct}}}}const newline=/^(?: *(?:\n|$))+/,blockCode=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,bullet=/(?:[*+-]|\d{1,9}[.)])/,lheading=edit(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,bullet).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),_paragraph=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,blockText=/^[^\n]+/,_blockLabel=/(?!\s*\])(?:\\.|[^\[\]\\])+/,def=edit(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",_blockLabel).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),list=edit(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,bullet).getRegex(),_tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",_comment=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,html=edit("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",_comment).replace("tag",_tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),paragraph=edit(_paragraph).replace("hr",hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_tag).getRegex(),blockquote=edit(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",paragraph).getRegex(),blockNormal={blockquote,code:blockCode,def,fences,heading,hr,html,lheading,list,newline,paragraph,table:noopTest,text:blockText},gfmTable=edit("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_tag).getRegex(),blockGfm={...blockNormal,table:gfmTable,paragraph:edit(_paragraph).replace("hr",hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",gfmTable).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_tag).getRegex()},blockPedantic={...blockNormal,html:edit(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",_comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:noopTest,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:edit(_paragraph).replace("hr",hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",lheading).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},escape$2=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,inlineCode=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br=/^( {2,}|\\)\n(?!\s*$)/,inlineText=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,_punctuation="\\p{P}\\p{S}",punctuation=edit(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,_punctuation).getRegex(),blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,emStrongLDelim=edit(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,_punctuation).getRegex(),emStrongRDelimAst=edit("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,_punctuation).getRegex(),emStrongRDelimUnd=edit("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,_punctuation).getRegex(),anyPunctuation=edit(/\\([punct])/,"gu").replace(/punct/g,_punctuation).getRegex(),autolink=edit(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),_inlineComment=edit(_comment).replace("(?:-->|$)","-->").getRegex(),tag=edit("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",_inlineComment).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),_inlineLabel=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,link=edit(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",_inlineLabel).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),reflink=edit(/^!?\[(label)\]\[(ref)\]/).replace("label",_inlineLabel).replace("ref",_blockLabel).getRegex(),nolink=edit(/^!?\[(ref)\](?:\[\])?/).replace("ref",_blockLabel).getRegex(),reflinkSearch=edit("reflink|nolink(?!\\()","g").replace("reflink",reflink).replace("nolink",nolink).getRegex(),inlineNormal={_backpedal:noopTest,anyPunctuation,autolink,blockSkip,br,code:inlineCode,del:noopTest,emStrongLDelim,emStrongRDelimAst,emStrongRDelimUnd,escape:escape$2,link,nolink,punctuation,reflink,reflinkSearch,tag,text:inlineText,url:noopTest},inlinePedantic={...inlineNormal,link:edit(/^!?\[(label)\]\((.*?)\)/).replace("label",_inlineLabel).getRegex(),reflink:edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",_inlineLabel).getRegex()},inlineGfm={...inlineNormal,escape:edit(escape$2).replace("])","~|])").getRegex(),url:edit(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},inlineBreaks={...inlineGfm,br:edit(br).replace("{2,}","*").getRegex(),text:edit(inlineGfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},block={normal:blockNormal,gfm:blockGfm,pedantic:blockPedantic},inline={normal:inlineNormal,gfm:inlineGfm,breaks:inlineBreaks,pedantic:inlinePedantic};class _Lexer{constructor(it){Qt(this,"tokens");Qt(this,"options");Qt(this,"state");Qt(this,"tokenizer");Qt(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=it||_defaults,this.options.tokenizer=this.options.tokenizer||new _Tokenizer,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const lt={block:block.normal,inline:inline.normal};this.options.pedantic?(lt.block=block.pedantic,lt.inline=inline.pedantic):this.options.gfm&&(lt.block=block.gfm,this.options.breaks?lt.inline=inline.breaks:lt.inline=inline.gfm),this.tokenizer.rules=lt}static get rules(){return{block,inline}}static lex(it,lt){return new _Lexer(lt).lex(it)}static lexInline(it,lt){return new _Lexer(lt).inlineTokens(it)}lex(it){it=it.replace(/\r\n|\r/g,`
`),this.blockTokens(it,this.tokens);for(let lt=0;lt<this.inlineQueue.length;lt++){const ct=this.inlineQueue[lt];this.inlineTokens(ct.src,ct.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(it,lt=[],ct=!1){this.options.pedantic?it=it.replace(/\t/g,"    ").replace(/^ +$/gm,""):it=it.replace(/^( *)(\t+)/gm,(dt,pt,gt)=>pt+"    ".repeat(gt.length));let ht,ut,ft;for(;it;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(dt=>(ht=dt.call({lexer:this},it,lt))?(it=it.substring(ht.raw.length),lt.push(ht),!0):!1))){if(ht=this.tokenizer.space(it)){it=it.substring(ht.raw.length),ht.raw.length===1&&lt.length>0?lt[lt.length-1].raw+=`
`:lt.push(ht);continue}if(ht=this.tokenizer.code(it)){it=it.substring(ht.raw.length),ut=lt[lt.length-1],ut&&(ut.type==="paragraph"||ut.type==="text")?(ut.raw+=`
`+ht.raw,ut.text+=`
`+ht.text,this.inlineQueue[this.inlineQueue.length-1].src=ut.text):lt.push(ht);continue}if(ht=this.tokenizer.fences(it)){it=it.substring(ht.raw.length),lt.push(ht);continue}if(ht=this.tokenizer.heading(it)){it=it.substring(ht.raw.length),lt.push(ht);continue}if(ht=this.tokenizer.hr(it)){it=it.substring(ht.raw.length),lt.push(ht);continue}if(ht=this.tokenizer.blockquote(it)){it=it.substring(ht.raw.length),lt.push(ht);continue}if(ht=this.tokenizer.list(it)){it=it.substring(ht.raw.length),lt.push(ht);continue}if(ht=this.tokenizer.html(it)){it=it.substring(ht.raw.length),lt.push(ht);continue}if(ht=this.tokenizer.def(it)){it=it.substring(ht.raw.length),ut=lt[lt.length-1],ut&&(ut.type==="paragraph"||ut.type==="text")?(ut.raw+=`
`+ht.raw,ut.text+=`
`+ht.raw,this.inlineQueue[this.inlineQueue.length-1].src=ut.text):this.tokens.links[ht.tag]||(this.tokens.links[ht.tag]={href:ht.href,title:ht.title});continue}if(ht=this.tokenizer.table(it)){it=it.substring(ht.raw.length),lt.push(ht);continue}if(ht=this.tokenizer.lheading(it)){it=it.substring(ht.raw.length),lt.push(ht);continue}if(ft=it,this.options.extensions&&this.options.extensions.startBlock){let dt=1/0;const pt=it.slice(1);let gt;this.options.extensions.startBlock.forEach(_t=>{gt=_t.call({lexer:this},pt),typeof gt=="number"&&gt>=0&&(dt=Math.min(dt,gt))}),dt<1/0&&dt>=0&&(ft=it.substring(0,dt+1))}if(this.state.top&&(ht=this.tokenizer.paragraph(ft))){ut=lt[lt.length-1],ct&&(ut==null?void 0:ut.type)==="paragraph"?(ut.raw+=`
`+ht.raw,ut.text+=`
`+ht.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ut.text):lt.push(ht),ct=ft.length!==it.length,it=it.substring(ht.raw.length);continue}if(ht=this.tokenizer.text(it)){it=it.substring(ht.raw.length),ut=lt[lt.length-1],ut&&ut.type==="text"?(ut.raw+=`
`+ht.raw,ut.text+=`
`+ht.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ut.text):lt.push(ht);continue}if(it){const dt="Infinite loop on byte: "+it.charCodeAt(0);if(this.options.silent){console.error(dt);break}else throw new Error(dt)}}return this.state.top=!0,lt}inline(it,lt=[]){return this.inlineQueue.push({src:it,tokens:lt}),lt}inlineTokens(it,lt=[]){let ct,ht,ut,ft=it,dt,pt,gt;if(this.tokens.links){const _t=Object.keys(this.tokens.links);if(_t.length>0)for(;(dt=this.tokenizer.rules.inline.reflinkSearch.exec(ft))!=null;)_t.includes(dt[0].slice(dt[0].lastIndexOf("[")+1,-1))&&(ft=ft.slice(0,dt.index)+"["+"a".repeat(dt[0].length-2)+"]"+ft.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(dt=this.tokenizer.rules.inline.blockSkip.exec(ft))!=null;)ft=ft.slice(0,dt.index)+"["+"a".repeat(dt[0].length-2)+"]"+ft.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(dt=this.tokenizer.rules.inline.anyPunctuation.exec(ft))!=null;)ft=ft.slice(0,dt.index)+"++"+ft.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;it;)if(pt||(gt=""),pt=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(_t=>(ct=_t.call({lexer:this},it,lt))?(it=it.substring(ct.raw.length),lt.push(ct),!0):!1))){if(ct=this.tokenizer.escape(it)){it=it.substring(ct.raw.length),lt.push(ct);continue}if(ct=this.tokenizer.tag(it)){it=it.substring(ct.raw.length),ht=lt[lt.length-1],ht&&ct.type==="text"&&ht.type==="text"?(ht.raw+=ct.raw,ht.text+=ct.text):lt.push(ct);continue}if(ct=this.tokenizer.link(it)){it=it.substring(ct.raw.length),lt.push(ct);continue}if(ct=this.tokenizer.reflink(it,this.tokens.links)){it=it.substring(ct.raw.length),ht=lt[lt.length-1],ht&&ct.type==="text"&&ht.type==="text"?(ht.raw+=ct.raw,ht.text+=ct.text):lt.push(ct);continue}if(ct=this.tokenizer.emStrong(it,ft,gt)){it=it.substring(ct.raw.length),lt.push(ct);continue}if(ct=this.tokenizer.codespan(it)){it=it.substring(ct.raw.length),lt.push(ct);continue}if(ct=this.tokenizer.br(it)){it=it.substring(ct.raw.length),lt.push(ct);continue}if(ct=this.tokenizer.del(it)){it=it.substring(ct.raw.length),lt.push(ct);continue}if(ct=this.tokenizer.autolink(it)){it=it.substring(ct.raw.length),lt.push(ct);continue}if(!this.state.inLink&&(ct=this.tokenizer.url(it))){it=it.substring(ct.raw.length),lt.push(ct);continue}if(ut=it,this.options.extensions&&this.options.extensions.startInline){let _t=1/0;const yt=it.slice(1);let mt;this.options.extensions.startInline.forEach(bt=>{mt=bt.call({lexer:this},yt),typeof mt=="number"&&mt>=0&&(_t=Math.min(_t,mt))}),_t<1/0&&_t>=0&&(ut=it.substring(0,_t+1))}if(ct=this.tokenizer.inlineText(ut)){it=it.substring(ct.raw.length),ct.raw.slice(-1)!=="_"&&(gt=ct.raw.slice(-1)),pt=!0,ht=lt[lt.length-1],ht&&ht.type==="text"?(ht.raw+=ct.raw,ht.text+=ct.text):lt.push(ct);continue}if(it){const _t="Infinite loop on byte: "+it.charCodeAt(0);if(this.options.silent){console.error(_t);break}else throw new Error(_t)}}return lt}}class _Renderer{constructor(it){Qt(this,"options");Qt(this,"parser");this.options=it||_defaults}space(it){return""}code({text:it,lang:lt,escaped:ct}){var ft;const ht=(ft=(lt||"").match(/^\S*/))==null?void 0:ft[0],ut=it.replace(/\n$/,"")+`
`;return ht?'<pre><code class="language-'+escape$1(ht)+'">'+(ct?ut:escape$1(ut,!0))+`</code></pre>
`:"<pre><code>"+(ct?ut:escape$1(ut,!0))+`</code></pre>
`}blockquote({tokens:it}){return`<blockquote>
${this.parser.parse(it)}</blockquote>
`}html({text:it}){return it}heading({tokens:it,depth:lt}){return`<h${lt}>${this.parser.parseInline(it)}</h${lt}>
`}hr(it){return`<hr>
`}list(it){const lt=it.ordered,ct=it.start;let ht="";for(let dt=0;dt<it.items.length;dt++){const pt=it.items[dt];ht+=this.listitem(pt)}const ut=lt?"ol":"ul",ft=lt&&ct!==1?' start="'+ct+'"':"";return"<"+ut+ft+`>
`+ht+"</"+ut+`>
`}listitem(it){let lt="";if(it.task){const ct=this.checkbox({checked:!!it.checked});it.loose?it.tokens.length>0&&it.tokens[0].type==="paragraph"?(it.tokens[0].text=ct+" "+it.tokens[0].text,it.tokens[0].tokens&&it.tokens[0].tokens.length>0&&it.tokens[0].tokens[0].type==="text"&&(it.tokens[0].tokens[0].text=ct+" "+it.tokens[0].tokens[0].text)):it.tokens.unshift({type:"text",raw:ct+" ",text:ct+" "}):lt+=ct+" "}return lt+=this.parser.parse(it.tokens,!!it.loose),`<li>${lt}</li>
`}checkbox({checked:it}){return"<input "+(it?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:it}){return`<p>${this.parser.parseInline(it)}</p>
`}table(it){let lt="",ct="";for(let ut=0;ut<it.header.length;ut++)ct+=this.tablecell(it.header[ut]);lt+=this.tablerow({text:ct});let ht="";for(let ut=0;ut<it.rows.length;ut++){const ft=it.rows[ut];ct="";for(let dt=0;dt<ft.length;dt++)ct+=this.tablecell(ft[dt]);ht+=this.tablerow({text:ct})}return ht&&(ht=`<tbody>${ht}</tbody>`),`<table>
<thead>
`+lt+`</thead>
`+ht+`</table>
`}tablerow({text:it}){return`<tr>
${it}</tr>
`}tablecell(it){const lt=this.parser.parseInline(it.tokens),ct=it.header?"th":"td";return(it.align?`<${ct} align="${it.align}">`:`<${ct}>`)+lt+`</${ct}>
`}strong({tokens:it}){return`<strong>${this.parser.parseInline(it)}</strong>`}em({tokens:it}){return`<em>${this.parser.parseInline(it)}</em>`}codespan({text:it}){return`<code>${it}</code>`}br(it){return"<br>"}del({tokens:it}){return`<del>${this.parser.parseInline(it)}</del>`}link({href:it,title:lt,tokens:ct}){const ht=this.parser.parseInline(ct),ut=cleanUrl(it);if(ut===null)return ht;it=ut;let ft='<a href="'+it+'"';return lt&&(ft+=' title="'+lt+'"'),ft+=">"+ht+"</a>",ft}image({href:it,title:lt,text:ct}){const ht=cleanUrl(it);if(ht===null)return ct;it=ht;let ut=`<img src="${it}" alt="${ct}"`;return lt&&(ut+=` title="${lt}"`),ut+=">",ut}text(it){return"tokens"in it&&it.tokens?this.parser.parseInline(it.tokens):it.text}}class _TextRenderer{strong({text:it}){return it}em({text:it}){return it}codespan({text:it}){return it}del({text:it}){return it}html({text:it}){return it}text({text:it}){return it}link({text:it}){return""+it}image({text:it}){return""+it}br(){return""}}class _Parser{constructor(it){Qt(this,"options");Qt(this,"renderer");Qt(this,"textRenderer");this.options=it||_defaults,this.options.renderer=this.options.renderer||new _Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new _TextRenderer}static parse(it,lt){return new _Parser(lt).parse(it)}static parseInline(it,lt){return new _Parser(lt).parseInline(it)}parse(it,lt=!0){let ct="";for(let ht=0;ht<it.length;ht++){const ut=it[ht];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ut.type]){const dt=ut,pt=this.options.extensions.renderers[dt.type].call({parser:this},dt);if(pt!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(dt.type)){ct+=pt||"";continue}}const ft=ut;switch(ft.type){case"space":{ct+=this.renderer.space(ft);continue}case"hr":{ct+=this.renderer.hr(ft);continue}case"heading":{ct+=this.renderer.heading(ft);continue}case"code":{ct+=this.renderer.code(ft);continue}case"table":{ct+=this.renderer.table(ft);continue}case"blockquote":{ct+=this.renderer.blockquote(ft);continue}case"list":{ct+=this.renderer.list(ft);continue}case"html":{ct+=this.renderer.html(ft);continue}case"paragraph":{ct+=this.renderer.paragraph(ft);continue}case"text":{let dt=ft,pt=this.renderer.text(dt);for(;ht+1<it.length&&it[ht+1].type==="text";)dt=it[++ht],pt+=`
`+this.renderer.text(dt);lt?ct+=this.renderer.paragraph({type:"paragraph",raw:pt,text:pt,tokens:[{type:"text",raw:pt,text:pt}]}):ct+=pt;continue}default:{const dt='Token with "'+ft.type+'" type was not found.';if(this.options.silent)return console.error(dt),"";throw new Error(dt)}}}return ct}parseInline(it,lt){lt=lt||this.renderer;let ct="";for(let ht=0;ht<it.length;ht++){const ut=it[ht];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ut.type]){const dt=this.options.extensions.renderers[ut.type].call({parser:this},ut);if(dt!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(ut.type)){ct+=dt||"";continue}}const ft=ut;switch(ft.type){case"escape":{ct+=lt.text(ft);break}case"html":{ct+=lt.html(ft);break}case"link":{ct+=lt.link(ft);break}case"image":{ct+=lt.image(ft);break}case"strong":{ct+=lt.strong(ft);break}case"em":{ct+=lt.em(ft);break}case"codespan":{ct+=lt.codespan(ft);break}case"br":{ct+=lt.br(ft);break}case"del":{ct+=lt.del(ft);break}case"text":{ct+=lt.text(ft);break}default:{const dt='Token with "'+ft.type+'" type was not found.';if(this.options.silent)return console.error(dt),"";throw new Error(dt)}}}return ct}}class _Hooks{constructor(it){Qt(this,"options");this.options=it||_defaults}preprocess(it){return it}postprocess(it){return it}processAllTokens(it){return it}}Qt(_Hooks,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var pe,wr,Ve,Sr;class Marked{constructor(...it){xr(this,pe);Qt(this,"defaults",_getDefaults());Qt(this,"options",this.setOptions);Qt(this,"parse",Oe(this,pe,Ve).call(this,_Lexer.lex,_Parser.parse));Qt(this,"parseInline",Oe(this,pe,Ve).call(this,_Lexer.lexInline,_Parser.parseInline));Qt(this,"Parser",_Parser);Qt(this,"Renderer",_Renderer);Qt(this,"TextRenderer",_TextRenderer);Qt(this,"Lexer",_Lexer);Qt(this,"Tokenizer",_Tokenizer);Qt(this,"Hooks",_Hooks);this.use(...it)}walkTokens(it,lt){var ht,ut;let ct=[];for(const ft of it)switch(ct=ct.concat(lt.call(this,ft)),ft.type){case"table":{const dt=ft;for(const pt of dt.header)ct=ct.concat(this.walkTokens(pt.tokens,lt));for(const pt of dt.rows)for(const gt of pt)ct=ct.concat(this.walkTokens(gt.tokens,lt));break}case"list":{const dt=ft;ct=ct.concat(this.walkTokens(dt.items,lt));break}default:{const dt=ft;(ut=(ht=this.defaults.extensions)==null?void 0:ht.childTokens)!=null&&ut[dt.type]?this.defaults.extensions.childTokens[dt.type].forEach(pt=>{const gt=dt[pt].flat(1/0);ct=ct.concat(this.walkTokens(gt,lt))}):dt.tokens&&(ct=ct.concat(this.walkTokens(dt.tokens,lt)))}}return ct}use(...it){const lt=this.defaults.extensions||{renderers:{},childTokens:{}};return it.forEach(ct=>{const ht={...ct};if(ht.async=this.defaults.async||ht.async||!1,ct.extensions&&(ct.extensions.forEach(ut=>{if(!ut.name)throw new Error("extension name required");if("renderer"in ut){const ft=lt.renderers[ut.name];ft?lt.renderers[ut.name]=function(...dt){let pt=ut.renderer.apply(this,dt);return pt===!1&&(pt=ft.apply(this,dt)),pt}:lt.renderers[ut.name]=ut.renderer}if("tokenizer"in ut){if(!ut.level||ut.level!=="block"&&ut.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const ft=lt[ut.level];ft?ft.unshift(ut.tokenizer):lt[ut.level]=[ut.tokenizer],ut.start&&(ut.level==="block"?lt.startBlock?lt.startBlock.push(ut.start):lt.startBlock=[ut.start]:ut.level==="inline"&&(lt.startInline?lt.startInline.push(ut.start):lt.startInline=[ut.start]))}"childTokens"in ut&&ut.childTokens&&(lt.childTokens[ut.name]=ut.childTokens)}),ht.extensions=lt),ct.renderer){const ut=this.defaults.renderer||new _Renderer(this.defaults);for(const ft in ct.renderer){if(!(ft in ut))throw new Error(`renderer '${ft}' does not exist`);if(["options","parser"].includes(ft))continue;const dt=ft;let pt=ct.renderer[dt];ct.useNewRenderer||(pt=Oe(this,pe,wr).call(this,pt,dt,ut));const gt=ut[dt];ut[dt]=(..._t)=>{let yt=pt.apply(ut,_t);return yt===!1&&(yt=gt.apply(ut,_t)),yt||""}}ht.renderer=ut}if(ct.tokenizer){const ut=this.defaults.tokenizer||new _Tokenizer(this.defaults);for(const ft in ct.tokenizer){if(!(ft in ut))throw new Error(`tokenizer '${ft}' does not exist`);if(["options","rules","lexer"].includes(ft))continue;const dt=ft,pt=ct.tokenizer[dt],gt=ut[dt];ut[dt]=(..._t)=>{let yt=pt.apply(ut,_t);return yt===!1&&(yt=gt.apply(ut,_t)),yt}}ht.tokenizer=ut}if(ct.hooks){const ut=this.defaults.hooks||new _Hooks;for(const ft in ct.hooks){if(!(ft in ut))throw new Error(`hook '${ft}' does not exist`);if(ft==="options")continue;const dt=ft,pt=ct.hooks[dt],gt=ut[dt];_Hooks.passThroughHooks.has(ft)?ut[dt]=_t=>{if(this.defaults.async)return Promise.resolve(pt.call(ut,_t)).then(mt=>gt.call(ut,mt));const yt=pt.call(ut,_t);return gt.call(ut,yt)}:ut[dt]=(..._t)=>{let yt=pt.apply(ut,_t);return yt===!1&&(yt=gt.apply(ut,_t)),yt}}ht.hooks=ut}if(ct.walkTokens){const ut=this.defaults.walkTokens,ft=ct.walkTokens;ht.walkTokens=function(dt){let pt=[];return pt.push(ft.call(this,dt)),ut&&(pt=pt.concat(ut.call(this,dt))),pt}}this.defaults={...this.defaults,...ht}}),this}setOptions(it){return this.defaults={...this.defaults,...it},this}lexer(it,lt){return _Lexer.lex(it,lt??this.defaults)}parser(it,lt){return _Parser.parse(it,lt??this.defaults)}}pe=new WeakSet,wr=function(it,lt,ct){switch(lt){case"heading":return function(ht){return!ht.type||ht.type!==lt?it.apply(this,arguments):it.call(this,ct.parser.parseInline(ht.tokens),ht.depth,unescape$1(ct.parser.parseInline(ht.tokens,ct.parser.textRenderer)))};case"code":return function(ht){return!ht.type||ht.type!==lt?it.apply(this,arguments):it.call(this,ht.text,ht.lang,!!ht.escaped)};case"table":return function(ht){if(!ht.type||ht.type!==lt)return it.apply(this,arguments);let ut="",ft="";for(let pt=0;pt<ht.header.length;pt++)ft+=this.tablecell({text:ht.header[pt].text,tokens:ht.header[pt].tokens,header:!0,align:ht.align[pt]});ut+=this.tablerow({text:ft});let dt="";for(let pt=0;pt<ht.rows.length;pt++){const gt=ht.rows[pt];ft="";for(let _t=0;_t<gt.length;_t++)ft+=this.tablecell({text:gt[_t].text,tokens:gt[_t].tokens,header:!1,align:ht.align[_t]});dt+=this.tablerow({text:ft})}return it.call(this,ut,dt)};case"blockquote":return function(ht){if(!ht.type||ht.type!==lt)return it.apply(this,arguments);const ut=this.parser.parse(ht.tokens);return it.call(this,ut)};case"list":return function(ht){if(!ht.type||ht.type!==lt)return it.apply(this,arguments);const ut=ht.ordered,ft=ht.start,dt=ht.loose;let pt="";for(let gt=0;gt<ht.items.length;gt++){const _t=ht.items[gt],yt=_t.checked,mt=_t.task;let bt="";if(_t.task){const xt=this.checkbox({checked:!!yt});dt?_t.tokens.length>0&&_t.tokens[0].type==="paragraph"?(_t.tokens[0].text=xt+" "+_t.tokens[0].text,_t.tokens[0].tokens&&_t.tokens[0].tokens.length>0&&_t.tokens[0].tokens[0].type==="text"&&(_t.tokens[0].tokens[0].text=xt+" "+_t.tokens[0].tokens[0].text)):_t.tokens.unshift({type:"text",text:xt+" "}):bt+=xt+" "}bt+=this.parser.parse(_t.tokens,dt),pt+=this.listitem({type:"list_item",raw:bt,text:bt,task:mt,checked:!!yt,loose:dt,tokens:_t.tokens})}return it.call(this,pt,ut,ft)};case"html":return function(ht){return!ht.type||ht.type!==lt?it.apply(this,arguments):it.call(this,ht.text,ht.block)};case"paragraph":return function(ht){return!ht.type||ht.type!==lt?it.apply(this,arguments):it.call(this,this.parser.parseInline(ht.tokens))};case"escape":return function(ht){return!ht.type||ht.type!==lt?it.apply(this,arguments):it.call(this,ht.text)};case"link":return function(ht){return!ht.type||ht.type!==lt?it.apply(this,arguments):it.call(this,ht.href,ht.title,this.parser.parseInline(ht.tokens))};case"image":return function(ht){return!ht.type||ht.type!==lt?it.apply(this,arguments):it.call(this,ht.href,ht.title,ht.text)};case"strong":return function(ht){return!ht.type||ht.type!==lt?it.apply(this,arguments):it.call(this,this.parser.parseInline(ht.tokens))};case"em":return function(ht){return!ht.type||ht.type!==lt?it.apply(this,arguments):it.call(this,this.parser.parseInline(ht.tokens))};case"codespan":return function(ht){return!ht.type||ht.type!==lt?it.apply(this,arguments):it.call(this,ht.text)};case"del":return function(ht){return!ht.type||ht.type!==lt?it.apply(this,arguments):it.call(this,this.parser.parseInline(ht.tokens))};case"text":return function(ht){return!ht.type||ht.type!==lt?it.apply(this,arguments):it.call(this,ht.text)}}return it},Ve=function(it,lt){return(ct,ht)=>{const ut={...ht},ft={...this.defaults,...ut};this.defaults.async===!0&&ut.async===!1&&(ft.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),ft.async=!0);const dt=Oe(this,pe,Sr).call(this,!!ft.silent,!!ft.async);if(typeof ct>"u"||ct===null)return dt(new Error("marked(): input parameter is undefined or null"));if(typeof ct!="string")return dt(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ct)+", string expected"));if(ft.hooks&&(ft.hooks.options=ft),ft.async)return Promise.resolve(ft.hooks?ft.hooks.preprocess(ct):ct).then(pt=>it(pt,ft)).then(pt=>ft.hooks?ft.hooks.processAllTokens(pt):pt).then(pt=>ft.walkTokens?Promise.all(this.walkTokens(pt,ft.walkTokens)).then(()=>pt):pt).then(pt=>lt(pt,ft)).then(pt=>ft.hooks?ft.hooks.postprocess(pt):pt).catch(dt);try{ft.hooks&&(ct=ft.hooks.preprocess(ct));let pt=it(ct,ft);ft.hooks&&(pt=ft.hooks.processAllTokens(pt)),ft.walkTokens&&this.walkTokens(pt,ft.walkTokens);let gt=lt(pt,ft);return ft.hooks&&(gt=ft.hooks.postprocess(gt)),gt}catch(pt){return dt(pt)}}},Sr=function(it,lt){return ct=>{if(ct.message+=`
Please report this to https://github.com/markedjs/marked.`,it){const ht="<p>An error occurred:</p><pre>"+escape$1(ct.message+"",!0)+"</pre>";return lt?Promise.resolve(ht):ht}if(lt)return Promise.reject(ct);throw ct}};const markedInstance=new Marked;function marked(rt,it){return markedInstance.parse(rt,it)}marked.options=marked.setOptions=function(rt){return markedInstance.setOptions(rt),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked};marked.getDefaults=_getDefaults;marked.defaults=_defaults;marked.use=function(...rt){return markedInstance.use(...rt),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked};marked.walkTokens=function(rt,it){return markedInstance.walkTokens(rt,it)};marked.parseInline=markedInstance.parseInline;marked.Parser=_Parser;marked.parser=_Parser.parse;marked.Renderer=_Renderer;marked.TextRenderer=_TextRenderer;marked.Lexer=_Lexer;marked.lexer=_Lexer.lex;marked.Tokenizer=_Tokenizer;marked.Hooks=_Hooks;marked.parse=marked;marked.options;marked.setOptions;marked.use;marked.walkTokens;marked.parseInline;_Parser.parse;_Lexer.lex;function dedent(rt){for(var it=[],lt=1;lt<arguments.length;lt++)it[lt-1]=arguments[lt];var ct=Array.from(typeof rt=="string"?[rt]:rt);ct[ct.length-1]=ct[ct.length-1].replace(/\r?\n([\t ]*)$/,"");var ht=ct.reduce(function(dt,pt){var gt=pt.match(/\n([\t ]+|(?!\s).)/g);return gt?dt.concat(gt.map(function(_t){var yt,mt;return(mt=(yt=_t.match(/[\t ]/g))===null||yt===void 0?void 0:yt.length)!==null&&mt!==void 0?mt:0})):dt},[]);if(ht.length){var ut=new RegExp(`
[	 ]{`+Math.min.apply(Math,ht)+"}","g");ct=ct.map(function(dt){return dt.replace(ut,`
`)})}ct[0]=ct[0].replace(/^\r?\n/,"");var ft=ct[0];return it.forEach(function(dt,pt){var gt=ft.match(/(?:^|\n)( *)$/),_t=gt?gt[1]:"",yt=dt;typeof dt=="string"&&dt.includes(`
`)&&(yt=String(dt).split(`
`).map(function(mt,bt){return bt===0?mt:""+_t+mt}).join(`
`)),ft+=yt+ct[pt+1]}),ft}function preprocessMarkdown(rt,{markdownAutoWrap:it}){const ct=rt.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),ht=dedent(ct);return it===!1?ht.replace(/ /g,"&nbsp;"):ht}__name(preprocessMarkdown,"preprocessMarkdown");function markdownToLines(rt,it={}){const lt=preprocessMarkdown(rt,it),ct=marked.lexer(lt),ht=[[]];let ut=0;function ft(dt,pt="normal"){dt.type==="text"?dt.text.split(`
`).forEach((_t,yt)=>{yt!==0&&(ut++,ht.push([])),_t.split(" ").forEach(mt=>{mt=mt.replace(/&#39;/g,"'"),mt&&ht[ut].push({content:mt,type:pt})})}):dt.type==="strong"||dt.type==="em"?dt.tokens.forEach(gt=>{ft(gt,dt.type)}):dt.type==="html"&&ht[ut].push({content:dt.text,type:"normal"})}return __name(ft,"processNode"),ct.forEach(dt=>{var pt;dt.type==="paragraph"?(pt=dt.tokens)==null||pt.forEach(gt=>{ft(gt)}):dt.type==="html"&&ht[ut].push({content:dt.text,type:"normal"})}),ht}__name(markdownToLines,"markdownToLines");function markdownToHTML(rt,{markdownAutoWrap:it}={}){const lt=marked.lexer(rt);function ct(ht){var ut,ft,dt;return ht.type==="text"?it===!1?ht.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):ht.text.replace(/\n */g,"<br/>"):ht.type==="strong"?`<strong>${(ut=ht.tokens)==null?void 0:ut.map(ct).join("")}</strong>`:ht.type==="em"?`<em>${(ft=ht.tokens)==null?void 0:ft.map(ct).join("")}</em>`:ht.type==="paragraph"?`<p>${(dt=ht.tokens)==null?void 0:dt.map(ct).join("")}</p>`:ht.type==="space"?"":ht.type==="html"?`${ht.text}`:ht.type==="escape"?ht.text:`Unsupported markdown: ${ht.type}`}return __name(ct,"output"),lt.map(ct).join("")}__name(markdownToHTML,"markdownToHTML");function splitTextToChars(rt){return Intl.Segmenter?[...new Intl.Segmenter().segment(rt)].map(it=>it.segment):[...rt]}__name(splitTextToChars,"splitTextToChars");function splitWordToFitWidth(rt,it){const lt=splitTextToChars(it.content);return splitWordToFitWidthRecursion(rt,[],lt,it.type)}__name(splitWordToFitWidth,"splitWordToFitWidth");function splitWordToFitWidthRecursion(rt,it,lt,ct){if(lt.length===0)return[{content:it.join(""),type:ct},{content:"",type:ct}];const[ht,...ut]=lt,ft=[...it,ht];return rt([{content:ft.join(""),type:ct}])?splitWordToFitWidthRecursion(rt,ft,ut,ct):(it.length===0&&ht&&(it.push(ht),lt.shift()),[{content:it.join(""),type:ct},{content:lt.join(""),type:ct}])}__name(splitWordToFitWidthRecursion,"splitWordToFitWidthRecursion");function splitLineToFitWidth(rt,it){if(rt.some(({content:lt})=>lt.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return splitLineToFitWidthRecursion(rt,it)}__name(splitLineToFitWidth,"splitLineToFitWidth");function splitLineToFitWidthRecursion(rt,it,lt=[],ct=[]){if(rt.length===0)return ct.length>0&&lt.push(ct),lt.length>0?lt:[];let ht="";rt[0].content===" "&&(ht=" ",rt.shift());const ut=rt.shift()??{content:" ",type:"normal"},ft=[...ct];if(ht!==""&&ft.push({content:ht,type:"normal"}),ft.push(ut),it(ft))return splitLineToFitWidthRecursion(rt,it,lt,ft);if(ct.length>0)lt.push(ct),rt.unshift(ut);else if(ut.content){const[dt,pt]=splitWordToFitWidth(it,ut);lt.push([dt]),pt.content&&rt.unshift(pt)}return splitLineToFitWidthRecursion(rt,it,lt)}__name(splitLineToFitWidthRecursion,"splitLineToFitWidthRecursion");function applyStyle$1(rt,it){it&&rt.attr("style",it)}__name(applyStyle$1,"applyStyle");async function addHtmlSpan(rt,it,lt,ct,ht=!1){const ut=rt.append("foreignObject");ut.attr("width",`${10*lt}px`),ut.attr("height",`${10*lt}px`);const ft=ut.append("xhtml:div");let dt=it.label;it.label&&hasKatex(it.label)&&(dt=await renderKatex(it.label.replace(common_default.lineBreakRegex,`
`),getConfig2()));const pt=it.isNode?"nodeLabel":"edgeLabel",gt=ft.append("span");gt.html(dt),applyStyle$1(gt,it.labelStyle),gt.attr("class",`${pt} ${ct}`),applyStyle$1(ft,it.labelStyle),ft.style("display","table-cell"),ft.style("white-space","nowrap"),ft.style("line-height","1.5"),ft.style("max-width",lt+"px"),ft.style("text-align","center"),ft.attr("xmlns","http://www.w3.org/1999/xhtml"),ht&&ft.attr("class","labelBkg");let _t=ft.node().getBoundingClientRect();return _t.width===lt&&(ft.style("display","table"),ft.style("white-space","break-spaces"),ft.style("width",lt+"px"),_t=ft.node().getBoundingClientRect()),ut.node()}__name(addHtmlSpan,"addHtmlSpan");function createTspan(rt,it,lt){return rt.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",it*lt-.1+"em").attr("dy",lt+"em")}__name(createTspan,"createTspan");function computeWidthOfText(rt,it,lt){const ct=rt.append("text"),ht=createTspan(ct,1,it);updateTextContentAndStyles(ht,lt);const ut=ht.node().getComputedTextLength();return ct.remove(),ut}__name(computeWidthOfText,"computeWidthOfText");function computeDimensionOfText(rt,it,lt){var ft;const ct=rt.append("text"),ht=createTspan(ct,1,it);updateTextContentAndStyles(ht,[{content:lt,type:"normal"}]);const ut=(ft=ht.node())==null?void 0:ft.getBoundingClientRect();return ut&&ct.remove(),ut}__name(computeDimensionOfText,"computeDimensionOfText");function createFormattedText(rt,it,lt,ct=!1){const ut=it.append("g"),ft=ut.insert("rect").attr("class","background").attr("style","stroke: none"),dt=ut.append("text").attr("y","-10.1");let pt=0;for(const gt of lt){const _t=__name(mt=>computeWidthOfText(ut,1.1,mt)<=rt,"checkWidth"),yt=_t(gt)?[gt]:splitLineToFitWidth(gt,_t);for(const mt of yt){const bt=createTspan(dt,pt,1.1);updateTextContentAndStyles(bt,mt),pt++}}if(ct){const gt=dt.node().getBBox(),_t=2;return ft.attr("x",gt.x-_t).attr("y",gt.y-_t).attr("width",gt.width+2*_t).attr("height",gt.height+2*_t),ut.node()}else return dt.node()}__name(createFormattedText,"createFormattedText");function updateTextContentAndStyles(rt,it){rt.text(""),it.forEach((lt,ct)=>{const ht=rt.append("tspan").attr("font-style",lt.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",lt.type==="strong"?"bold":"normal");ct===0?ht.text(lt.content):ht.text(" "+lt.content)})}__name(updateTextContentAndStyles,"updateTextContentAndStyles");function replaceIconSubstring(rt){return rt.replace(/fa[bklrs]?:fa-[\w-]+/g,it=>`<i class='${it.replace(":"," ")}'></i>`)}__name(replaceIconSubstring,"replaceIconSubstring");var createText=__name(async(rt,it="",{style:lt="",isTitle:ct=!1,classes:ht="",useHtmlLabels:ut=!0,isNode:ft=!0,width:dt=200,addSvgBackground:pt=!1}={},gt)=>{if(log.debug("XYZ createText",it,lt,ct,ht,ut,ft,"addSvgBackground: ",pt),ut){const _t=markdownToHTML(it,gt),yt=replaceIconSubstring(decodeEntities(_t)),mt=it.replace(/\\\\/g,"\\"),bt={isNode:ft,label:hasKatex(it)?mt:yt,labelStyle:lt.replace("fill:","color:")};return await addHtmlSpan(rt,bt,dt,ht,pt)}else{const _t=it.replace(/<br\s*\/?>/g,"<br/>"),yt=markdownToLines(_t.replace("<br>","<br/>"),gt),mt=createFormattedText(dt,rt,yt,it?pt:!1);if(ft){/stroke:/.exec(lt)&&(lt=lt.replace("stroke:","lineColor:"));const bt=lt.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");select(mt).attr("style",bt)}else{const bt=lt.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");select(mt).select("rect").attr("style",bt.replace(/background:/g,"fill:"));const xt=lt.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");select(mt).select("text").attr("style",xt)}return mt}},"createText");function t(rt,it,lt){if(rt&&rt.length){const[ct,ht]=it,ut=Math.PI/180*lt,ft=Math.cos(ut),dt=Math.sin(ut);for(const pt of rt){const[gt,_t]=pt;pt[0]=(gt-ct)*ft-(_t-ht)*dt+ct,pt[1]=(gt-ct)*dt+(_t-ht)*ft+ht}}}function e(rt,it){return rt[0]===it[0]&&rt[1]===it[1]}function s(rt,it,lt,ct=1){const ht=lt,ut=Math.max(it,.1),ft=rt[0]&&rt[0][0]&&typeof rt[0][0]=="number"?[rt]:rt,dt=[0,0];if(ht)for(const gt of ft)t(gt,dt,ht);const pt=function(gt,_t,yt){const mt=[];for(const Tt of gt){const vt=[...Tt];e(vt[0],vt[vt.length-1])||vt.push([vt[0][0],vt[0][1]]),vt.length>2&&mt.push(vt)}const bt=[];_t=Math.max(_t,.1);const xt=[];for(const Tt of mt)for(let vt=0;vt<Tt.length-1;vt++){const kt=Tt[vt],Et=Tt[vt+1];if(kt[1]!==Et[1]){const It=Math.min(kt[1],Et[1]);xt.push({ymin:It,ymax:Math.max(kt[1],Et[1]),x:It===kt[1]?kt[0]:Et[0],islope:(Et[0]-kt[0])/(Et[1]-kt[1])})}}if(xt.sort((Tt,vt)=>Tt.ymin<vt.ymin?-1:Tt.ymin>vt.ymin?1:Tt.x<vt.x?-1:Tt.x>vt.x?1:Tt.ymax===vt.ymax?0:(Tt.ymax-vt.ymax)/Math.abs(Tt.ymax-vt.ymax)),!xt.length)return bt;let wt=[],Ct=xt[0].ymin,St=0;for(;wt.length||xt.length;){if(xt.length){let Tt=-1;for(let vt=0;vt<xt.length&&!(xt[vt].ymin>Ct);vt++)Tt=vt;xt.splice(0,Tt+1).forEach(vt=>{wt.push({s:Ct,edge:vt})})}if(wt=wt.filter(Tt=>!(Tt.edge.ymax<=Ct)),wt.sort((Tt,vt)=>Tt.edge.x===vt.edge.x?0:(Tt.edge.x-vt.edge.x)/Math.abs(Tt.edge.x-vt.edge.x)),(yt!==1||St%_t==0)&&wt.length>1)for(let Tt=0;Tt<wt.length;Tt+=2){const vt=Tt+1;if(vt>=wt.length)break;const kt=wt[Tt].edge,Et=wt[vt].edge;bt.push([[Math.round(kt.x),Ct],[Math.round(Et.x),Ct]])}Ct+=yt,wt.forEach(Tt=>{Tt.edge.x=Tt.edge.x+yt*Tt.edge.islope}),St++}return bt}(ft,ut,ct);if(ht){for(const gt of ft)t(gt,dt,-ht);(function(gt,_t,yt){const mt=[];gt.forEach(bt=>mt.push(...bt)),t(mt,_t,yt)})(pt,dt,-ht)}return pt}function n(rt,it){var lt;const ct=it.hachureAngle+90;let ht=it.hachureGap;ht<0&&(ht=4*it.strokeWidth),ht=Math.round(Math.max(ht,.1));let ut=1;return it.roughness>=1&&(((lt=it.randomizer)===null||lt===void 0?void 0:lt.next())||Math.random())>.7&&(ut=ht),s(rt,ht,ct,ut||1)}class o{constructor(it){this.helper=it}fillPolygons(it,lt){return this._fillPolygons(it,lt)}_fillPolygons(it,lt){const ct=n(it,lt);return{type:"fillSketch",ops:this.renderLines(ct,lt)}}renderLines(it,lt){const ct=[];for(const ht of it)ct.push(...this.helper.doubleLineOps(ht[0][0],ht[0][1],ht[1][0],ht[1][1],lt));return ct}}function a(rt){const it=rt[0],lt=rt[1];return Math.sqrt(Math.pow(it[0]-lt[0],2)+Math.pow(it[1]-lt[1],2))}class h extends o{fillPolygons(it,lt){let ct=lt.hachureGap;ct<0&&(ct=4*lt.strokeWidth),ct=Math.max(ct,.1);const ht=n(it,Object.assign({},lt,{hachureGap:ct})),ut=Math.PI/180*lt.hachureAngle,ft=[],dt=.5*ct*Math.cos(ut),pt=.5*ct*Math.sin(ut);for(const[gt,_t]of ht)a([gt,_t])&&ft.push([[gt[0]-dt,gt[1]+pt],[..._t]],[[gt[0]+dt,gt[1]-pt],[..._t]]);return{type:"fillSketch",ops:this.renderLines(ft,lt)}}}class r extends o{fillPolygons(it,lt){const ct=this._fillPolygons(it,lt),ht=Object.assign({},lt,{hachureAngle:lt.hachureAngle+90}),ut=this._fillPolygons(it,ht);return ct.ops=ct.ops.concat(ut.ops),ct}}class i{constructor(it){this.helper=it}fillPolygons(it,lt){const ct=n(it,lt=Object.assign({},lt,{hachureAngle:0}));return this.dotsOnLines(ct,lt)}dotsOnLines(it,lt){const ct=[];let ht=lt.hachureGap;ht<0&&(ht=4*lt.strokeWidth),ht=Math.max(ht,.1);let ut=lt.fillWeight;ut<0&&(ut=lt.strokeWidth/2);const ft=ht/4;for(const dt of it){const pt=a(dt),gt=pt/ht,_t=Math.ceil(gt)-1,yt=pt-_t*ht,mt=(dt[0][0]+dt[1][0])/2-ht/4,bt=Math.min(dt[0][1],dt[1][1]);for(let xt=0;xt<_t;xt++){const wt=bt+yt+xt*ht,Ct=mt-ft+2*Math.random()*ft,St=wt-ft+2*Math.random()*ft,Tt=this.helper.ellipse(Ct,St,ut,ut,lt);ct.push(...Tt.ops)}}return{type:"fillSketch",ops:ct}}}class c{constructor(it){this.helper=it}fillPolygons(it,lt){const ct=n(it,lt);return{type:"fillSketch",ops:this.dashedLine(ct,lt)}}dashedLine(it,lt){const ct=lt.dashOffset<0?lt.hachureGap<0?4*lt.strokeWidth:lt.hachureGap:lt.dashOffset,ht=lt.dashGap<0?lt.hachureGap<0?4*lt.strokeWidth:lt.hachureGap:lt.dashGap,ut=[];return it.forEach(ft=>{const dt=a(ft),pt=Math.floor(dt/(ct+ht)),gt=(dt+ht-pt*(ct+ht))/2;let _t=ft[0],yt=ft[1];_t[0]>yt[0]&&(_t=ft[1],yt=ft[0]);const mt=Math.atan((yt[1]-_t[1])/(yt[0]-_t[0]));for(let bt=0;bt<pt;bt++){const xt=bt*(ct+ht),wt=xt+ct,Ct=[_t[0]+xt*Math.cos(mt)+gt*Math.cos(mt),_t[1]+xt*Math.sin(mt)+gt*Math.sin(mt)],St=[_t[0]+wt*Math.cos(mt)+gt*Math.cos(mt),_t[1]+wt*Math.sin(mt)+gt*Math.sin(mt)];ut.push(...this.helper.doubleLineOps(Ct[0],Ct[1],St[0],St[1],lt))}}),ut}}class l{constructor(it){this.helper=it}fillPolygons(it,lt){const ct=lt.hachureGap<0?4*lt.strokeWidth:lt.hachureGap,ht=lt.zigzagOffset<0?ct:lt.zigzagOffset,ut=n(it,lt=Object.assign({},lt,{hachureGap:ct+ht}));return{type:"fillSketch",ops:this.zigzagLines(ut,ht,lt)}}zigzagLines(it,lt,ct){const ht=[];return it.forEach(ut=>{const ft=a(ut),dt=Math.round(ft/(2*lt));let pt=ut[0],gt=ut[1];pt[0]>gt[0]&&(pt=ut[1],gt=ut[0]);const _t=Math.atan((gt[1]-pt[1])/(gt[0]-pt[0]));for(let yt=0;yt<dt;yt++){const mt=2*yt*lt,bt=2*(yt+1)*lt,xt=Math.sqrt(2*Math.pow(lt,2)),wt=[pt[0]+mt*Math.cos(_t),pt[1]+mt*Math.sin(_t)],Ct=[pt[0]+bt*Math.cos(_t),pt[1]+bt*Math.sin(_t)],St=[wt[0]+xt*Math.cos(_t+Math.PI/4),wt[1]+xt*Math.sin(_t+Math.PI/4)];ht.push(...this.helper.doubleLineOps(wt[0],wt[1],St[0],St[1],ct),...this.helper.doubleLineOps(St[0],St[1],Ct[0],Ct[1],ct))}}),ht}}const u={};class p{constructor(it){this.seed=it}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const f=0,d=1,g=2,M={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function k(rt,it){return rt.type===it}function b(rt){const it=[],lt=function(ft){const dt=new Array;for(;ft!=="";)if(ft.match(/^([ \t\r\n,]+)/))ft=ft.substr(RegExp.$1.length);else if(ft.match(/^([aAcChHlLmMqQsStTvVzZ])/))dt[dt.length]={type:f,text:RegExp.$1},ft=ft.substr(RegExp.$1.length);else{if(!ft.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];dt[dt.length]={type:d,text:`${parseFloat(RegExp.$1)}`},ft=ft.substr(RegExp.$1.length)}return dt[dt.length]={type:g,text:""},dt}(rt);let ct="BOD",ht=0,ut=lt[ht];for(;!k(ut,g);){let ft=0;const dt=[];if(ct==="BOD"){if(ut.text!=="M"&&ut.text!=="m")return b("M0,0"+rt);ht++,ft=M[ut.text],ct=ut.text}else k(ut,d)?ft=M[ct]:(ht++,ft=M[ut.text],ct=ut.text);if(!(ht+ft<lt.length))throw new Error("Path data ended short");for(let pt=ht;pt<ht+ft;pt++){const gt=lt[pt];if(!k(gt,d))throw new Error("Param not a number: "+ct+","+gt.text);dt[dt.length]=+gt.text}if(typeof M[ct]!="number")throw new Error("Bad segment: "+ct);{const pt={key:ct,data:dt};it.push(pt),ht+=ft,ut=lt[ht],ct==="M"&&(ct="L"),ct==="m"&&(ct="l")}}return it}function y(rt){let it=0,lt=0,ct=0,ht=0;const ut=[];for(const{key:ft,data:dt}of rt)switch(ft){case"M":ut.push({key:"M",data:[...dt]}),[it,lt]=dt,[ct,ht]=dt;break;case"m":it+=dt[0],lt+=dt[1],ut.push({key:"M",data:[it,lt]}),ct=it,ht=lt;break;case"L":ut.push({key:"L",data:[...dt]}),[it,lt]=dt;break;case"l":it+=dt[0],lt+=dt[1],ut.push({key:"L",data:[it,lt]});break;case"C":ut.push({key:"C",data:[...dt]}),it=dt[4],lt=dt[5];break;case"c":{const pt=dt.map((gt,_t)=>_t%2?gt+lt:gt+it);ut.push({key:"C",data:pt}),it=pt[4],lt=pt[5];break}case"Q":ut.push({key:"Q",data:[...dt]}),it=dt[2],lt=dt[3];break;case"q":{const pt=dt.map((gt,_t)=>_t%2?gt+lt:gt+it);ut.push({key:"Q",data:pt}),it=pt[2],lt=pt[3];break}case"A":ut.push({key:"A",data:[...dt]}),it=dt[5],lt=dt[6];break;case"a":it+=dt[5],lt+=dt[6],ut.push({key:"A",data:[dt[0],dt[1],dt[2],dt[3],dt[4],it,lt]});break;case"H":ut.push({key:"H",data:[...dt]}),it=dt[0];break;case"h":it+=dt[0],ut.push({key:"H",data:[it]});break;case"V":ut.push({key:"V",data:[...dt]}),lt=dt[0];break;case"v":lt+=dt[0],ut.push({key:"V",data:[lt]});break;case"S":ut.push({key:"S",data:[...dt]}),it=dt[2],lt=dt[3];break;case"s":{const pt=dt.map((gt,_t)=>_t%2?gt+lt:gt+it);ut.push({key:"S",data:pt}),it=pt[2],lt=pt[3];break}case"T":ut.push({key:"T",data:[...dt]}),it=dt[0],lt=dt[1];break;case"t":it+=dt[0],lt+=dt[1],ut.push({key:"T",data:[it,lt]});break;case"Z":case"z":ut.push({key:"Z",data:[]}),it=ct,lt=ht}return ut}function m(rt){const it=[];let lt="",ct=0,ht=0,ut=0,ft=0,dt=0,pt=0;for(const{key:gt,data:_t}of rt){switch(gt){case"M":it.push({key:"M",data:[..._t]}),[ct,ht]=_t,[ut,ft]=_t;break;case"C":it.push({key:"C",data:[..._t]}),ct=_t[4],ht=_t[5],dt=_t[2],pt=_t[3];break;case"L":it.push({key:"L",data:[..._t]}),[ct,ht]=_t;break;case"H":ct=_t[0],it.push({key:"L",data:[ct,ht]});break;case"V":ht=_t[0],it.push({key:"L",data:[ct,ht]});break;case"S":{let yt=0,mt=0;lt==="C"||lt==="S"?(yt=ct+(ct-dt),mt=ht+(ht-pt)):(yt=ct,mt=ht),it.push({key:"C",data:[yt,mt,..._t]}),dt=_t[0],pt=_t[1],ct=_t[2],ht=_t[3];break}case"T":{const[yt,mt]=_t;let bt=0,xt=0;lt==="Q"||lt==="T"?(bt=ct+(ct-dt),xt=ht+(ht-pt)):(bt=ct,xt=ht);const wt=ct+2*(bt-ct)/3,Ct=ht+2*(xt-ht)/3,St=yt+2*(bt-yt)/3,Tt=mt+2*(xt-mt)/3;it.push({key:"C",data:[wt,Ct,St,Tt,yt,mt]}),dt=bt,pt=xt,ct=yt,ht=mt;break}case"Q":{const[yt,mt,bt,xt]=_t,wt=ct+2*(yt-ct)/3,Ct=ht+2*(mt-ht)/3,St=bt+2*(yt-bt)/3,Tt=xt+2*(mt-xt)/3;it.push({key:"C",data:[wt,Ct,St,Tt,bt,xt]}),dt=yt,pt=mt,ct=bt,ht=xt;break}case"A":{const yt=Math.abs(_t[0]),mt=Math.abs(_t[1]),bt=_t[2],xt=_t[3],wt=_t[4],Ct=_t[5],St=_t[6];yt===0||mt===0?(it.push({key:"C",data:[ct,ht,Ct,St,Ct,St]}),ct=Ct,ht=St):(ct!==Ct||ht!==St)&&(x(ct,ht,Ct,St,yt,mt,bt,xt,wt).forEach(function(Tt){it.push({key:"C",data:Tt})}),ct=Ct,ht=St);break}case"Z":it.push({key:"Z",data:[]}),ct=ut,ht=ft}lt=gt}return it}function w(rt,it,lt){return[rt*Math.cos(lt)-it*Math.sin(lt),rt*Math.sin(lt)+it*Math.cos(lt)]}function x(rt,it,lt,ct,ht,ut,ft,dt,pt,gt){const _t=(yt=ft,Math.PI*yt/180);var yt;let mt=[],bt=0,xt=0,wt=0,Ct=0;if(gt)[bt,xt,wt,Ct]=gt;else{[rt,it]=w(rt,it,-_t),[lt,ct]=w(lt,ct,-_t);const Ht=(rt-lt)/2,Ft=(it-ct)/2;let $t=Ht*Ht/(ht*ht)+Ft*Ft/(ut*ut);$t>1&&($t=Math.sqrt($t),ht*=$t,ut*=$t);const Bt=ht*ht,Pt=ut*ut,Ot=Bt*Pt-Bt*Ft*Ft-Pt*Ht*Ht,Wt=Bt*Ft*Ft+Pt*Ht*Ht,jt=(dt===pt?-1:1)*Math.sqrt(Math.abs(Ot/Wt));wt=jt*ht*Ft/ut+(rt+lt)/2,Ct=jt*-ut*Ht/ht+(it+ct)/2,bt=Math.asin(parseFloat(((it-Ct)/ut).toFixed(9))),xt=Math.asin(parseFloat(((ct-Ct)/ut).toFixed(9))),rt<wt&&(bt=Math.PI-bt),lt<wt&&(xt=Math.PI-xt),bt<0&&(bt=2*Math.PI+bt),xt<0&&(xt=2*Math.PI+xt),pt&&bt>xt&&(bt-=2*Math.PI),!pt&&xt>bt&&(xt-=2*Math.PI)}let St=xt-bt;if(Math.abs(St)>120*Math.PI/180){const Ht=xt,Ft=lt,$t=ct;xt=pt&&xt>bt?bt+120*Math.PI/180*1:bt+120*Math.PI/180*-1,mt=x(lt=wt+ht*Math.cos(xt),ct=Ct+ut*Math.sin(xt),Ft,$t,ht,ut,ft,0,pt,[xt,Ht,wt,Ct])}St=xt-bt;const Tt=Math.cos(bt),vt=Math.sin(bt),kt=Math.cos(xt),Et=Math.sin(xt),It=Math.tan(St/4),At=4/3*ht*It,Dt=4/3*ut*It,Nt=[rt,it],Mt=[rt+At*vt,it-Dt*Tt],Rt=[lt+At*Et,ct-Dt*kt],zt=[lt,ct];if(Mt[0]=2*Nt[0]-Mt[0],Mt[1]=2*Nt[1]-Mt[1],gt)return[Mt,Rt,zt].concat(mt);{mt=[Mt,Rt,zt].concat(mt);const Ht=[];for(let Ft=0;Ft<mt.length;Ft+=3){const $t=w(mt[Ft][0],mt[Ft][1],_t),Bt=w(mt[Ft+1][0],mt[Ft+1][1],_t),Pt=w(mt[Ft+2][0],mt[Ft+2][1],_t);Ht.push([$t[0],$t[1],Bt[0],Bt[1],Pt[0],Pt[1]])}return Ht}}const P={randOffset:function(rt,it){return G(rt,it)},randOffsetWithRange:function(rt,it,lt){return E(rt,it,lt)},ellipse:function(rt,it,lt,ct,ht){const ut=T(lt,ct,ht);return D(rt,it,ht,ut).opset},doubleLineOps:function(rt,it,lt,ct,ht){return $(rt,it,lt,ct,ht,!0)}};function v(rt,it,lt,ct,ht){return{type:"path",ops:$(rt,it,lt,ct,ht)}}function S(rt,it,lt){const ct=(rt||[]).length;if(ct>2){const ht=[];for(let ut=0;ut<ct-1;ut++)ht.push(...$(rt[ut][0],rt[ut][1],rt[ut+1][0],rt[ut+1][1],lt));return it&&ht.push(...$(rt[ct-1][0],rt[ct-1][1],rt[0][0],rt[0][1],lt)),{type:"path",ops:ht}}return ct===2?v(rt[0][0],rt[0][1],rt[1][0],rt[1][1],lt):{type:"path",ops:[]}}function O(rt,it,lt,ct,ht){return function(ut,ft){return S(ut,!0,ft)}([[rt,it],[rt+lt,it],[rt+lt,it+ct],[rt,it+ct]],ht)}function L(rt,it){if(rt.length){const lt=typeof rt[0][0]=="number"?[rt]:rt,ct=j(lt[0],1*(1+.2*it.roughness),it),ht=it.disableMultiStroke?[]:j(lt[0],1.5*(1+.22*it.roughness),z(it));for(let ut=1;ut<lt.length;ut++){const ft=lt[ut];if(ft.length){const dt=j(ft,1*(1+.2*it.roughness),it),pt=it.disableMultiStroke?[]:j(ft,1.5*(1+.22*it.roughness),z(it));for(const gt of dt)gt.op!=="move"&&ct.push(gt);for(const gt of pt)gt.op!=="move"&&ht.push(gt)}}return{type:"path",ops:ct.concat(ht)}}return{type:"path",ops:[]}}function T(rt,it,lt){const ct=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(rt/2,2)+Math.pow(it/2,2))/2)),ht=Math.ceil(Math.max(lt.curveStepCount,lt.curveStepCount/Math.sqrt(200)*ct)),ut=2*Math.PI/ht;let ft=Math.abs(rt/2),dt=Math.abs(it/2);const pt=1-lt.curveFitting;return ft+=G(ft*pt,lt),dt+=G(dt*pt,lt),{increment:ut,rx:ft,ry:dt}}function D(rt,it,lt,ct){const[ht,ut]=F(ct.increment,rt,it,ct.rx,ct.ry,1,ct.increment*E(.1,E(.4,1,lt),lt),lt);let ft=q(ht,null,lt);if(!lt.disableMultiStroke&&lt.roughness!==0){const[dt]=F(ct.increment,rt,it,ct.rx,ct.ry,1.5,0,lt),pt=q(dt,null,lt);ft=ft.concat(pt)}return{estimatedPoints:ut,opset:{type:"path",ops:ft}}}function A(rt,it,lt,ct,ht,ut,ft,dt,pt){const gt=rt,_t=it;let yt=Math.abs(lt/2),mt=Math.abs(ct/2);yt+=G(.01*yt,pt),mt+=G(.01*mt,pt);let bt=ht,xt=ut;for(;bt<0;)bt+=2*Math.PI,xt+=2*Math.PI;xt-bt>2*Math.PI&&(bt=0,xt=2*Math.PI);const wt=2*Math.PI/pt.curveStepCount,Ct=Math.min(wt/2,(xt-bt)/2),St=V(Ct,gt,_t,yt,mt,bt,xt,1,pt);if(!pt.disableMultiStroke){const Tt=V(Ct,gt,_t,yt,mt,bt,xt,1.5,pt);St.push(...Tt)}return ft&&(dt?St.push(...$(gt,_t,gt+yt*Math.cos(bt),_t+mt*Math.sin(bt),pt),...$(gt,_t,gt+yt*Math.cos(xt),_t+mt*Math.sin(xt),pt)):St.push({op:"lineTo",data:[gt,_t]},{op:"lineTo",data:[gt+yt*Math.cos(bt),_t+mt*Math.sin(bt)]})),{type:"path",ops:St}}function _(rt,it){const lt=m(y(b(rt))),ct=[];let ht=[0,0],ut=[0,0];for(const{key:ft,data:dt}of lt)switch(ft){case"M":ut=[dt[0],dt[1]],ht=[dt[0],dt[1]];break;case"L":ct.push(...$(ut[0],ut[1],dt[0],dt[1],it)),ut=[dt[0],dt[1]];break;case"C":{const[pt,gt,_t,yt,mt,bt]=dt;ct.push(...Z(pt,gt,_t,yt,mt,bt,ut,it)),ut=[mt,bt];break}case"Z":ct.push(...$(ut[0],ut[1],ht[0],ht[1],it)),ut=[ht[0],ht[1]]}return{type:"path",ops:ct}}function I(rt,it){const lt=[];for(const ct of rt)if(ct.length){const ht=it.maxRandomnessOffset||0,ut=ct.length;if(ut>2){lt.push({op:"move",data:[ct[0][0]+G(ht,it),ct[0][1]+G(ht,it)]});for(let ft=1;ft<ut;ft++)lt.push({op:"lineTo",data:[ct[ft][0]+G(ht,it),ct[ft][1]+G(ht,it)]})}}return{type:"fillPath",ops:lt}}function C(rt,it){return function(lt,ct){let ht=lt.fillStyle||"hachure";if(!u[ht])switch(ht){case"zigzag":u[ht]||(u[ht]=new h(ct));break;case"cross-hatch":u[ht]||(u[ht]=new r(ct));break;case"dots":u[ht]||(u[ht]=new i(ct));break;case"dashed":u[ht]||(u[ht]=new c(ct));break;case"zigzag-line":u[ht]||(u[ht]=new l(ct));break;default:ht="hachure",u[ht]||(u[ht]=new o(ct))}return u[ht]}(it,P).fillPolygons(rt,it)}function z(rt){const it=Object.assign({},rt);return it.randomizer=void 0,rt.seed&&(it.seed=rt.seed+1),it}function W(rt){return rt.randomizer||(rt.randomizer=new p(rt.seed||0)),rt.randomizer.next()}function E(rt,it,lt,ct=1){return lt.roughness*ct*(W(lt)*(it-rt)+rt)}function G(rt,it,lt=1){return E(-rt,rt,it,lt)}function $(rt,it,lt,ct,ht,ut=!1){const ft=ut?ht.disableMultiStrokeFill:ht.disableMultiStroke,dt=R(rt,it,lt,ct,ht,!0,!1);if(ft)return dt;const pt=R(rt,it,lt,ct,ht,!0,!0);return dt.concat(pt)}function R(rt,it,lt,ct,ht,ut,ft){const dt=Math.pow(rt-lt,2)+Math.pow(it-ct,2),pt=Math.sqrt(dt);let gt=1;gt=pt<200?1:pt>500?.4:-.0016668*pt+1.233334;let _t=ht.maxRandomnessOffset||0;_t*_t*100>dt&&(_t=pt/10);const yt=_t/2,mt=.2+.2*W(ht);let bt=ht.bowing*ht.maxRandomnessOffset*(ct-it)/200,xt=ht.bowing*ht.maxRandomnessOffset*(rt-lt)/200;bt=G(bt,ht,gt),xt=G(xt,ht,gt);const wt=[],Ct=()=>G(yt,ht,gt),St=()=>G(_t,ht,gt),Tt=ht.preserveVertices;return ft?wt.push({op:"move",data:[rt+(Tt?0:Ct()),it+(Tt?0:Ct())]}):wt.push({op:"move",data:[rt+(Tt?0:G(_t,ht,gt)),it+(Tt?0:G(_t,ht,gt))]}),ft?wt.push({op:"bcurveTo",data:[bt+rt+(lt-rt)*mt+Ct(),xt+it+(ct-it)*mt+Ct(),bt+rt+2*(lt-rt)*mt+Ct(),xt+it+2*(ct-it)*mt+Ct(),lt+(Tt?0:Ct()),ct+(Tt?0:Ct())]}):wt.push({op:"bcurveTo",data:[bt+rt+(lt-rt)*mt+St(),xt+it+(ct-it)*mt+St(),bt+rt+2*(lt-rt)*mt+St(),xt+it+2*(ct-it)*mt+St(),lt+(Tt?0:St()),ct+(Tt?0:St())]}),wt}function j(rt,it,lt){if(!rt.length)return[];const ct=[];ct.push([rt[0][0]+G(it,lt),rt[0][1]+G(it,lt)]),ct.push([rt[0][0]+G(it,lt),rt[0][1]+G(it,lt)]);for(let ht=1;ht<rt.length;ht++)ct.push([rt[ht][0]+G(it,lt),rt[ht][1]+G(it,lt)]),ht===rt.length-1&&ct.push([rt[ht][0]+G(it,lt),rt[ht][1]+G(it,lt)]);return q(ct,null,lt)}function q(rt,it,lt){const ct=rt.length,ht=[];if(ct>3){const ut=[],ft=1-lt.curveTightness;ht.push({op:"move",data:[rt[1][0],rt[1][1]]});for(let dt=1;dt+2<ct;dt++){const pt=rt[dt];ut[0]=[pt[0],pt[1]],ut[1]=[pt[0]+(ft*rt[dt+1][0]-ft*rt[dt-1][0])/6,pt[1]+(ft*rt[dt+1][1]-ft*rt[dt-1][1])/6],ut[2]=[rt[dt+1][0]+(ft*rt[dt][0]-ft*rt[dt+2][0])/6,rt[dt+1][1]+(ft*rt[dt][1]-ft*rt[dt+2][1])/6],ut[3]=[rt[dt+1][0],rt[dt+1][1]],ht.push({op:"bcurveTo",data:[ut[1][0],ut[1][1],ut[2][0],ut[2][1],ut[3][0],ut[3][1]]})}}else ct===3?(ht.push({op:"move",data:[rt[1][0],rt[1][1]]}),ht.push({op:"bcurveTo",data:[rt[1][0],rt[1][1],rt[2][0],rt[2][1],rt[2][0],rt[2][1]]})):ct===2&&ht.push(...R(rt[0][0],rt[0][1],rt[1][0],rt[1][1],lt,!0,!0));return ht}function F(rt,it,lt,ct,ht,ut,ft,dt){const pt=[],gt=[];if(dt.roughness===0){rt/=4,gt.push([it+ct*Math.cos(-rt),lt+ht*Math.sin(-rt)]);for(let _t=0;_t<=2*Math.PI;_t+=rt){const yt=[it+ct*Math.cos(_t),lt+ht*Math.sin(_t)];pt.push(yt),gt.push(yt)}gt.push([it+ct*Math.cos(0),lt+ht*Math.sin(0)]),gt.push([it+ct*Math.cos(rt),lt+ht*Math.sin(rt)])}else{const _t=G(.5,dt)-Math.PI/2;gt.push([G(ut,dt)+it+.9*ct*Math.cos(_t-rt),G(ut,dt)+lt+.9*ht*Math.sin(_t-rt)]);const yt=2*Math.PI+_t-.01;for(let mt=_t;mt<yt;mt+=rt){const bt=[G(ut,dt)+it+ct*Math.cos(mt),G(ut,dt)+lt+ht*Math.sin(mt)];pt.push(bt),gt.push(bt)}gt.push([G(ut,dt)+it+ct*Math.cos(_t+2*Math.PI+.5*ft),G(ut,dt)+lt+ht*Math.sin(_t+2*Math.PI+.5*ft)]),gt.push([G(ut,dt)+it+.98*ct*Math.cos(_t+ft),G(ut,dt)+lt+.98*ht*Math.sin(_t+ft)]),gt.push([G(ut,dt)+it+.9*ct*Math.cos(_t+.5*ft),G(ut,dt)+lt+.9*ht*Math.sin(_t+.5*ft)])}return[gt,pt]}function V(rt,it,lt,ct,ht,ut,ft,dt,pt){const gt=ut+G(.1,pt),_t=[];_t.push([G(dt,pt)+it+.9*ct*Math.cos(gt-rt),G(dt,pt)+lt+.9*ht*Math.sin(gt-rt)]);for(let yt=gt;yt<=ft;yt+=rt)_t.push([G(dt,pt)+it+ct*Math.cos(yt),G(dt,pt)+lt+ht*Math.sin(yt)]);return _t.push([it+ct*Math.cos(ft),lt+ht*Math.sin(ft)]),_t.push([it+ct*Math.cos(ft),lt+ht*Math.sin(ft)]),q(_t,null,pt)}function Z(rt,it,lt,ct,ht,ut,ft,dt){const pt=[],gt=[dt.maxRandomnessOffset||1,(dt.maxRandomnessOffset||1)+.3];let _t=[0,0];const yt=dt.disableMultiStroke?1:2,mt=dt.preserveVertices;for(let bt=0;bt<yt;bt++)bt===0?pt.push({op:"move",data:[ft[0],ft[1]]}):pt.push({op:"move",data:[ft[0]+(mt?0:G(gt[0],dt)),ft[1]+(mt?0:G(gt[0],dt))]}),_t=mt?[ht,ut]:[ht+G(gt[bt],dt),ut+G(gt[bt],dt)],pt.push({op:"bcurveTo",data:[rt+G(gt[bt],dt),it+G(gt[bt],dt),lt+G(gt[bt],dt),ct+G(gt[bt],dt),_t[0],_t[1]]});return pt}function Q(rt){return[...rt]}function H(rt,it=0){const lt=rt.length;if(lt<3)throw new Error("A curve must have at least three points.");const ct=[];if(lt===3)ct.push(Q(rt[0]),Q(rt[1]),Q(rt[2]),Q(rt[2]));else{const ht=[];ht.push(rt[0],rt[0]);for(let dt=1;dt<rt.length;dt++)ht.push(rt[dt]),dt===rt.length-1&&ht.push(rt[dt]);const ut=[],ft=1-it;ct.push(Q(ht[0]));for(let dt=1;dt+2<ht.length;dt++){const pt=ht[dt];ut[0]=[pt[0],pt[1]],ut[1]=[pt[0]+(ft*ht[dt+1][0]-ft*ht[dt-1][0])/6,pt[1]+(ft*ht[dt+1][1]-ft*ht[dt-1][1])/6],ut[2]=[ht[dt+1][0]+(ft*ht[dt][0]-ft*ht[dt+2][0])/6,ht[dt+1][1]+(ft*ht[dt][1]-ft*ht[dt+2][1])/6],ut[3]=[ht[dt+1][0],ht[dt+1][1]],ct.push(ut[1],ut[2],ut[3])}}return ct}function N(rt,it){return Math.pow(rt[0]-it[0],2)+Math.pow(rt[1]-it[1],2)}function B(rt,it,lt){const ct=N(it,lt);if(ct===0)return N(rt,it);let ht=((rt[0]-it[0])*(lt[0]-it[0])+(rt[1]-it[1])*(lt[1]-it[1]))/ct;return ht=Math.max(0,Math.min(1,ht)),N(rt,J(it,lt,ht))}function J(rt,it,lt){return[rt[0]+(it[0]-rt[0])*lt,rt[1]+(it[1]-rt[1])*lt]}function K(rt,it,lt,ct){const ht=ct||[];if(function(dt,pt){const gt=dt[pt+0],_t=dt[pt+1],yt=dt[pt+2],mt=dt[pt+3];let bt=3*_t[0]-2*gt[0]-mt[0];bt*=bt;let xt=3*_t[1]-2*gt[1]-mt[1];xt*=xt;let wt=3*yt[0]-2*mt[0]-gt[0];wt*=wt;let Ct=3*yt[1]-2*mt[1]-gt[1];return Ct*=Ct,bt<wt&&(bt=wt),xt<Ct&&(xt=Ct),bt+xt}(rt,it)<lt){const dt=rt[it+0];ht.length?(ut=ht[ht.length-1],ft=dt,Math.sqrt(N(ut,ft))>1&&ht.push(dt)):ht.push(dt),ht.push(rt[it+3])}else{const pt=rt[it+0],gt=rt[it+1],_t=rt[it+2],yt=rt[it+3],mt=J(pt,gt,.5),bt=J(gt,_t,.5),xt=J(_t,yt,.5),wt=J(mt,bt,.5),Ct=J(bt,xt,.5),St=J(wt,Ct,.5);K([pt,mt,wt,St],0,lt,ht),K([St,Ct,xt,yt],0,lt,ht)}var ut,ft;return ht}function U(rt,it){return X(rt,0,rt.length,it)}function X(rt,it,lt,ct,ht){const ut=ht||[],ft=rt[it],dt=rt[lt-1];let pt=0,gt=1;for(let _t=it+1;_t<lt-1;++_t){const yt=B(rt[_t],ft,dt);yt>pt&&(pt=yt,gt=_t)}return Math.sqrt(pt)>ct?(X(rt,it,gt+1,ct,ut),X(rt,gt,lt,ct,ut)):(ut.length||ut.push(ft),ut.push(dt)),ut}function Y(rt,it=.15,lt){const ct=[],ht=(rt.length-1)/3;for(let ut=0;ut<ht;ut++)K(rt,3*ut,it,ct);return lt&&lt>0?X(ct,0,ct.length,lt):ct}const tt="none";class et{constructor(it){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=it||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(it){return it?Object.assign({},this.defaultOptions,it):this.defaultOptions}_d(it,lt,ct){return{shape:it,sets:lt||[],options:ct||this.defaultOptions}}line(it,lt,ct,ht,ut){const ft=this._o(ut);return this._d("line",[v(it,lt,ct,ht,ft)],ft)}rectangle(it,lt,ct,ht,ut){const ft=this._o(ut),dt=[],pt=O(it,lt,ct,ht,ft);if(ft.fill){const gt=[[it,lt],[it+ct,lt],[it+ct,lt+ht],[it,lt+ht]];ft.fillStyle==="solid"?dt.push(I([gt],ft)):dt.push(C([gt],ft))}return ft.stroke!==tt&&dt.push(pt),this._d("rectangle",dt,ft)}ellipse(it,lt,ct,ht,ut){const ft=this._o(ut),dt=[],pt=T(ct,ht,ft),gt=D(it,lt,ft,pt);if(ft.fill)if(ft.fillStyle==="solid"){const _t=D(it,lt,ft,pt).opset;_t.type="fillPath",dt.push(_t)}else dt.push(C([gt.estimatedPoints],ft));return ft.stroke!==tt&&dt.push(gt.opset),this._d("ellipse",dt,ft)}circle(it,lt,ct,ht){const ut=this.ellipse(it,lt,ct,ct,ht);return ut.shape="circle",ut}linearPath(it,lt){const ct=this._o(lt);return this._d("linearPath",[S(it,!1,ct)],ct)}arc(it,lt,ct,ht,ut,ft,dt=!1,pt){const gt=this._o(pt),_t=[],yt=A(it,lt,ct,ht,ut,ft,dt,!0,gt);if(dt&&gt.fill)if(gt.fillStyle==="solid"){const mt=Object.assign({},gt);mt.disableMultiStroke=!0;const bt=A(it,lt,ct,ht,ut,ft,!0,!1,mt);bt.type="fillPath",_t.push(bt)}else _t.push(function(mt,bt,xt,wt,Ct,St,Tt){const vt=mt,kt=bt;let Et=Math.abs(xt/2),It=Math.abs(wt/2);Et+=G(.01*Et,Tt),It+=G(.01*It,Tt);let At=Ct,Dt=St;for(;At<0;)At+=2*Math.PI,Dt+=2*Math.PI;Dt-At>2*Math.PI&&(At=0,Dt=2*Math.PI);const Nt=(Dt-At)/Tt.curveStepCount,Mt=[];for(let Rt=At;Rt<=Dt;Rt+=Nt)Mt.push([vt+Et*Math.cos(Rt),kt+It*Math.sin(Rt)]);return Mt.push([vt+Et*Math.cos(Dt),kt+It*Math.sin(Dt)]),Mt.push([vt,kt]),C([Mt],Tt)}(it,lt,ct,ht,ut,ft,gt));return gt.stroke!==tt&&_t.push(yt),this._d("arc",_t,gt)}curve(it,lt){const ct=this._o(lt),ht=[],ut=L(it,ct);if(ct.fill&&ct.fill!==tt)if(ct.fillStyle==="solid"){const ft=L(it,Object.assign(Object.assign({},ct),{disableMultiStroke:!0,roughness:ct.roughness?ct.roughness+ct.fillShapeRoughnessGain:0}));ht.push({type:"fillPath",ops:this._mergedShape(ft.ops)})}else{const ft=[],dt=it;if(dt.length){const pt=typeof dt[0][0]=="number"?[dt]:dt;for(const gt of pt)gt.length<3?ft.push(...gt):gt.length===3?ft.push(...Y(H([gt[0],gt[0],gt[1],gt[2]]),10,(1+ct.roughness)/2)):ft.push(...Y(H(gt),10,(1+ct.roughness)/2))}ft.length&&ht.push(C([ft],ct))}return ct.stroke!==tt&&ht.push(ut),this._d("curve",ht,ct)}polygon(it,lt){const ct=this._o(lt),ht=[],ut=S(it,!0,ct);return ct.fill&&(ct.fillStyle==="solid"?ht.push(I([it],ct)):ht.push(C([it],ct))),ct.stroke!==tt&&ht.push(ut),this._d("polygon",ht,ct)}path(it,lt){const ct=this._o(lt),ht=[];if(!it)return this._d("path",ht,ct);it=(it||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const ut=ct.fill&&ct.fill!=="transparent"&&ct.fill!==tt,ft=ct.stroke!==tt,dt=!!(ct.simplification&&ct.simplification<1),pt=function(_t,yt,mt){const bt=m(y(b(_t))),xt=[];let wt=[],Ct=[0,0],St=[];const Tt=()=>{St.length>=4&&wt.push(...Y(St,yt)),St=[]},vt=()=>{Tt(),wt.length&&(xt.push(wt),wt=[])};for(const{key:Et,data:It}of bt)switch(Et){case"M":vt(),Ct=[It[0],It[1]],wt.push(Ct);break;case"L":Tt(),wt.push([It[0],It[1]]);break;case"C":if(!St.length){const At=wt.length?wt[wt.length-1]:Ct;St.push([At[0],At[1]])}St.push([It[0],It[1]]),St.push([It[2],It[3]]),St.push([It[4],It[5]]);break;case"Z":Tt(),wt.push([Ct[0],Ct[1]])}if(vt(),!mt)return xt;const kt=[];for(const Et of xt){const It=U(Et,mt);It.length&&kt.push(It)}return kt}(it,1,dt?4-4*(ct.simplification||1):(1+ct.roughness)/2),gt=_(it,ct);if(ut)if(ct.fillStyle==="solid")if(pt.length===1){const _t=_(it,Object.assign(Object.assign({},ct),{disableMultiStroke:!0,roughness:ct.roughness?ct.roughness+ct.fillShapeRoughnessGain:0}));ht.push({type:"fillPath",ops:this._mergedShape(_t.ops)})}else ht.push(I(pt,ct));else ht.push(C(pt,ct));return ft&&(dt?pt.forEach(_t=>{ht.push(S(_t,!1,ct))}):ht.push(gt)),this._d("path",ht,ct)}opsToPath(it,lt){let ct="";for(const ht of it.ops){const ut=typeof lt=="number"&&lt>=0?ht.data.map(ft=>+ft.toFixed(lt)):ht.data;switch(ht.op){case"move":ct+=`M${ut[0]} ${ut[1]} `;break;case"bcurveTo":ct+=`C${ut[0]} ${ut[1]}, ${ut[2]} ${ut[3]}, ${ut[4]} ${ut[5]} `;break;case"lineTo":ct+=`L${ut[0]} ${ut[1]} `}}return ct.trim()}toPaths(it){const lt=it.sets||[],ct=it.options||this.defaultOptions,ht=[];for(const ut of lt){let ft=null;switch(ut.type){case"path":ft={d:this.opsToPath(ut),stroke:ct.stroke,strokeWidth:ct.strokeWidth,fill:tt};break;case"fillPath":ft={d:this.opsToPath(ut),stroke:tt,strokeWidth:0,fill:ct.fill||tt};break;case"fillSketch":ft=this.fillSketch(ut,ct)}ft&&ht.push(ft)}return ht}fillSketch(it,lt){let ct=lt.fillWeight;return ct<0&&(ct=lt.strokeWidth/2),{d:this.opsToPath(it),stroke:lt.fill||tt,strokeWidth:ct,fill:tt}}_mergedShape(it){return it.filter((lt,ct)=>ct===0||lt.op!=="move")}}class st{constructor(it,lt){this.canvas=it,this.ctx=this.canvas.getContext("2d"),this.gen=new et(lt)}draw(it){const lt=it.sets||[],ct=it.options||this.getDefaultOptions(),ht=this.ctx,ut=it.options.fixedDecimalPlaceDigits;for(const ft of lt)switch(ft.type){case"path":ht.save(),ht.strokeStyle=ct.stroke==="none"?"transparent":ct.stroke,ht.lineWidth=ct.strokeWidth,ct.strokeLineDash&&ht.setLineDash(ct.strokeLineDash),ct.strokeLineDashOffset&&(ht.lineDashOffset=ct.strokeLineDashOffset),this._drawToContext(ht,ft,ut),ht.restore();break;case"fillPath":{ht.save(),ht.fillStyle=ct.fill||"";const dt=it.shape==="curve"||it.shape==="polygon"||it.shape==="path"?"evenodd":"nonzero";this._drawToContext(ht,ft,ut,dt),ht.restore();break}case"fillSketch":this.fillSketch(ht,ft,ct)}}fillSketch(it,lt,ct){let ht=ct.fillWeight;ht<0&&(ht=ct.strokeWidth/2),it.save(),ct.fillLineDash&&it.setLineDash(ct.fillLineDash),ct.fillLineDashOffset&&(it.lineDashOffset=ct.fillLineDashOffset),it.strokeStyle=ct.fill||"",it.lineWidth=ht,this._drawToContext(it,lt,ct.fixedDecimalPlaceDigits),it.restore()}_drawToContext(it,lt,ct,ht="nonzero"){it.beginPath();for(const ut of lt.ops){const ft=typeof ct=="number"&&ct>=0?ut.data.map(dt=>+dt.toFixed(ct)):ut.data;switch(ut.op){case"move":it.moveTo(ft[0],ft[1]);break;case"bcurveTo":it.bezierCurveTo(ft[0],ft[1],ft[2],ft[3],ft[4],ft[5]);break;case"lineTo":it.lineTo(ft[0],ft[1])}}lt.type==="fillPath"?it.fill(ht):it.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(it,lt,ct,ht,ut){const ft=this.gen.line(it,lt,ct,ht,ut);return this.draw(ft),ft}rectangle(it,lt,ct,ht,ut){const ft=this.gen.rectangle(it,lt,ct,ht,ut);return this.draw(ft),ft}ellipse(it,lt,ct,ht,ut){const ft=this.gen.ellipse(it,lt,ct,ht,ut);return this.draw(ft),ft}circle(it,lt,ct,ht){const ut=this.gen.circle(it,lt,ct,ht);return this.draw(ut),ut}linearPath(it,lt){const ct=this.gen.linearPath(it,lt);return this.draw(ct),ct}polygon(it,lt){const ct=this.gen.polygon(it,lt);return this.draw(ct),ct}arc(it,lt,ct,ht,ut,ft,dt=!1,pt){const gt=this.gen.arc(it,lt,ct,ht,ut,ft,dt,pt);return this.draw(gt),gt}curve(it,lt){const ct=this.gen.curve(it,lt);return this.draw(ct),ct}path(it,lt){const ct=this.gen.path(it,lt);return this.draw(ct),ct}}const nt="http://www.w3.org/2000/svg";class ot{constructor(it,lt){this.svg=it,this.gen=new et(lt)}draw(it){const lt=it.sets||[],ct=it.options||this.getDefaultOptions(),ht=this.svg.ownerDocument||window.document,ut=ht.createElementNS(nt,"g"),ft=it.options.fixedDecimalPlaceDigits;for(const dt of lt){let pt=null;switch(dt.type){case"path":pt=ht.createElementNS(nt,"path"),pt.setAttribute("d",this.opsToPath(dt,ft)),pt.setAttribute("stroke",ct.stroke),pt.setAttribute("stroke-width",ct.strokeWidth+""),pt.setAttribute("fill","none"),ct.strokeLineDash&&pt.setAttribute("stroke-dasharray",ct.strokeLineDash.join(" ").trim()),ct.strokeLineDashOffset&&pt.setAttribute("stroke-dashoffset",`${ct.strokeLineDashOffset}`);break;case"fillPath":pt=ht.createElementNS(nt,"path"),pt.setAttribute("d",this.opsToPath(dt,ft)),pt.setAttribute("stroke","none"),pt.setAttribute("stroke-width","0"),pt.setAttribute("fill",ct.fill||""),it.shape!=="curve"&&it.shape!=="polygon"||pt.setAttribute("fill-rule","evenodd");break;case"fillSketch":pt=this.fillSketch(ht,dt,ct)}pt&&ut.appendChild(pt)}return ut}fillSketch(it,lt,ct){let ht=ct.fillWeight;ht<0&&(ht=ct.strokeWidth/2);const ut=it.createElementNS(nt,"path");return ut.setAttribute("d",this.opsToPath(lt,ct.fixedDecimalPlaceDigits)),ut.setAttribute("stroke",ct.fill||""),ut.setAttribute("stroke-width",ht+""),ut.setAttribute("fill","none"),ct.fillLineDash&&ut.setAttribute("stroke-dasharray",ct.fillLineDash.join(" ").trim()),ct.fillLineDashOffset&&ut.setAttribute("stroke-dashoffset",`${ct.fillLineDashOffset}`),ut}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(it,lt){return this.gen.opsToPath(it,lt)}line(it,lt,ct,ht,ut){const ft=this.gen.line(it,lt,ct,ht,ut);return this.draw(ft)}rectangle(it,lt,ct,ht,ut){const ft=this.gen.rectangle(it,lt,ct,ht,ut);return this.draw(ft)}ellipse(it,lt,ct,ht,ut){const ft=this.gen.ellipse(it,lt,ct,ht,ut);return this.draw(ft)}circle(it,lt,ct,ht){const ut=this.gen.circle(it,lt,ct,ht);return this.draw(ut)}linearPath(it,lt){const ct=this.gen.linearPath(it,lt);return this.draw(ct)}polygon(it,lt){const ct=this.gen.polygon(it,lt);return this.draw(ct)}arc(it,lt,ct,ht,ut,ft,dt=!1,pt){const gt=this.gen.arc(it,lt,ct,ht,ut,ft,dt,pt);return this.draw(gt)}curve(it,lt){const ct=this.gen.curve(it,lt);return this.draw(ct)}path(it,lt){const ct=this.gen.path(it,lt);return this.draw(ct)}}var at={canvas:(rt,it)=>new st(rt,it),svg:(rt,it)=>new ot(rt,it),generator:rt=>new et(rt),newSeed:()=>et.newSeed()},labelHelper=__name(async(rt,it,lt)=>{var yt,mt;let ct;const ht=it.useHtmlLabels||evaluate((yt=getConfig2())==null?void 0:yt.htmlLabels);lt?ct=lt:ct="node default";const ut=rt.insert("g").attr("class",ct).attr("id",it.domId||it.id),ft=ut.insert("g").attr("class","label").attr("style",handleUndefinedAttr(it.labelStyle));let dt;it.label===void 0?dt="":dt=typeof it.label=="string"?it.label:it.label[0];const pt=await createText(ft,sanitizeText(decodeEntities(dt),getConfig2()),{useHtmlLabels:ht,width:it.width||((mt=getConfig2().flowchart)==null?void 0:mt.wrappingWidth),cssClasses:"markdown-node-label",style:it.labelStyle,addSvgBackground:!!it.icon||!!it.img});let gt=pt.getBBox();const _t=((it==null?void 0:it.padding)??0)/2;if(ht){const bt=pt.children[0],xt=select(pt),wt=bt.getElementsByTagName("img");if(wt){const Ct=dt.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...wt].map(St=>new Promise(Tt=>{function vt(){if(St.style.display="flex",St.style.flexDirection="column",Ct){const kt=getConfig2().fontSize?getConfig2().fontSize:window.getComputedStyle(document.body).fontSize,Et=5,[It=defaultConfig_default.fontSize]=parseFontSize(kt),At=It*Et+"px";St.style.minWidth=At,St.style.maxWidth=At}else St.style.width="100%";Tt(St)}__name(vt,"setupImage"),setTimeout(()=>{St.complete&&vt()}),St.addEventListener("error",vt),St.addEventListener("load",vt)})))}gt=bt.getBoundingClientRect(),xt.attr("width",gt.width),xt.attr("height",gt.height)}return ht?ft.attr("transform","translate("+-gt.width/2+", "+-gt.height/2+")"):ft.attr("transform","translate(0, "+-gt.height/2+")"),it.centerLabel&&ft.attr("transform","translate("+-gt.width/2+", "+-gt.height/2+")"),ft.insert("rect",":first-child"),{shapeSvg:ut,bbox:gt,halfPadding:_t,label:ft}},"labelHelper"),insertLabel=__name(async(rt,it,lt)=>{var pt,gt,_t,yt,mt,bt;const ct=lt.useHtmlLabels||evaluate((gt=(pt=getConfig2())==null?void 0:pt.flowchart)==null?void 0:gt.htmlLabels),ht=rt.insert("g").attr("class","label").attr("style",lt.labelStyle||""),ut=await createText(ht,sanitizeText(decodeEntities(it),getConfig2()),{useHtmlLabels:ct,width:lt.width||((yt=(_t=getConfig2())==null?void 0:_t.flowchart)==null?void 0:yt.wrappingWidth),style:lt.labelStyle,addSvgBackground:!!lt.icon||!!lt.img});let ft=ut.getBBox();const dt=lt.padding/2;if(evaluate((bt=(mt=getConfig2())==null?void 0:mt.flowchart)==null?void 0:bt.htmlLabels)){const xt=ut.children[0],wt=select(ut);ft=xt.getBoundingClientRect(),wt.attr("width",ft.width),wt.attr("height",ft.height)}return ct?ht.attr("transform","translate("+-ft.width/2+", "+-ft.height/2+")"):ht.attr("transform","translate(0, "+-ft.height/2+")"),lt.centerLabel&&ht.attr("transform","translate("+-ft.width/2+", "+-ft.height/2+")"),ht.insert("rect",":first-child"),{shapeSvg:rt,bbox:ft,halfPadding:dt,label:ht}},"insertLabel"),updateNodeBounds=__name((rt,it)=>{const lt=it.node().getBBox();rt.width=lt.width,rt.height=lt.height},"updateNodeBounds"),getNodeClasses=__name((rt,it)=>(rt.look==="handDrawn"?"rough-node":"node")+" "+rt.cssClasses+" "+(it||""),"getNodeClasses");function createPathFromPoints(rt){const it=rt.map((lt,ct)=>`${ct===0?"M":"L"}${lt.x},${lt.y}`);return it.push("Z"),it.join(" ")}__name(createPathFromPoints,"createPathFromPoints");function generateFullSineWavePoints(rt,it,lt,ct,ht,ut){const ft=[],pt=lt-rt,gt=ct-it,_t=pt/ut,yt=2*Math.PI/_t,mt=it+gt/2;for(let bt=0;bt<=50;bt++){const xt=bt/50,wt=rt+xt*pt,Ct=mt+ht*Math.sin(yt*(wt-rt));ft.push({x:wt,y:Ct})}return ft}__name(generateFullSineWavePoints,"generateFullSineWavePoints");function generateCirclePoints(rt,it,lt,ct,ht,ut){const ft=[],dt=ht*Math.PI/180,_t=(ut*Math.PI/180-dt)/(ct-1);for(let yt=0;yt<ct;yt++){const mt=dt+yt*_t,bt=rt+lt*Math.cos(mt),xt=it+lt*Math.sin(mt);ft.push({x:-bt,y:-xt})}return ft}__name(generateCirclePoints,"generateCirclePoints");var intersectRect=__name((rt,it)=>{var lt=rt.x,ct=rt.y,ht=it.x-lt,ut=it.y-ct,ft=rt.width/2,dt=rt.height/2,pt,gt;return Math.abs(ut)*ft>Math.abs(ht)*dt?(ut<0&&(dt=-dt),pt=ut===0?0:dt*ht/ut,gt=dt):(ht<0&&(ft=-ft),pt=ft,gt=ht===0?0:ft*ut/ht),{x:lt+pt,y:ct+gt}},"intersectRect"),intersect_rect_default=intersectRect;function applyStyle(rt,it){it&&rt.attr("style",it)}__name(applyStyle,"applyStyle");async function addHtmlLabel(rt){const it=select(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),lt=it.append("xhtml:div");let ct=rt.label;rt.label&&hasKatex(rt.label)&&(ct=await renderKatex(rt.label.replace(common_default.lineBreakRegex,`
`),getConfig2()));const ht=rt.isNode?"nodeLabel":"edgeLabel";return lt.html('<span class="'+ht+'" '+(rt.labelStyle?'style="'+rt.labelStyle+'"':"")+">"+ct+"</span>"),applyStyle(lt,rt.labelStyle),lt.style("display","inline-block"),lt.style("padding-right","1px"),lt.style("white-space","nowrap"),lt.attr("xmlns","http://www.w3.org/1999/xhtml"),it.node()}__name(addHtmlLabel,"addHtmlLabel");var createLabel=__name(async(rt,it,lt,ct)=>{let ht=rt||"";if(typeof ht=="object"&&(ht=ht[0]),evaluate(getConfig2().flowchart.htmlLabels)){ht=ht.replace(/\\n|\n/g,"<br />"),log.info("vertexText"+ht);const ut={isNode:ct,label:decodeEntities(ht).replace(/fa[blrs]?:fa-[\w-]+/g,dt=>`<i class='${dt.replace(":"," ")}'></i>`),labelStyle:it&&it.replace("fill:","color:")};return await addHtmlLabel(ut)}else{const ut=document.createElementNS("http://www.w3.org/2000/svg","text");ut.setAttribute("style",it.replace("color:","fill:"));let ft=[];typeof ht=="string"?ft=ht.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(ht)?ft=ht:ft=[];for(const dt of ft){const pt=document.createElementNS("http://www.w3.org/2000/svg","tspan");pt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),pt.setAttribute("dy","1em"),pt.setAttribute("x","0"),lt?pt.setAttribute("class","title-row"):pt.setAttribute("class","row"),pt.textContent=dt.trim(),ut.appendChild(pt)}return ut}},"createLabel"),createLabel_default=createLabel,createRoundedRectPathD=__name((rt,it,lt,ct,ht)=>["M",rt+ht,it,"H",rt+lt-ht,"A",ht,ht,0,0,1,rt+lt,it+ht,"V",it+ct-ht,"A",ht,ht,0,0,1,rt+lt-ht,it+ct,"H",rt+ht,"A",ht,ht,0,0,1,rt,it+ct-ht,"V",it+ht,"A",ht,ht,0,0,1,rt+ht,it,"Z"].join(" "),"createRoundedRectPathD"),solidStateFill=__name(rt=>{const{handDrawnSeed:it}=getConfig2();return{fill:rt,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:rt,seed:it}},"solidStateFill"),compileStyles=__name(rt=>{const it=styles2Map([...rt.cssCompiledStyles||[],...rt.cssStyles||[]]);return{stylesMap:it,stylesArray:[...it]}},"compileStyles"),styles2Map=__name(rt=>{const it=new Map;return rt.forEach(lt=>{const[ct,ht]=lt.split(":");it.set(ct.trim(),ht==null?void 0:ht.trim())}),it},"styles2Map"),styles2String=__name(rt=>{const{stylesArray:it}=compileStyles(rt),lt=[],ct=[],ht=[],ut=[];return it.forEach(ft=>{const dt=ft[0];dt==="color"||dt==="font-size"||dt==="font-family"||dt==="font-weight"||dt==="font-style"||dt==="text-decoration"||dt==="text-align"||dt==="text-transform"||dt==="line-height"||dt==="letter-spacing"||dt==="word-spacing"||dt==="text-shadow"||dt==="text-overflow"||dt==="white-space"||dt==="word-wrap"||dt==="word-break"||dt==="overflow-wrap"||dt==="hyphens"?lt.push(ft.join(":")+" !important"):(ct.push(ft.join(":")+" !important"),dt.includes("stroke")&&ht.push(ft.join(":")+" !important"),dt==="fill"&&ut.push(ft.join(":")+" !important"))}),{labelStyles:lt.join(";"),nodeStyles:ct.join(";"),stylesArray:it,borderStyles:ht,backgroundStyles:ut}},"styles2String"),userNodeOverrides=__name((rt,it)=>{var pt;const{themeVariables:lt,handDrawnSeed:ct}=getConfig2(),{nodeBorder:ht,mainBkg:ut}=lt,{stylesMap:ft}=compileStyles(rt);return Object.assign({roughness:.7,fill:ft.get("fill")||ut,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:ft.get("stroke")||ht,seed:ct,strokeWidth:((pt=ft.get("stroke-width"))==null?void 0:pt.replace("px",""))||1.3,fillLineDash:[0,0]},it)},"userNodeOverrides"),rect=__name(async(rt,it)=>{log.info("Creating subgraph rect for ",it.id,it);const lt=getConfig2(),{themeVariables:ct,handDrawnSeed:ht}=lt,{clusterBkg:ut,clusterBorder:ft}=ct,{labelStyles:dt,nodeStyles:pt,borderStyles:gt,backgroundStyles:_t}=styles2String(it),yt=rt.insert("g").attr("class","cluster "+it.cssClasses).attr("id",it.id).attr("data-look",it.look),mt=evaluate(lt.flowchart.htmlLabels),bt=yt.insert("g").attr("class","cluster-label "),xt=await createText(bt,it.label,{style:it.labelStyle,useHtmlLabels:mt,isNode:!0});let wt=xt.getBBox();if(evaluate(lt.flowchart.htmlLabels)){const At=xt.children[0],Dt=select(xt);wt=At.getBoundingClientRect(),Dt.attr("width",wt.width),Dt.attr("height",wt.height)}const Ct=it.width<=wt.width+it.padding?wt.width+it.padding:it.width;it.width<=wt.width+it.padding?it.diff=(Ct-it.width)/2-it.padding:it.diff=-it.padding;const St=it.height,Tt=it.x-Ct/2,vt=it.y-St/2;log.trace("Data ",it,JSON.stringify(it));let kt;if(it.look==="handDrawn"){const At=at.svg(yt),Dt=userNodeOverrides(it,{roughness:.7,fill:ut,stroke:ft,fillWeight:3,seed:ht}),Nt=At.path(createRoundedRectPathD(Tt,vt,Ct,St,0),Dt);kt=yt.insert(()=>(log.debug("Rough node insert CXC",Nt),Nt),":first-child"),kt.select("path:nth-child(2)").attr("style",gt.join(";")),kt.select("path").attr("style",_t.join(";").replace("fill","stroke"))}else kt=yt.insert("rect",":first-child"),kt.attr("style",pt).attr("rx",it.rx).attr("ry",it.ry).attr("x",Tt).attr("y",vt).attr("width",Ct).attr("height",St);const{subGraphTitleTopMargin:Et}=getSubGraphTitleMargins(lt);if(bt.attr("transform",`translate(${it.x-wt.width/2}, ${it.y-it.height/2+Et})`),dt){const At=bt.select("span");At&&At.attr("style",dt)}const It=kt.node().getBBox();return it.offsetX=0,it.width=It.width,it.height=It.height,it.offsetY=wt.height-it.padding/2,it.intersect=function(At){return intersect_rect_default(it,At)},{cluster:yt,labelBBox:wt}},"rect"),noteGroup=__name((rt,it)=>{const lt=rt.insert("g").attr("class","note-cluster").attr("id",it.id),ct=lt.insert("rect",":first-child"),ht=0*it.padding,ut=ht/2;ct.attr("rx",it.rx).attr("ry",it.ry).attr("x",it.x-it.width/2-ut).attr("y",it.y-it.height/2-ut).attr("width",it.width+ht).attr("height",it.height+ht).attr("fill","none");const ft=ct.node().getBBox();return it.width=ft.width,it.height=ft.height,it.intersect=function(dt){return intersect_rect_default(it,dt)},{cluster:lt,labelBBox:{width:0,height:0}}},"noteGroup"),roundedWithTitle=__name(async(rt,it)=>{const lt=getConfig2(),{themeVariables:ct,handDrawnSeed:ht}=lt,{altBackground:ut,compositeBackground:ft,compositeTitleBackground:dt,nodeBorder:pt}=ct,gt=rt.insert("g").attr("class",it.cssClasses).attr("id",it.id).attr("data-id",it.id).attr("data-look",it.look),_t=gt.insert("g",":first-child"),yt=gt.insert("g").attr("class","cluster-label");let mt=gt.append("rect");const bt=yt.node().appendChild(await createLabel_default(it.label,it.labelStyle,void 0,!0));let xt=bt.getBBox();if(evaluate(lt.flowchart.htmlLabels)){const Nt=bt.children[0],Mt=select(bt);xt=Nt.getBoundingClientRect(),Mt.attr("width",xt.width),Mt.attr("height",xt.height)}const wt=0*it.padding,Ct=wt/2,St=(it.width<=xt.width+it.padding?xt.width+it.padding:it.width)+wt;it.width<=xt.width+it.padding?it.diff=(St-it.width)/2-it.padding:it.diff=-it.padding;const Tt=it.height+wt,vt=it.height+wt-xt.height-6,kt=it.x-St/2,Et=it.y-Tt/2;it.width=St;const It=it.y-it.height/2-Ct+xt.height+2;let At;if(it.look==="handDrawn"){const Nt=it.cssClasses.includes("statediagram-cluster-alt"),Mt=at.svg(gt),Rt=it.rx||it.ry?Mt.path(createRoundedRectPathD(kt,Et,St,Tt,10),{roughness:.7,fill:dt,fillStyle:"solid",stroke:pt,seed:ht}):Mt.rectangle(kt,Et,St,Tt,{seed:ht});At=gt.insert(()=>Rt,":first-child");const zt=Mt.rectangle(kt,It,St,vt,{fill:Nt?ut:ft,fillStyle:Nt?"hachure":"solid",stroke:pt,seed:ht});At=gt.insert(()=>Rt,":first-child"),mt=gt.insert(()=>zt)}else At=_t.insert("rect",":first-child"),At.attr("class","outer").attr("x",kt).attr("y",Et).attr("width",St).attr("height",Tt).attr("data-look",it.look),mt.attr("class","inner").attr("x",kt).attr("y",It).attr("width",St).attr("height",vt);yt.attr("transform",`translate(${it.x-xt.width/2}, ${Et+1-(evaluate(lt.flowchart.htmlLabels)?0:3)})`);const Dt=At.node().getBBox();return it.height=Dt.height,it.offsetX=0,it.offsetY=xt.height-it.padding/2,it.labelBBox=xt,it.intersect=function(Nt){return intersect_rect_default(it,Nt)},{cluster:gt,labelBBox:xt}},"roundedWithTitle"),kanbanSection=__name(async(rt,it)=>{log.info("Creating subgraph rect for ",it.id,it);const lt=getConfig2(),{themeVariables:ct,handDrawnSeed:ht}=lt,{clusterBkg:ut,clusterBorder:ft}=ct,{labelStyles:dt,nodeStyles:pt,borderStyles:gt,backgroundStyles:_t}=styles2String(it),yt=rt.insert("g").attr("class","cluster "+it.cssClasses).attr("id",it.id).attr("data-look",it.look),mt=evaluate(lt.flowchart.htmlLabels),bt=yt.insert("g").attr("class","cluster-label "),xt=await createText(bt,it.label,{style:it.labelStyle,useHtmlLabels:mt,isNode:!0,width:it.width});let wt=xt.getBBox();if(evaluate(lt.flowchart.htmlLabels)){const At=xt.children[0],Dt=select(xt);wt=At.getBoundingClientRect(),Dt.attr("width",wt.width),Dt.attr("height",wt.height)}const Ct=it.width<=wt.width+it.padding?wt.width+it.padding:it.width;it.width<=wt.width+it.padding?it.diff=(Ct-it.width)/2-it.padding:it.diff=-it.padding;const St=it.height,Tt=it.x-Ct/2,vt=it.y-St/2;log.trace("Data ",it,JSON.stringify(it));let kt;if(it.look==="handDrawn"){const At=at.svg(yt),Dt=userNodeOverrides(it,{roughness:.7,fill:ut,stroke:ft,fillWeight:4,seed:ht}),Nt=At.path(createRoundedRectPathD(Tt,vt,Ct,St,it.rx),Dt);kt=yt.insert(()=>(log.debug("Rough node insert CXC",Nt),Nt),":first-child"),kt.select("path:nth-child(2)").attr("style",gt.join(";")),kt.select("path").attr("style",_t.join(";").replace("fill","stroke"))}else kt=yt.insert("rect",":first-child"),kt.attr("style",pt).attr("rx",it.rx).attr("ry",it.ry).attr("x",Tt).attr("y",vt).attr("width",Ct).attr("height",St);const{subGraphTitleTopMargin:Et}=getSubGraphTitleMargins(lt);if(bt.attr("transform",`translate(${it.x-wt.width/2}, ${it.y-it.height/2+Et})`),dt){const At=bt.select("span");At&&At.attr("style",dt)}const It=kt.node().getBBox();return it.offsetX=0,it.width=It.width,it.height=It.height,it.offsetY=wt.height-it.padding/2,it.intersect=function(At){return intersect_rect_default(it,At)},{cluster:yt,labelBBox:wt}},"kanbanSection"),divider=__name((rt,it)=>{const lt=getConfig2(),{themeVariables:ct,handDrawnSeed:ht}=lt,{nodeBorder:ut}=ct,ft=rt.insert("g").attr("class",it.cssClasses).attr("id",it.id).attr("data-look",it.look),dt=ft.insert("g",":first-child"),pt=0*it.padding,gt=it.width+pt;it.diff=-it.padding;const _t=it.height+pt,yt=it.x-gt/2,mt=it.y-_t/2;it.width=gt;let bt;if(it.look==="handDrawn"){const Ct=at.svg(ft).rectangle(yt,mt,gt,_t,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:ut,seed:ht});bt=ft.insert(()=>Ct,":first-child")}else bt=dt.insert("rect",":first-child"),bt.attr("class","divider").attr("x",yt).attr("y",mt).attr("width",gt).attr("height",_t).attr("data-look",it.look);const xt=bt.node().getBBox();return it.height=xt.height,it.offsetX=0,it.offsetY=0,it.intersect=function(wt){return intersect_rect_default(it,wt)},{cluster:ft,labelBBox:{}}},"divider"),squareRect=rect,shapes={rect,squareRect,roundedWithTitle,noteGroup,divider,kanbanSection},clusterElems=new Map,insertCluster=__name(async(rt,it)=>{const lt=it.shape||"rect",ct=await shapes[lt](rt,it);return clusterElems.set(it.id,ct),ct},"insertCluster"),clear$1=__name(()=>{clusterElems=new Map},"clear");function intersectNode(rt,it){return rt.intersect(it)}__name(intersectNode,"intersectNode");var intersect_node_default=intersectNode;function intersectEllipse(rt,it,lt,ct){var ht=rt.x,ut=rt.y,ft=ht-ct.x,dt=ut-ct.y,pt=Math.sqrt(it*it*dt*dt+lt*lt*ft*ft),gt=Math.abs(it*lt*ft/pt);ct.x<ht&&(gt=-gt);var _t=Math.abs(it*lt*dt/pt);return ct.y<ut&&(_t=-_t),{x:ht+gt,y:ut+_t}}__name(intersectEllipse,"intersectEllipse");var intersect_ellipse_default=intersectEllipse;function intersectCircle(rt,it,lt){return intersect_ellipse_default(rt,it,it,lt)}__name(intersectCircle,"intersectCircle");var intersect_circle_default=intersectCircle;function intersectLine(rt,it,lt,ct){var ht,ut,ft,dt,pt,gt,_t,yt,mt,bt,xt,wt,Ct,St,Tt;if(ht=it.y-rt.y,ft=rt.x-it.x,pt=it.x*rt.y-rt.x*it.y,mt=ht*lt.x+ft*lt.y+pt,bt=ht*ct.x+ft*ct.y+pt,!(mt!==0&&bt!==0&&sameSign(mt,bt))&&(ut=ct.y-lt.y,dt=lt.x-ct.x,gt=ct.x*lt.y-lt.x*ct.y,_t=ut*rt.x+dt*rt.y+gt,yt=ut*it.x+dt*it.y+gt,!(_t!==0&&yt!==0&&sameSign(_t,yt))&&(xt=ht*dt-ut*ft,xt!==0)))return wt=Math.abs(xt/2),Ct=ft*gt-dt*pt,St=Ct<0?(Ct-wt)/xt:(Ct+wt)/xt,Ct=ut*pt-ht*gt,Tt=Ct<0?(Ct-wt)/xt:(Ct+wt)/xt,{x:St,y:Tt}}__name(intersectLine,"intersectLine");function sameSign(rt,it){return rt*it>0}__name(sameSign,"sameSign");var intersect_line_default=intersectLine;function intersectPolygon(rt,it,lt){let ct=rt.x,ht=rt.y,ut=[],ft=Number.POSITIVE_INFINITY,dt=Number.POSITIVE_INFINITY;typeof it.forEach=="function"?it.forEach(function(_t){ft=Math.min(ft,_t.x),dt=Math.min(dt,_t.y)}):(ft=Math.min(ft,it.x),dt=Math.min(dt,it.y));let pt=ct-rt.width/2-ft,gt=ht-rt.height/2-dt;for(let _t=0;_t<it.length;_t++){let yt=it[_t],mt=it[_t<it.length-1?_t+1:0],bt=intersect_line_default(rt,lt,{x:pt+yt.x,y:gt+yt.y},{x:pt+mt.x,y:gt+mt.y});bt&&ut.push(bt)}return ut.length?(ut.length>1&&ut.sort(function(_t,yt){let mt=_t.x-lt.x,bt=_t.y-lt.y,xt=Math.sqrt(mt*mt+bt*bt),wt=yt.x-lt.x,Ct=yt.y-lt.y,St=Math.sqrt(wt*wt+Ct*Ct);return xt<St?-1:xt===St?0:1}),ut[0]):rt}__name(intersectPolygon,"intersectPolygon");var intersect_polygon_default=intersectPolygon,intersect_default={node:intersect_node_default,circle:intersect_circle_default,ellipse:intersect_ellipse_default,polygon:intersect_polygon_default,rect:intersect_rect_default};function anchor(rt,it){const{labelStyles:lt}=styles2String(it);it.labelStyle=lt;const ct=getNodeClasses(it);let ht=ct;ct||(ht="anchor");const ut=rt.insert("g").attr("class",ht).attr("id",it.domId||it.id),ft=1,{cssStyles:dt}=it,pt=at.svg(ut),gt=userNodeOverrides(it,{fill:"black",stroke:"none",fillStyle:"solid"});it.look!=="handDrawn"&&(gt.roughness=0);const _t=pt.circle(0,0,ft*2,gt),yt=ut.insert(()=>_t,":first-child");return yt.attr("class","anchor").attr("style",handleUndefinedAttr(dt)),updateNodeBounds(it,yt),it.intersect=function(mt){return log.info("Circle intersect",it,ft,mt),intersect_default.circle(it,ft,mt)},ut}__name(anchor,"anchor");function generateArcPoints(rt,it,lt,ct,ht,ut,ft){const pt=(rt+lt)/2,gt=(it+ct)/2,_t=Math.atan2(ct-it,lt-rt),yt=(lt-rt)/2,mt=(ct-it)/2,bt=yt/ht,xt=mt/ut,wt=Math.sqrt(bt**2+xt**2);if(wt>1)throw new Error("The given radii are too small to create an arc between the points.");const Ct=Math.sqrt(1-wt**2),St=pt+Ct*ut*Math.sin(_t)*(ft?-1:1),Tt=gt-Ct*ht*Math.cos(_t)*(ft?-1:1),vt=Math.atan2((it-Tt)/ut,(rt-St)/ht);let Et=Math.atan2((ct-Tt)/ut,(lt-St)/ht)-vt;ft&&Et<0&&(Et+=2*Math.PI),!ft&&Et>0&&(Et-=2*Math.PI);const It=[];for(let At=0;At<20;At++){const Dt=At/19,Nt=vt+Dt*Et,Mt=St+ht*Math.cos(Nt),Rt=Tt+ut*Math.sin(Nt);It.push({x:Mt,y:Rt})}return It}__name(generateArcPoints,"generateArcPoints");async function bowTieRect(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut}=await labelHelper(rt,it,getNodeClasses(it)),ft=ut.width+it.padding+20,dt=ut.height+it.padding,pt=dt/2,gt=pt/(2.5+dt/50),{cssStyles:_t}=it,yt=[{x:ft/2,y:-dt/2},{x:-ft/2,y:-dt/2},...generateArcPoints(-ft/2,-dt/2,-ft/2,dt/2,gt,pt,!1),{x:ft/2,y:dt/2},...generateArcPoints(ft/2,dt/2,ft/2,-dt/2,gt,pt,!0)],mt=at.svg(ht),bt=userNodeOverrides(it,{});it.look!=="handDrawn"&&(bt.roughness=0,bt.fillStyle="solid");const xt=createPathFromPoints(yt),wt=mt.path(xt,bt),Ct=ht.insert(()=>wt,":first-child");return Ct.attr("class","basic label-container"),_t&&it.look!=="handDrawn"&&Ct.selectAll("path").attr("style",_t),ct&&it.look!=="handDrawn"&&Ct.selectAll("path").attr("style",ct),Ct.attr("transform",`translate(${gt/2}, 0)`),updateNodeBounds(it,Ct),it.intersect=function(St){return intersect_default.polygon(it,yt,St)},ht}__name(bowTieRect,"bowTieRect");function insertPolygonShape(rt,it,lt,ct){return rt.insert("polygon",":first-child").attr("points",ct.map(function(ht){return ht.x+","+ht.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-it/2+","+lt/2+")")}__name(insertPolygonShape,"insertPolygonShape");async function card(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut}=await labelHelper(rt,it,getNodeClasses(it)),ft=ut.height+it.padding,dt=12,pt=ut.width+it.padding+dt,gt=0,_t=pt,yt=-ft,mt=0,bt=[{x:gt+dt,y:yt},{x:_t,y:yt},{x:_t,y:mt},{x:gt,y:mt},{x:gt,y:yt+dt},{x:gt+dt,y:yt}];let xt;const{cssStyles:wt}=it;if(it.look==="handDrawn"){const Ct=at.svg(ht),St=userNodeOverrides(it,{}),Tt=createPathFromPoints(bt),vt=Ct.path(Tt,St);xt=ht.insert(()=>vt,":first-child").attr("transform",`translate(${-pt/2}, ${ft/2})`),wt&&xt.attr("style",wt)}else xt=insertPolygonShape(ht,pt,ft,bt);return ct&&xt.attr("style",ct),updateNodeBounds(it,xt),it.intersect=function(Ct){return intersect_default.polygon(it,bt,Ct)},ht}__name(card,"card");function choice(rt,it){const{nodeStyles:lt}=styles2String(it);it.label="";const ct=rt.insert("g").attr("class",getNodeClasses(it)).attr("id",it.domId??it.id),{cssStyles:ht}=it,ut=Math.max(28,it.width??0),ft=[{x:0,y:ut/2},{x:ut/2,y:0},{x:0,y:-ut/2},{x:-ut/2,y:0}],dt=at.svg(ct),pt=userNodeOverrides(it,{});it.look!=="handDrawn"&&(pt.roughness=0,pt.fillStyle="solid");const gt=createPathFromPoints(ft),_t=dt.path(gt,pt),yt=ct.insert(()=>_t,":first-child");return ht&&it.look!=="handDrawn"&&yt.selectAll("path").attr("style",ht),lt&&it.look!=="handDrawn"&&yt.selectAll("path").attr("style",lt),it.width=28,it.height=28,it.intersect=function(mt){return intersect_default.polygon(it,ft,mt)},ct}__name(choice,"choice");async function circle$1(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut,halfPadding:ft}=await labelHelper(rt,it,getNodeClasses(it)),dt=ut.width/2+ft;let pt;const{cssStyles:gt}=it;if(it.look==="handDrawn"){const _t=at.svg(ht),yt=userNodeOverrides(it,{}),mt=_t.circle(0,0,dt*2,yt);pt=ht.insert(()=>mt,":first-child"),pt.attr("class","basic label-container").attr("style",handleUndefinedAttr(gt))}else pt=ht.insert("circle",":first-child").attr("class","basic label-container").attr("style",ct).attr("r",dt).attr("cx",0).attr("cy",0);return updateNodeBounds(it,pt),it.intersect=function(_t){return log.info("Circle intersect",it,dt,_t),intersect_default.circle(it,dt,_t)},ht}__name(circle$1,"circle");function createLine(rt){const it=Math.cos(Math.PI/4),lt=Math.sin(Math.PI/4),ct=rt*2,ht={x:ct/2*it,y:ct/2*lt},ut={x:-(ct/2)*it,y:ct/2*lt},ft={x:-(ct/2)*it,y:-(ct/2)*lt},dt={x:ct/2*it,y:-(ct/2)*lt};return`M ${ut.x},${ut.y} L ${dt.x},${dt.y}
                   M ${ht.x},${ht.y} L ${ft.x},${ft.y}`}__name(createLine,"createLine");function crossedCircle(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt,it.label="";const ht=rt.insert("g").attr("class",getNodeClasses(it)).attr("id",it.domId??it.id),ut=Math.max(30,(it==null?void 0:it.width)??0),{cssStyles:ft}=it,dt=at.svg(ht),pt=userNodeOverrides(it,{});it.look!=="handDrawn"&&(pt.roughness=0,pt.fillStyle="solid");const gt=dt.circle(0,0,ut*2,pt),_t=createLine(ut),yt=dt.path(_t,pt),mt=ht.insert(()=>gt,":first-child");return mt.insert(()=>yt),ft&&it.look!=="handDrawn"&&mt.selectAll("path").attr("style",ft),ct&&it.look!=="handDrawn"&&mt.selectAll("path").attr("style",ct),updateNodeBounds(it,mt),it.intersect=function(bt){return log.info("crossedCircle intersect",it,{radius:ut,point:bt}),intersect_default.circle(it,ut,bt)},ht}__name(crossedCircle,"crossedCircle");function generateCirclePoints2(rt,it,lt,ct=100,ht=0,ut=180){const ft=[],dt=ht*Math.PI/180,_t=(ut*Math.PI/180-dt)/(ct-1);for(let yt=0;yt<ct;yt++){const mt=dt+yt*_t,bt=rt+lt*Math.cos(mt),xt=it+lt*Math.sin(mt);ft.push({x:-bt,y:-xt})}return ft}__name(generateCirclePoints2,"generateCirclePoints");async function curlyBraceLeft(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut,label:ft}=await labelHelper(rt,it,getNodeClasses(it)),dt=ut.width+(it.padding??0),pt=ut.height+(it.padding??0),gt=Math.max(5,pt*.1),{cssStyles:_t}=it,yt=[...generateCirclePoints2(dt/2,-pt/2,gt,30,-90,0),{x:-dt/2-gt,y:gt},...generateCirclePoints2(dt/2+gt*2,-gt,gt,20,-180,-270),...generateCirclePoints2(dt/2+gt*2,gt,gt,20,-90,-180),{x:-dt/2-gt,y:-pt/2},...generateCirclePoints2(dt/2,pt/2,gt,20,0,90)],mt=[{x:dt/2,y:-pt/2-gt},{x:-dt/2,y:-pt/2-gt},...generateCirclePoints2(dt/2,-pt/2,gt,20,-90,0),{x:-dt/2-gt,y:-gt},...generateCirclePoints2(dt/2+dt*.1,-gt,gt,20,-180,-270),...generateCirclePoints2(dt/2+dt*.1,gt,gt,20,-90,-180),{x:-dt/2-gt,y:pt/2},...generateCirclePoints2(dt/2,pt/2,gt,20,0,90),{x:-dt/2,y:pt/2+gt},{x:dt/2,y:pt/2+gt}],bt=at.svg(ht),xt=userNodeOverrides(it,{fill:"none"});it.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const Ct=createPathFromPoints(yt).replace("Z",""),St=bt.path(Ct,xt),Tt=createPathFromPoints(mt),vt=bt.path(Tt,{...xt}),kt=ht.insert("g",":first-child");return kt.insert(()=>vt,":first-child").attr("stroke-opacity",0),kt.insert(()=>St,":first-child"),kt.attr("class","text"),_t&&it.look!=="handDrawn"&&kt.selectAll("path").attr("style",_t),ct&&it.look!=="handDrawn"&&kt.selectAll("path").attr("style",ct),kt.attr("transform",`translate(${gt}, 0)`),ft.attr("transform",`translate(${-dt/2+gt-(ut.x-(ut.left??0))},${-pt/2+(it.padding??0)/2-(ut.y-(ut.top??0))})`),updateNodeBounds(it,kt),it.intersect=function(Et){return intersect_default.polygon(it,mt,Et)},ht}__name(curlyBraceLeft,"curlyBraceLeft");function generateCirclePoints3(rt,it,lt,ct=100,ht=0,ut=180){const ft=[],dt=ht*Math.PI/180,_t=(ut*Math.PI/180-dt)/(ct-1);for(let yt=0;yt<ct;yt++){const mt=dt+yt*_t,bt=rt+lt*Math.cos(mt),xt=it+lt*Math.sin(mt);ft.push({x:bt,y:xt})}return ft}__name(generateCirclePoints3,"generateCirclePoints");async function curlyBraceRight(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut,label:ft}=await labelHelper(rt,it,getNodeClasses(it)),dt=ut.width+(it.padding??0),pt=ut.height+(it.padding??0),gt=Math.max(5,pt*.1),{cssStyles:_t}=it,yt=[...generateCirclePoints3(dt/2,-pt/2,gt,20,-90,0),{x:dt/2+gt,y:-gt},...generateCirclePoints3(dt/2+gt*2,-gt,gt,20,-180,-270),...generateCirclePoints3(dt/2+gt*2,gt,gt,20,-90,-180),{x:dt/2+gt,y:pt/2},...generateCirclePoints3(dt/2,pt/2,gt,20,0,90)],mt=[{x:-dt/2,y:-pt/2-gt},{x:dt/2,y:-pt/2-gt},...generateCirclePoints3(dt/2,-pt/2,gt,20,-90,0),{x:dt/2+gt,y:-gt},...generateCirclePoints3(dt/2+gt*2,-gt,gt,20,-180,-270),...generateCirclePoints3(dt/2+gt*2,gt,gt,20,-90,-180),{x:dt/2+gt,y:pt/2},...generateCirclePoints3(dt/2,pt/2,gt,20,0,90),{x:dt/2,y:pt/2+gt},{x:-dt/2,y:pt/2+gt}],bt=at.svg(ht),xt=userNodeOverrides(it,{fill:"none"});it.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const Ct=createPathFromPoints(yt).replace("Z",""),St=bt.path(Ct,xt),Tt=createPathFromPoints(mt),vt=bt.path(Tt,{...xt}),kt=ht.insert("g",":first-child");return kt.insert(()=>vt,":first-child").attr("stroke-opacity",0),kt.insert(()=>St,":first-child"),kt.attr("class","text"),_t&&it.look!=="handDrawn"&&kt.selectAll("path").attr("style",_t),ct&&it.look!=="handDrawn"&&kt.selectAll("path").attr("style",ct),kt.attr("transform",`translate(${-gt}, 0)`),ft.attr("transform",`translate(${-dt/2+(it.padding??0)/2-(ut.x-(ut.left??0))},${-pt/2+(it.padding??0)/2-(ut.y-(ut.top??0))})`),updateNodeBounds(it,kt),it.intersect=function(Et){return intersect_default.polygon(it,mt,Et)},ht}__name(curlyBraceRight,"curlyBraceRight");function generateCirclePoints4(rt,it,lt,ct=100,ht=0,ut=180){const ft=[],dt=ht*Math.PI/180,_t=(ut*Math.PI/180-dt)/(ct-1);for(let yt=0;yt<ct;yt++){const mt=dt+yt*_t,bt=rt+lt*Math.cos(mt),xt=it+lt*Math.sin(mt);ft.push({x:-bt,y:-xt})}return ft}__name(generateCirclePoints4,"generateCirclePoints");async function curlyBraces(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut,label:ft}=await labelHelper(rt,it,getNodeClasses(it)),dt=ut.width+(it.padding??0),pt=ut.height+(it.padding??0),gt=Math.max(5,pt*.1),{cssStyles:_t}=it,yt=[...generateCirclePoints4(dt/2,-pt/2,gt,30,-90,0),{x:-dt/2-gt,y:gt},...generateCirclePoints4(dt/2+gt*2,-gt,gt,20,-180,-270),...generateCirclePoints4(dt/2+gt*2,gt,gt,20,-90,-180),{x:-dt/2-gt,y:-pt/2},...generateCirclePoints4(dt/2,pt/2,gt,20,0,90)],mt=[...generateCirclePoints4(-dt/2+gt+gt/2,-pt/2,gt,20,-90,-180),{x:dt/2-gt/2,y:gt},...generateCirclePoints4(-dt/2-gt/2,-gt,gt,20,0,90),...generateCirclePoints4(-dt/2-gt/2,gt,gt,20,-90,0),{x:dt/2-gt/2,y:-gt},...generateCirclePoints4(-dt/2+gt+gt/2,pt/2,gt,30,-180,-270)],bt=[{x:dt/2,y:-pt/2-gt},{x:-dt/2,y:-pt/2-gt},...generateCirclePoints4(dt/2,-pt/2,gt,20,-90,0),{x:-dt/2-gt,y:-gt},...generateCirclePoints4(dt/2+gt*2,-gt,gt,20,-180,-270),...generateCirclePoints4(dt/2+gt*2,gt,gt,20,-90,-180),{x:-dt/2-gt,y:pt/2},...generateCirclePoints4(dt/2,pt/2,gt,20,0,90),{x:-dt/2,y:pt/2+gt},{x:dt/2-gt-gt/2,y:pt/2+gt},...generateCirclePoints4(-dt/2+gt+gt/2,-pt/2,gt,20,-90,-180),{x:dt/2-gt/2,y:gt},...generateCirclePoints4(-dt/2-gt/2,-gt,gt,20,0,90),...generateCirclePoints4(-dt/2-gt/2,gt,gt,20,-90,0),{x:dt/2-gt/2,y:-gt},...generateCirclePoints4(-dt/2+gt+gt/2,pt/2,gt,30,-180,-270)],xt=at.svg(ht),wt=userNodeOverrides(it,{fill:"none"});it.look!=="handDrawn"&&(wt.roughness=0,wt.fillStyle="solid");const St=createPathFromPoints(yt).replace("Z",""),Tt=xt.path(St,wt),kt=createPathFromPoints(mt).replace("Z",""),Et=xt.path(kt,wt),It=createPathFromPoints(bt),At=xt.path(It,{...wt}),Dt=ht.insert("g",":first-child");return Dt.insert(()=>At,":first-child").attr("stroke-opacity",0),Dt.insert(()=>Tt,":first-child"),Dt.insert(()=>Et,":first-child"),Dt.attr("class","text"),_t&&it.look!=="handDrawn"&&Dt.selectAll("path").attr("style",_t),ct&&it.look!=="handDrawn"&&Dt.selectAll("path").attr("style",ct),Dt.attr("transform",`translate(${gt-gt/4}, 0)`),ft.attr("transform",`translate(${-dt/2+(it.padding??0)/2-(ut.x-(ut.left??0))},${-pt/2+(it.padding??0)/2-(ut.y-(ut.top??0))})`),updateNodeBounds(it,Dt),it.intersect=function(Nt){return intersect_default.polygon(it,bt,Nt)},ht}__name(curlyBraces,"curlyBraces");async function curvedTrapezoid(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut}=await labelHelper(rt,it,getNodeClasses(it)),ft=80,dt=20,pt=Math.max(ft,(ut.width+(it.padding??0)*2)*1.25,(it==null?void 0:it.width)??0),gt=Math.max(dt,ut.height+(it.padding??0)*2,(it==null?void 0:it.height)??0),_t=gt/2,{cssStyles:yt}=it,mt=at.svg(ht),bt=userNodeOverrides(it,{});it.look!=="handDrawn"&&(bt.roughness=0,bt.fillStyle="solid");const xt=pt,wt=gt,Ct=xt-_t,St=wt/4,Tt=[{x:Ct,y:0},{x:St,y:0},{x:0,y:wt/2},{x:St,y:wt},{x:Ct,y:wt},...generateCirclePoints(-Ct,-wt/2,_t,50,270,90)],vt=createPathFromPoints(Tt),kt=mt.path(vt,bt),Et=ht.insert(()=>kt,":first-child");return Et.attr("class","basic label-container"),yt&&it.look!=="handDrawn"&&Et.selectChildren("path").attr("style",yt),ct&&it.look!=="handDrawn"&&Et.selectChildren("path").attr("style",ct),Et.attr("transform",`translate(${-pt/2}, ${-gt/2})`),updateNodeBounds(it,Et),it.intersect=function(It){return intersect_default.polygon(it,Tt,It)},ht}__name(curvedTrapezoid,"curvedTrapezoid");var createCylinderPathD=__name((rt,it,lt,ct,ht,ut)=>[`M${rt},${it+ut}`,`a${ht},${ut} 0,0,0 ${lt},0`,`a${ht},${ut} 0,0,0 ${-lt},0`,`l0,${ct}`,`a${ht},${ut} 0,0,0 ${lt},0`,`l0,${-ct}`].join(" "),"createCylinderPathD"),createOuterCylinderPathD=__name((rt,it,lt,ct,ht,ut)=>[`M${rt},${it+ut}`,`M${rt+lt},${it+ut}`,`a${ht},${ut} 0,0,0 ${-lt},0`,`l0,${ct}`,`a${ht},${ut} 0,0,0 ${lt},0`,`l0,${-ct}`].join(" "),"createOuterCylinderPathD"),createInnerCylinderPathD=__name((rt,it,lt,ct,ht,ut)=>[`M${rt-lt/2},${-ct/2}`,`a${ht},${ut} 0,0,0 ${lt},0`].join(" "),"createInnerCylinderPathD");async function cylinder(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut,label:ft}=await labelHelper(rt,it,getNodeClasses(it)),dt=Math.max(ut.width+it.padding,it.width??0),pt=dt/2,gt=pt/(2.5+dt/50),_t=Math.max(ut.height+gt+it.padding,it.height??0);let yt;const{cssStyles:mt}=it;if(it.look==="handDrawn"){const bt=at.svg(ht),xt=createOuterCylinderPathD(0,0,dt,_t,pt,gt),wt=createInnerCylinderPathD(0,gt,dt,_t,pt,gt),Ct=bt.path(xt,userNodeOverrides(it,{})),St=bt.path(wt,userNodeOverrides(it,{fill:"none"}));yt=ht.insert(()=>St,":first-child"),yt=ht.insert(()=>Ct,":first-child"),yt.attr("class","basic label-container"),mt&&yt.attr("style",mt)}else{const bt=createCylinderPathD(0,0,dt,_t,pt,gt);yt=ht.insert("path",":first-child").attr("d",bt).attr("class","basic label-container").attr("style",handleUndefinedAttr(mt)).attr("style",ct)}return yt.attr("label-offset-y",gt),yt.attr("transform",`translate(${-dt/2}, ${-(_t/2+gt)})`),updateNodeBounds(it,yt),ft.attr("transform",`translate(${-(ut.width/2)-(ut.x-(ut.left??0))}, ${-(ut.height/2)+(it.padding??0)/1.5-(ut.y-(ut.top??0))})`),it.intersect=function(bt){const xt=intersect_default.rect(it,bt),wt=xt.x-(it.x??0);if(pt!=0&&(Math.abs(wt)<(it.width??0)/2||Math.abs(wt)==(it.width??0)/2&&Math.abs(xt.y-(it.y??0))>(it.height??0)/2-gt)){let Ct=gt*gt*(1-wt*wt/(pt*pt));Ct>0&&(Ct=Math.sqrt(Ct)),Ct=gt-Ct,bt.y-(it.y??0)>0&&(Ct=-Ct),xt.y+=Ct}return xt},ht}__name(cylinder,"cylinder");async function dividedRectangle(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut,label:ft}=await labelHelper(rt,it,getNodeClasses(it)),dt=ut.width+it.padding,pt=ut.height+it.padding,gt=pt*.2,_t=-dt/2,yt=-pt/2-gt/2,{cssStyles:mt}=it,bt=at.svg(ht),xt=userNodeOverrides(it,{});it.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const wt=[{x:_t,y:yt+gt},{x:-_t,y:yt+gt},{x:-_t,y:-yt},{x:_t,y:-yt},{x:_t,y:yt},{x:-_t,y:yt},{x:-_t,y:yt+gt}],Ct=bt.polygon(wt.map(Tt=>[Tt.x,Tt.y]),xt),St=ht.insert(()=>Ct,":first-child");return St.attr("class","basic label-container"),mt&&it.look!=="handDrawn"&&St.selectAll("path").attr("style",mt),ct&&it.look!=="handDrawn"&&St.selectAll("path").attr("style",ct),ft.attr("transform",`translate(${_t+(it.padding??0)/2-(ut.x-(ut.left??0))}, ${yt+gt+(it.padding??0)/2-(ut.y-(ut.top??0))})`),updateNodeBounds(it,St),it.intersect=function(Tt){return intersect_default.rect(it,Tt)},ht}__name(dividedRectangle,"dividedRectangle");async function doublecircle(rt,it){var mt,bt;const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut,halfPadding:ft}=await labelHelper(rt,it,getNodeClasses(it)),pt=ut.width/2+ft+5,gt=ut.width/2+ft;let _t;const{cssStyles:yt}=it;if(it.look==="handDrawn"){const xt=at.svg(ht),wt=userNodeOverrides(it,{roughness:.2,strokeWidth:2.5}),Ct=userNodeOverrides(it,{roughness:.2,strokeWidth:1.5}),St=xt.circle(0,0,pt*2,wt),Tt=xt.circle(0,0,gt*2,Ct);_t=ht.insert("g",":first-child"),_t.attr("class",handleUndefinedAttr(it.cssClasses)).attr("style",handleUndefinedAttr(yt)),(mt=_t.node())==null||mt.appendChild(St),(bt=_t.node())==null||bt.appendChild(Tt)}else{_t=ht.insert("g",":first-child");const xt=_t.insert("circle",":first-child"),wt=_t.insert("circle");_t.attr("class","basic label-container").attr("style",ct),xt.attr("class","outer-circle").attr("style",ct).attr("r",pt).attr("cx",0).attr("cy",0),wt.attr("class","inner-circle").attr("style",ct).attr("r",gt).attr("cx",0).attr("cy",0)}return updateNodeBounds(it,_t),it.intersect=function(xt){return log.info("DoubleCircle intersect",it,pt,xt),intersect_default.circle(it,pt,xt)},ht}__name(doublecircle,"doublecircle");function filledCircle(rt,it,{config:{themeVariables:lt}}){const{labelStyles:ct,nodeStyles:ht}=styles2String(it);it.label="",it.labelStyle=ct;const ut=rt.insert("g").attr("class",getNodeClasses(it)).attr("id",it.domId??it.id),ft=7,{cssStyles:dt}=it,pt=at.svg(ut),{nodeBorder:gt}=lt,_t=userNodeOverrides(it,{fillStyle:"solid"});it.look!=="handDrawn"&&(_t.roughness=0);const yt=pt.circle(0,0,ft*2,_t),mt=ut.insert(()=>yt,":first-child");return mt.selectAll("path").attr("style",`fill: ${gt} !important;`),dt&&dt.length>0&&it.look!=="handDrawn"&&mt.selectAll("path").attr("style",dt),ht&&it.look!=="handDrawn"&&mt.selectAll("path").attr("style",ht),updateNodeBounds(it,mt),it.intersect=function(bt){return log.info("filledCircle intersect",it,{radius:ft,point:bt}),intersect_default.circle(it,ft,bt)},ut}__name(filledCircle,"filledCircle");async function flippedTriangle(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut,label:ft}=await labelHelper(rt,it,getNodeClasses(it)),dt=ut.width+(it.padding??0),pt=dt+ut.height,gt=dt+ut.height,_t=[{x:0,y:-pt},{x:gt,y:-pt},{x:gt/2,y:0}],{cssStyles:yt}=it,mt=at.svg(ht),bt=userNodeOverrides(it,{});it.look!=="handDrawn"&&(bt.roughness=0,bt.fillStyle="solid");const xt=createPathFromPoints(_t),wt=mt.path(xt,bt),Ct=ht.insert(()=>wt,":first-child").attr("transform",`translate(${-pt/2}, ${pt/2})`);return yt&&it.look!=="handDrawn"&&Ct.selectChildren("path").attr("style",yt),ct&&it.look!=="handDrawn"&&Ct.selectChildren("path").attr("style",ct),it.width=dt,it.height=pt,updateNodeBounds(it,Ct),ft.attr("transform",`translate(${-ut.width/2-(ut.x-(ut.left??0))}, ${-pt/2+(it.padding??0)/2+(ut.y-(ut.top??0))})`),it.intersect=function(St){return log.info("Triangle intersect",it,_t,St),intersect_default.polygon(it,_t,St)},ht}__name(flippedTriangle,"flippedTriangle");function forkJoin(rt,it,{dir:lt,config:{state:ct,themeVariables:ht}}){const{nodeStyles:ut}=styles2String(it);it.label="";const ft=rt.insert("g").attr("class",getNodeClasses(it)).attr("id",it.domId??it.id),{cssStyles:dt}=it;let pt=Math.max(70,(it==null?void 0:it.width)??0),gt=Math.max(10,(it==null?void 0:it.height)??0);lt==="LR"&&(pt=Math.max(10,(it==null?void 0:it.width)??0),gt=Math.max(70,(it==null?void 0:it.height)??0));const _t=-1*pt/2,yt=-1*gt/2,mt=at.svg(ft),bt=userNodeOverrides(it,{stroke:ht.lineColor,fill:ht.lineColor});it.look!=="handDrawn"&&(bt.roughness=0,bt.fillStyle="solid");const xt=mt.rectangle(_t,yt,pt,gt,bt),wt=ft.insert(()=>xt,":first-child");dt&&it.look!=="handDrawn"&&wt.selectAll("path").attr("style",dt),ut&&it.look!=="handDrawn"&&wt.selectAll("path").attr("style",ut),updateNodeBounds(it,wt);const Ct=(ct==null?void 0:ct.padding)??0;return it.width&&it.height&&(it.width+=Ct/2||0,it.height+=Ct/2||0),it.intersect=function(St){return intersect_default.rect(it,St)},ft}__name(forkJoin,"forkJoin");async function halfRoundedRectangle(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const ht=80,ut=50,{shapeSvg:ft,bbox:dt}=await labelHelper(rt,it,getNodeClasses(it)),pt=Math.max(ht,dt.width+(it.padding??0)*2,(it==null?void 0:it.width)??0),gt=Math.max(ut,dt.height+(it.padding??0)*2,(it==null?void 0:it.height)??0),_t=gt/2,{cssStyles:yt}=it,mt=at.svg(ft),bt=userNodeOverrides(it,{});it.look!=="handDrawn"&&(bt.roughness=0,bt.fillStyle="solid");const xt=[{x:-pt/2,y:-gt/2},{x:pt/2-_t,y:-gt/2},...generateCirclePoints(-pt/2+_t,0,_t,50,90,270),{x:pt/2-_t,y:gt/2},{x:-pt/2,y:gt/2}],wt=createPathFromPoints(xt),Ct=mt.path(wt,bt),St=ft.insert(()=>Ct,":first-child");return St.attr("class","basic label-container"),yt&&it.look!=="handDrawn"&&St.selectChildren("path").attr("style",yt),ct&&it.look!=="handDrawn"&&St.selectChildren("path").attr("style",ct),updateNodeBounds(it,St),it.intersect=function(Tt){return log.info("Pill intersect",it,{radius:_t,point:Tt}),intersect_default.polygon(it,xt,Tt)},ft}__name(halfRoundedRectangle,"halfRoundedRectangle");var createHexagonPathD=__name((rt,it,lt,ct,ht)=>[`M${rt+ht},${it}`,`L${rt+lt-ht},${it}`,`L${rt+lt},${it-ct/2}`,`L${rt+lt-ht},${it-ct}`,`L${rt+ht},${it-ct}`,`L${rt},${it-ct/2}`,"Z"].join(" "),"createHexagonPathD");async function hexagon(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut}=await labelHelper(rt,it,getNodeClasses(it)),ft=4,dt=ut.height+it.padding,pt=dt/ft,gt=ut.width+2*pt+it.padding,_t=[{x:pt,y:0},{x:gt-pt,y:0},{x:gt,y:-dt/2},{x:gt-pt,y:-dt},{x:pt,y:-dt},{x:0,y:-dt/2}];let yt;const{cssStyles:mt}=it;if(it.look==="handDrawn"){const bt=at.svg(ht),xt=userNodeOverrides(it,{}),wt=createHexagonPathD(0,0,gt,dt,pt),Ct=bt.path(wt,xt);yt=ht.insert(()=>Ct,":first-child").attr("transform",`translate(${-gt/2}, ${dt/2})`),mt&&yt.attr("style",mt)}else yt=insertPolygonShape(ht,gt,dt,_t);return ct&&yt.attr("style",ct),it.width=gt,it.height=dt,updateNodeBounds(it,yt),it.intersect=function(bt){return intersect_default.polygon(it,_t,bt)},ht}__name(hexagon,"hexagon");async function hourglass(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.label="",it.labelStyle=lt;const{shapeSvg:ht}=await labelHelper(rt,it,getNodeClasses(it)),ut=Math.max(30,(it==null?void 0:it.width)??0),ft=Math.max(30,(it==null?void 0:it.height)??0),{cssStyles:dt}=it,pt=at.svg(ht),gt=userNodeOverrides(it,{});it.look!=="handDrawn"&&(gt.roughness=0,gt.fillStyle="solid");const _t=[{x:0,y:0},{x:ut,y:0},{x:0,y:ft},{x:ut,y:ft}],yt=createPathFromPoints(_t),mt=pt.path(yt,gt),bt=ht.insert(()=>mt,":first-child");return bt.attr("class","basic label-container"),dt&&it.look!=="handDrawn"&&bt.selectChildren("path").attr("style",dt),ct&&it.look!=="handDrawn"&&bt.selectChildren("path").attr("style",ct),bt.attr("transform",`translate(${-ut/2}, ${-ft/2})`),updateNodeBounds(it,bt),it.intersect=function(xt){return log.info("Pill intersect",it,{points:_t}),intersect_default.polygon(it,_t,xt)},ht}__name(hourglass,"hourglass");async function icon(rt,it,{config:{themeVariables:lt,flowchart:ct}}){const{labelStyles:ht}=styles2String(it);it.labelStyle=ht;const ut=it.assetHeight??48,ft=it.assetWidth??48,dt=Math.max(ut,ft),pt=ct==null?void 0:ct.wrappingWidth;it.width=Math.max(dt,pt??0);const{shapeSvg:gt,bbox:_t,label:yt}=await labelHelper(rt,it,"icon-shape default"),mt=it.pos==="t",bt=dt,xt=dt,{nodeBorder:wt}=lt,{stylesMap:Ct}=compileStyles(it),St=-xt/2,Tt=-bt/2,vt=it.label?8:0,kt=at.svg(gt),Et=userNodeOverrides(it,{stroke:"none",fill:"none"});it.look!=="handDrawn"&&(Et.roughness=0,Et.fillStyle="solid");const It=kt.rectangle(St,Tt,xt,bt,Et),At=Math.max(xt,_t.width),Dt=bt+_t.height+vt,Nt=kt.rectangle(-At/2,-Dt/2,At,Dt,{...Et,fill:"transparent",stroke:"none"}),Mt=gt.insert(()=>It,":first-child"),Rt=gt.insert(()=>Nt);if(it.icon){const zt=gt.append("g");zt.html(`<g>${await getIconSVG(it.icon,{height:dt,width:dt,fallbackPrefix:""})}</g>`);const Ht=zt.node().getBBox(),Ft=Ht.width,$t=Ht.height,Bt=Ht.x,Pt=Ht.y;zt.attr("transform",`translate(${-Ft/2-Bt},${mt?_t.height/2+vt/2-$t/2-Pt:-_t.height/2-vt/2-$t/2-Pt})`),zt.attr("style",`color: ${Ct.get("stroke")??wt};`)}return yt.attr("transform",`translate(${-_t.width/2-(_t.x-(_t.left??0))},${mt?-Dt/2:Dt/2-_t.height})`),Mt.attr("transform",`translate(0,${mt?_t.height/2+vt/2:-_t.height/2-vt/2})`),updateNodeBounds(it,Rt),it.intersect=function(zt){if(log.info("iconSquare intersect",it,zt),!it.label)return intersect_default.rect(it,zt);const Ht=it.x??0,Ft=it.y??0,$t=it.height??0;let Bt=[];return mt?Bt=[{x:Ht-_t.width/2,y:Ft-$t/2},{x:Ht+_t.width/2,y:Ft-$t/2},{x:Ht+_t.width/2,y:Ft-$t/2+_t.height+vt},{x:Ht+xt/2,y:Ft-$t/2+_t.height+vt},{x:Ht+xt/2,y:Ft+$t/2},{x:Ht-xt/2,y:Ft+$t/2},{x:Ht-xt/2,y:Ft-$t/2+_t.height+vt},{x:Ht-_t.width/2,y:Ft-$t/2+_t.height+vt}]:Bt=[{x:Ht-xt/2,y:Ft-$t/2},{x:Ht+xt/2,y:Ft-$t/2},{x:Ht+xt/2,y:Ft-$t/2+bt},{x:Ht+_t.width/2,y:Ft-$t/2+bt},{x:Ht+_t.width/2/2,y:Ft+$t/2},{x:Ht-_t.width/2,y:Ft+$t/2},{x:Ht-_t.width/2,y:Ft-$t/2+bt},{x:Ht-xt/2,y:Ft-$t/2+bt}],intersect_default.polygon(it,Bt,zt)},gt}__name(icon,"icon");async function iconCircle(rt,it,{config:{themeVariables:lt,flowchart:ct}}){const{labelStyles:ht}=styles2String(it);it.labelStyle=ht;const ut=it.assetHeight??48,ft=it.assetWidth??48,dt=Math.max(ut,ft),pt=ct==null?void 0:ct.wrappingWidth;it.width=Math.max(dt,pt??0);const{shapeSvg:gt,bbox:_t,label:yt}=await labelHelper(rt,it,"icon-shape default"),mt=20,bt=it.label?8:0,xt=it.pos==="t",{nodeBorder:wt,mainBkg:Ct}=lt,{stylesMap:St}=compileStyles(it),Tt=at.svg(gt),vt=userNodeOverrides(it,{});it.look!=="handDrawn"&&(vt.roughness=0,vt.fillStyle="solid");const kt=St.get("fill");vt.stroke=kt??Ct;const Et=gt.append("g");it.icon&&Et.html(`<g>${await getIconSVG(it.icon,{height:dt,width:dt,fallbackPrefix:""})}</g>`);const It=Et.node().getBBox(),At=It.width,Dt=It.height,Nt=It.x,Mt=It.y,Rt=Math.max(At,Dt)*Math.SQRT2+mt*2,zt=Tt.circle(0,0,Rt,vt),Ht=Math.max(Rt,_t.width),Ft=Rt+_t.height+bt,$t=Tt.rectangle(-Ht/2,-Ft/2,Ht,Ft,{...vt,fill:"transparent",stroke:"none"}),Bt=gt.insert(()=>zt,":first-child"),Pt=gt.insert(()=>$t);return Et.attr("transform",`translate(${-At/2-Nt},${xt?_t.height/2+bt/2-Dt/2-Mt:-_t.height/2-bt/2-Dt/2-Mt})`),Et.attr("style",`color: ${St.get("stroke")??wt};`),yt.attr("transform",`translate(${-_t.width/2-(_t.x-(_t.left??0))},${xt?-Ft/2:Ft/2-_t.height})`),Bt.attr("transform",`translate(0,${xt?_t.height/2+bt/2:-_t.height/2-bt/2})`),updateNodeBounds(it,Pt),it.intersect=function(Ot){return log.info("iconSquare intersect",it,Ot),intersect_default.rect(it,Ot)},gt}__name(iconCircle,"iconCircle");async function iconRounded(rt,it,{config:{themeVariables:lt,flowchart:ct}}){const{labelStyles:ht}=styles2String(it);it.labelStyle=ht;const ut=it.assetHeight??48,ft=it.assetWidth??48,dt=Math.max(ut,ft),pt=ct==null?void 0:ct.wrappingWidth;it.width=Math.max(dt,pt??0);const{shapeSvg:gt,bbox:_t,halfPadding:yt,label:mt}=await labelHelper(rt,it,"icon-shape default"),bt=it.pos==="t",xt=dt+yt*2,wt=dt+yt*2,{nodeBorder:Ct,mainBkg:St}=lt,{stylesMap:Tt}=compileStyles(it),vt=-wt/2,kt=-xt/2,Et=it.label?8:0,It=at.svg(gt),At=userNodeOverrides(it,{});it.look!=="handDrawn"&&(At.roughness=0,At.fillStyle="solid");const Dt=Tt.get("fill");At.stroke=Dt??St;const Nt=It.path(createRoundedRectPathD(vt,kt,wt,xt,5),At),Mt=Math.max(wt,_t.width),Rt=xt+_t.height+Et,zt=It.rectangle(-Mt/2,-Rt/2,Mt,Rt,{...At,fill:"transparent",stroke:"none"}),Ht=gt.insert(()=>Nt,":first-child").attr("class","icon-shape2"),Ft=gt.insert(()=>zt);if(it.icon){const $t=gt.append("g");$t.html(`<g>${await getIconSVG(it.icon,{height:dt,width:dt,fallbackPrefix:""})}</g>`);const Bt=$t.node().getBBox(),Pt=Bt.width,Ot=Bt.height,Wt=Bt.x,jt=Bt.y;$t.attr("transform",`translate(${-Pt/2-Wt},${bt?_t.height/2+Et/2-Ot/2-jt:-_t.height/2-Et/2-Ot/2-jt})`),$t.attr("style",`color: ${Tt.get("stroke")??Ct};`)}return mt.attr("transform",`translate(${-_t.width/2-(_t.x-(_t.left??0))},${bt?-Rt/2:Rt/2-_t.height})`),Ht.attr("transform",`translate(0,${bt?_t.height/2+Et/2:-_t.height/2-Et/2})`),updateNodeBounds(it,Ft),it.intersect=function($t){if(log.info("iconSquare intersect",it,$t),!it.label)return intersect_default.rect(it,$t);const Bt=it.x??0,Pt=it.y??0,Ot=it.height??0;let Wt=[];return bt?Wt=[{x:Bt-_t.width/2,y:Pt-Ot/2},{x:Bt+_t.width/2,y:Pt-Ot/2},{x:Bt+_t.width/2,y:Pt-Ot/2+_t.height+Et},{x:Bt+wt/2,y:Pt-Ot/2+_t.height+Et},{x:Bt+wt/2,y:Pt+Ot/2},{x:Bt-wt/2,y:Pt+Ot/2},{x:Bt-wt/2,y:Pt-Ot/2+_t.height+Et},{x:Bt-_t.width/2,y:Pt-Ot/2+_t.height+Et}]:Wt=[{x:Bt-wt/2,y:Pt-Ot/2},{x:Bt+wt/2,y:Pt-Ot/2},{x:Bt+wt/2,y:Pt-Ot/2+xt},{x:Bt+_t.width/2,y:Pt-Ot/2+xt},{x:Bt+_t.width/2/2,y:Pt+Ot/2},{x:Bt-_t.width/2,y:Pt+Ot/2},{x:Bt-_t.width/2,y:Pt-Ot/2+xt},{x:Bt-wt/2,y:Pt-Ot/2+xt}],intersect_default.polygon(it,Wt,$t)},gt}__name(iconRounded,"iconRounded");async function iconSquare(rt,it,{config:{themeVariables:lt,flowchart:ct}}){const{labelStyles:ht}=styles2String(it);it.labelStyle=ht;const ut=it.assetHeight??48,ft=it.assetWidth??48,dt=Math.max(ut,ft),pt=ct==null?void 0:ct.wrappingWidth;it.width=Math.max(dt,pt??0);const{shapeSvg:gt,bbox:_t,halfPadding:yt,label:mt}=await labelHelper(rt,it,"icon-shape default"),bt=it.pos==="t",xt=dt+yt*2,wt=dt+yt*2,{nodeBorder:Ct,mainBkg:St}=lt,{stylesMap:Tt}=compileStyles(it),vt=-wt/2,kt=-xt/2,Et=it.label?8:0,It=at.svg(gt),At=userNodeOverrides(it,{});it.look!=="handDrawn"&&(At.roughness=0,At.fillStyle="solid");const Dt=Tt.get("fill");At.stroke=Dt??St;const Nt=It.path(createRoundedRectPathD(vt,kt,wt,xt,.1),At),Mt=Math.max(wt,_t.width),Rt=xt+_t.height+Et,zt=It.rectangle(-Mt/2,-Rt/2,Mt,Rt,{...At,fill:"transparent",stroke:"none"}),Ht=gt.insert(()=>Nt,":first-child"),Ft=gt.insert(()=>zt);if(it.icon){const $t=gt.append("g");$t.html(`<g>${await getIconSVG(it.icon,{height:dt,width:dt,fallbackPrefix:""})}</g>`);const Bt=$t.node().getBBox(),Pt=Bt.width,Ot=Bt.height,Wt=Bt.x,jt=Bt.y;$t.attr("transform",`translate(${-Pt/2-Wt},${bt?_t.height/2+Et/2-Ot/2-jt:-_t.height/2-Et/2-Ot/2-jt})`),$t.attr("style",`color: ${Tt.get("stroke")??Ct};`)}return mt.attr("transform",`translate(${-_t.width/2-(_t.x-(_t.left??0))},${bt?-Rt/2:Rt/2-_t.height})`),Ht.attr("transform",`translate(0,${bt?_t.height/2+Et/2:-_t.height/2-Et/2})`),updateNodeBounds(it,Ft),it.intersect=function($t){if(log.info("iconSquare intersect",it,$t),!it.label)return intersect_default.rect(it,$t);const Bt=it.x??0,Pt=it.y??0,Ot=it.height??0;let Wt=[];return bt?Wt=[{x:Bt-_t.width/2,y:Pt-Ot/2},{x:Bt+_t.width/2,y:Pt-Ot/2},{x:Bt+_t.width/2,y:Pt-Ot/2+_t.height+Et},{x:Bt+wt/2,y:Pt-Ot/2+_t.height+Et},{x:Bt+wt/2,y:Pt+Ot/2},{x:Bt-wt/2,y:Pt+Ot/2},{x:Bt-wt/2,y:Pt-Ot/2+_t.height+Et},{x:Bt-_t.width/2,y:Pt-Ot/2+_t.height+Et}]:Wt=[{x:Bt-wt/2,y:Pt-Ot/2},{x:Bt+wt/2,y:Pt-Ot/2},{x:Bt+wt/2,y:Pt-Ot/2+xt},{x:Bt+_t.width/2,y:Pt-Ot/2+xt},{x:Bt+_t.width/2/2,y:Pt+Ot/2},{x:Bt-_t.width/2,y:Pt+Ot/2},{x:Bt-_t.width/2,y:Pt-Ot/2+xt},{x:Bt-wt/2,y:Pt-Ot/2+xt}],intersect_default.polygon(it,Wt,$t)},gt}__name(iconSquare,"iconSquare");async function imageSquare(rt,it,{config:{flowchart:lt}}){const ct=new Image;ct.src=(it==null?void 0:it.img)??"",await ct.decode();const ht=Number(ct.naturalWidth.toString().replace("px","")),ut=Number(ct.naturalHeight.toString().replace("px",""));it.imageAspectRatio=ht/ut;const{labelStyles:ft}=styles2String(it);it.labelStyle=ft;const dt=lt==null?void 0:lt.wrappingWidth;it.defaultWidth=lt==null?void 0:lt.wrappingWidth;const pt=Math.max(it.label?dt??0:0,(it==null?void 0:it.assetWidth)??ht),gt=it.constraint==="on"&&it!=null&&it.assetHeight?it.assetHeight*it.imageAspectRatio:pt,_t=it.constraint==="on"?gt/it.imageAspectRatio:(it==null?void 0:it.assetHeight)??ut;it.width=Math.max(gt,dt??0);const{shapeSvg:yt,bbox:mt,label:bt}=await labelHelper(rt,it,"image-shape default"),xt=it.pos==="t",wt=-gt/2,Ct=-_t/2,St=it.label?8:0,Tt=at.svg(yt),vt=userNodeOverrides(it,{});it.look!=="handDrawn"&&(vt.roughness=0,vt.fillStyle="solid");const kt=Tt.rectangle(wt,Ct,gt,_t,vt),Et=Math.max(gt,mt.width),It=_t+mt.height+St,At=Tt.rectangle(-Et/2,-It/2,Et,It,{...vt,fill:"none",stroke:"none"}),Dt=yt.insert(()=>kt,":first-child"),Nt=yt.insert(()=>At);if(it.img){const Mt=yt.append("image");Mt.attr("href",it.img),Mt.attr("width",gt),Mt.attr("height",_t),Mt.attr("preserveAspectRatio","none"),Mt.attr("transform",`translate(${-gt/2},${xt?It/2-_t:-It/2})`)}return bt.attr("transform",`translate(${-mt.width/2-(mt.x-(mt.left??0))},${xt?-_t/2-mt.height/2-St/2:_t/2-mt.height/2+St/2})`),Dt.attr("transform",`translate(0,${xt?mt.height/2+St/2:-mt.height/2-St/2})`),updateNodeBounds(it,Nt),it.intersect=function(Mt){if(log.info("iconSquare intersect",it,Mt),!it.label)return intersect_default.rect(it,Mt);const Rt=it.x??0,zt=it.y??0,Ht=it.height??0;let Ft=[];return xt?Ft=[{x:Rt-mt.width/2,y:zt-Ht/2},{x:Rt+mt.width/2,y:zt-Ht/2},{x:Rt+mt.width/2,y:zt-Ht/2+mt.height+St},{x:Rt+gt/2,y:zt-Ht/2+mt.height+St},{x:Rt+gt/2,y:zt+Ht/2},{x:Rt-gt/2,y:zt+Ht/2},{x:Rt-gt/2,y:zt-Ht/2+mt.height+St},{x:Rt-mt.width/2,y:zt-Ht/2+mt.height+St}]:Ft=[{x:Rt-gt/2,y:zt-Ht/2},{x:Rt+gt/2,y:zt-Ht/2},{x:Rt+gt/2,y:zt-Ht/2+_t},{x:Rt+mt.width/2,y:zt-Ht/2+_t},{x:Rt+mt.width/2/2,y:zt+Ht/2},{x:Rt-mt.width/2,y:zt+Ht/2},{x:Rt-mt.width/2,y:zt-Ht/2+_t},{x:Rt-gt/2,y:zt-Ht/2+_t}],intersect_default.polygon(it,Ft,Mt)},yt}__name(imageSquare,"imageSquare");async function inv_trapezoid(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut}=await labelHelper(rt,it,getNodeClasses(it)),ft=Math.max(ut.width+(it.padding??0)*2,(it==null?void 0:it.width)??0),dt=Math.max(ut.height+(it.padding??0)*2,(it==null?void 0:it.height)??0),pt=[{x:0,y:0},{x:ft,y:0},{x:ft+3*dt/6,y:-dt},{x:-3*dt/6,y:-dt}];let gt;const{cssStyles:_t}=it;if(it.look==="handDrawn"){const yt=at.svg(ht),mt=userNodeOverrides(it,{}),bt=createPathFromPoints(pt),xt=yt.path(bt,mt);gt=ht.insert(()=>xt,":first-child").attr("transform",`translate(${-ft/2}, ${dt/2})`),_t&&gt.attr("style",_t)}else gt=insertPolygonShape(ht,ft,dt,pt);return ct&&gt.attr("style",ct),it.width=ft,it.height=dt,updateNodeBounds(it,gt),it.intersect=function(yt){return intersect_default.polygon(it,pt,yt)},ht}__name(inv_trapezoid,"inv_trapezoid");async function drawRect(rt,it,lt){const{labelStyles:ct,nodeStyles:ht}=styles2String(it);it.labelStyle=ct;const{shapeSvg:ut,bbox:ft}=await labelHelper(rt,it,getNodeClasses(it)),dt=Math.max(ft.width+lt.labelPaddingX*2,(it==null?void 0:it.width)||0),pt=Math.max(ft.height+lt.labelPaddingY*2,(it==null?void 0:it.height)||0),gt=-dt/2,_t=-pt/2;let yt,{rx:mt,ry:bt}=it;const{cssStyles:xt}=it;if(lt!=null&&lt.rx&&lt.ry&&(mt=lt.rx,bt=lt.ry),it.look==="handDrawn"){const wt=at.svg(ut),Ct=userNodeOverrides(it,{}),St=mt||bt?wt.path(createRoundedRectPathD(gt,_t,dt,pt,mt||0),Ct):wt.rectangle(gt,_t,dt,pt,Ct);yt=ut.insert(()=>St,":first-child"),yt.attr("class","basic label-container").attr("style",handleUndefinedAttr(xt))}else yt=ut.insert("rect",":first-child"),yt.attr("class","basic label-container").attr("style",ht).attr("rx",handleUndefinedAttr(mt)).attr("ry",handleUndefinedAttr(bt)).attr("x",gt).attr("y",_t).attr("width",dt).attr("height",pt);return updateNodeBounds(it,yt),it.intersect=function(wt){return intersect_default.rect(it,wt)},ut}__name(drawRect,"drawRect");async function labelRect(rt,it){const{shapeSvg:lt,bbox:ct,label:ht}=await labelHelper(rt,it,"label"),ut=lt.insert("rect",":first-child");return ut.attr("width",.1).attr("height",.1),lt.attr("class","label edgeLabel"),ht.attr("transform",`translate(${-(ct.width/2)-(ct.x-(ct.left??0))}, ${-(ct.height/2)-(ct.y-(ct.top??0))})`),updateNodeBounds(it,ut),it.intersect=function(pt){return intersect_default.rect(it,pt)},lt}__name(labelRect,"labelRect");async function lean_left(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut}=await labelHelper(rt,it,getNodeClasses(it)),ft=Math.max(ut.width+(it.padding??0),(it==null?void 0:it.width)??0),dt=Math.max(ut.height+(it.padding??0),(it==null?void 0:it.height)??0),pt=[{x:0,y:0},{x:ft+3*dt/6,y:0},{x:ft,y:-dt},{x:-(3*dt)/6,y:-dt}];let gt;const{cssStyles:_t}=it;if(it.look==="handDrawn"){const yt=at.svg(ht),mt=userNodeOverrides(it,{}),bt=createPathFromPoints(pt),xt=yt.path(bt,mt);gt=ht.insert(()=>xt,":first-child").attr("transform",`translate(${-ft/2}, ${dt/2})`),_t&&gt.attr("style",_t)}else gt=insertPolygonShape(ht,ft,dt,pt);return ct&&gt.attr("style",ct),it.width=ft,it.height=dt,updateNodeBounds(it,gt),it.intersect=function(yt){return intersect_default.polygon(it,pt,yt)},ht}__name(lean_left,"lean_left");async function lean_right(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut}=await labelHelper(rt,it,getNodeClasses(it)),ft=Math.max(ut.width+(it.padding??0),(it==null?void 0:it.width)??0),dt=Math.max(ut.height+(it.padding??0),(it==null?void 0:it.height)??0),pt=[{x:-3*dt/6,y:0},{x:ft,y:0},{x:ft+3*dt/6,y:-dt},{x:0,y:-dt}];let gt;const{cssStyles:_t}=it;if(it.look==="handDrawn"){const yt=at.svg(ht),mt=userNodeOverrides(it,{}),bt=createPathFromPoints(pt),xt=yt.path(bt,mt);gt=ht.insert(()=>xt,":first-child").attr("transform",`translate(${-ft/2}, ${dt/2})`),_t&&gt.attr("style",_t)}else gt=insertPolygonShape(ht,ft,dt,pt);return ct&&gt.attr("style",ct),it.width=ft,it.height=dt,updateNodeBounds(it,gt),it.intersect=function(yt){return intersect_default.polygon(it,pt,yt)},ht}__name(lean_right,"lean_right");function lightningBolt(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.label="",it.labelStyle=lt;const ht=rt.insert("g").attr("class",getNodeClasses(it)).attr("id",it.domId??it.id),{cssStyles:ut}=it,ft=Math.max(35,(it==null?void 0:it.width)??0),dt=Math.max(35,(it==null?void 0:it.height)??0),pt=7,gt=[{x:ft,y:0},{x:0,y:dt+pt/2},{x:ft-2*pt,y:dt+pt/2},{x:0,y:2*dt},{x:ft,y:dt-pt/2},{x:2*pt,y:dt-pt/2}],_t=at.svg(ht),yt=userNodeOverrides(it,{});it.look!=="handDrawn"&&(yt.roughness=0,yt.fillStyle="solid");const mt=createPathFromPoints(gt),bt=_t.path(mt,yt),xt=ht.insert(()=>bt,":first-child");return ut&&it.look!=="handDrawn"&&xt.selectAll("path").attr("style",ut),ct&&it.look!=="handDrawn"&&xt.selectAll("path").attr("style",ct),xt.attr("transform",`translate(-${ft/2},${-dt})`),updateNodeBounds(it,xt),it.intersect=function(wt){return log.info("lightningBolt intersect",it,wt),intersect_default.polygon(it,gt,wt)},ht}__name(lightningBolt,"lightningBolt");var createCylinderPathD2=__name((rt,it,lt,ct,ht,ut,ft)=>[`M${rt},${it+ut}`,`a${ht},${ut} 0,0,0 ${lt},0`,`a${ht},${ut} 0,0,0 ${-lt},0`,`l0,${ct}`,`a${ht},${ut} 0,0,0 ${lt},0`,`l0,${-ct}`,`M${rt},${it+ut+ft}`,`a${ht},${ut} 0,0,0 ${lt},0`].join(" "),"createCylinderPathD"),createOuterCylinderPathD2=__name((rt,it,lt,ct,ht,ut,ft)=>[`M${rt},${it+ut}`,`M${rt+lt},${it+ut}`,`a${ht},${ut} 0,0,0 ${-lt},0`,`l0,${ct}`,`a${ht},${ut} 0,0,0 ${lt},0`,`l0,${-ct}`,`M${rt},${it+ut+ft}`,`a${ht},${ut} 0,0,0 ${lt},0`].join(" "),"createOuterCylinderPathD"),createInnerCylinderPathD2=__name((rt,it,lt,ct,ht,ut)=>[`M${rt-lt/2},${-ct/2}`,`a${ht},${ut} 0,0,0 ${lt},0`].join(" "),"createInnerCylinderPathD");async function linedCylinder(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut,label:ft}=await labelHelper(rt,it,getNodeClasses(it)),dt=Math.max(ut.width+(it.padding??0),it.width??0),pt=dt/2,gt=pt/(2.5+dt/50),_t=Math.max(ut.height+gt+(it.padding??0),it.height??0),yt=_t*.1;let mt;const{cssStyles:bt}=it;if(it.look==="handDrawn"){const xt=at.svg(ht),wt=createOuterCylinderPathD2(0,0,dt,_t,pt,gt,yt),Ct=createInnerCylinderPathD2(0,gt,dt,_t,pt,gt),St=userNodeOverrides(it,{}),Tt=xt.path(wt,St),vt=xt.path(Ct,St);ht.insert(()=>vt,":first-child").attr("class","line"),mt=ht.insert(()=>Tt,":first-child"),mt.attr("class","basic label-container"),bt&&mt.attr("style",bt)}else{const xt=createCylinderPathD2(0,0,dt,_t,pt,gt,yt);mt=ht.insert("path",":first-child").attr("d",xt).attr("class","basic label-container").attr("style",handleUndefinedAttr(bt)).attr("style",ct)}return mt.attr("label-offset-y",gt),mt.attr("transform",`translate(${-dt/2}, ${-(_t/2+gt)})`),updateNodeBounds(it,mt),ft.attr("transform",`translate(${-(ut.width/2)-(ut.x-(ut.left??0))}, ${-(ut.height/2)+gt-(ut.y-(ut.top??0))})`),it.intersect=function(xt){const wt=intersect_default.rect(it,xt),Ct=wt.x-(it.x??0);if(pt!=0&&(Math.abs(Ct)<(it.width??0)/2||Math.abs(Ct)==(it.width??0)/2&&Math.abs(wt.y-(it.y??0))>(it.height??0)/2-gt)){let St=gt*gt*(1-Ct*Ct/(pt*pt));St>0&&(St=Math.sqrt(St)),St=gt-St,xt.y-(it.y??0)>0&&(St=-St),wt.y+=St}return wt},ht}__name(linedCylinder,"linedCylinder");async function linedWaveEdgedRect(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut,label:ft}=await labelHelper(rt,it,getNodeClasses(it)),dt=Math.max(ut.width+(it.padding??0)*2,(it==null?void 0:it.width)??0),pt=Math.max(ut.height+(it.padding??0)*2,(it==null?void 0:it.height)??0),gt=pt/4,_t=pt+gt,{cssStyles:yt}=it,mt=at.svg(ht),bt=userNodeOverrides(it,{});it.look!=="handDrawn"&&(bt.roughness=0,bt.fillStyle="solid");const xt=[{x:-dt/2-dt/2*.1,y:-_t/2},{x:-dt/2-dt/2*.1,y:_t/2},...generateFullSineWavePoints(-dt/2-dt/2*.1,_t/2,dt/2+dt/2*.1,_t/2,gt,.8),{x:dt/2+dt/2*.1,y:-_t/2},{x:-dt/2-dt/2*.1,y:-_t/2},{x:-dt/2,y:-_t/2},{x:-dt/2,y:_t/2*1.1},{x:-dt/2,y:-_t/2}],wt=mt.polygon(xt.map(St=>[St.x,St.y]),bt),Ct=ht.insert(()=>wt,":first-child");return Ct.attr("class","basic label-container"),yt&&it.look!=="handDrawn"&&Ct.selectAll("path").attr("style",yt),ct&&it.look!=="handDrawn"&&Ct.selectAll("path").attr("style",ct),Ct.attr("transform",`translate(0,${-gt/2})`),ft.attr("transform",`translate(${-dt/2+(it.padding??0)+dt/2*.1/2-(ut.x-(ut.left??0))},${-pt/2+(it.padding??0)-gt/2-(ut.y-(ut.top??0))})`),updateNodeBounds(it,Ct),it.intersect=function(St){return intersect_default.polygon(it,xt,St)},ht}__name(linedWaveEdgedRect,"linedWaveEdgedRect");async function multiRect(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut,label:ft}=await labelHelper(rt,it,getNodeClasses(it)),dt=Math.max(ut.width+(it.padding??0)*2,(it==null?void 0:it.width)??0),pt=Math.max(ut.height+(it.padding??0)*2,(it==null?void 0:it.height)??0),gt=5,_t=-dt/2,yt=-pt/2,{cssStyles:mt}=it,bt=at.svg(ht),xt=userNodeOverrides(it,{}),wt=[{x:_t-gt,y:yt+gt},{x:_t-gt,y:yt+pt+gt},{x:_t+dt-gt,y:yt+pt+gt},{x:_t+dt-gt,y:yt+pt},{x:_t+dt,y:yt+pt},{x:_t+dt,y:yt+pt-gt},{x:_t+dt+gt,y:yt+pt-gt},{x:_t+dt+gt,y:yt-gt},{x:_t+gt,y:yt-gt},{x:_t+gt,y:yt},{x:_t,y:yt},{x:_t,y:yt+gt}],Ct=[{x:_t,y:yt+gt},{x:_t+dt-gt,y:yt+gt},{x:_t+dt-gt,y:yt+pt},{x:_t+dt,y:yt+pt},{x:_t+dt,y:yt},{x:_t,y:yt}];it.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const St=createPathFromPoints(wt),Tt=bt.path(St,xt),vt=createPathFromPoints(Ct),kt=bt.path(vt,{...xt,fill:"none"}),Et=ht.insert(()=>kt,":first-child");return Et.insert(()=>Tt,":first-child"),Et.attr("class","basic label-container"),mt&&it.look!=="handDrawn"&&Et.selectAll("path").attr("style",mt),ct&&it.look!=="handDrawn"&&Et.selectAll("path").attr("style",ct),ft.attr("transform",`translate(${-(ut.width/2)-gt-(ut.x-(ut.left??0))}, ${-(ut.height/2)+gt-(ut.y-(ut.top??0))})`),updateNodeBounds(it,Et),it.intersect=function(It){return intersect_default.polygon(it,wt,It)},ht}__name(multiRect,"multiRect");async function multiWaveEdgedRectangle(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut,label:ft}=await labelHelper(rt,it,getNodeClasses(it)),dt=Math.max(ut.width+(it.padding??0)*2,(it==null?void 0:it.width)??0),pt=Math.max(ut.height+(it.padding??0)*2,(it==null?void 0:it.height)??0),gt=pt/4,_t=pt+gt,yt=-dt/2,mt=-_t/2,bt=5,{cssStyles:xt}=it,wt=generateFullSineWavePoints(yt-bt,mt+_t+bt,yt+dt-bt,mt+_t+bt,gt,.8),Ct=wt==null?void 0:wt[wt.length-1],St=[{x:yt-bt,y:mt+bt},{x:yt-bt,y:mt+_t+bt},...wt,{x:yt+dt-bt,y:Ct.y-bt},{x:yt+dt,y:Ct.y-bt},{x:yt+dt,y:Ct.y-2*bt},{x:yt+dt+bt,y:Ct.y-2*bt},{x:yt+dt+bt,y:mt-bt},{x:yt+bt,y:mt-bt},{x:yt+bt,y:mt},{x:yt,y:mt},{x:yt,y:mt+bt}],Tt=[{x:yt,y:mt+bt},{x:yt+dt-bt,y:mt+bt},{x:yt+dt-bt,y:Ct.y-bt},{x:yt+dt,y:Ct.y-bt},{x:yt+dt,y:mt},{x:yt,y:mt}],vt=at.svg(ht),kt=userNodeOverrides(it,{});it.look!=="handDrawn"&&(kt.roughness=0,kt.fillStyle="solid");const Et=createPathFromPoints(St),It=vt.path(Et,kt),At=createPathFromPoints(Tt),Dt=vt.path(At,kt),Nt=ht.insert(()=>It,":first-child");return Nt.insert(()=>Dt),Nt.attr("class","basic label-container"),xt&&it.look!=="handDrawn"&&Nt.selectAll("path").attr("style",xt),ct&&it.look!=="handDrawn"&&Nt.selectAll("path").attr("style",ct),Nt.attr("transform",`translate(0,${-gt/2})`),ft.attr("transform",`translate(${-(ut.width/2)-bt-(ut.x-(ut.left??0))}, ${-(ut.height/2)+bt-gt/2-(ut.y-(ut.top??0))})`),updateNodeBounds(it,Nt),it.intersect=function(Mt){return intersect_default.polygon(it,St,Mt)},ht}__name(multiWaveEdgedRectangle,"multiWaveEdgedRectangle");async function note(rt,it,{config:{themeVariables:lt}}){var St;const{labelStyles:ct,nodeStyles:ht}=styles2String(it);it.labelStyle=ct,it.useHtmlLabels||((St=getConfig().flowchart)==null?void 0:St.htmlLabels)!==!1||(it.centerLabel=!0);const{shapeSvg:ft,bbox:dt}=await labelHelper(rt,it,getNodeClasses(it)),pt=Math.max(dt.width+(it.padding??0)*2,(it==null?void 0:it.width)??0),gt=Math.max(dt.height+(it.padding??0)*2,(it==null?void 0:it.height)??0),_t=-pt/2,yt=-gt/2,{cssStyles:mt}=it,bt=at.svg(ft),xt=userNodeOverrides(it,{fill:lt.noteBkgColor,stroke:lt.noteBorderColor});it.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const wt=bt.rectangle(_t,yt,pt,gt,xt),Ct=ft.insert(()=>wt,":first-child");return Ct.attr("class","basic label-container"),mt&&it.look!=="handDrawn"&&Ct.selectAll("path").attr("style",mt),ht&&it.look!=="handDrawn"&&Ct.selectAll("path").attr("style",ht),updateNodeBounds(it,Ct),it.intersect=function(Tt){return intersect_default.rect(it,Tt)},ft}__name(note,"note");var createDecisionBoxPathD=__name((rt,it,lt)=>[`M${rt+lt/2},${it}`,`L${rt+lt},${it-lt/2}`,`L${rt+lt/2},${it-lt}`,`L${rt},${it-lt/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function question(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut}=await labelHelper(rt,it,getNodeClasses(it)),ft=ut.width+it.padding,dt=ut.height+it.padding,pt=ft+dt,gt=[{x:pt/2,y:0},{x:pt,y:-pt/2},{x:pt/2,y:-pt},{x:0,y:-pt/2}];let _t;const{cssStyles:yt}=it;if(it.look==="handDrawn"){const mt=at.svg(ht),bt=userNodeOverrides(it,{}),xt=createDecisionBoxPathD(0,0,pt),wt=mt.path(xt,bt);_t=ht.insert(()=>wt,":first-child").attr("transform",`translate(${-pt/2}, ${pt/2})`),yt&&_t.attr("style",yt)}else _t=insertPolygonShape(ht,pt,pt,gt);return ct&&_t.attr("style",ct),updateNodeBounds(it,_t),it.intersect=function(mt){return log.debug(`APA12 Intersect called SPLIT
point:`,mt,`
node:
`,it,`
res:`,intersect_default.polygon(it,gt,mt)),intersect_default.polygon(it,gt,mt)},ht}__name(question,"question");async function rect_left_inv_arrow(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut,label:ft}=await labelHelper(rt,it,getNodeClasses(it)),dt=Math.max(ut.width+(it.padding??0),(it==null?void 0:it.width)??0),pt=Math.max(ut.height+(it.padding??0),(it==null?void 0:it.height)??0),gt=-dt/2,_t=-pt/2,yt=_t/2,mt=[{x:gt+yt,y:_t},{x:gt,y:0},{x:gt+yt,y:-_t},{x:-gt,y:-_t},{x:-gt,y:_t}],{cssStyles:bt}=it,xt=at.svg(ht),wt=userNodeOverrides(it,{});it.look!=="handDrawn"&&(wt.roughness=0,wt.fillStyle="solid");const Ct=createPathFromPoints(mt),St=xt.path(Ct,wt),Tt=ht.insert(()=>St,":first-child");return Tt.attr("class","basic label-container"),bt&&it.look!=="handDrawn"&&Tt.selectAll("path").attr("style",bt),ct&&it.look!=="handDrawn"&&Tt.selectAll("path").attr("style",ct),Tt.attr("transform",`translate(${-yt/2},0)`),ft.attr("transform",`translate(${-yt/2-ut.width/2-(ut.x-(ut.left??0))}, ${-(ut.height/2)-(ut.y-(ut.top??0))})`),updateNodeBounds(it,Tt),it.intersect=function(vt){return intersect_default.polygon(it,mt,vt)},ht}__name(rect_left_inv_arrow,"rect_left_inv_arrow");async function rectWithTitle(rt,it){var Dt,Nt;const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;let ht;it.cssClasses?ht="node "+it.cssClasses:ht="node default";const ut=rt.insert("g").attr("class",ht).attr("id",it.domId||it.id),ft=ut.insert("g"),dt=ut.insert("g").attr("class","label").attr("style",ct),pt=it.description,gt=it.label,_t=dt.node().appendChild(await createLabel_default(gt,it.labelStyle,!0,!0));let yt={width:0,height:0};if(evaluate((Nt=(Dt=getConfig2())==null?void 0:Dt.flowchart)==null?void 0:Nt.htmlLabels)){const Mt=_t.children[0],Rt=select(_t);yt=Mt.getBoundingClientRect(),Rt.attr("width",yt.width),Rt.attr("height",yt.height)}log.info("Text 2",pt);const mt=pt||[],bt=_t.getBBox(),xt=dt.node().appendChild(await createLabel_default(mt.join?mt.join("<br/>"):mt,it.labelStyle,!0,!0)),wt=xt.children[0],Ct=select(xt);yt=wt.getBoundingClientRect(),Ct.attr("width",yt.width),Ct.attr("height",yt.height);const St=(it.padding||0)/2;select(xt).attr("transform","translate( "+(yt.width>bt.width?0:(bt.width-yt.width)/2)+", "+(bt.height+St+5)+")"),select(_t).attr("transform","translate( "+(yt.width<bt.width?0:-(bt.width-yt.width)/2)+", 0)"),yt=dt.node().getBBox(),dt.attr("transform","translate("+-yt.width/2+", "+(-yt.height/2-St+3)+")");const Tt=yt.width+(it.padding||0),vt=yt.height+(it.padding||0),kt=-yt.width/2-St,Et=-yt.height/2-St;let It,At;if(it.look==="handDrawn"){const Mt=at.svg(ut),Rt=userNodeOverrides(it,{}),zt=Mt.path(createRoundedRectPathD(kt,Et,Tt,vt,it.rx||0),Rt),Ht=Mt.line(-yt.width/2-St,-yt.height/2-St+bt.height+St,yt.width/2+St,-yt.height/2-St+bt.height+St,Rt);At=ut.insert(()=>(log.debug("Rough node insert CXC",zt),Ht),":first-child"),It=ut.insert(()=>(log.debug("Rough node insert CXC",zt),zt),":first-child")}else It=ft.insert("rect",":first-child"),At=ft.insert("line"),It.attr("class","outer title-state").attr("style",ct).attr("x",-yt.width/2-St).attr("y",-yt.height/2-St).attr("width",yt.width+(it.padding||0)).attr("height",yt.height+(it.padding||0)),At.attr("class","divider").attr("x1",-yt.width/2-St).attr("x2",yt.width/2+St).attr("y1",-yt.height/2-St+bt.height+St).attr("y2",-yt.height/2-St+bt.height+St);return updateNodeBounds(it,It),it.intersect=function(Mt){return intersect_default.rect(it,Mt)},ut}__name(rectWithTitle,"rectWithTitle");async function roundedRect(rt,it){const lt={rx:5,ry:5,classes:"",labelPaddingX:((it==null?void 0:it.padding)||0)*1,labelPaddingY:((it==null?void 0:it.padding)||0)*1};return drawRect(rt,it,lt)}__name(roundedRect,"roundedRect");async function shadedProcess(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut,label:ft}=await labelHelper(rt,it,getNodeClasses(it)),dt=(it==null?void 0:it.padding)??0,pt=Math.max(ut.width+(it.padding??0)*2,(it==null?void 0:it.width)??0),gt=Math.max(ut.height+(it.padding??0)*2,(it==null?void 0:it.height)??0),_t=-ut.width/2-dt,yt=-ut.height/2-dt,{cssStyles:mt}=it,bt=at.svg(ht),xt=userNodeOverrides(it,{});it.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const wt=[{x:_t,y:yt},{x:_t+pt+8,y:yt},{x:_t+pt+8,y:yt+gt},{x:_t-8,y:yt+gt},{x:_t-8,y:yt},{x:_t,y:yt},{x:_t,y:yt+gt}],Ct=bt.polygon(wt.map(Tt=>[Tt.x,Tt.y]),xt),St=ht.insert(()=>Ct,":first-child");return St.attr("class","basic label-container").attr("style",handleUndefinedAttr(mt)),ct&&it.look!=="handDrawn"&&St.selectAll("path").attr("style",ct),mt&&it.look!=="handDrawn"&&St.selectAll("path").attr("style",ct),ft.attr("transform",`translate(${-pt/2+4+(it.padding??0)-(ut.x-(ut.left??0))},${-gt/2+(it.padding??0)-(ut.y-(ut.top??0))})`),updateNodeBounds(it,St),it.intersect=function(Tt){return intersect_default.rect(it,Tt)},ht}__name(shadedProcess,"shadedProcess");async function slopedRect(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut,label:ft}=await labelHelper(rt,it,getNodeClasses(it)),dt=Math.max(ut.width+(it.padding??0)*2,(it==null?void 0:it.width)??0),pt=Math.max(ut.height+(it.padding??0)*2,(it==null?void 0:it.height)??0),gt=-dt/2,_t=-pt/2,{cssStyles:yt}=it,mt=at.svg(ht),bt=userNodeOverrides(it,{});it.look!=="handDrawn"&&(bt.roughness=0,bt.fillStyle="solid");const xt=[{x:gt,y:_t},{x:gt,y:_t+pt},{x:gt+dt,y:_t+pt},{x:gt+dt,y:_t-pt/2}],wt=createPathFromPoints(xt),Ct=mt.path(wt,bt),St=ht.insert(()=>Ct,":first-child");return St.attr("class","basic label-container"),yt&&it.look!=="handDrawn"&&St.selectChildren("path").attr("style",yt),ct&&it.look!=="handDrawn"&&St.selectChildren("path").attr("style",ct),St.attr("transform",`translate(0, ${pt/4})`),ft.attr("transform",`translate(${-dt/2+(it.padding??0)-(ut.x-(ut.left??0))}, ${-pt/4+(it.padding??0)-(ut.y-(ut.top??0))})`),updateNodeBounds(it,St),it.intersect=function(Tt){return intersect_default.polygon(it,xt,Tt)},ht}__name(slopedRect,"slopedRect");async function squareRect2(rt,it){const lt={rx:0,ry:0,classes:"",labelPaddingX:((it==null?void 0:it.padding)||0)*2,labelPaddingY:((it==null?void 0:it.padding)||0)*1};return drawRect(rt,it,lt)}__name(squareRect2,"squareRect");async function stadium(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut}=await labelHelper(rt,it,getNodeClasses(it)),ft=ut.height+it.padding,dt=ut.width+ft/4+it.padding;let pt;const{cssStyles:gt}=it;if(it.look==="handDrawn"){const _t=at.svg(ht),yt=userNodeOverrides(it,{}),mt=createRoundedRectPathD(-dt/2,-ft/2,dt,ft,ft/2),bt=_t.path(mt,yt);pt=ht.insert(()=>bt,":first-child"),pt.attr("class","basic label-container").attr("style",handleUndefinedAttr(gt))}else pt=ht.insert("rect",":first-child"),pt.attr("class","basic label-container").attr("style",ct).attr("rx",ft/2).attr("ry",ft/2).attr("x",-dt/2).attr("y",-ft/2).attr("width",dt).attr("height",ft);return updateNodeBounds(it,pt),it.intersect=function(_t){return intersect_default.rect(it,_t)},ht}__name(stadium,"stadium");async function state(rt,it){return drawRect(rt,it,{rx:5,ry:5,classes:"flowchart-node"})}__name(state,"state");function stateEnd(rt,it,{config:{themeVariables:lt}}){const{labelStyles:ct,nodeStyles:ht}=styles2String(it);it.labelStyle=ct;const{cssStyles:ut}=it,{lineColor:ft,stateBorder:dt,nodeBorder:pt}=lt,gt=rt.insert("g").attr("class","node default").attr("id",it.domId||it.id),_t=at.svg(gt),yt=userNodeOverrides(it,{});it.look!=="handDrawn"&&(yt.roughness=0,yt.fillStyle="solid");const mt=_t.circle(0,0,14,{...yt,stroke:ft,strokeWidth:2}),bt=dt??pt,xt=_t.circle(0,0,5,{...yt,fill:bt,stroke:bt,strokeWidth:2,fillStyle:"solid"}),wt=gt.insert(()=>mt,":first-child");return wt.insert(()=>xt),ut&&wt.selectAll("path").attr("style",ut),ht&&wt.selectAll("path").attr("style",ht),updateNodeBounds(it,wt),it.intersect=function(Ct){return intersect_default.circle(it,7,Ct)},gt}__name(stateEnd,"stateEnd");function stateStart(rt,it,{config:{themeVariables:lt}}){const{lineColor:ct}=lt,ht=rt.insert("g").attr("class","node default").attr("id",it.domId||it.id);let ut;if(it.look==="handDrawn"){const dt=at.svg(ht).circle(0,0,14,solidStateFill(ct));ut=ht.insert(()=>dt),ut.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else ut=ht.insert("circle",":first-child"),ut.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return updateNodeBounds(it,ut),it.intersect=function(ft){return intersect_default.circle(it,7,ft)},ht}__name(stateStart,"stateStart");async function subroutine(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut}=await labelHelper(rt,it,getNodeClasses(it)),ft=((it==null?void 0:it.padding)||0)/2,dt=ut.width+it.padding,pt=ut.height+it.padding,gt=-ut.width/2-ft,_t=-ut.height/2-ft,yt=[{x:0,y:0},{x:dt,y:0},{x:dt,y:-pt},{x:0,y:-pt},{x:0,y:0},{x:-8,y:0},{x:dt+8,y:0},{x:dt+8,y:-pt},{x:-8,y:-pt},{x:-8,y:0}];if(it.look==="handDrawn"){const mt=at.svg(ht),bt=userNodeOverrides(it,{}),xt=mt.rectangle(gt-8,_t,dt+16,pt,bt),wt=mt.line(gt,_t,gt,_t+pt,bt),Ct=mt.line(gt+dt,_t,gt+dt,_t+pt,bt);ht.insert(()=>wt,":first-child"),ht.insert(()=>Ct,":first-child");const St=ht.insert(()=>xt,":first-child"),{cssStyles:Tt}=it;St.attr("class","basic label-container").attr("style",handleUndefinedAttr(Tt)),updateNodeBounds(it,St)}else{const mt=insertPolygonShape(ht,dt,pt,yt);ct&&mt.attr("style",ct),updateNodeBounds(it,mt)}return it.intersect=function(mt){return intersect_default.polygon(it,yt,mt)},ht}__name(subroutine,"subroutine");async function taggedRect(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut}=await labelHelper(rt,it,getNodeClasses(it)),ft=Math.max(ut.width+(it.padding??0)*2,(it==null?void 0:it.width)??0),dt=Math.max(ut.height+(it.padding??0)*2,(it==null?void 0:it.height)??0),pt=-ft/2,gt=-dt/2,_t=.2*dt,yt=.2*dt,{cssStyles:mt}=it,bt=at.svg(ht),xt=userNodeOverrides(it,{}),wt=[{x:pt-_t/2,y:gt},{x:pt+ft+_t/2,y:gt},{x:pt+ft+_t/2,y:gt+dt},{x:pt-_t/2,y:gt+dt}],Ct=[{x:pt+ft-_t/2,y:gt+dt},{x:pt+ft+_t/2,y:gt+dt},{x:pt+ft+_t/2,y:gt+dt-yt}];it.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const St=createPathFromPoints(wt),Tt=bt.path(St,xt),vt=createPathFromPoints(Ct),kt=bt.path(vt,{...xt,fillStyle:"solid"}),Et=ht.insert(()=>kt,":first-child");return Et.insert(()=>Tt,":first-child"),Et.attr("class","basic label-container"),mt&&it.look!=="handDrawn"&&Et.selectAll("path").attr("style",mt),ct&&it.look!=="handDrawn"&&Et.selectAll("path").attr("style",ct),updateNodeBounds(it,Et),it.intersect=function(It){return intersect_default.polygon(it,wt,It)},ht}__name(taggedRect,"taggedRect");async function taggedWaveEdgedRectangle(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut,label:ft}=await labelHelper(rt,it,getNodeClasses(it)),dt=Math.max(ut.width+(it.padding??0)*2,(it==null?void 0:it.width)??0),pt=Math.max(ut.height+(it.padding??0)*2,(it==null?void 0:it.height)??0),gt=pt/4,_t=.2*dt,yt=.2*pt,mt=pt+gt,{cssStyles:bt}=it,xt=at.svg(ht),wt=userNodeOverrides(it,{});it.look!=="handDrawn"&&(wt.roughness=0,wt.fillStyle="solid");const Ct=[{x:-dt/2-dt/2*.1,y:mt/2},...generateFullSineWavePoints(-dt/2-dt/2*.1,mt/2,dt/2+dt/2*.1,mt/2,gt,.8),{x:dt/2+dt/2*.1,y:-mt/2},{x:-dt/2-dt/2*.1,y:-mt/2}],St=-dt/2+dt/2*.1,Tt=-mt/2-yt*.4,vt=[{x:St+dt-_t,y:(Tt+pt)*1.4},{x:St+dt,y:Tt+pt-yt},{x:St+dt,y:(Tt+pt)*.9},...generateFullSineWavePoints(St+dt,(Tt+pt)*1.3,St+dt-_t,(Tt+pt)*1.5,-pt*.03,.5)],kt=createPathFromPoints(Ct),Et=xt.path(kt,wt),It=createPathFromPoints(vt),At=xt.path(It,{...wt,fillStyle:"solid"}),Dt=ht.insert(()=>At,":first-child");return Dt.insert(()=>Et,":first-child"),Dt.attr("class","basic label-container"),bt&&it.look!=="handDrawn"&&Dt.selectAll("path").attr("style",bt),ct&&it.look!=="handDrawn"&&Dt.selectAll("path").attr("style",ct),Dt.attr("transform",`translate(0,${-gt/2})`),ft.attr("transform",`translate(${-dt/2+(it.padding??0)-(ut.x-(ut.left??0))},${-pt/2+(it.padding??0)-gt/2-(ut.y-(ut.top??0))})`),updateNodeBounds(it,Dt),it.intersect=function(Nt){return intersect_default.polygon(it,Ct,Nt)},ht}__name(taggedWaveEdgedRectangle,"taggedWaveEdgedRectangle");async function text(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut}=await labelHelper(rt,it,getNodeClasses(it)),ft=Math.max(ut.width+it.padding,(it==null?void 0:it.width)||0),dt=Math.max(ut.height+it.padding,(it==null?void 0:it.height)||0),pt=-ft/2,gt=-dt/2,_t=ht.insert("rect",":first-child");return _t.attr("class","text").attr("style",ct).attr("rx",0).attr("ry",0).attr("x",pt).attr("y",gt).attr("width",ft).attr("height",dt),updateNodeBounds(it,_t),it.intersect=function(yt){return intersect_default.rect(it,yt)},ht}__name(text,"text");var createCylinderPathD3=__name((rt,it,lt,ct,ht,ut)=>`M${rt},${it}
    a${ht},${ut} 0,0,1 0,${-ct}
    l${lt},0
    a${ht},${ut} 0,0,1 0,${ct}
    M${lt},${-ct}
    a${ht},${ut} 0,0,0 0,${ct}
    l${-lt},0`,"createCylinderPathD"),createOuterCylinderPathD3=__name((rt,it,lt,ct,ht,ut)=>[`M${rt},${it}`,`M${rt+lt},${it}`,`a${ht},${ut} 0,0,0 0,${-ct}`,`l${-lt},0`,`a${ht},${ut} 0,0,0 0,${ct}`,`l${lt},0`].join(" "),"createOuterCylinderPathD"),createInnerCylinderPathD3=__name((rt,it,lt,ct,ht,ut)=>[`M${rt+lt/2},${-ct/2}`,`a${ht},${ut} 0,0,0 0,${ct}`].join(" "),"createInnerCylinderPathD");async function tiltedCylinder(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut,label:ft,halfPadding:dt}=await labelHelper(rt,it,getNodeClasses(it)),pt=it.look==="neo"?dt*2:dt,gt=ut.height+pt,_t=gt/2,yt=_t/(2.5+gt/50),mt=ut.width+yt+pt,{cssStyles:bt}=it;let xt;if(it.look==="handDrawn"){const wt=at.svg(ht),Ct=createOuterCylinderPathD3(0,0,mt,gt,yt,_t),St=createInnerCylinderPathD3(0,0,mt,gt,yt,_t),Tt=wt.path(Ct,userNodeOverrides(it,{})),vt=wt.path(St,userNodeOverrides(it,{fill:"none"}));xt=ht.insert(()=>vt,":first-child"),xt=ht.insert(()=>Tt,":first-child"),xt.attr("class","basic label-container"),bt&&xt.attr("style",bt)}else{const wt=createCylinderPathD3(0,0,mt,gt,yt,_t);xt=ht.insert("path",":first-child").attr("d",wt).attr("class","basic label-container").attr("style",handleUndefinedAttr(bt)).attr("style",ct),xt.attr("class","basic label-container"),bt&&xt.selectAll("path").attr("style",bt),ct&&xt.selectAll("path").attr("style",ct)}return xt.attr("label-offset-x",yt),xt.attr("transform",`translate(${-mt/2}, ${gt/2} )`),ft.attr("transform",`translate(${-(ut.width/2)-yt-(ut.x-(ut.left??0))}, ${-(ut.height/2)-(ut.y-(ut.top??0))})`),updateNodeBounds(it,xt),it.intersect=function(wt){const Ct=intersect_default.rect(it,wt),St=Ct.y-(it.y??0);if(_t!=0&&(Math.abs(St)<(it.height??0)/2||Math.abs(St)==(it.height??0)/2&&Math.abs(Ct.x-(it.x??0))>(it.width??0)/2-yt)){let Tt=yt*yt*(1-St*St/(_t*_t));Tt!=0&&(Tt=Math.sqrt(Tt)),Tt=yt-Tt,wt.x-(it.x??0)>0&&(Tt=-Tt),Ct.x+=Tt}return Ct},ht}__name(tiltedCylinder,"tiltedCylinder");async function trapezoid(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut}=await labelHelper(rt,it,getNodeClasses(it)),ft=ut.width+it.padding,dt=ut.height+it.padding,pt=[{x:-3*dt/6,y:0},{x:ft+3*dt/6,y:0},{x:ft,y:-dt},{x:0,y:-dt}];let gt;const{cssStyles:_t}=it;if(it.look==="handDrawn"){const yt=at.svg(ht),mt=userNodeOverrides(it,{}),bt=createPathFromPoints(pt),xt=yt.path(bt,mt);gt=ht.insert(()=>xt,":first-child").attr("transform",`translate(${-ft/2}, ${dt/2})`),_t&&gt.attr("style",_t)}else gt=insertPolygonShape(ht,ft,dt,pt);return ct&&gt.attr("style",ct),it.width=ft,it.height=dt,updateNodeBounds(it,gt),it.intersect=function(yt){return intersect_default.polygon(it,pt,yt)},ht}__name(trapezoid,"trapezoid");async function trapezoidalPentagon(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut}=await labelHelper(rt,it,getNodeClasses(it)),ft=60,dt=20,pt=Math.max(ft,ut.width+(it.padding??0)*2,(it==null?void 0:it.width)??0),gt=Math.max(dt,ut.height+(it.padding??0)*2,(it==null?void 0:it.height)??0),{cssStyles:_t}=it,yt=at.svg(ht),mt=userNodeOverrides(it,{});it.look!=="handDrawn"&&(mt.roughness=0,mt.fillStyle="solid");const bt=[{x:-pt/2*.8,y:-gt/2},{x:pt/2*.8,y:-gt/2},{x:pt/2,y:-gt/2*.6},{x:pt/2,y:gt/2},{x:-pt/2,y:gt/2},{x:-pt/2,y:-gt/2*.6}],xt=createPathFromPoints(bt),wt=yt.path(xt,mt),Ct=ht.insert(()=>wt,":first-child");return Ct.attr("class","basic label-container"),_t&&it.look!=="handDrawn"&&Ct.selectChildren("path").attr("style",_t),ct&&it.look!=="handDrawn"&&Ct.selectChildren("path").attr("style",ct),updateNodeBounds(it,Ct),it.intersect=function(St){return intersect_default.polygon(it,bt,St)},ht}__name(trapezoidalPentagon,"trapezoidalPentagon");async function triangle(rt,it){var Tt;const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut,label:ft}=await labelHelper(rt,it,getNodeClasses(it)),dt=evaluate((Tt=getConfig2().flowchart)==null?void 0:Tt.htmlLabels),pt=ut.width+(it.padding??0),gt=pt+ut.height,_t=pt+ut.height,yt=[{x:0,y:0},{x:_t,y:0},{x:_t/2,y:-gt}],{cssStyles:mt}=it,bt=at.svg(ht),xt=userNodeOverrides(it,{});it.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const wt=createPathFromPoints(yt),Ct=bt.path(wt,xt),St=ht.insert(()=>Ct,":first-child").attr("transform",`translate(${-gt/2}, ${gt/2})`);return mt&&it.look!=="handDrawn"&&St.selectChildren("path").attr("style",mt),ct&&it.look!=="handDrawn"&&St.selectChildren("path").attr("style",ct),it.width=pt,it.height=gt,updateNodeBounds(it,St),ft.attr("transform",`translate(${-ut.width/2-(ut.x-(ut.left??0))}, ${gt/2-(ut.height+(it.padding??0)/(dt?2:1)-(ut.y-(ut.top??0)))})`),it.intersect=function(vt){return log.info("Triangle intersect",it,yt,vt),intersect_default.polygon(it,yt,vt)},ht}__name(triangle,"triangle");async function waveEdgedRectangle(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut,label:ft}=await labelHelper(rt,it,getNodeClasses(it)),dt=Math.max(ut.width+(it.padding??0)*2,(it==null?void 0:it.width)??0),pt=Math.max(ut.height+(it.padding??0)*2,(it==null?void 0:it.height)??0),gt=pt/8,_t=pt+gt,{cssStyles:yt}=it,bt=70-dt,xt=bt>0?bt/2:0,wt=at.svg(ht),Ct=userNodeOverrides(it,{});it.look!=="handDrawn"&&(Ct.roughness=0,Ct.fillStyle="solid");const St=[{x:-dt/2-xt,y:_t/2},...generateFullSineWavePoints(-dt/2-xt,_t/2,dt/2+xt,_t/2,gt,.8),{x:dt/2+xt,y:-_t/2},{x:-dt/2-xt,y:-_t/2}],Tt=createPathFromPoints(St),vt=wt.path(Tt,Ct),kt=ht.insert(()=>vt,":first-child");return kt.attr("class","basic label-container"),yt&&it.look!=="handDrawn"&&kt.selectAll("path").attr("style",yt),ct&&it.look!=="handDrawn"&&kt.selectAll("path").attr("style",ct),kt.attr("transform",`translate(0,${-gt/2})`),ft.attr("transform",`translate(${-dt/2+(it.padding??0)-(ut.x-(ut.left??0))},${-pt/2+(it.padding??0)-gt-(ut.y-(ut.top??0))})`),updateNodeBounds(it,kt),it.intersect=function(Et){return intersect_default.polygon(it,St,Et)},ht}__name(waveEdgedRectangle,"waveEdgedRectangle");async function waveRectangle(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut}=await labelHelper(rt,it,getNodeClasses(it)),ft=100,dt=50,pt=Math.max(ut.width+(it.padding??0)*2,(it==null?void 0:it.width)??0),gt=Math.max(ut.height+(it.padding??0)*2,(it==null?void 0:it.height)??0),_t=pt/gt;let yt=pt,mt=gt;yt>mt*_t?mt=yt/_t:yt=mt*_t,yt=Math.max(yt,ft),mt=Math.max(mt,dt);const bt=Math.min(mt*.2,mt/4),xt=mt+bt*2,{cssStyles:wt}=it,Ct=at.svg(ht),St=userNodeOverrides(it,{});it.look!=="handDrawn"&&(St.roughness=0,St.fillStyle="solid");const Tt=[{x:-yt/2,y:xt/2},...generateFullSineWavePoints(-yt/2,xt/2,yt/2,xt/2,bt,1),{x:yt/2,y:-xt/2},...generateFullSineWavePoints(yt/2,-xt/2,-yt/2,-xt/2,bt,-1)],vt=createPathFromPoints(Tt),kt=Ct.path(vt,St),Et=ht.insert(()=>kt,":first-child");return Et.attr("class","basic label-container"),wt&&it.look!=="handDrawn"&&Et.selectAll("path").attr("style",wt),ct&&it.look!=="handDrawn"&&Et.selectAll("path").attr("style",ct),updateNodeBounds(it,Et),it.intersect=function(It){return intersect_default.polygon(it,Tt,It)},ht}__name(waveRectangle,"waveRectangle");async function windowPane(rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(it);it.labelStyle=lt;const{shapeSvg:ht,bbox:ut,label:ft}=await labelHelper(rt,it,getNodeClasses(it)),dt=Math.max(ut.width+(it.padding??0)*2,(it==null?void 0:it.width)??0),pt=Math.max(ut.height+(it.padding??0)*2,(it==null?void 0:it.height)??0),gt=5,_t=-dt/2,yt=-pt/2,{cssStyles:mt}=it,bt=at.svg(ht),xt=userNodeOverrides(it,{}),wt=[{x:_t-gt,y:yt-gt},{x:_t-gt,y:yt+pt},{x:_t+dt,y:yt+pt},{x:_t+dt,y:yt-gt}],Ct=`M${_t-gt},${yt-gt} L${_t+dt},${yt-gt} L${_t+dt},${yt+pt} L${_t-gt},${yt+pt} L${_t-gt},${yt-gt}
                M${_t-gt},${yt} L${_t+dt},${yt}
                M${_t},${yt-gt} L${_t},${yt+pt}`;it.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const St=bt.path(Ct,xt),Tt=ht.insert(()=>St,":first-child");return Tt.attr("transform",`translate(${gt/2}, ${gt/2})`),Tt.attr("class","basic label-container"),mt&&it.look!=="handDrawn"&&Tt.selectAll("path").attr("style",mt),ct&&it.look!=="handDrawn"&&Tt.selectAll("path").attr("style",ct),ft.attr("transform",`translate(${-(ut.width/2)+gt/2-(ut.x-(ut.left??0))}, ${-(ut.height/2)+gt/2-(ut.y-(ut.top??0))})`),updateNodeBounds(it,Tt),it.intersect=function(vt){return intersect_default.polygon(it,wt,vt)},ht}__name(windowPane,"windowPane");async function textHelper(rt,it,lt,ct,ht=lt.class.padding??12){const ut=ct?0:3,ft=rt.insert("g").attr("class",getNodeClasses(it)).attr("id",it.domId||it.id);let dt=null,pt=null,gt=null,_t=null,yt=0,mt=0,bt=0;if(dt=ft.insert("g").attr("class","annotation-group text"),it.annotations.length>0){const Tt=it.annotations[0];await addText(dt,{text:`«${Tt}»`},0),yt=dt.node().getBBox().height}pt=ft.insert("g").attr("class","label-group text"),await addText(pt,it,0,["font-weight: bolder"]);const xt=pt.node().getBBox();mt=xt.height,gt=ft.insert("g").attr("class","members-group text");let wt=0;for(const Tt of it.members){const vt=await addText(gt,Tt,wt,[Tt.parseClassifier()]);wt+=vt+ut}bt=gt.node().getBBox().height,bt<=0&&(bt=ht/2),_t=ft.insert("g").attr("class","methods-group text");let Ct=0;for(const Tt of it.methods){const vt=await addText(_t,Tt,Ct,[Tt.parseClassifier()]);Ct+=vt+ut}let St=ft.node().getBBox();if(dt!==null){const Tt=dt.node().getBBox();dt.attr("transform",`translate(${-Tt.width/2})`)}return pt.attr("transform",`translate(${-xt.width/2}, ${yt})`),St=ft.node().getBBox(),gt.attr("transform",`translate(0, ${yt+mt+ht*2})`),St=ft.node().getBBox(),_t.attr("transform",`translate(0, ${yt+mt+(bt?bt+ht*4:ht*2)})`),St=ft.node().getBBox(),{shapeSvg:ft,bbox:St}}__name(textHelper,"textHelper");async function addText(rt,it,lt,ct=[]){const ht=rt.insert("g").attr("class","label").attr("style",ct.join("; ")),ut=getConfig();let ft="useHtmlLabels"in it?it.useHtmlLabels:evaluate(ut.htmlLabels)??!0,dt="";"text"in it?dt=it.text:dt=it.label,!ft&&dt.startsWith("\\")&&(dt=dt.substring(1)),hasKatex(dt)&&(ft=!0);const pt=await createText(ht,sanitizeText3(decodeEntities(dt)),{width:calculateTextWidth(dt,ut)+50,classes:"markdown-node-label",useHtmlLabels:ft},ut);let gt,_t=1;if(ft){const yt=pt.children[0],mt=select(pt);_t=yt.innerHTML.split("<br>").length,yt.innerHTML.includes("</math>")&&(_t+=yt.innerHTML.split("<mrow>").length-1);const bt=yt.getElementsByTagName("img");if(bt){const xt=dt.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...bt].map(wt=>new Promise(Ct=>{function St(){var Tt;if(wt.style.display="flex",wt.style.flexDirection="column",xt){const vt=((Tt=ut.fontSize)==null?void 0:Tt.toString())??window.getComputedStyle(document.body).fontSize,Et=parseInt(vt,10)*5+"px";wt.style.minWidth=Et,wt.style.maxWidth=Et}else wt.style.width="100%";Ct(wt)}__name(St,"setupImage"),setTimeout(()=>{wt.complete&&St()}),wt.addEventListener("error",St),wt.addEventListener("load",St)})))}gt=yt.getBoundingClientRect(),mt.attr("width",gt.width),mt.attr("height",gt.height)}else{ct.includes("font-weight: bolder")&&select(pt).selectAll("tspan").attr("font-weight",""),_t=pt.children.length;const yt=pt.children[0];(pt.textContent===""||pt.textContent.includes("&gt"))&&(yt.textContent=dt[0]+dt.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),dt[1]===" "&&(yt.textContent=yt.textContent[0]+" "+yt.textContent.substring(1))),yt.textContent==="undefined"&&(yt.textContent=""),gt=pt.getBBox()}return ht.attr("transform","translate(0,"+(-gt.height/(2*_t)+lt)+")"),gt.height}__name(addText,"addText");async function classBox(rt,it){var Nt,Mt;const lt=getConfig2(),ct=lt.class.padding??12,ht=ct,ut=it.useHtmlLabels??evaluate(lt.htmlLabels)??!0,ft=it;ft.annotations=ft.annotations??[],ft.members=ft.members??[],ft.methods=ft.methods??[];const{shapeSvg:dt,bbox:pt}=await textHelper(rt,it,lt,ut,ht),{labelStyles:gt,nodeStyles:_t}=styles2String(it);it.labelStyle=gt,it.cssStyles=ft.styles||"";const yt=((Nt=ft.styles)==null?void 0:Nt.join(";"))||_t||"";it.cssStyles||(it.cssStyles=yt.replaceAll("!important","").split(";"));const mt=ft.members.length===0&&ft.methods.length===0&&!((Mt=lt.class)!=null&&Mt.hideEmptyMembersBox),bt=at.svg(dt),xt=userNodeOverrides(it,{});it.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const wt=pt.width;let Ct=pt.height;ft.members.length===0&&ft.methods.length===0?Ct+=ht:ft.members.length>0&&ft.methods.length===0&&(Ct+=ht*2);const St=-wt/2,Tt=-Ct/2,vt=bt.rectangle(St-ct,Tt-ct-(mt?ct:ft.members.length===0&&ft.methods.length===0?-ct/2:0),wt+2*ct,Ct+2*ct+(mt?ct*2:ft.members.length===0&&ft.methods.length===0?-ct:0),xt),kt=dt.insert(()=>vt,":first-child");kt.attr("class","basic label-container");const Et=kt.node().getBBox();dt.selectAll(".text").each((Rt,zt,Ht)=>{var Wt;const Ft=select(Ht[zt]),$t=Ft.attr("transform");let Bt=0;if($t){const Gt=RegExp(/translate\(([^,]+),([^)]+)\)/).exec($t);Gt&&(Bt=parseFloat(Gt[2]))}let Pt=Bt+Tt+ct-(mt?ct:ft.members.length===0&&ft.methods.length===0?-ct/2:0);ut||(Pt-=4);let Ot=St;(Ft.attr("class").includes("label-group")||Ft.attr("class").includes("annotation-group"))&&(Ot=-((Wt=Ft.node())==null?void 0:Wt.getBBox().width)/2||0,dt.selectAll("text").each(function(jt,Gt,Xt){window.getComputedStyle(Xt[Gt]).textAnchor==="middle"&&(Ot=0)})),Ft.attr("transform",`translate(${Ot}, ${Pt})`)});const It=dt.select(".annotation-group").node().getBBox().height-(mt?ct/2:0)||0,At=dt.select(".label-group").node().getBBox().height-(mt?ct/2:0)||0,Dt=dt.select(".members-group").node().getBBox().height-(mt?ct/2:0)||0;if(ft.members.length>0||ft.methods.length>0||mt){const Rt=bt.line(Et.x,It+At+Tt+ct,Et.x+Et.width,It+At+Tt+ct,xt);dt.insert(()=>Rt).attr("class","divider").attr("style",yt)}if(mt||ft.members.length>0||ft.methods.length>0){const Rt=bt.line(Et.x,It+At+Dt+Tt+ht*2+ct,Et.x+Et.width,It+At+Dt+Tt+ct+ht*2,xt);dt.insert(()=>Rt).attr("class","divider").attr("style",yt)}if(ft.look!=="handDrawn"&&dt.selectAll("path").attr("style",yt),kt.select(":nth-child(2)").attr("style",yt),dt.selectAll(".divider").select("path").attr("style",yt),it.labelStyle?dt.selectAll("span").attr("style",it.labelStyle):dt.selectAll("span").attr("style",yt),!ut){const Rt=RegExp(/color\s*:\s*([^;]*)/),zt=Rt.exec(yt);if(zt){const Ht=zt[0].replace("color","fill");dt.selectAll("tspan").attr("style",Ht)}else if(gt){const Ht=Rt.exec(gt);if(Ht){const Ft=Ht[0].replace("color","fill");dt.selectAll("tspan").attr("style",Ft)}}}return updateNodeBounds(it,kt),it.intersect=function(Rt){return intersect_default.rect(it,Rt)},dt}__name(classBox,"classBox");var colorFromPriority=__name(rt=>{switch(rt){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function kanbanItem(rt,it,{config:lt}){var zt,Ht;const{labelStyles:ct,nodeStyles:ht}=styles2String(it);it.labelStyle=ct||"";const ut=10,ft=it.width;it.width=(it.width??200)-10;const{shapeSvg:dt,bbox:pt,label:gt}=await labelHelper(rt,it,getNodeClasses(it)),_t=it.padding||10;let yt="",mt;"ticket"in it&&it.ticket&&((zt=lt==null?void 0:lt.kanban)!=null&&zt.ticketBaseUrl)&&(yt=(Ht=lt==null?void 0:lt.kanban)==null?void 0:Ht.ticketBaseUrl.replace("#TICKET#",it.ticket),mt=dt.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",yt).attr("target","_blank"));const bt={useHtmlLabels:it.useHtmlLabels,labelStyle:it.labelStyle||"",width:it.width,img:it.img,padding:it.padding||8,centerLabel:!1};let xt,wt;mt?{label:xt,bbox:wt}=await insertLabel(mt,"ticket"in it&&it.ticket||"",bt):{label:xt,bbox:wt}=await insertLabel(dt,"ticket"in it&&it.ticket||"",bt);const{label:Ct,bbox:St}=await insertLabel(dt,"assigned"in it&&it.assigned||"",bt);it.width=ft;const Tt=10,vt=(it==null?void 0:it.width)||0,kt=Math.max(wt.height,St.height)/2,Et=Math.max(pt.height+Tt*2,(it==null?void 0:it.height)||0)+kt,It=-vt/2,At=-Et/2;gt.attr("transform","translate("+(_t-vt/2)+", "+(-kt-pt.height/2)+")"),xt.attr("transform","translate("+(_t-vt/2)+", "+(-kt+pt.height/2)+")"),Ct.attr("transform","translate("+(_t+vt/2-St.width-2*ut)+", "+(-kt+pt.height/2)+")");let Dt;const{rx:Nt,ry:Mt}=it,{cssStyles:Rt}=it;if(it.look==="handDrawn"){const Ft=at.svg(dt),$t=userNodeOverrides(it,{}),Bt=Nt||Mt?Ft.path(createRoundedRectPathD(It,At,vt,Et,Nt||0),$t):Ft.rectangle(It,At,vt,Et,$t);Dt=dt.insert(()=>Bt,":first-child"),Dt.attr("class","basic label-container").attr("style",Rt||null)}else{Dt=dt.insert("rect",":first-child"),Dt.attr("class","basic label-container __APA__").attr("style",ht).attr("rx",Nt??5).attr("ry",Mt??5).attr("x",It).attr("y",At).attr("width",vt).attr("height",Et);const Ft="priority"in it&&it.priority;if(Ft){const $t=dt.append("line"),Bt=It+2,Pt=At+Math.floor((Nt??0)/2),Ot=At+Et-Math.floor((Nt??0)/2);$t.attr("x1",Bt).attr("y1",Pt).attr("x2",Bt).attr("y2",Ot).attr("stroke-width","4").attr("stroke",colorFromPriority(Ft))}}return updateNodeBounds(it,Dt),it.height=Et,it.intersect=function(Ft){return intersect_default.rect(it,Ft)},dt}__name(kanbanItem,"kanbanItem");var shapesDefs=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:squareRect2},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:roundedRect},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:stadium},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:subroutine},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:cylinder},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:circle$1},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:question},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:hexagon},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:lean_right},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:lean_left},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:trapezoid},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:inv_trapezoid},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:doublecircle},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:text},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:card},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:shadedProcess},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:stateStart},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:stateEnd},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:forkJoin},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:hourglass},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:curlyBraceLeft},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:curlyBraceRight},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:curlyBraces},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:lightningBolt},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:waveEdgedRectangle},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:halfRoundedRectangle},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:tiltedCylinder},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:linedCylinder},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:curvedTrapezoid},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:dividedRectangle},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:triangle},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:windowPane},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:filledCircle},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:trapezoidalPentagon},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:flippedTriangle},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:slopedRect},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:multiWaveEdgedRectangle},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:multiRect},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:bowTieRect},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:crossedCircle},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:taggedWaveEdgedRectangle},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:taggedRect},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:waveRectangle},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:rect_left_inv_arrow},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:linedWaveEdgedRect}],generateShapeMap=__name(()=>{const it=[...Object.entries({state,choice,note,rectWithTitle,labelRect,iconSquare,iconCircle,icon,iconRounded,imageSquare,anchor,kanbanItem,classBox}),...shapesDefs.flatMap(lt=>[lt.shortName,..."aliases"in lt?lt.aliases:[],..."internalAliases"in lt?lt.internalAliases:[]].map(ht=>[ht,lt.handler]))];return Object.fromEntries(it)},"generateShapeMap"),shapes2=generateShapeMap();function isValidShape(rt){return rt in shapes2}__name(isValidShape,"isValidShape");var nodeElems=new Map;async function insertNode(rt,it,lt){let ct,ht;it.shape==="rect"&&(it.rx&&it.ry?it.shape="roundedRect":it.shape="squareRect");const ut=it.shape?shapes2[it.shape]:void 0;if(!ut)throw new Error(`No such shape: ${it.shape}. Please check your syntax.`);if(it.link){let ft;lt.config.securityLevel==="sandbox"?ft="_top":it.linkTarget&&(ft=it.linkTarget||"_blank"),ct=rt.insert("svg:a").attr("xlink:href",it.link).attr("target",ft??null),ht=await ut(ct,it,lt)}else ht=await ut(rt,it,lt),ct=ht;return it.tooltip&&ht.attr("title",it.tooltip),nodeElems.set(it.id,ct),it.haveCallback&&ct.attr("class",ct.attr("class")+" clickable"),ct}__name(insertNode,"insertNode");var setNodeElem=__name((rt,it)=>{nodeElems.set(it.id,rt)},"setNodeElem"),clear2=__name(()=>{nodeElems.clear()},"clear"),positionNode=__name(rt=>{const it=nodeElems.get(rt.id);log.trace("Transforming node",rt.diff,rt,"translate("+(rt.x-rt.width/2-5)+", "+rt.width/2+")");const lt=8,ct=rt.diff||0;return rt.clusterNode?it.attr("transform","translate("+(rt.x+ct-rt.width/2)+", "+(rt.y-rt.height/2-lt)+")"):it.attr("transform","translate("+rt.x+", "+rt.y+")"),ct},"positionNode"),markerOffsets={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};function calculateDeltaAndAngle(rt,it){if(rt===void 0||it===void 0)return{angle:0,deltaX:0,deltaY:0};rt=pointTransformer(rt),it=pointTransformer(it);const[lt,ct]=[rt.x,rt.y],[ht,ut]=[it.x,it.y],ft=ht-lt,dt=ut-ct;return{angle:Math.atan(dt/ft),deltaX:ft,deltaY:dt}}__name(calculateDeltaAndAngle,"calculateDeltaAndAngle");var pointTransformer=__name(rt=>Array.isArray(rt)?{x:rt[0],y:rt[1]}:rt,"pointTransformer"),getLineFunctionsWithOffset=__name(rt=>({x:__name(function(it,lt,ct){let ht=0;const ut=pointTransformer(ct[0]).x<pointTransformer(ct[ct.length-1]).x?"left":"right";if(lt===0&&Object.hasOwn(markerOffsets,rt.arrowTypeStart)){const{angle:bt,deltaX:xt}=calculateDeltaAndAngle(ct[0],ct[1]);ht=markerOffsets[rt.arrowTypeStart]*Math.cos(bt)*(xt>=0?1:-1)}else if(lt===ct.length-1&&Object.hasOwn(markerOffsets,rt.arrowTypeEnd)){const{angle:bt,deltaX:xt}=calculateDeltaAndAngle(ct[ct.length-1],ct[ct.length-2]);ht=markerOffsets[rt.arrowTypeEnd]*Math.cos(bt)*(xt>=0?1:-1)}const ft=Math.abs(pointTransformer(it).x-pointTransformer(ct[ct.length-1]).x),dt=Math.abs(pointTransformer(it).y-pointTransformer(ct[ct.length-1]).y),pt=Math.abs(pointTransformer(it).x-pointTransformer(ct[0]).x),gt=Math.abs(pointTransformer(it).y-pointTransformer(ct[0]).y),_t=markerOffsets[rt.arrowTypeStart],yt=markerOffsets[rt.arrowTypeEnd],mt=1;if(ft<yt&&ft>0&&dt<yt){let bt=yt+mt-ft;bt*=ut==="right"?-1:1,ht-=bt}if(pt<_t&&pt>0&&gt<_t){let bt=_t+mt-pt;bt*=ut==="right"?-1:1,ht+=bt}return pointTransformer(it).x+ht},"x"),y:__name(function(it,lt,ct){let ht=0;const ut=pointTransformer(ct[0]).y<pointTransformer(ct[ct.length-1]).y?"down":"up";if(lt===0&&Object.hasOwn(markerOffsets,rt.arrowTypeStart)){const{angle:bt,deltaY:xt}=calculateDeltaAndAngle(ct[0],ct[1]);ht=markerOffsets[rt.arrowTypeStart]*Math.abs(Math.sin(bt))*(xt>=0?1:-1)}else if(lt===ct.length-1&&Object.hasOwn(markerOffsets,rt.arrowTypeEnd)){const{angle:bt,deltaY:xt}=calculateDeltaAndAngle(ct[ct.length-1],ct[ct.length-2]);ht=markerOffsets[rt.arrowTypeEnd]*Math.abs(Math.sin(bt))*(xt>=0?1:-1)}const ft=Math.abs(pointTransformer(it).y-pointTransformer(ct[ct.length-1]).y),dt=Math.abs(pointTransformer(it).x-pointTransformer(ct[ct.length-1]).x),pt=Math.abs(pointTransformer(it).y-pointTransformer(ct[0]).y),gt=Math.abs(pointTransformer(it).x-pointTransformer(ct[0]).x),_t=markerOffsets[rt.arrowTypeStart],yt=markerOffsets[rt.arrowTypeEnd],mt=1;if(ft<yt&&ft>0&&dt<yt){let bt=yt+mt-ft;bt*=ut==="up"?-1:1,ht-=bt}if(pt<_t&&pt>0&&gt<_t){let bt=_t+mt-pt;bt*=ut==="up"?-1:1,ht+=bt}return pointTransformer(it).y+ht},"y")}),"getLineFunctionsWithOffset"),addEdgeMarkers=__name((rt,it,lt,ct,ht)=>{it.arrowTypeStart&&addEdgeMarker(rt,"start",it.arrowTypeStart,lt,ct,ht),it.arrowTypeEnd&&addEdgeMarker(rt,"end",it.arrowTypeEnd,lt,ct,ht)},"addEdgeMarkers"),arrowTypesMap={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},addEdgeMarker=__name((rt,it,lt,ct,ht,ut)=>{const ft=arrowTypesMap[lt];if(!ft){log.warn(`Unknown arrow type: ${lt}`);return}const dt=it==="start"?"Start":"End";rt.attr(`marker-${it}`,`url(${ct}#${ht}_${ut}-${ft}${dt})`)},"addEdgeMarker"),edgeLabels=new Map,terminalLabels=new Map,clear=__name(()=>{edgeLabels.clear(),terminalLabels.clear()},"clear"),getLabelStyles=__name(rt=>rt?rt.reduce((lt,ct)=>lt+";"+ct,""):"","getLabelStyles"),insertEdgeLabel=__name(async(rt,it)=>{let lt=evaluate(getConfig2().flowchart.htmlLabels);const ct=await createText(rt,it.label,{style:getLabelStyles(it.labelStyle),useHtmlLabels:lt,addSvgBackground:!0,isNode:!1});log.info("abc82",it,it.labelType);const ht=rt.insert("g").attr("class","edgeLabel"),ut=ht.insert("g").attr("class","label");ut.node().appendChild(ct);let ft=ct.getBBox();if(lt){const pt=ct.children[0],gt=select(ct);ft=pt.getBoundingClientRect(),gt.attr("width",ft.width),gt.attr("height",ft.height)}ut.attr("transform","translate("+-ft.width/2+", "+-ft.height/2+")"),edgeLabels.set(it.id,ht),it.width=ft.width,it.height=ft.height;let dt;if(it.startLabelLeft){const pt=await createLabel_default(it.startLabelLeft,getLabelStyles(it.labelStyle)),gt=rt.insert("g").attr("class","edgeTerminals"),_t=gt.insert("g").attr("class","inner");dt=_t.node().appendChild(pt);const yt=pt.getBBox();_t.attr("transform","translate("+-yt.width/2+", "+-yt.height/2+")"),terminalLabels.get(it.id)||terminalLabels.set(it.id,{}),terminalLabels.get(it.id).startLeft=gt,setTerminalWidth(dt,it.startLabelLeft)}if(it.startLabelRight){const pt=await createLabel_default(it.startLabelRight,getLabelStyles(it.labelStyle)),gt=rt.insert("g").attr("class","edgeTerminals"),_t=gt.insert("g").attr("class","inner");dt=gt.node().appendChild(pt),_t.node().appendChild(pt);const yt=pt.getBBox();_t.attr("transform","translate("+-yt.width/2+", "+-yt.height/2+")"),terminalLabels.get(it.id)||terminalLabels.set(it.id,{}),terminalLabels.get(it.id).startRight=gt,setTerminalWidth(dt,it.startLabelRight)}if(it.endLabelLeft){const pt=await createLabel_default(it.endLabelLeft,getLabelStyles(it.labelStyle)),gt=rt.insert("g").attr("class","edgeTerminals"),_t=gt.insert("g").attr("class","inner");dt=_t.node().appendChild(pt);const yt=pt.getBBox();_t.attr("transform","translate("+-yt.width/2+", "+-yt.height/2+")"),gt.node().appendChild(pt),terminalLabels.get(it.id)||terminalLabels.set(it.id,{}),terminalLabels.get(it.id).endLeft=gt,setTerminalWidth(dt,it.endLabelLeft)}if(it.endLabelRight){const pt=await createLabel_default(it.endLabelRight,getLabelStyles(it.labelStyle)),gt=rt.insert("g").attr("class","edgeTerminals"),_t=gt.insert("g").attr("class","inner");dt=_t.node().appendChild(pt);const yt=pt.getBBox();_t.attr("transform","translate("+-yt.width/2+", "+-yt.height/2+")"),gt.node().appendChild(pt),terminalLabels.get(it.id)||terminalLabels.set(it.id,{}),terminalLabels.get(it.id).endRight=gt,setTerminalWidth(dt,it.endLabelRight)}return ct},"insertEdgeLabel");function setTerminalWidth(rt,it){getConfig2().flowchart.htmlLabels&&rt&&(rt.style.width=it.length*9+"px",rt.style.height="12px")}__name(setTerminalWidth,"setTerminalWidth");var positionEdgeLabel=__name((rt,it)=>{log.debug("Moving label abc88 ",rt.id,rt.label,edgeLabels.get(rt.id),it);let lt=it.updatedPath?it.updatedPath:it.originalPath;const ct=getConfig2(),{subGraphTitleTotalMargin:ht}=getSubGraphTitleMargins(ct);if(rt.label){const ut=edgeLabels.get(rt.id);let ft=rt.x,dt=rt.y;if(lt){const pt=utils_default.calcLabelPosition(lt);log.debug("Moving label "+rt.label+" from (",ft,",",dt,") to (",pt.x,",",pt.y,") abc88"),it.updatedPath&&(ft=pt.x,dt=pt.y)}ut.attr("transform",`translate(${ft}, ${dt+ht/2})`)}if(rt.startLabelLeft){const ut=terminalLabels.get(rt.id).startLeft;let ft=rt.x,dt=rt.y;if(lt){const pt=utils_default.calcTerminalLabelPosition(rt.arrowTypeStart?10:0,"start_left",lt);ft=pt.x,dt=pt.y}ut.attr("transform",`translate(${ft}, ${dt})`)}if(rt.startLabelRight){const ut=terminalLabels.get(rt.id).startRight;let ft=rt.x,dt=rt.y;if(lt){const pt=utils_default.calcTerminalLabelPosition(rt.arrowTypeStart?10:0,"start_right",lt);ft=pt.x,dt=pt.y}ut.attr("transform",`translate(${ft}, ${dt})`)}if(rt.endLabelLeft){const ut=terminalLabels.get(rt.id).endLeft;let ft=rt.x,dt=rt.y;if(lt){const pt=utils_default.calcTerminalLabelPosition(rt.arrowTypeEnd?10:0,"end_left",lt);ft=pt.x,dt=pt.y}ut.attr("transform",`translate(${ft}, ${dt})`)}if(rt.endLabelRight){const ut=terminalLabels.get(rt.id).endRight;let ft=rt.x,dt=rt.y;if(lt){const pt=utils_default.calcTerminalLabelPosition(rt.arrowTypeEnd?10:0,"end_right",lt);ft=pt.x,dt=pt.y}ut.attr("transform",`translate(${ft}, ${dt})`)}},"positionEdgeLabel"),outsideNode=__name((rt,it)=>{const lt=rt.x,ct=rt.y,ht=Math.abs(it.x-lt),ut=Math.abs(it.y-ct),ft=rt.width/2,dt=rt.height/2;return ht>=ft||ut>=dt},"outsideNode"),intersection=__name((rt,it,lt)=>{log.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(it)}
  insidePoint : ${JSON.stringify(lt)}
  node        : x:${rt.x} y:${rt.y} w:${rt.width} h:${rt.height}`);const ct=rt.x,ht=rt.y,ut=Math.abs(ct-lt.x),ft=rt.width/2;let dt=lt.x<it.x?ft-ut:ft+ut;const pt=rt.height/2,gt=Math.abs(it.y-lt.y),_t=Math.abs(it.x-lt.x);if(Math.abs(ht-it.y)*ft>Math.abs(ct-it.x)*pt){let yt=lt.y<it.y?it.y-pt-ht:ht-pt-it.y;dt=_t*yt/gt;const mt={x:lt.x<it.x?lt.x+dt:lt.x-_t+dt,y:lt.y<it.y?lt.y+gt-yt:lt.y-gt+yt};return dt===0&&(mt.x=it.x,mt.y=it.y),_t===0&&(mt.x=it.x),gt===0&&(mt.y=it.y),log.debug(`abc89 top/bottom calc, Q ${gt}, q ${yt}, R ${_t}, r ${dt}`,mt),mt}else{lt.x<it.x?dt=it.x-ft-ct:dt=ct-ft-it.x;let yt=gt*dt/_t,mt=lt.x<it.x?lt.x+_t-dt:lt.x-_t+dt,bt=lt.y<it.y?lt.y+yt:lt.y-yt;return log.debug(`sides calc abc89, Q ${gt}, q ${yt}, R ${_t}, r ${dt}`,{_x:mt,_y:bt}),dt===0&&(mt=it.x,bt=it.y),_t===0&&(mt=it.x),gt===0&&(bt=it.y),{x:mt,y:bt}}},"intersection"),cutPathAtIntersect=__name((rt,it)=>{log.warn("abc88 cutPathAtIntersect",rt,it);let lt=[],ct=rt[0],ht=!1;return rt.forEach(ut=>{if(log.info("abc88 checking point",ut,it),!outsideNode(it,ut)&&!ht){const ft=intersection(it,ct,ut);log.debug("abc88 inside",ut,ct,ft),log.debug("abc88 intersection",ft,it);let dt=!1;lt.forEach(pt=>{dt=dt||pt.x===ft.x&&pt.y===ft.y}),lt.some(pt=>pt.x===ft.x&&pt.y===ft.y)?log.warn("abc88 no intersect",ft,lt):lt.push(ft),ht=!0}else log.warn("abc88 outside",ut,ct),ct=ut,ht||lt.push(ut)}),log.debug("returning points",lt),lt},"cutPathAtIntersect");function extractCornerPoints(rt){const it=[],lt=[];for(let ct=1;ct<rt.length-1;ct++){const ht=rt[ct-1],ut=rt[ct],ft=rt[ct+1];(ht.x===ut.x&&ut.y===ft.y&&Math.abs(ut.x-ft.x)>5&&Math.abs(ut.y-ht.y)>5||ht.y===ut.y&&ut.x===ft.x&&Math.abs(ut.x-ht.x)>5&&Math.abs(ut.y-ft.y)>5)&&(it.push(ut),lt.push(ct))}return{cornerPoints:it,cornerPointPositions:lt}}__name(extractCornerPoints,"extractCornerPoints");var findAdjacentPoint=__name(function(rt,it,lt){const ct=it.x-rt.x,ht=it.y-rt.y,ut=Math.sqrt(ct*ct+ht*ht),ft=lt/ut;return{x:it.x-ft*ct,y:it.y-ft*ht}},"findAdjacentPoint"),fixCorners=__name(function(rt){const{cornerPointPositions:it}=extractCornerPoints(rt),lt=[];for(let ct=0;ct<rt.length;ct++)if(it.includes(ct)){const ht=rt[ct-1],ut=rt[ct+1],ft=rt[ct],dt=findAdjacentPoint(ht,ft,5),pt=findAdjacentPoint(ut,ft,5),gt=pt.x-dt.x,_t=pt.y-dt.y;lt.push(dt);const yt=Math.sqrt(2)*2;let mt={x:ft.x,y:ft.y};if(Math.abs(ut.x-ht.x)>10&&Math.abs(ut.y-ht.y)>=10){log.debug("Corner point fixing",Math.abs(ut.x-ht.x),Math.abs(ut.y-ht.y));const bt=5;ft.x===dt.x?mt={x:gt<0?dt.x-bt+yt:dt.x+bt-yt,y:_t<0?dt.y-yt:dt.y+yt}:mt={x:gt<0?dt.x-yt:dt.x+yt,y:_t<0?dt.y-bt+yt:dt.y+bt-yt}}else log.debug("Corner point skipping fixing",Math.abs(ut.x-ht.x),Math.abs(ut.y-ht.y));lt.push(mt,pt)}else lt.push(rt[ct]);return lt},"fixCorners"),insertEdge=__name(function(rt,it,lt,ct,ht,ut,ft){const{handDrawnSeed:dt}=getConfig2();let pt=it.points,gt=!1;const _t=ht;var yt=ut;yt.intersect&&_t.intersect&&(pt=pt.slice(1,it.points.length-1),pt.unshift(_t.intersect(pt[0])),log.debug("Last point APA12",it.start,"-->",it.end,pt[pt.length-1],yt,yt.intersect(pt[pt.length-1])),pt.push(yt.intersect(pt[pt.length-1]))),it.toCluster&&(log.info("to cluster abc88",lt.get(it.toCluster)),pt=cutPathAtIntersect(it.points,lt.get(it.toCluster).node),gt=!0),it.fromCluster&&(log.debug("from cluster abc88",lt.get(it.fromCluster),JSON.stringify(pt,null,2)),pt=cutPathAtIntersect(pt.reverse(),lt.get(it.fromCluster).node).reverse(),gt=!0);let mt=pt.filter(At=>!Number.isNaN(At.y));mt=fixCorners(mt);let bt=curveBasis;it.curve&&(bt=it.curve);const{x:xt,y:wt}=getLineFunctionsWithOffset(it),Ct=line$1().x(xt).y(wt).curve(bt);let St;switch(it.thickness){case"normal":St="edge-thickness-normal";break;case"thick":St="edge-thickness-thick";break;case"invisible":St="edge-thickness-invisible";break;default:St="edge-thickness-normal"}switch(it.pattern){case"solid":St+=" edge-pattern-solid";break;case"dotted":St+=" edge-pattern-dotted";break;case"dashed":St+=" edge-pattern-dashed";break;default:St+=" edge-pattern-solid"}let Tt,vt=Ct(mt);const kt=Array.isArray(it.style)?it.style:[it.style];if(it.look==="handDrawn"){const At=at.svg(rt);Object.assign([],mt);const Dt=At.path(vt,{roughness:.3,seed:dt});St+=" transition",Tt=select(Dt).select("path").attr("id",it.id).attr("class"," "+St+(it.classes?" "+it.classes:"")).attr("style",kt?kt.reduce((Mt,Rt)=>Mt+";"+Rt,""):"");let Nt=Tt.attr("d");Tt.attr("d",Nt),rt.node().appendChild(Tt.node())}else Tt=rt.append("path").attr("d",vt).attr("id",it.id).attr("class"," "+St+(it.classes?" "+it.classes:"")).attr("style",kt?kt.reduce((At,Dt)=>At+";"+Dt,""):"");let Et="";(getConfig2().flowchart.arrowMarkerAbsolute||getConfig2().state.arrowMarkerAbsolute)&&(Et=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,Et=Et.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),log.info("arrowTypeStart",it.arrowTypeStart),log.info("arrowTypeEnd",it.arrowTypeEnd),addEdgeMarkers(Tt,it,Et,ft,ct);let It={};return gt&&(It.updatedPath=pt),It.originalPath=it.points,It},"insertEdge"),insertMarkers=__name((rt,it,lt,ct)=>{it.forEach(ht=>{markers[ht](rt,lt,ct)})},"insertMarkers"),extension=__name((rt,it,lt)=>{log.trace("Making markers for ",lt),rt.append("defs").append("marker").attr("id",lt+"_"+it+"-extensionStart").attr("class","marker extension "+it).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),rt.append("defs").append("marker").attr("id",lt+"_"+it+"-extensionEnd").attr("class","marker extension "+it).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),composition=__name((rt,it,lt)=>{rt.append("defs").append("marker").attr("id",lt+"_"+it+"-compositionStart").attr("class","marker composition "+it).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),rt.append("defs").append("marker").attr("id",lt+"_"+it+"-compositionEnd").attr("class","marker composition "+it).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),aggregation=__name((rt,it,lt)=>{rt.append("defs").append("marker").attr("id",lt+"_"+it+"-aggregationStart").attr("class","marker aggregation "+it).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),rt.append("defs").append("marker").attr("id",lt+"_"+it+"-aggregationEnd").attr("class","marker aggregation "+it).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),dependency=__name((rt,it,lt)=>{rt.append("defs").append("marker").attr("id",lt+"_"+it+"-dependencyStart").attr("class","marker dependency "+it).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),rt.append("defs").append("marker").attr("id",lt+"_"+it+"-dependencyEnd").attr("class","marker dependency "+it).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),lollipop=__name((rt,it,lt)=>{rt.append("defs").append("marker").attr("id",lt+"_"+it+"-lollipopStart").attr("class","marker lollipop "+it).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),rt.append("defs").append("marker").attr("id",lt+"_"+it+"-lollipopEnd").attr("class","marker lollipop "+it).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),point=__name((rt,it,lt)=>{rt.append("marker").attr("id",lt+"_"+it+"-pointEnd").attr("class","marker "+it).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),rt.append("marker").attr("id",lt+"_"+it+"-pointStart").attr("class","marker "+it).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),circle=__name((rt,it,lt)=>{rt.append("marker").attr("id",lt+"_"+it+"-circleEnd").attr("class","marker "+it).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),rt.append("marker").attr("id",lt+"_"+it+"-circleStart").attr("class","marker "+it).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),cross=__name((rt,it,lt)=>{rt.append("marker").attr("id",lt+"_"+it+"-crossEnd").attr("class","marker cross "+it).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),rt.append("marker").attr("id",lt+"_"+it+"-crossStart").attr("class","marker cross "+it).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),barb=__name((rt,it,lt)=>{rt.append("defs").append("marker").attr("id",lt+"_"+it+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),markers={extension,composition,aggregation,dependency,lollipop,point,circle,cross,barb},markers_default=insertMarkers,internalHelpers={common:common_default,getConfig,insertCluster,insertEdge,insertEdgeLabel,insertMarkers:markers_default,insertNode,interpolateToCurve,labelHelper,log,positionEdgeLabel},layoutAlgorithms={},registerLayoutLoaders=__name(rt=>{for(const it of rt)layoutAlgorithms[it.name]=it},"registerLayoutLoaders"),registerDefaultLayoutLoaders=__name(()=>{registerLayoutLoaders([{name:"dagre",loader:__name(async()=>await __vitePreload(()=>import("./dagre-SWNTG5WE.Bnp9TEv2.js"),__vite__mapDeps([3,4,5,6,7,8]),import.meta.url),"loader")}])},"registerDefaultLayoutLoaders");registerDefaultLayoutLoaders();var render$2=__name(async(rt,it)=>{if(!(rt.layoutAlgorithm in layoutAlgorithms))throw new Error(`Unknown layout algorithm: ${rt.layoutAlgorithm}`);const lt=layoutAlgorithms[rt.layoutAlgorithm];return(await lt.loader()).render(rt,it,internalHelpers,{algorithm:lt.algorithm})},"render"),getRegisteredLayoutAlgorithm=__name((rt="",{fallback:it="dagre"}={})=>{if(rt in layoutAlgorithms)return rt;if(it in layoutAlgorithms)return log.warn(`Layout algorithm ${rt} is not registered. Using ${it} as fallback.`),it;throw new Error(`Both layout algorithms ${rt} and ${it} are not registered.`)},"getRegisteredLayoutAlgorithm"),version="11.4.0",selectSvgElement=__name(rt=>{var ht;const{securityLevel:it}=getConfig2();let lt=select("body");if(it==="sandbox"){const ft=((ht=select(`#i${rt}`).node())==null?void 0:ht.contentDocument)??document;lt=select(ft.body)}return lt.select(`#${rt}`)},"selectSvgElement"),COMMENT$1="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode;function trim(rt){return rt.trim()}function replace(rt,it,lt){return rt.replace(it,lt)}function indexof(rt,it,lt){return rt.indexOf(it,lt)}function charat(rt,it){return rt.charCodeAt(it)|0}function substr(rt,it,lt){return rt.slice(it,lt)}function strlen(rt){return rt.length}function sizeof(rt){return rt.length}function append(rt,it){return it.push(rt),rt}var line=1,column=1,length=0,position=0,character=0,characters="";function node(rt,it,lt,ct,ht,ut,ft,dt){return{value:rt,root:it,parent:lt,type:ct,props:ht,children:ut,line,column,length:ft,return:"",siblings:dt}}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(rt,it){return substr(characters,rt,it)}function token(rt){switch(rt){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(rt){return line=column=1,length=strlen(characters=rt),position=0,[]}function dealloc(rt){return characters="",rt}function delimit(rt){return trim(slice(position-1,delimiter(rt===91?rt+2:rt===40?rt+1:rt)))}function whitespace(rt){for(;(character=peek())&&character<33;)next();return token(rt)>2||token(character)>3?"":" "}function escaping(rt,it){for(;--it&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(rt,caret()+(it<6&&peek()==32&&next()==32))}function delimiter(rt){for(;next();)switch(character){case rt:return position;case 34:case 39:rt!==34&&rt!==39&&delimiter(character);break;case 40:rt===41&&delimiter(rt);break;case 92:next();break}return position}function commenter(rt,it){for(;next()&&rt+character!==57;)if(rt+character===84&&peek()===47)break;return"/*"+slice(it,position-1)+"*"+from(rt===47?rt:next())}function identifier(rt){for(;!token(peek());)next();return slice(rt,position)}function compile(rt){return dealloc(parse$2("",null,null,null,[""],rt=alloc(rt),0,[0],rt))}function parse$2(rt,it,lt,ct,ht,ut,ft,dt,pt){for(var gt=0,_t=0,yt=ft,mt=0,bt=0,xt=0,wt=1,Ct=1,St=1,Tt=0,vt="",kt=ht,Et=ut,It=ct,At=vt;Ct;)switch(xt=Tt,Tt=next()){case 40:if(xt!=108&&charat(At,yt-1)==58){indexof(At+=replace(delimit(Tt),"&","&\f"),"&\f",abs(gt?dt[gt-1]:0))!=-1&&(St=-1);break}case 34:case 39:case 91:At+=delimit(Tt);break;case 9:case 10:case 13:case 32:At+=whitespace(xt);break;case 92:At+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),it,lt,pt),pt),(token(xt||1)==5||token(peek()||1)==5)&&strlen(At)&&substr(At,-1,void 0)!==" "&&(At+=" ");break;default:At+="/"}break;case 123*wt:dt[gt++]=strlen(At)*St;case 125*wt:case 59:case 0:switch(Tt){case 0:case 125:Ct=0;case 59+_t:St==-1&&(At=replace(At,/\f/g,"")),bt>0&&(strlen(At)-yt||wt===0&&xt===47)&&append(bt>32?declaration(At+";",ct,lt,yt-1,pt):declaration(replace(At," ","")+";",ct,lt,yt-2,pt),pt);break;case 59:At+=";";default:if(append(It=ruleset(At,it,lt,gt,_t,ht,dt,vt,kt=[],Et=[],yt,ut),ut),Tt===123)if(_t===0)parse$2(At,it,It,It,kt,ut,yt,dt,Et);else switch(mt===99&&charat(At,3)===110?100:mt){case 100:case 108:case 109:case 115:parse$2(rt,It,It,ct&&append(ruleset(rt,It,It,0,0,ht,dt,vt,ht,kt=[],yt,Et),Et),ht,Et,yt,dt,ct?kt:Et);break;default:parse$2(At,It,It,It,[""],Et,0,dt,Et)}}gt=_t=bt=0,wt=St=1,vt=At="",yt=ft;break;case 58:yt=1+strlen(At),bt=xt;default:if(wt<1){if(Tt==123)--wt;else if(Tt==125&&wt++==0&&prev()==125)continue}switch(At+=from(Tt),Tt*wt){case 38:St=_t>0?1:(At+="\f",-1);break;case 44:dt[gt++]=(strlen(At)-1)*St,St=1;break;case 64:peek()===45&&(At+=delimit(next())),mt=peek(),_t=yt=strlen(vt=At+=identifier(caret())),Tt++;break;case 45:xt===45&&strlen(At)==2&&(wt=0)}}return ut}function ruleset(rt,it,lt,ct,ht,ut,ft,dt,pt,gt,_t,yt){for(var mt=ht-1,bt=ht===0?ut:[""],xt=sizeof(bt),wt=0,Ct=0,St=0;wt<ct;++wt)for(var Tt=0,vt=substr(rt,mt+1,mt=abs(Ct=ft[wt])),kt=rt;Tt<xt;++Tt)(kt=trim(Ct>0?bt[Tt]+" "+vt:replace(vt,/&\f/g,bt[Tt])))&&(pt[St++]=kt);return node(rt,it,lt,ht===0?RULESET:dt,pt,gt,_t,yt)}function comment(rt,it,lt,ct){return node(rt,it,lt,COMMENT$1,from(char()),substr(rt,2,-2),0,ct)}function declaration(rt,it,lt,ct,ht){return node(rt,it,lt,DECLARATION,substr(rt,0,ct),substr(rt,ct+1,-1),ct,ht)}function serialize$1(rt,it){for(var lt="",ct=0;ct<rt.length;ct++)lt+=it(rt[ct],ct,rt,it)||"";return lt}function stringify(rt,it,lt,ct){switch(rt.type){case LAYER:if(rt.children.length)break;case IMPORT:case DECLARATION:return rt.return=rt.return||rt.value;case COMMENT$1:return"";case KEYFRAMES:return rt.return=rt.value+"{"+serialize$1(rt.children,ct)+"}";case RULESET:if(!strlen(rt.value=rt.props.join(",")))return""}return strlen(lt=serialize$1(rt.children,ct))?rt.return=rt.value+"{"+lt+"}":""}var id="c4",detector=__name(rt=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(rt),"detector"),loader=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:it}=await import("./c4Diagram-GPMAACGM.BWNGdB0P.js");return{diagram:it}},__vite__mapDeps([9,10]),import.meta.url);return{id,diagram:rt}},"loader"),plugin={id,detector,loader},c4Detector_default=plugin,id2="flowchart",detector2=__name((rt,it)=>{var lt,ct;return((lt=it==null?void 0:it.flowchart)==null?void 0:lt.defaultRenderer)==="dagre-wrapper"||((ct=it==null?void 0:it.flowchart)==null?void 0:ct.defaultRenderer)==="elk"?!1:/^\s*graph/.test(rt)},"detector"),loader2=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:it}=await import("./flowDiagram-TSWR6T2D.DpQIKFwH.js");return{diagram:it}},__vite__mapDeps([11,12,13]),import.meta.url);return{id:id2,diagram:rt}},"loader"),plugin2={id:id2,detector:detector2,loader:loader2},flowDetector_default=plugin2,id3="flowchart-v2",detector3=__name((rt,it)=>{var lt,ct,ht;return((lt=it==null?void 0:it.flowchart)==null?void 0:lt.defaultRenderer)==="dagre-d3"?!1:(((ct=it==null?void 0:it.flowchart)==null?void 0:ct.defaultRenderer)==="elk"&&(it.layout="elk"),/^\s*graph/.test(rt)&&((ht=it==null?void 0:it.flowchart)==null?void 0:ht.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(rt))},"detector"),loader3=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:it}=await import("./flowDiagram-TSWR6T2D.DpQIKFwH.js");return{diagram:it}},__vite__mapDeps([11,12,13]),import.meta.url);return{id:id3,diagram:rt}},"loader"),plugin3={id:id3,detector:detector3,loader:loader3},flowDetector_v2_default=plugin3,id4="er",detector4=__name(rt=>/^\s*erDiagram/.test(rt),"detector"),loader4=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:it}=await import("./erDiagram-WO52GFNT.DJkC-atB.js");return{diagram:it}},__vite__mapDeps([14,4,5,6,7]),import.meta.url);return{id:id4,diagram:rt}},"loader"),plugin4={id:id4,detector:detector4,loader:loader4},erDetector_default=plugin4,id5="gitGraph",detector5=__name(rt=>/^\s*gitGraph/.test(rt),"detector"),loader5=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:it}=await import("./gitGraphDiagram-5C7YHVU6.A-7hcIQm.js");return{diagram:it}},__vite__mapDeps([15,16,17,18,1,2,5,7,8]),import.meta.url);return{id:id5,diagram:rt}},"loader"),plugin5={id:id5,detector:detector5,loader:loader5},gitGraphDetector_default=plugin5,id6="gantt",detector6=__name(rt=>/^\s*gantt/.test(rt),"detector"),loader6=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:it}=await import("./ganttDiagram-FAOCOTIY.BE7ayUPt.js");return{diagram:it}},__vite__mapDeps([19,20,21]),import.meta.url);return{id:id6,diagram:rt}},"loader"),plugin6={id:id6,detector:detector6,loader:loader6},ganttDetector_default=plugin6,id7="info",detector7=__name(rt=>/^\s*info/.test(rt),"detector"),loader7=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:it}=await import("./infoDiagram-P5D6MX3V.DvkIIp64.js");return{diagram:it}},__vite__mapDeps([22,18,1,2,5,7,8]),import.meta.url);return{id:id7,diagram:rt}},"loader"),info={id:id7,detector:detector7,loader:loader7},id8="pie",detector8=__name(rt=>/^\s*pie/.test(rt),"detector"),loader8=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:it}=await import("./pieDiagram-BLWKPB35.CyqX6Vfv.js");return{diagram:it}},__vite__mapDeps([23,16,18,1,2,5,7,8,24,25,21]),import.meta.url);return{id:id8,diagram:rt}},"loader"),pie={id:id8,detector:detector8,loader:loader8},id9="quadrantChart",detector9=__name(rt=>/^\s*quadrantChart/.test(rt),"detector"),loader9=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:it}=await import("./quadrantDiagram-QXWEEFXS.BGwqaDab.js");return{diagram:it}},__vite__mapDeps([26,20,21]),import.meta.url);return{id:id9,diagram:rt}},"loader"),plugin7={id:id9,detector:detector9,loader:loader9},quadrantDetector_default=plugin7,id10="xychart",detector10=__name(rt=>/^\s*xychart-beta/.test(rt),"detector"),loader10=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:it}=await import("./xychartDiagram-MYLB5AYS.BQPJcyf8.js");return{diagram:it}},__vite__mapDeps([27,21,25,20]),import.meta.url);return{id:id10,diagram:rt}},"loader"),plugin8={id:id10,detector:detector10,loader:loader10},xychartDetector_default=plugin8,id11="requirement",detector11=__name(rt=>/^\s*requirement(Diagram)?/.test(rt),"detector"),loader11=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:it}=await import("./requirementDiagram-XAUNFCZY.BsFPYjub.js");return{diagram:it}},__vite__mapDeps([28,4,5,6,7]),import.meta.url);return{id:id11,diagram:rt}},"loader"),plugin9={id:id11,detector:detector11,loader:loader11},requirementDetector_default=plugin9,id12="sequence",detector12=__name(rt=>/^\s*sequenceDiagram/.test(rt),"detector"),loader12=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:it}=await import("./sequenceDiagram-D25TJ2OB.BjHI5s7l.js");return{diagram:it}},__vite__mapDeps([29,10,17]),import.meta.url);return{id:id12,diagram:rt}},"loader"),plugin10={id:id12,detector:detector12,loader:loader12},sequenceDetector_default=plugin10,id13="class",detector13=__name((rt,it)=>{var lt;return((lt=it==null?void 0:it.class)==null?void 0:lt.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(rt)},"detector"),loader13=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:it}=await import("./classDiagram-FEGYTUDG.Bjskp_wG.js");return{diagram:it}},__vite__mapDeps([30,31,12]),import.meta.url);return{id:id13,diagram:rt}},"loader"),plugin11={id:id13,detector:detector13,loader:loader13},classDetector_default=plugin11,id14="classDiagram",detector14=__name((rt,it)=>{var lt;return/^\s*classDiagram/.test(rt)&&((lt=it==null?void 0:it.class)==null?void 0:lt.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(rt)},"detector"),loader14=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:it}=await import("./classDiagram-v2-R65JCUOM.Bjskp_wG.js");return{diagram:it}},__vite__mapDeps([32,31,12]),import.meta.url);return{id:id14,diagram:rt}},"loader"),plugin12={id:id14,detector:detector14,loader:loader14},classDetector_V2_default=plugin12,id15="state",detector15=__name((rt,it)=>{var lt;return((lt=it==null?void 0:it.state)==null?void 0:lt.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(rt)},"detector"),loader15=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:it}=await import("./stateDiagram-GNSP7T6Y.BAkXUt87.js");return{diagram:it}},__vite__mapDeps([33,34,12,4,5,6,7]),import.meta.url);return{id:id15,diagram:rt}},"loader"),plugin13={id:id15,detector:detector15,loader:loader15},stateDetector_default=plugin13,id16="stateDiagram",detector16=__name((rt,it)=>{var lt;return!!(/^\s*stateDiagram-v2/.test(rt)||/^\s*stateDiagram/.test(rt)&&((lt=it==null?void 0:it.state)==null?void 0:lt.defaultRenderer)==="dagre-wrapper")},"detector"),loader16=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:it}=await import("./stateDiagram-v2-HP6YRVRG.DgiajoFc.js");return{diagram:it}},__vite__mapDeps([35,34,12]),import.meta.url);return{id:id16,diagram:rt}},"loader"),plugin14={id:id16,detector:detector16,loader:loader16},stateDetector_V2_default=plugin14,id17="journey",detector17=__name(rt=>/^\s*journey/.test(rt),"detector"),loader17=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:it}=await import("./journeyDiagram-UIGPPNLY.DIXoUNat.js");return{diagram:it}},__vite__mapDeps([36,10,24]),import.meta.url);return{id:id17,diagram:rt}},"loader"),plugin15={id:id17,detector:detector17,loader:loader17},journeyDetector_default=plugin15,draw=__name((rt,it,lt)=>{log.debug(`rendering svg for syntax error
`);const ct=selectSvgElement(it),ht=ct.append("g");ct.attr("viewBox","0 0 2412 512"),configureSvgSize(ct,100,512,!0),ht.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),ht.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),ht.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),ht.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),ht.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),ht.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),ht.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),ht.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${lt}`)},"draw"),renderer={draw},errorRenderer_default=renderer,diagram={db:{},renderer,parser:{parse:__name(()=>{},"parse")}},errorDiagram_default=diagram,id18="flowchart-elk",detector18=__name((rt,it={})=>{var lt;return/^\s*flowchart-elk/.test(rt)||/^\s*flowchart|graph/.test(rt)&&((lt=it==null?void 0:it.flowchart)==null?void 0:lt.defaultRenderer)==="elk"?(it.layout="elk",!0):!1},"detector"),loader18=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:it}=await import("./flowDiagram-TSWR6T2D.DpQIKFwH.js");return{diagram:it}},__vite__mapDeps([11,12,13]),import.meta.url);return{id:id18,diagram:rt}},"loader"),plugin16={id:id18,detector:detector18,loader:loader18},detector_default=plugin16,id19="timeline",detector19=__name(rt=>/^\s*timeline/.test(rt),"detector"),loader19=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:it}=await import("./timeline-definition-27KQCCZ3.BTQDRdsh.js");return{diagram:it}},__vite__mapDeps([37,24]),import.meta.url);return{id:id19,diagram:rt}},"loader"),plugin17={id:id19,detector:detector19,loader:loader19},detector_default2=plugin17,id20="mindmap",detector20=__name(rt=>/^\s*mindmap/.test(rt),"detector"),loader20=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:it}=await import("./mindmap-definition-R7LC4OIY.DS12C7GA.js");return{diagram:it}},__vite__mapDeps([38,39]),import.meta.url);return{id:id20,diagram:rt}},"loader"),plugin18={id:id20,detector:detector20,loader:loader20},detector_default3=plugin18,id21="kanban",detector21=__name(rt=>/^\s*kanban/.test(rt),"detector"),loader21=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:it}=await import("./kanban-definition-KMT3NSR2.C5l8V3yB.js");return{diagram:it}},[],import.meta.url);return{id:id21,diagram:rt}},"loader"),plugin19={id:id21,detector:detector21,loader:loader21},detector_default4=plugin19,id22="sankey",detector22=__name(rt=>/^\s*sankey-beta/.test(rt),"detector"),loader22=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:it}=await import("./sankeyDiagram-LVV36NHA.C5MHs2j4.js");return{diagram:it}},__vite__mapDeps([40,25,21]),import.meta.url);return{id:id22,diagram:rt}},"loader"),plugin20={id:id22,detector:detector22,loader:loader22},sankeyDetector_default=plugin20,id23="packet",detector23=__name(rt=>/^\s*packet-beta/.test(rt),"detector"),loader23=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:it}=await import("./diagram-NZMEDLQF.CS4MI54a.js");return{diagram:it}},__vite__mapDeps([41,16,18,1,2,5,7,8]),import.meta.url);return{id:id23,diagram:rt}},"loader"),packet={id:id23,detector:detector23,loader:loader23},id24="block",detector24=__name(rt=>/^\s*block-beta/.test(rt),"detector"),loader24=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:it}=await import("./blockDiagram-XN6IQ5JY.BxlAO6-P.js");return{diagram:it}},__vite__mapDeps([42,8,5,4,13]),import.meta.url);return{id:id24,diagram:rt}},"loader"),plugin21={id:id24,detector:detector24,loader:loader24},blockDetector_default=plugin21,id25="architecture",detector25=__name(rt=>/^\s*architecture/.test(rt),"detector"),loader25=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:it}=await import("./architectureDiagram-AYX4OTIS.qdEI4H-T.js");return{diagram:it}},__vite__mapDeps([43,16,17,18,1,2,5,7,8,39]),import.meta.url);return{id:id25,diagram:rt}},"loader"),architecture={id:id25,detector:detector25,loader:loader25},architectureDetector_default=architecture,hasLoadedDiagrams=!1,addDiagrams=__name(()=>{hasLoadedDiagrams||(hasLoadedDiagrams=!0,registerDiagram("error",errorDiagram_default,rt=>rt.toLowerCase().trim()==="error"),registerDiagram("---",{db:{clear:__name(()=>{},"clear")},styles:{},renderer:{draw:__name(()=>{},"draw")},parser:{parse:__name(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:__name(()=>null,"init")},rt=>rt.toLowerCase().trimStart().startsWith("---")),registerLazyLoadedDiagrams(c4Detector_default,detector_default4,classDetector_V2_default,classDetector_default,erDetector_default,ganttDetector_default,info,pie,requirementDetector_default,sequenceDetector_default,detector_default,flowDetector_v2_default,flowDetector_default,detector_default3,detector_default2,gitGraphDetector_default,stateDetector_V2_default,stateDetector_default,journeyDetector_default,quadrantDetector_default,sankeyDetector_default,packet,xychartDetector_default,blockDetector_default,architectureDetector_default))},"addDiagrams"),loadRegisteredDiagrams=__name(async()=>{log.debug("Loading registered diagrams");const it=(await Promise.allSettled(Object.entries(detectors).map(async([lt,{detector:ct,loader:ht}])=>{if(ht)try{getDiagram(lt)}catch{try{const{diagram:ut,id:ft}=await ht();registerDiagram(ft,ut,ct)}catch(ut){throw log.error(`Failed to load external diagram with key ${lt}. Removing from detectors.`),delete detectors[lt],ut}}}))).filter(lt=>lt.status==="rejected");if(it.length>0){log.error(`Failed to load ${it.length} external diagrams`);for(const lt of it)log.error(lt);throw new Error(`Failed to load ${it.length} external diagrams`)}},"loadRegisteredDiagrams"),SVG_ROLE="graphics-document document";function setA11yDiagramInfo(rt,it){rt.attr("role",SVG_ROLE),it!==""&&rt.attr("aria-roledescription",it)}__name(setA11yDiagramInfo,"setA11yDiagramInfo");function addSVGa11yTitleDescription(rt,it,lt,ct){if(rt.insert!==void 0){if(lt){const ht=`chart-desc-${ct}`;rt.attr("aria-describedby",ht),rt.insert("desc",":first-child").attr("id",ht).text(lt)}if(it){const ht=`chart-title-${ct}`;rt.attr("aria-labelledby",ht),rt.insert("title",":first-child").attr("id",ht).text(it)}}}__name(addSVGa11yTitleDescription,"addSVGa11yTitleDescription");var be,Diagram=(be=class{constructor(it,lt,ct,ht,ut){this.type=it,this.text=lt,this.db=ct,this.parser=ht,this.renderer=ut}static async fromText(it,lt={}){var gt,_t;const ct=getConfig(),ht=detectType$2(it,ct);it=encodeEntities(it)+`
`;try{getDiagram(ht)}catch{const yt=getDiagramLoader(ht);if(!yt)throw new UnknownDiagramError(`Diagram ${ht} not found.`);const{id:mt,diagram:bt}=await yt();registerDiagram(mt,bt)}const{db:ut,parser:ft,renderer:dt,init:pt}=getDiagram(ht);return ft.parser&&(ft.parser.yy=ut),(gt=ut.clear)==null||gt.call(ut),pt==null||pt(ct),lt.title&&((_t=ut.setDiagramTitle)==null||_t.call(ut,lt.title)),await ft.parse(it),new be(ht,it,ut,ft,dt)}async render(it,lt){await this.renderer.draw(this.text,it,lt,this)}getParser(){return this.parser}getType(){return this.type}},__name(be,"Diagram"),be),interactionFunctions=[],attachFunctions=__name(()=>{interactionFunctions.forEach(rt=>{rt()}),interactionFunctions=[]},"attachFunctions"),cleanupComments=__name(rt=>rt.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function extractFrontMatter(rt){const it=rt.match(frontMatterRegex);if(!it)return{text:rt,metadata:{}};let lt=load(it[1],{schema:JSON_SCHEMA})??{};lt=typeof lt=="object"&&!Array.isArray(lt)?lt:{};const ct={};return lt.displayMode&&(ct.displayMode=lt.displayMode.toString()),lt.title&&(ct.title=lt.title.toString()),lt.config&&(ct.config=lt.config),{text:rt.slice(it[0].length),metadata:ct}}__name(extractFrontMatter,"extractFrontMatter");var cleanupText=__name(rt=>rt.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(it,lt,ct)=>"<"+lt+ct.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),processFrontmatter=__name(rt=>{const{text:it,metadata:lt}=extractFrontMatter(rt),{displayMode:ct,title:ht,config:ut={}}=lt;return ct&&(ut.gantt||(ut.gantt={}),ut.gantt.displayMode=ct),{title:ht,config:ut,text:it}},"processFrontmatter"),processDirectives=__name(rt=>{const it=utils_default.detectInit(rt)??{},lt=utils_default.detectDirective(rt,"wrap");return Array.isArray(lt)?it.wrap=lt.some(({type:ct})=>ct==="wrap"):(lt==null?void 0:lt.type)==="wrap"&&(it.wrap=!0),{text:removeDirectives(rt),directive:it}},"processDirectives");function preprocessDiagram(rt){const it=cleanupText(rt),lt=processFrontmatter(it),ct=processDirectives(lt.text),ht=cleanAndMerge(lt.config,ct.directive);return rt=cleanupComments(ct.text),{code:rt,title:lt.title,config:ht}}__name(preprocessDiagram,"preprocessDiagram");function toBase64(rt){const it=new TextEncoder().encode(rt),lt=Array.from(it,ct=>String.fromCodePoint(ct)).join("");return btoa(lt)}__name(toBase64,"toBase64");var MAX_TEXTLENGTH=5e4,MAX_TEXTLENGTH_EXCEEDED_MSG="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",SECURITY_LVL_SANDBOX="sandbox",SECURITY_LVL_LOOSE="loose",XMLNS_SVG_STD="http://www.w3.org/2000/svg",XMLNS_XLINK_STD="http://www.w3.org/1999/xlink",XMLNS_XHTML_STD="http://www.w3.org/1999/xhtml",IFRAME_WIDTH="100%",IFRAME_HEIGHT="100%",IFRAME_STYLES="border:0;margin:0;",IFRAME_BODY_STYLE="margin:0",IFRAME_SANDBOX_OPTS="allow-top-navigation-by-user-activation allow-popups",IFRAME_NOT_SUPPORTED_MSG='The "iframe" tag is not supported by your browser.',DOMPURIFY_TAGS=["foreignobject"],DOMPURIFY_ATTR=["dominant-baseline"];function processAndSetConfigs(rt){const it=preprocessDiagram(rt);return reset(),addDirective(it.config??{}),it}__name(processAndSetConfigs,"processAndSetConfigs");async function parse$1(rt,it){addDiagrams();try{const{code:lt,config:ct}=processAndSetConfigs(rt);return{diagramType:(await getDiagramFromText(lt)).type,config:ct}}catch(lt){if(it!=null&&it.suppressErrors)return!1;throw lt}}__name(parse$1,"parse");var cssImportantStyles=__name((rt,it,lt=[])=>`
.${rt} ${it} { ${lt.join(" !important; ")} !important; }`,"cssImportantStyles"),createCssStyles=__name((rt,it=new Map)=>{var ct;let lt="";if(rt.themeCSS!==void 0&&(lt+=`
${rt.themeCSS}`),rt.fontFamily!==void 0&&(lt+=`
:root { --mermaid-font-family: ${rt.fontFamily}}`),rt.altFontFamily!==void 0&&(lt+=`
:root { --mermaid-alt-font-family: ${rt.altFontFamily}}`),it instanceof Map){const dt=rt.htmlLabels??((ct=rt.flowchart)==null?void 0:ct.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];it.forEach(pt=>{isEmpty(pt.styles)||dt.forEach(gt=>{lt+=cssImportantStyles(pt.id,gt,pt.styles)}),isEmpty(pt.textStyles)||(lt+=cssImportantStyles(pt.id,"tspan",((pt==null?void 0:pt.textStyles)||[]).map(gt=>gt.replace("color","fill"))))})}return lt},"createCssStyles"),createUserStyles=__name((rt,it,lt,ct)=>{const ht=createCssStyles(rt,lt),ut=styles_default(it,ht,rt.themeVariables);return serialize$1(compile(`${ct}{${ut}}`),stringify)},"createUserStyles"),cleanUpSvgCode=__name((rt="",it,lt)=>{let ct=rt;return!lt&&!it&&(ct=ct.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),ct=decodeEntities(ct),ct=ct.replace(/<br>/g,"<br/>"),ct},"cleanUpSvgCode"),putIntoIFrame=__name((rt="",it)=>{var ht,ut;const lt=(ut=(ht=it==null?void 0:it.viewBox)==null?void 0:ht.baseVal)!=null&&ut.height?it.viewBox.baseVal.height+"px":IFRAME_HEIGHT,ct=toBase64(`<body style="${IFRAME_BODY_STYLE}">${rt}</body>`);return`<iframe style="width:${IFRAME_WIDTH};height:${lt};${IFRAME_STYLES}" src="data:text/html;charset=UTF-8;base64,${ct}" sandbox="${IFRAME_SANDBOX_OPTS}">
  ${IFRAME_NOT_SUPPORTED_MSG}
</iframe>`},"putIntoIFrame"),appendDivSvgG=__name((rt,it,lt,ct,ht)=>{const ut=rt.append("div");ut.attr("id",lt),ct&&ut.attr("style",ct);const ft=ut.append("svg").attr("id",it).attr("width","100%").attr("xmlns",XMLNS_SVG_STD);return ht&&ft.attr("xmlns:xlink",ht),ft.append("g"),rt},"appendDivSvgG");function sandboxedIframe(rt,it){return rt.append("iframe").attr("id",it).attr("style","width: 100%; height: 100%;").attr("sandbox","")}__name(sandboxedIframe,"sandboxedIframe");var removeExistingElements=__name((rt,it,lt,ct)=>{var ht,ut,ft;(ht=rt.getElementById(it))==null||ht.remove(),(ut=rt.getElementById(lt))==null||ut.remove(),(ft=rt.getElementById(ct))==null||ft.remove()},"removeExistingElements"),render$1=__name(async function(rt,it,lt){var zt,Ht,Ft,$t,Bt,Pt;addDiagrams();const ct=processAndSetConfigs(it);it=ct.code;const ht=getConfig();log.debug(ht),it.length>((ht==null?void 0:ht.maxTextSize)??MAX_TEXTLENGTH)&&(it=MAX_TEXTLENGTH_EXCEEDED_MSG);const ut="#"+rt,ft="i"+rt,dt="#"+ft,pt="d"+rt,gt="#"+pt,_t=__name(()=>{const Wt=select(mt?dt:gt).node();Wt&&"remove"in Wt&&Wt.remove()},"removeTempElements");let yt=select("body");const mt=ht.securityLevel===SECURITY_LVL_SANDBOX,bt=ht.securityLevel===SECURITY_LVL_LOOSE,xt=ht.fontFamily;if(lt!==void 0){if(lt&&(lt.innerHTML=""),mt){const Ot=sandboxedIframe(select(lt),ft);yt=select(Ot.nodes()[0].contentDocument.body),yt.node().style.margin=0}else yt=select(lt);appendDivSvgG(yt,rt,pt,`font-family: ${xt}`,XMLNS_XLINK_STD)}else{if(removeExistingElements(document,rt,pt,ft),mt){const Ot=sandboxedIframe(select("body"),ft);yt=select(Ot.nodes()[0].contentDocument.body),yt.node().style.margin=0}else yt=select("body");appendDivSvgG(yt,rt,pt)}let wt,Ct;try{wt=await Diagram.fromText(it,{title:ct.title})}catch(Ot){if(ht.suppressErrorRendering)throw _t(),Ot;wt=await Diagram.fromText("error"),Ct=Ot}const St=yt.select(gt).node(),Tt=wt.type,vt=St.firstChild,kt=vt.firstChild,Et=(Ht=(zt=wt.renderer).getClasses)==null?void 0:Ht.call(zt,it,wt),It=createUserStyles(ht,Tt,Et,ut),At=document.createElement("style");At.innerHTML=It,vt.insertBefore(At,kt);try{await wt.renderer.draw(it,rt,version,wt)}catch(Ot){throw ht.suppressErrorRendering?_t():errorRenderer_default.draw(it,rt,version),Ot}const Dt=yt.select(`${gt} svg`),Nt=($t=(Ft=wt.db).getAccTitle)==null?void 0:$t.call(Ft),Mt=(Pt=(Bt=wt.db).getAccDescription)==null?void 0:Pt.call(Bt);addA11yInfo(Tt,Dt,Nt,Mt),yt.select(`[id="${rt}"]`).selectAll("foreignobject > *").attr("xmlns",XMLNS_XHTML_STD);let Rt=yt.select(gt).node().innerHTML;if(log.debug("config.arrowMarkerAbsolute",ht.arrowMarkerAbsolute),Rt=cleanUpSvgCode(Rt,mt,evaluate(ht.arrowMarkerAbsolute)),mt){const Ot=yt.select(gt+" svg").node();Rt=putIntoIFrame(Rt,Ot)}else bt||(Rt=purify.sanitize(Rt,{ADD_TAGS:DOMPURIFY_TAGS,ADD_ATTR:DOMPURIFY_ATTR}));if(attachFunctions(),Ct)throw Ct;return _t(),{diagramType:Tt,svg:Rt,bindFunctions:wt.db.bindFunctions}},"render");function initialize(rt={}){var ct;const it=assignWithDepth_default({},rt);it!=null&&it.fontFamily&&!((ct=it.themeVariables)!=null&&ct.fontFamily)&&(it.themeVariables||(it.themeVariables={}),it.themeVariables.fontFamily=it.fontFamily),saveConfigFromInitialize(it),it!=null&&it.theme&&it.theme in themes_default?it.themeVariables=themes_default[it.theme].getThemeVariables(it.themeVariables):it&&(it.themeVariables=themes_default.default.getThemeVariables(it.themeVariables));const lt=typeof it=="object"?setSiteConfig(it):getSiteConfig();setLogLevel(lt.logLevel),addDiagrams()}__name(initialize,"initialize");var getDiagramFromText=__name((rt,it={})=>{const{code:lt}=preprocessDiagram(rt);return Diagram.fromText(lt,it)},"getDiagramFromText");function addA11yInfo(rt,it,lt,ct){setA11yDiagramInfo(it,rt),addSVGa11yTitleDescription(it,lt,ct,it.attr("id"))}__name(addA11yInfo,"addA11yInfo");var mermaidAPI=Object.freeze({render:render$1,parse:parse$1,getDiagramFromText,initialize,getConfig,setConfig,getSiteConfig,updateSiteConfig,reset:__name(()=>{reset()},"reset"),globalReset:__name(()=>{reset(defaultConfig)},"globalReset"),defaultConfig});setLogLevel(getConfig().logLevel);reset(getConfig());var handleError=__name((rt,it,lt)=>{log.warn(rt),isDetailedError(rt)?(lt&&lt(rt.str,rt.hash),it.push({...rt,message:rt.str,error:rt})):(lt&&lt(rt),rt instanceof Error&&it.push({str:rt.message,message:rt.message,hash:rt.name,error:rt}))},"handleError"),run=__name(async function(rt={querySelector:".mermaid"}){try{await runThrowsErrors(rt)}catch(it){if(isDetailedError(it)&&log.error(it.str),mermaid.parseError&&mermaid.parseError(it),!rt.suppressErrors)throw log.error("Use the suppressErrors option to suppress these errors"),it}},"run"),runThrowsErrors=__name(async function({postRenderCallback:rt,querySelector:it,nodes:lt}={querySelector:".mermaid"}){const ct=mermaidAPI.getConfig();log.debug(`${rt?"":"No "}Callback function found`);let ht;if(lt)ht=lt;else if(it)ht=document.querySelectorAll(it);else throw new Error("Nodes and querySelector are both undefined");log.debug(`Found ${ht.length} diagrams`),(ct==null?void 0:ct.startOnLoad)!==void 0&&(log.debug("Start On Load: "+(ct==null?void 0:ct.startOnLoad)),mermaidAPI.updateSiteConfig({startOnLoad:ct==null?void 0:ct.startOnLoad}));const ut=new utils_default.InitIDGenerator(ct.deterministicIds,ct.deterministicIDSeed);let ft;const dt=[];for(const pt of Array.from(ht)){if(log.info("Rendering diagram: "+pt.id),pt.getAttribute("data-processed"))continue;pt.setAttribute("data-processed","true");const gt=`mermaid-${ut.next()}`;ft=pt.innerHTML,ft=dedent(utils_default.entityDecode(ft)).trim().replace(/<br\s*\/?>/gi,"<br/>");const _t=utils_default.detectInit(ft);_t&&log.debug("Detected early reinit: ",_t);try{const{svg:yt,bindFunctions:mt}=await render2(gt,ft,pt);pt.innerHTML=yt,rt&&await rt(gt),mt&&mt(pt)}catch(yt){handleError(yt,dt,mermaid.parseError)}}if(dt.length>0)throw dt[0]},"runThrowsErrors"),initialize2=__name(function(rt){mermaidAPI.initialize(rt)},"initialize"),init$1=__name(async function(rt,it,lt){log.warn("mermaid.init is deprecated. Please use run instead."),rt&&initialize2(rt);const ct={postRenderCallback:lt,querySelector:".mermaid"};typeof it=="string"?ct.querySelector=it:it&&(it instanceof HTMLElement?ct.nodes=[it]:ct.nodes=it),await run(ct)},"init"),registerExternalDiagrams=__name(async(rt,{lazyLoad:it=!0}={})=>{addDiagrams(),registerLazyLoadedDiagrams(...rt),it===!1&&await loadRegisteredDiagrams()},"registerExternalDiagrams"),contentLoaded=__name(function(){if(mermaid.startOnLoad){const{startOnLoad:rt}=mermaidAPI.getConfig();rt&&mermaid.run().catch(it=>log.error("Mermaid failed to initialize",it))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",contentLoaded,!1);var setParseErrorHandler=__name(function(rt){mermaid.parseError=rt},"setParseErrorHandler"),executionQueue=[],executionQueueRunning=!1,executeQueue=__name(async()=>{if(!executionQueueRunning){for(executionQueueRunning=!0;executionQueue.length>0;){const rt=executionQueue.shift();if(rt)try{await rt()}catch(it){log.error("Error executing queue",it)}}executionQueueRunning=!1}},"executeQueue"),parse2=__name(async(rt,it)=>new Promise((lt,ct)=>{const ht=__name(()=>new Promise((ut,ft)=>{mermaidAPI.parse(rt,it).then(dt=>{ut(dt),lt(dt)},dt=>{var pt;log.error("Error parsing",dt),(pt=mermaid.parseError)==null||pt.call(mermaid,dt),ft(dt),ct(dt)})}),"performCall");executionQueue.push(ht),executeQueue().catch(ct)}),"parse"),render2=__name((rt,it,lt)=>new Promise((ct,ht)=>{const ut=__name(()=>new Promise((ft,dt)=>{mermaidAPI.render(rt,it,lt).then(pt=>{ft(pt),ct(pt)},pt=>{var gt;log.error("Error parsing",pt),(gt=mermaid.parseError)==null||gt.call(mermaid,pt),dt(pt),ht(pt)})}),"performCall");executionQueue.push(ut),executeQueue().catch(ht)}),"render"),mermaid={startOnLoad:!0,mermaidAPI,parse:parse2,render:render2,init:init$1,run,registerExternalDiagrams,registerLayoutLoaders,initialize:initialize2,parseError:void 0,contentLoaded,setParseErrorHandler,detectType:detectType$2,registerIconPacks},mermaid_default=mermaid;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */mermaid_default.registerLayoutLoaders(layouts_default);const init=mermaid_default.registerExternalDiagrams([plugin$1]),render=async(rt,it,lt)=>(await init,mermaid_default.initialize(rt),await mermaid_default.render(lt,it)),parse=async rt=>await mermaid_default.parse(rt);var bundle={};(function(exports){(()=>{var __webpack_modules__={607:(module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var serializer_1=__webpack_require__(810),deserializer_1=__webpack_require__(496),Module;typeof process<"u"&&process.release&&process.release.name==="node"&&(Module=eval("require")("module"));var ESSerializer=function(){function rt(){}return rt.throwErrorIfInNonNodeEnvironment=function(){if(!Module)throw new Error("Cannot intercept require in non-Node environment.")},rt.interceptRequire=function(){this.isRequireIntercepted||(this.isRequireIntercepted=!0,this.throwErrorIfInNonNodeEnvironment(),rt.originRequire=Module.prototype.require,Module.prototype.require=function(){var it=rt.originRequire.apply(this,arguments),lt=it.name;return rt.requiredClasses[lt]||(rt.requiredClasses[lt]=it),it})},rt.stopInterceptRequire=function(){this.throwErrorIfInNonNodeEnvironment(),Module.prototype.require=rt.originRequire,this.isRequireIntercepted=!1},rt.isInterceptingRequire=function(){return this.isRequireIntercepted},rt.getRequiredClasses=function(){return this.requiredClasses},rt.clearRequiredClasses=function(){this.requiredClasses={}},rt.registerClass=function(it){this.registeredClasses.push(it)},rt.registerClasses=function(it){this.registeredClasses=this.registeredClasses.concat(it)},rt.clearRegisteredClasses=function(){this.registeredClasses=[]},rt.serialize=function(it,lt){return lt===void 0&&(lt={}),JSON.stringify(serializer_1.getSerializeValueWithClassName(it,lt))},rt.deserialize=function(it,lt,ct){return lt===void 0&&(lt=[]),ct===void 0&&(ct={}),deserializer_1.deserializeFromParsedObj(JSON.parse(it),Object.values(this.requiredClasses).concat(this.registeredClasses).concat(lt),ct)},rt.originRequire=null,rt.isRequireIntercepted=!1,rt.requiredClasses={},rt.registeredClasses=[],rt}();module.exports=ESSerializer},917:function(rt,it){var lt=this&&this.__spreadArrays||function(){for(var Pt=0,Ot=0,Wt=arguments.length;Ot<Wt;Ot++)Pt+=arguments[Ot].length;var jt=Array(Pt),Gt=0;for(Ot=0;Ot<Wt;Ot++)for(var Xt=arguments[Ot],Zt=0,Jt=Xt.length;Zt<Jt;Zt++,Gt++)jt[Gt]=Xt[Zt];return jt};Object.defineProperty(it,"__esModule",{value:!0}),it.TO_STRING_FIELD=it.TIMESTAMP_FIELD=it.OPTIONS_FIELD=it.CLASS_NAME_FIELD=it.BOOLEAN_FIELD=it.ARRAY_FIELD=it.BUILTIN_TYPE_UNDEFINED=it.BUILTIN_TYPE_NOT_FINITE=it.BUILTIN_TYPE_BIG_INT=it.BUILTIN_CLASS_AGGREGATE_ERROR=it.BUILTIN_CLASS_URI_ERROR=it.BUILTIN_CLASS_TYPE_ERROR=it.BUILTIN_CLASS_SYNTAX_ERROR=it.BUILTIN_CLASS_REFERENCE_ERROR=it.BUILTIN_CLASS_RANGE_ERROR=it.BUILTIN_CLASS_EVAL_ERROR=it.BUILTIN_CLASS_ERROR=it.BUILTIN_CLASS_STRING=it.BUILTIN_CLASS_SET=it.BUILTIN_CLASS_REGEXP=it.BUILTIN_CLASS_INTL_RELATIVETIMEFORMAT=it.BUILTIN_CLASS_INTL_PLURALRULES=it.BUILTIN_CLASS_INTL_NUMBERFORMAT=it.BUILTIN_CLASS_INTL_LOCALE=it.BUILTIN_CLASS_INTL_LISTFORMAT=it.BUILTIN_CLASS_INTL_DATETIMEFORMAT=it.BUILTIN_CLASS_INTL_COLLATOR=it.BUILTIN_CLASS_DATE=it.BUILTIN_CLASS_DATAVIEW=it.BUILTIN_CLASS_BOOLEAN=it.BUILTIN_CLASS_SHAREDARRAYBUFFER=it.BUILTIN_CLASS_ARRAYBUFFER=it.BUILTIN_CLASS_BIGUINT64ARRAY=it.BUILTIN_CLASS_BIGINT64ARRAY=it.BUILTIN_CLASS_FLOAT64ARRAY=it.BUILTIN_CLASS_FLOAT32ARRAY=it.BUILTIN_CLASS_UINT32ARRAY=it.BUILTIN_CLASS_INT32ARRAY=it.BUILTIN_CLASS_UINT16ARRAY=it.BUILTIN_CLASS_INT16ARRAY=it.BUILTIN_CLASS_UINT8CLAMPEDARRAY=it.BUILTIN_CLASS_UINT8ARRAY=it.BUILTIN_CLASS_INT8ARRAY=it.CLASSNAMES_WHOSE_ENUMERABLE_PROPERTIES_SHOULD_BE_IGNORED=it.ALL_BUILTIN_INTLS=it.ALL_BUILTIN_ERRORS=it.ALL_BUILTIN_ARRAYS=it.ESSERIALIZER_NULL=void 0,it.ESSERIALIZER_NULL="__ESSERIALIZER_NULL__",it.ARRAY_FIELD="ess_arr",it.BOOLEAN_FIELD="ess_bool",it.CLASS_NAME_FIELD="ess_cn",it.OPTIONS_FIELD="ess_opt",it.TIMESTAMP_FIELD="ess_ts",it.TO_STRING_FIELD="ess_str";var ct="Int8Array";it.BUILTIN_CLASS_INT8ARRAY=ct;var ht="Uint8Array";it.BUILTIN_CLASS_UINT8ARRAY=ht;var ut="Uint8ClampedArray";it.BUILTIN_CLASS_UINT8CLAMPEDARRAY=ut;var ft="Int16Array";it.BUILTIN_CLASS_INT16ARRAY=ft;var dt="Uint16Array";it.BUILTIN_CLASS_UINT16ARRAY=dt;var pt="Int32Array";it.BUILTIN_CLASS_INT32ARRAY=pt;var gt="Uint32Array";it.BUILTIN_CLASS_UINT32ARRAY=gt;var _t="Float32Array";it.BUILTIN_CLASS_FLOAT32ARRAY=_t;var yt="Float64Array";it.BUILTIN_CLASS_FLOAT64ARRAY=yt;var mt="BigInt64Array";it.BUILTIN_CLASS_BIGINT64ARRAY=mt;var bt="BigUint64Array";it.BUILTIN_CLASS_BIGUINT64ARRAY=bt,it.BUILTIN_CLASS_ARRAYBUFFER="ArrayBuffer",it.BUILTIN_CLASS_SHAREDARRAYBUFFER="SharedArrayBuffer",it.BUILTIN_CLASS_BOOLEAN="Boolean",it.BUILTIN_CLASS_DATAVIEW="DataView",it.BUILTIN_CLASS_DATE="Date";var xt="Collator";it.BUILTIN_CLASS_INTL_COLLATOR=xt;var wt="DateTimeFormat";it.BUILTIN_CLASS_INTL_DATETIMEFORMAT=wt;var Ct="ListFormat";it.BUILTIN_CLASS_INTL_LISTFORMAT=Ct,it.BUILTIN_CLASS_INTL_LOCALE="Locale";var St="NumberFormat";it.BUILTIN_CLASS_INTL_NUMBERFORMAT=St;var Tt="PluralRules";it.BUILTIN_CLASS_INTL_PLURALRULES=Tt;var vt="RelativeTimeFormat";it.BUILTIN_CLASS_INTL_RELATIVETIMEFORMAT=vt,it.BUILTIN_CLASS_REGEXP="RegExp",it.BUILTIN_CLASS_SET="Set";var kt="String";it.BUILTIN_CLASS_STRING=kt;var Et="Error";it.BUILTIN_CLASS_ERROR=Et;var It="EvalError";it.BUILTIN_CLASS_EVAL_ERROR=It;var At="RangeError";it.BUILTIN_CLASS_RANGE_ERROR=At;var Dt="ReferenceError";it.BUILTIN_CLASS_REFERENCE_ERROR=Dt;var Nt="SyntaxError";it.BUILTIN_CLASS_SYNTAX_ERROR=Nt;var Mt="TypeError";it.BUILTIN_CLASS_TYPE_ERROR=Mt;var Rt="URIError";it.BUILTIN_CLASS_URI_ERROR=Rt;var zt="AggregateError";it.BUILTIN_CLASS_AGGREGATE_ERROR=zt,it.BUILTIN_TYPE_BIG_INT="BI",it.BUILTIN_TYPE_NOT_FINITE="NF",it.BUILTIN_TYPE_UNDEFINED="UD";var Ht=[ct,ht,ut,ft,dt,pt,gt,_t,yt,mt,bt];it.ALL_BUILTIN_ARRAYS=Ht;var Ft=[Et,It,At,Dt,Nt,Mt,Rt,zt];it.ALL_BUILTIN_ERRORS=Ft;var $t=[xt,wt,Ct,St,Tt,vt];it.ALL_BUILTIN_INTLS=$t;var Bt=lt([kt],Ht);it.CLASSNAMES_WHOSE_ENUMERABLE_PROPERTIES_SHOULD_BE_IGNORED=Bt},496:function(rt,it,lt){var ct=this&&this.__spreadArrays||function(){for(var St=0,Tt=0,vt=arguments.length;Tt<vt;Tt++)St+=arguments[Tt].length;var kt=Array(St),Et=0;for(Tt=0;Tt<vt;Tt++)for(var It=arguments[Tt],At=0,Dt=It.length;At<Dt;At++,Et++)kt[Et]=It[At];return kt};Object.defineProperty(it,"__esModule",{value:!0}),it.getParentClassName=it.getClassMappingFromClassArray=it.deserializeFromParsedObjWithClassMapping=it.deserializeFromParsedObj=void 0;var ht=lt(821),ut=lt(917),ft=/^\s*class\s+/;function dt(St,Tt,vt){if(vt===void 0&&(vt={}),ht.notObject(St))return St;if(Array.isArray(St))return pt(St,Tt);var kt=St[ut.CLASS_NAME_FIELD],Et=function(Dt,Nt,Mt){switch(Dt){case ut.BUILTIN_CLASS_INT8ARRAY:return gt(Nt[ut.ARRAY_FIELD],Int8Array);case ut.BUILTIN_CLASS_UINT8ARRAY:return gt(Nt[ut.ARRAY_FIELD],Uint8Array);case ut.BUILTIN_CLASS_UINT8CLAMPEDARRAY:return gt(Nt[ut.ARRAY_FIELD],Uint8ClampedArray);case ut.BUILTIN_CLASS_INT16ARRAY:return gt(Nt[ut.ARRAY_FIELD],Int16Array);case ut.BUILTIN_CLASS_UINT16ARRAY:return gt(Nt[ut.ARRAY_FIELD],Uint16Array);case ut.BUILTIN_CLASS_INT32ARRAY:return gt(Nt[ut.ARRAY_FIELD],Int32Array);case ut.BUILTIN_CLASS_UINT32ARRAY:return gt(Nt[ut.ARRAY_FIELD],Uint32Array);case ut.BUILTIN_CLASS_FLOAT32ARRAY:return gt(Nt[ut.ARRAY_FIELD],Float32Array);case ut.BUILTIN_CLASS_FLOAT64ARRAY:return gt(Nt[ut.ARRAY_FIELD],Float64Array);case ut.BUILTIN_CLASS_BIGINT64ARRAY:return _t(Nt[ut.ARRAY_FIELD],BigInt64Array);case ut.BUILTIN_CLASS_BIGUINT64ARRAY:return _t(Nt[ut.ARRAY_FIELD],BigUint64Array);case ut.BUILTIN_TYPE_BIG_INT:return yt(Nt[ut.TO_STRING_FIELD]);case ut.BUILTIN_TYPE_UNDEFINED:return;case ut.BUILTIN_TYPE_NOT_FINITE:return ht.getValueFromToStringResult(Nt[ut.TO_STRING_FIELD]);case ut.BUILTIN_CLASS_ARRAYBUFFER:return Rt=Nt[ut.ARRAY_FIELD],new Uint8Array(Rt).buffer;case ut.BUILTIN_CLASS_SHAREDARRAYBUFFER:return function(zt){var Ht=new SharedArrayBuffer(zt.length),Ft=new Uint8Array(Ht);return zt.forEach(function($t,Bt){Ft[Bt]=$t}),Ht}(Nt[ut.ARRAY_FIELD]);case ut.BUILTIN_CLASS_BOOLEAN:return function(zt){return new Boolean(zt[ut.BOOLEAN_FIELD])}(Nt);case ut.BUILTIN_CLASS_DATAVIEW:return function(zt){return new DataView(new Uint8Array(zt).buffer)}(Nt[ut.ARRAY_FIELD]);case ut.BUILTIN_CLASS_DATE:return function(zt){return typeof zt[ut.TIMESTAMP_FIELD]=="number"?new Date(zt[ut.TIMESTAMP_FIELD]):null}(Nt);case ut.BUILTIN_CLASS_INTL_COLLATOR:return mt(Nt,Intl.Collator);case ut.BUILTIN_CLASS_INTL_DATETIMEFORMAT:return mt(Nt,Intl.DateTimeFormat);case ut.BUILTIN_CLASS_INTL_LISTFORMAT:return mt(Nt,Intl.ListFormat);case ut.BUILTIN_CLASS_INTL_LOCALE:return new Intl.Locale(Nt[ut.TO_STRING_FIELD]);case ut.BUILTIN_CLASS_INTL_NUMBERFORMAT:return mt(Nt,Intl.NumberFormat);case ut.BUILTIN_CLASS_INTL_PLURALRULES:return mt(Nt,Intl.PluralRules);case ut.BUILTIN_CLASS_INTL_RELATIVETIMEFORMAT:return mt(Nt,Intl.RelativeTimeFormat);case ut.BUILTIN_CLASS_REGEXP:return function(zt){var Ht=zt[ut.TO_STRING_FIELD],Ft=Ht.lastIndexOf("/");return new RegExp(Ht.substring(1,Ft),Ht.substring(Ft+1))}(Nt);case ut.BUILTIN_CLASS_SET:return function(zt,Ht){return new Set(pt(zt[ut.ARRAY_FIELD],Ht))}(Nt,Mt);case ut.BUILTIN_CLASS_STRING:return function(zt){return new String(zt[ut.TO_STRING_FIELD])}(Nt);case ut.BUILTIN_CLASS_ERROR:return bt(Nt,Error);case ut.BUILTIN_CLASS_EVAL_ERROR:return bt(Nt,EvalError);case ut.BUILTIN_CLASS_RANGE_ERROR:return bt(Nt,RangeError);case ut.BUILTIN_CLASS_REFERENCE_ERROR:return bt(Nt,ReferenceError);case ut.BUILTIN_CLASS_SYNTAX_ERROR:return bt(Nt,SyntaxError);case ut.BUILTIN_CLASS_TYPE_ERROR:return bt(Nt,TypeError);case ut.BUILTIN_CLASS_URI_ERROR:return bt(Nt,URIError);case ut.BUILTIN_CLASS_AGGREGATE_ERROR:return bt(Nt,AggregateError);default:return ut.ESSERIALIZER_NULL}var Rt}(kt,St,Tt);if(Et!==ut.ESSERIALIZER_NULL)return Et;if(kt&&!Tt[kt])throw new Error("Class "+kt+" not found");var It=[];vt.fieldsForConstructorParameters&&(It=vt.fieldsForConstructorParameters.map(function(Dt){return Dt in St?St[Dt]:{}}));var At=function(Dt,Nt){if(!Dt)return{};for(var Mt,Rt=Math.max(Dt.length-Nt.length,0),zt=[{},0,"",null],Ht=zt.shift();!Mt&&Ht!==void 0;)Mt=xt(Dt,Nt.concat(Array.from(Array(Rt),function(){return Ht}))),Ht=Rt===0?void 0:zt.shift();return Mt||(Mt={},Object.setPrototypeOf(Mt,Dt?Dt.prototype:Object.prototype)),Mt}(Tt[kt],It);return function(Dt,Nt,Mt,Rt){for(var zt in Nt){var Ht=Nt[zt];if(!Rt.ignoreProperties||!Rt.ignoreProperties.includes(zt))if(Rt.rawProperties&&Rt.rawProperties.includes(zt))Dt[zt]=JSON.stringify(Ht);else{var Ft=Object.getOwnPropertyDescriptor(Dt,zt);$t=Ht,Bt=Ft,zt===ut.CLASS_NAME_FIELD||Bt&&(typeof Bt.set=="function"||Bt.writable===!1&&typeof $t!="object")||(Ft&&Ft.writable===!1&&typeof Ht=="object"?wt(Dt[zt],Ht,Mt):Dt[zt]=dt(Ht,Mt))}}var $t,Bt;return Dt}(At,St,Tt,vt)}function pt(St,Tt){return St.map(function(vt){return dt(vt,Tt)})}function gt(St,Tt){return new Tt(St)}function _t(St,Tt){return new Tt(St.map(function(vt){return yt(vt[ut.TO_STRING_FIELD])}))}function yt(St){return BigInt(St)}function mt(St,Tt){var vt=St[ut.OPTIONS_FIELD],kt=vt.locale;return delete vt.locale,new Tt(kt,vt)}function bt(St,Tt){var vt;return delete(vt=St.message?new Tt(St.message):new Tt).stack,St.name&&(vt.name=St.name),St.stack&&(vt.stack=St.stack),Tt===AggregateError&&(vt.errors=dt(St.errors,{})),vt}function xt(St,Tt){var vt;try{if(ft.test(St.toString()))vt=new(St.bind.apply(St,ct([void 0],Tt)));else{var kt=St.prototype.constructor;kt.name==="Object"&&(kt=St),vt=Object.create(kt.prototype),kt.call(vt,Tt)}}catch{vt=null}return vt}function wt(St,Tt,vt){for(var kt in Tt){var Et=Object.getOwnPropertyDescriptor(St,kt);Et&&Et.writable!==!0&&typeof Et.set!="function"||(St[kt]=dt(Tt[kt],vt))}}function Ct(St){St===void 0&&(St=[]);var Tt={};return St.forEach(function(vt){if(ht.isClass(vt)){var kt=vt.name,Et=Tt[kt];Et&&Et!==vt&&console.warn("WARNING: Found class definition with the same name: "+kt),Tt[kt]=vt}}),Tt}it.deserializeFromParsedObj=function(St,Tt,vt){return dt(St,Ct(Tt),vt)},it.deserializeFromParsedObjWithClassMapping=dt,it.getClassMappingFromClassArray=Ct,it.getParentClassName=function(St){return St.prototype.__proto__.constructor.name}},821:(rt,it)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.isClass=it.notObject=it.getValueFromToStringResult=void 0,it.notObject=function(lt){return lt===null||typeof lt!="object"},it.getValueFromToStringResult=function(lt){switch(lt){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN;default:return null}},it.isClass=function(lt){if(function(ct){return[Date].indexOf(ct)>=0}(lt))return!0;try{Reflect.construct(String,[],lt)}catch{return!1}return!0}},810:(rt,it,lt)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.getSerializeValueWithClassName=void 0;var ct=lt(917),ht=lt(821);function ut(dt,pt){pt===void 0&&(pt={});var gt=function(mt){var bt,xt,wt;return mt===void 0?((bt={})[ct.CLASS_NAME_FIELD]=ct.BUILTIN_TYPE_UNDEFINED,bt):typeof mt!="number"||isFinite(mt)?typeof mt=="bigint"?((wt={})[ct.CLASS_NAME_FIELD]=ct.BUILTIN_TYPE_BIG_INT,wt[ct.TO_STRING_FIELD]=mt.toString(),wt):ht.notObject(mt)?mt:ct.ESSERIALIZER_NULL:((xt={})[ct.CLASS_NAME_FIELD]=ct.BUILTIN_TYPE_NOT_FINITE,xt[ct.TO_STRING_FIELD]=mt.toString(),xt)}(dt);if(gt!==ct.ESSERIALIZER_NULL)return gt;if(Array.isArray(dt))return ft(dt);var _t={};if(!function(mt){var bt=mt.__proto__.constructor.name;return ct.CLASSNAMES_WHOSE_ENUMERABLE_PROPERTIES_SHOULD_BE_IGNORED.includes(bt)}(dt)){if(pt.ignoreProperties&&pt.ignoreProperties.forEach(function(mt){delete dt[mt]}),pt.interceptProperties)for(var yt in pt.interceptProperties)dt[yt]=pt.interceptProperties[yt].call(dt,dt[yt]);(function(mt,bt){for(var xt in mt)typeof mt[xt]!="function"&&(bt[xt]=ut(mt[xt]))})(dt,_t)}return function(mt,bt){var xt=mt.__proto__.constructor.name;return xt==="Object"&&(xt=mt.constructor.name),xt!=="Object"&&(bt[ct.CLASS_NAME_FIELD]=xt,xt===ct.BUILTIN_CLASS_ARRAYBUFFER||xt===ct.BUILTIN_CLASS_SHAREDARRAYBUFFER?bt[ct.ARRAY_FIELD]=ft(Array.from(new Uint8Array(mt))):xt===ct.BUILTIN_CLASS_BOOLEAN?bt[ct.BOOLEAN_FIELD]=mt.valueOf():xt===ct.BUILTIN_CLASS_DATAVIEW?bt[ct.ARRAY_FIELD]=ft(Array.from(new Uint8Array(mt.buffer))):xt===ct.BUILTIN_CLASS_DATE?bt[ct.TIMESTAMP_FIELD]=mt.getTime():xt===ct.BUILTIN_CLASS_INTL_LOCALE||xt===ct.BUILTIN_CLASS_REGEXP?bt[ct.TO_STRING_FIELD]=mt.toString():xt===ct.BUILTIN_CLASS_SET?bt[ct.ARRAY_FIELD]=ft(Array.from(mt)):xt===ct.BUILTIN_CLASS_STRING?bt[ct.TO_STRING_FIELD]=mt.toString():ct.ALL_BUILTIN_ARRAYS.includes(xt)?bt[ct.ARRAY_FIELD]=ft(Array.from(mt)):ct.ALL_BUILTIN_ERRORS.includes(xt)?function(wt,Ct,St){wt.name!=="Error"&&(Ct.name=wt.name),wt.message&&(Ct.message=wt.message),wt.stack&&(Ct.stack=wt.stack),St===ct.BUILTIN_CLASS_AGGREGATE_ERROR&&(Ct.errors=ut(wt.errors))}(mt,bt,xt):ct.ALL_BUILTIN_INTLS.includes(xt)&&(bt[ct.OPTIONS_FIELD]=mt.resolvedOptions())),bt}(dt,_t)}function ft(dt){return dt.map(function(pt){return ut(pt)})}it.getSerializeValueWithClassName=ut}},__webpack_module_cache__={};function __webpack_require__(rt){var it=__webpack_module_cache__[rt];if(it!==void 0)return it.exports;var lt=__webpack_module_cache__[rt]={exports:{}};return __webpack_modules__[rt].call(lt.exports,lt,lt.exports,__webpack_require__),lt.exports}var __webpack_exports__=__webpack_require__(607),__webpack_export_target__=exports;for(var i in __webpack_exports__)__webpack_export_target__[i]=__webpack_exports__[i];__webpack_exports__.__esModule&&Object.defineProperty(__webpack_export_target__,"__esModule",{value:!0})})()})(bundle);const ESSerializer=getDefaultExportFromCjs(bundle),alreadyWarnFor=[],warnStorageNotFound=rt=>{const it=typeof process<"u"&&!0;if(!alreadyWarnFor.includes(rt)&&!it){let lt=`Unable to find the ${rt}. No data will be persisted.`;typeof window>"u"&&(lt+=`
Are you running on a server? Most of storages are not available while running on a server.`),console.warn(lt),alreadyWarnFor.push(rt)}},serialize=rt=>ESSerializer.serialize(rt),deserialize=rt=>{if(rt!=="undefined"){if(rt!=null){try{return ESSerializer.deserialize(rt)}catch{}try{return JSON.parse(rt)}catch{}}return rt}};function persist(rt,it,lt){const ct=it.getValue(lt);return ct!==null&&rt.set(ct),"addListener"in it&&it.addListener(lt,ht=>{rt.set(ht)}),rt.subscribe(ht=>{it.setValue(lt,ht)}),{...rt,delete(){it.deleteValue(lt)}}}function getBrowserStorage(rt,it=!1){const lt=[],ct=ft=>{const dt=ft.key;if(ft.storageArea===rt)for(const{listener:pt}of lt.filter(({key:gt})=>gt===dt))pt(deserialize(ft.newValue))},ht=()=>{it&&typeof window<"u"&&window.addEventListener&&window.addEventListener("storage",ct)},ut=()=>{it&&typeof window<"u"&&window.removeEventListener&&window.removeEventListener("storage",ct)};return{addListener(ft,dt){lt.push({key:ft,listener:dt}),lt.length===1&&ht()},removeListener(ft,dt){const pt=lt.indexOf({key:ft,listener:dt});pt!==-1&&lt.splice(pt,1),lt.length===0&&ut()},getValue(ft){const dt=rt.getItem(ft);return deserialize(dt)},deleteValue(ft){rt.removeItem(ft)},setValue(ft,dt){rt.setItem(ft,serialize(dt))}}}function localStorage(rt=!1){return typeof window<"u"&&window.localStorage?getBrowserStorage(window.localStorage,rt):(warnStorageNotFound("window.localStorage"),noopStorage())}function noopStorage(){return{getValue(){return null},deleteValue(){},setValue(){}}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(rt){let it=rt.length;for(;--it>=0;)rt[it]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(rt,it,lt,ct,ht){this.static_tree=rt,this.extra_bits=it,this.extra_base=lt,this.elems=ct,this.max_length=ht,this.has_stree=rt&&rt.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(rt,it){this.dyn_tree=rt,this.max_code=0,this.stat_desc=it}const d_code=rt=>rt<256?_dist_code[rt]:_dist_code[256+(rt>>>7)],put_short=(rt,it)=>{rt.pending_buf[rt.pending++]=it&255,rt.pending_buf[rt.pending++]=it>>>8&255},send_bits=(rt,it,lt)=>{rt.bi_valid>Buf_size-lt?(rt.bi_buf|=it<<rt.bi_valid&65535,put_short(rt,rt.bi_buf),rt.bi_buf=it>>Buf_size-rt.bi_valid,rt.bi_valid+=lt-Buf_size):(rt.bi_buf|=it<<rt.bi_valid&65535,rt.bi_valid+=lt)},send_code=(rt,it,lt)=>{send_bits(rt,lt[it*2],lt[it*2+1])},bi_reverse=(rt,it)=>{let lt=0;do lt|=rt&1,rt>>>=1,lt<<=1;while(--it>0);return lt>>>1},bi_flush=rt=>{rt.bi_valid===16?(put_short(rt,rt.bi_buf),rt.bi_buf=0,rt.bi_valid=0):rt.bi_valid>=8&&(rt.pending_buf[rt.pending++]=rt.bi_buf&255,rt.bi_buf>>=8,rt.bi_valid-=8)},gen_bitlen=(rt,it)=>{const lt=it.dyn_tree,ct=it.max_code,ht=it.stat_desc.static_tree,ut=it.stat_desc.has_stree,ft=it.stat_desc.extra_bits,dt=it.stat_desc.extra_base,pt=it.stat_desc.max_length;let gt,_t,yt,mt,bt,xt,wt=0;for(mt=0;mt<=MAX_BITS$1;mt++)rt.bl_count[mt]=0;for(lt[rt.heap[rt.heap_max]*2+1]=0,gt=rt.heap_max+1;gt<HEAP_SIZE$1;gt++)_t=rt.heap[gt],mt=lt[lt[_t*2+1]*2+1]+1,mt>pt&&(mt=pt,wt++),lt[_t*2+1]=mt,!(_t>ct)&&(rt.bl_count[mt]++,bt=0,_t>=dt&&(bt=ft[_t-dt]),xt=lt[_t*2],rt.opt_len+=xt*(mt+bt),ut&&(rt.static_len+=xt*(ht[_t*2+1]+bt)));if(wt!==0){do{for(mt=pt-1;rt.bl_count[mt]===0;)mt--;rt.bl_count[mt]--,rt.bl_count[mt+1]+=2,rt.bl_count[pt]--,wt-=2}while(wt>0);for(mt=pt;mt!==0;mt--)for(_t=rt.bl_count[mt];_t!==0;)yt=rt.heap[--gt],!(yt>ct)&&(lt[yt*2+1]!==mt&&(rt.opt_len+=(mt-lt[yt*2+1])*lt[yt*2],lt[yt*2+1]=mt),_t--)}},gen_codes=(rt,it,lt)=>{const ct=new Array(MAX_BITS$1+1);let ht=0,ut,ft;for(ut=1;ut<=MAX_BITS$1;ut++)ht=ht+lt[ut-1]<<1,ct[ut]=ht;for(ft=0;ft<=it;ft++){let dt=rt[ft*2+1];dt!==0&&(rt[ft*2]=bi_reverse(ct[dt]++,dt))}},tr_static_init=()=>{let rt,it,lt,ct,ht;const ut=new Array(MAX_BITS$1+1);for(lt=0,ct=0;ct<LENGTH_CODES$1-1;ct++)for(base_length[ct]=lt,rt=0;rt<1<<extra_lbits[ct];rt++)_length_code[lt++]=ct;for(_length_code[lt-1]=ct,ht=0,ct=0;ct<16;ct++)for(base_dist[ct]=ht,rt=0;rt<1<<extra_dbits[ct];rt++)_dist_code[ht++]=ct;for(ht>>=7;ct<D_CODES$1;ct++)for(base_dist[ct]=ht<<7,rt=0;rt<1<<extra_dbits[ct]-7;rt++)_dist_code[256+ht++]=ct;for(it=0;it<=MAX_BITS$1;it++)ut[it]=0;for(rt=0;rt<=143;)static_ltree[rt*2+1]=8,rt++,ut[8]++;for(;rt<=255;)static_ltree[rt*2+1]=9,rt++,ut[9]++;for(;rt<=279;)static_ltree[rt*2+1]=7,rt++,ut[7]++;for(;rt<=287;)static_ltree[rt*2+1]=8,rt++,ut[8]++;for(gen_codes(static_ltree,L_CODES$1+1,ut),rt=0;rt<D_CODES$1;rt++)static_dtree[rt*2+1]=5,static_dtree[rt*2]=bi_reverse(rt,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=rt=>{let it;for(it=0;it<L_CODES$1;it++)rt.dyn_ltree[it*2]=0;for(it=0;it<D_CODES$1;it++)rt.dyn_dtree[it*2]=0;for(it=0;it<BL_CODES$1;it++)rt.bl_tree[it*2]=0;rt.dyn_ltree[END_BLOCK*2]=1,rt.opt_len=rt.static_len=0,rt.sym_next=rt.matches=0},bi_windup=rt=>{rt.bi_valid>8?put_short(rt,rt.bi_buf):rt.bi_valid>0&&(rt.pending_buf[rt.pending++]=rt.bi_buf),rt.bi_buf=0,rt.bi_valid=0},smaller=(rt,it,lt,ct)=>{const ht=it*2,ut=lt*2;return rt[ht]<rt[ut]||rt[ht]===rt[ut]&&ct[it]<=ct[lt]},pqdownheap=(rt,it,lt)=>{const ct=rt.heap[lt];let ht=lt<<1;for(;ht<=rt.heap_len&&(ht<rt.heap_len&&smaller(it,rt.heap[ht+1],rt.heap[ht],rt.depth)&&ht++,!smaller(it,ct,rt.heap[ht],rt.depth));)rt.heap[lt]=rt.heap[ht],lt=ht,ht<<=1;rt.heap[lt]=ct},compress_block=(rt,it,lt)=>{let ct,ht,ut=0,ft,dt;if(rt.sym_next!==0)do ct=rt.pending_buf[rt.sym_buf+ut++]&255,ct+=(rt.pending_buf[rt.sym_buf+ut++]&255)<<8,ht=rt.pending_buf[rt.sym_buf+ut++],ct===0?send_code(rt,ht,it):(ft=_length_code[ht],send_code(rt,ft+LITERALS$1+1,it),dt=extra_lbits[ft],dt!==0&&(ht-=base_length[ft],send_bits(rt,ht,dt)),ct--,ft=d_code(ct),send_code(rt,ft,lt),dt=extra_dbits[ft],dt!==0&&(ct-=base_dist[ft],send_bits(rt,ct,dt)));while(ut<rt.sym_next);send_code(rt,END_BLOCK,it)},build_tree=(rt,it)=>{const lt=it.dyn_tree,ct=it.stat_desc.static_tree,ht=it.stat_desc.has_stree,ut=it.stat_desc.elems;let ft,dt,pt=-1,gt;for(rt.heap_len=0,rt.heap_max=HEAP_SIZE$1,ft=0;ft<ut;ft++)lt[ft*2]!==0?(rt.heap[++rt.heap_len]=pt=ft,rt.depth[ft]=0):lt[ft*2+1]=0;for(;rt.heap_len<2;)gt=rt.heap[++rt.heap_len]=pt<2?++pt:0,lt[gt*2]=1,rt.depth[gt]=0,rt.opt_len--,ht&&(rt.static_len-=ct[gt*2+1]);for(it.max_code=pt,ft=rt.heap_len>>1;ft>=1;ft--)pqdownheap(rt,lt,ft);gt=ut;do ft=rt.heap[1],rt.heap[1]=rt.heap[rt.heap_len--],pqdownheap(rt,lt,1),dt=rt.heap[1],rt.heap[--rt.heap_max]=ft,rt.heap[--rt.heap_max]=dt,lt[gt*2]=lt[ft*2]+lt[dt*2],rt.depth[gt]=(rt.depth[ft]>=rt.depth[dt]?rt.depth[ft]:rt.depth[dt])+1,lt[ft*2+1]=lt[dt*2+1]=gt,rt.heap[1]=gt++,pqdownheap(rt,lt,1);while(rt.heap_len>=2);rt.heap[--rt.heap_max]=rt.heap[1],gen_bitlen(rt,it),gen_codes(lt,pt,rt.bl_count)},scan_tree=(rt,it,lt)=>{let ct,ht=-1,ut,ft=it[0*2+1],dt=0,pt=7,gt=4;for(ft===0&&(pt=138,gt=3),it[(lt+1)*2+1]=65535,ct=0;ct<=lt;ct++)ut=ft,ft=it[(ct+1)*2+1],!(++dt<pt&&ut===ft)&&(dt<gt?rt.bl_tree[ut*2]+=dt:ut!==0?(ut!==ht&&rt.bl_tree[ut*2]++,rt.bl_tree[REP_3_6*2]++):dt<=10?rt.bl_tree[REPZ_3_10*2]++:rt.bl_tree[REPZ_11_138*2]++,dt=0,ht=ut,ft===0?(pt=138,gt=3):ut===ft?(pt=6,gt=3):(pt=7,gt=4))},send_tree=(rt,it,lt)=>{let ct,ht=-1,ut,ft=it[0*2+1],dt=0,pt=7,gt=4;for(ft===0&&(pt=138,gt=3),ct=0;ct<=lt;ct++)if(ut=ft,ft=it[(ct+1)*2+1],!(++dt<pt&&ut===ft)){if(dt<gt)do send_code(rt,ut,rt.bl_tree);while(--dt!==0);else ut!==0?(ut!==ht&&(send_code(rt,ut,rt.bl_tree),dt--),send_code(rt,REP_3_6,rt.bl_tree),send_bits(rt,dt-3,2)):dt<=10?(send_code(rt,REPZ_3_10,rt.bl_tree),send_bits(rt,dt-3,3)):(send_code(rt,REPZ_11_138,rt.bl_tree),send_bits(rt,dt-11,7));dt=0,ht=ut,ft===0?(pt=138,gt=3):ut===ft?(pt=6,gt=3):(pt=7,gt=4)}},build_bl_tree=rt=>{let it;for(scan_tree(rt,rt.dyn_ltree,rt.l_desc.max_code),scan_tree(rt,rt.dyn_dtree,rt.d_desc.max_code),build_tree(rt,rt.bl_desc),it=BL_CODES$1-1;it>=3&&rt.bl_tree[bl_order[it]*2+1]===0;it--);return rt.opt_len+=3*(it+1)+5+5+4,it},send_all_trees=(rt,it,lt,ct)=>{let ht;for(send_bits(rt,it-257,5),send_bits(rt,lt-1,5),send_bits(rt,ct-4,4),ht=0;ht<ct;ht++)send_bits(rt,rt.bl_tree[bl_order[ht]*2+1],3);send_tree(rt,rt.dyn_ltree,it-1),send_tree(rt,rt.dyn_dtree,lt-1)},detect_data_type=rt=>{let it=4093624447,lt;for(lt=0;lt<=31;lt++,it>>>=1)if(it&1&&rt.dyn_ltree[lt*2]!==0)return Z_BINARY;if(rt.dyn_ltree[9*2]!==0||rt.dyn_ltree[10*2]!==0||rt.dyn_ltree[13*2]!==0)return Z_TEXT;for(lt=32;lt<LITERALS$1;lt++)if(rt.dyn_ltree[lt*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=rt=>{static_init_done||(tr_static_init(),static_init_done=!0),rt.l_desc=new TreeDesc(rt.dyn_ltree,static_l_desc),rt.d_desc=new TreeDesc(rt.dyn_dtree,static_d_desc),rt.bl_desc=new TreeDesc(rt.bl_tree,static_bl_desc),rt.bi_buf=0,rt.bi_valid=0,init_block(rt)},_tr_stored_block$1=(rt,it,lt,ct)=>{send_bits(rt,(STORED_BLOCK<<1)+(ct?1:0),3),bi_windup(rt),put_short(rt,lt),put_short(rt,~lt),lt&&rt.pending_buf.set(rt.window.subarray(it,it+lt),rt.pending),rt.pending+=lt},_tr_align$1=rt=>{send_bits(rt,STATIC_TREES<<1,3),send_code(rt,END_BLOCK,static_ltree),bi_flush(rt)},_tr_flush_block$1=(rt,it,lt,ct)=>{let ht,ut,ft=0;rt.level>0?(rt.strm.data_type===Z_UNKNOWN$1&&(rt.strm.data_type=detect_data_type(rt)),build_tree(rt,rt.l_desc),build_tree(rt,rt.d_desc),ft=build_bl_tree(rt),ht=rt.opt_len+3+7>>>3,ut=rt.static_len+3+7>>>3,ut<=ht&&(ht=ut)):ht=ut=lt+5,lt+4<=ht&&it!==-1?_tr_stored_block$1(rt,it,lt,ct):rt.strategy===Z_FIXED$1||ut===ht?(send_bits(rt,(STATIC_TREES<<1)+(ct?1:0),3),compress_block(rt,static_ltree,static_dtree)):(send_bits(rt,(DYN_TREES<<1)+(ct?1:0),3),send_all_trees(rt,rt.l_desc.max_code+1,rt.d_desc.max_code+1,ft+1),compress_block(rt,rt.dyn_ltree,rt.dyn_dtree)),init_block(rt),ct&&bi_windup(rt)},_tr_tally$1=(rt,it,lt)=>(rt.pending_buf[rt.sym_buf+rt.sym_next++]=it,rt.pending_buf[rt.sym_buf+rt.sym_next++]=it>>8,rt.pending_buf[rt.sym_buf+rt.sym_next++]=lt,it===0?rt.dyn_ltree[lt*2]++:(rt.matches++,it--,rt.dyn_ltree[(_length_code[lt]+LITERALS$1+1)*2]++,rt.dyn_dtree[d_code(it)*2]++),rt.sym_next===rt.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(rt,it,lt,ct)=>{let ht=rt&65535|0,ut=rt>>>16&65535|0,ft=0;for(;lt!==0;){ft=lt>2e3?2e3:lt,lt-=ft;do ht=ht+it[ct++]|0,ut=ut+ht|0;while(--ft);ht%=65521,ut%=65521}return ht|ut<<16|0};var adler32_1=adler32;const makeTable=()=>{let rt,it=[];for(var lt=0;lt<256;lt++){rt=lt;for(var ct=0;ct<8;ct++)rt=rt&1?3988292384^rt>>>1:rt>>>1;it[lt]=rt}return it},crcTable=new Uint32Array(makeTable()),crc32=(rt,it,lt,ct)=>{const ht=crcTable,ut=ct+lt;rt^=-1;for(let ft=ct;ft<ut;ft++)rt=rt>>>8^ht[(rt^it[ft])&255];return rt^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(rt,it)=>(rt.msg=messages[it],it),rank=rt=>rt*2-(rt>4?9:0),zero=rt=>{let it=rt.length;for(;--it>=0;)rt[it]=0},slide_hash=rt=>{let it,lt,ct,ht=rt.w_size;it=rt.hash_size,ct=it;do lt=rt.head[--ct],rt.head[ct]=lt>=ht?lt-ht:0;while(--it);it=ht,ct=it;do lt=rt.prev[--ct],rt.prev[ct]=lt>=ht?lt-ht:0;while(--it)};let HASH_ZLIB=(rt,it,lt)=>(it<<rt.hash_shift^lt)&rt.hash_mask,HASH=HASH_ZLIB;const flush_pending=rt=>{const it=rt.state;let lt=it.pending;lt>rt.avail_out&&(lt=rt.avail_out),lt!==0&&(rt.output.set(it.pending_buf.subarray(it.pending_out,it.pending_out+lt),rt.next_out),rt.next_out+=lt,it.pending_out+=lt,rt.total_out+=lt,rt.avail_out-=lt,it.pending-=lt,it.pending===0&&(it.pending_out=0))},flush_block_only=(rt,it)=>{_tr_flush_block(rt,rt.block_start>=0?rt.block_start:-1,rt.strstart-rt.block_start,it),rt.block_start=rt.strstart,flush_pending(rt.strm)},put_byte=(rt,it)=>{rt.pending_buf[rt.pending++]=it},putShortMSB=(rt,it)=>{rt.pending_buf[rt.pending++]=it>>>8&255,rt.pending_buf[rt.pending++]=it&255},read_buf=(rt,it,lt,ct)=>{let ht=rt.avail_in;return ht>ct&&(ht=ct),ht===0?0:(rt.avail_in-=ht,it.set(rt.input.subarray(rt.next_in,rt.next_in+ht),lt),rt.state.wrap===1?rt.adler=adler32_1(rt.adler,it,ht,lt):rt.state.wrap===2&&(rt.adler=crc32_1(rt.adler,it,ht,lt)),rt.next_in+=ht,rt.total_in+=ht,ht)},longest_match=(rt,it)=>{let lt=rt.max_chain_length,ct=rt.strstart,ht,ut,ft=rt.prev_length,dt=rt.nice_match;const pt=rt.strstart>rt.w_size-MIN_LOOKAHEAD?rt.strstart-(rt.w_size-MIN_LOOKAHEAD):0,gt=rt.window,_t=rt.w_mask,yt=rt.prev,mt=rt.strstart+MAX_MATCH;let bt=gt[ct+ft-1],xt=gt[ct+ft];rt.prev_length>=rt.good_match&&(lt>>=2),dt>rt.lookahead&&(dt=rt.lookahead);do if(ht=it,!(gt[ht+ft]!==xt||gt[ht+ft-1]!==bt||gt[ht]!==gt[ct]||gt[++ht]!==gt[ct+1])){ct+=2,ht++;do;while(gt[++ct]===gt[++ht]&&gt[++ct]===gt[++ht]&&gt[++ct]===gt[++ht]&&gt[++ct]===gt[++ht]&&gt[++ct]===gt[++ht]&&gt[++ct]===gt[++ht]&&gt[++ct]===gt[++ht]&&gt[++ct]===gt[++ht]&&ct<mt);if(ut=MAX_MATCH-(mt-ct),ct=mt-MAX_MATCH,ut>ft){if(rt.match_start=it,ft=ut,ut>=dt)break;bt=gt[ct+ft-1],xt=gt[ct+ft]}}while((it=yt[it&_t])>pt&&--lt!==0);return ft<=rt.lookahead?ft:rt.lookahead},fill_window=rt=>{const it=rt.w_size;let lt,ct,ht;do{if(ct=rt.window_size-rt.lookahead-rt.strstart,rt.strstart>=it+(it-MIN_LOOKAHEAD)&&(rt.window.set(rt.window.subarray(it,it+it-ct),0),rt.match_start-=it,rt.strstart-=it,rt.block_start-=it,rt.insert>rt.strstart&&(rt.insert=rt.strstart),slide_hash(rt),ct+=it),rt.strm.avail_in===0)break;if(lt=read_buf(rt.strm,rt.window,rt.strstart+rt.lookahead,ct),rt.lookahead+=lt,rt.lookahead+rt.insert>=MIN_MATCH)for(ht=rt.strstart-rt.insert,rt.ins_h=rt.window[ht],rt.ins_h=HASH(rt,rt.ins_h,rt.window[ht+1]);rt.insert&&(rt.ins_h=HASH(rt,rt.ins_h,rt.window[ht+MIN_MATCH-1]),rt.prev[ht&rt.w_mask]=rt.head[rt.ins_h],rt.head[rt.ins_h]=ht,ht++,rt.insert--,!(rt.lookahead+rt.insert<MIN_MATCH)););}while(rt.lookahead<MIN_LOOKAHEAD&&rt.strm.avail_in!==0)},deflate_stored=(rt,it)=>{let lt=rt.pending_buf_size-5>rt.w_size?rt.w_size:rt.pending_buf_size-5,ct,ht,ut,ft=0,dt=rt.strm.avail_in;do{if(ct=65535,ut=rt.bi_valid+42>>3,rt.strm.avail_out<ut||(ut=rt.strm.avail_out-ut,ht=rt.strstart-rt.block_start,ct>ht+rt.strm.avail_in&&(ct=ht+rt.strm.avail_in),ct>ut&&(ct=ut),ct<lt&&(ct===0&&it!==Z_FINISH$3||it===Z_NO_FLUSH$2||ct!==ht+rt.strm.avail_in)))break;ft=it===Z_FINISH$3&&ct===ht+rt.strm.avail_in?1:0,_tr_stored_block(rt,0,0,ft),rt.pending_buf[rt.pending-4]=ct,rt.pending_buf[rt.pending-3]=ct>>8,rt.pending_buf[rt.pending-2]=~ct,rt.pending_buf[rt.pending-1]=~ct>>8,flush_pending(rt.strm),ht&&(ht>ct&&(ht=ct),rt.strm.output.set(rt.window.subarray(rt.block_start,rt.block_start+ht),rt.strm.next_out),rt.strm.next_out+=ht,rt.strm.avail_out-=ht,rt.strm.total_out+=ht,rt.block_start+=ht,ct-=ht),ct&&(read_buf(rt.strm,rt.strm.output,rt.strm.next_out,ct),rt.strm.next_out+=ct,rt.strm.avail_out-=ct,rt.strm.total_out+=ct)}while(ft===0);return dt-=rt.strm.avail_in,dt&&(dt>=rt.w_size?(rt.matches=2,rt.window.set(rt.strm.input.subarray(rt.strm.next_in-rt.w_size,rt.strm.next_in),0),rt.strstart=rt.w_size,rt.insert=rt.strstart):(rt.window_size-rt.strstart<=dt&&(rt.strstart-=rt.w_size,rt.window.set(rt.window.subarray(rt.w_size,rt.w_size+rt.strstart),0),rt.matches<2&&rt.matches++,rt.insert>rt.strstart&&(rt.insert=rt.strstart)),rt.window.set(rt.strm.input.subarray(rt.strm.next_in-dt,rt.strm.next_in),rt.strstart),rt.strstart+=dt,rt.insert+=dt>rt.w_size-rt.insert?rt.w_size-rt.insert:dt),rt.block_start=rt.strstart),rt.high_water<rt.strstart&&(rt.high_water=rt.strstart),ft?BS_FINISH_DONE:it!==Z_NO_FLUSH$2&&it!==Z_FINISH$3&&rt.strm.avail_in===0&&rt.strstart===rt.block_start?BS_BLOCK_DONE:(ut=rt.window_size-rt.strstart,rt.strm.avail_in>ut&&rt.block_start>=rt.w_size&&(rt.block_start-=rt.w_size,rt.strstart-=rt.w_size,rt.window.set(rt.window.subarray(rt.w_size,rt.w_size+rt.strstart),0),rt.matches<2&&rt.matches++,ut+=rt.w_size,rt.insert>rt.strstart&&(rt.insert=rt.strstart)),ut>rt.strm.avail_in&&(ut=rt.strm.avail_in),ut&&(read_buf(rt.strm,rt.window,rt.strstart,ut),rt.strstart+=ut,rt.insert+=ut>rt.w_size-rt.insert?rt.w_size-rt.insert:ut),rt.high_water<rt.strstart&&(rt.high_water=rt.strstart),ut=rt.bi_valid+42>>3,ut=rt.pending_buf_size-ut>65535?65535:rt.pending_buf_size-ut,lt=ut>rt.w_size?rt.w_size:ut,ht=rt.strstart-rt.block_start,(ht>=lt||(ht||it===Z_FINISH$3)&&it!==Z_NO_FLUSH$2&&rt.strm.avail_in===0&&ht<=ut)&&(ct=ht>ut?ut:ht,ft=it===Z_FINISH$3&&rt.strm.avail_in===0&&ct===ht?1:0,_tr_stored_block(rt,rt.block_start,ct,ft),rt.block_start+=ct,flush_pending(rt.strm)),ft?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(rt,it)=>{let lt,ct;for(;;){if(rt.lookahead<MIN_LOOKAHEAD){if(fill_window(rt),rt.lookahead<MIN_LOOKAHEAD&&it===Z_NO_FLUSH$2)return BS_NEED_MORE;if(rt.lookahead===0)break}if(lt=0,rt.lookahead>=MIN_MATCH&&(rt.ins_h=HASH(rt,rt.ins_h,rt.window[rt.strstart+MIN_MATCH-1]),lt=rt.prev[rt.strstart&rt.w_mask]=rt.head[rt.ins_h],rt.head[rt.ins_h]=rt.strstart),lt!==0&&rt.strstart-lt<=rt.w_size-MIN_LOOKAHEAD&&(rt.match_length=longest_match(rt,lt)),rt.match_length>=MIN_MATCH)if(ct=_tr_tally(rt,rt.strstart-rt.match_start,rt.match_length-MIN_MATCH),rt.lookahead-=rt.match_length,rt.match_length<=rt.max_lazy_match&&rt.lookahead>=MIN_MATCH){rt.match_length--;do rt.strstart++,rt.ins_h=HASH(rt,rt.ins_h,rt.window[rt.strstart+MIN_MATCH-1]),lt=rt.prev[rt.strstart&rt.w_mask]=rt.head[rt.ins_h],rt.head[rt.ins_h]=rt.strstart;while(--rt.match_length!==0);rt.strstart++}else rt.strstart+=rt.match_length,rt.match_length=0,rt.ins_h=rt.window[rt.strstart],rt.ins_h=HASH(rt,rt.ins_h,rt.window[rt.strstart+1]);else ct=_tr_tally(rt,0,rt.window[rt.strstart]),rt.lookahead--,rt.strstart++;if(ct&&(flush_block_only(rt,!1),rt.strm.avail_out===0))return BS_NEED_MORE}return rt.insert=rt.strstart<MIN_MATCH-1?rt.strstart:MIN_MATCH-1,it===Z_FINISH$3?(flush_block_only(rt,!0),rt.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):rt.sym_next&&(flush_block_only(rt,!1),rt.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(rt,it)=>{let lt,ct,ht;for(;;){if(rt.lookahead<MIN_LOOKAHEAD){if(fill_window(rt),rt.lookahead<MIN_LOOKAHEAD&&it===Z_NO_FLUSH$2)return BS_NEED_MORE;if(rt.lookahead===0)break}if(lt=0,rt.lookahead>=MIN_MATCH&&(rt.ins_h=HASH(rt,rt.ins_h,rt.window[rt.strstart+MIN_MATCH-1]),lt=rt.prev[rt.strstart&rt.w_mask]=rt.head[rt.ins_h],rt.head[rt.ins_h]=rt.strstart),rt.prev_length=rt.match_length,rt.prev_match=rt.match_start,rt.match_length=MIN_MATCH-1,lt!==0&&rt.prev_length<rt.max_lazy_match&&rt.strstart-lt<=rt.w_size-MIN_LOOKAHEAD&&(rt.match_length=longest_match(rt,lt),rt.match_length<=5&&(rt.strategy===Z_FILTERED||rt.match_length===MIN_MATCH&&rt.strstart-rt.match_start>4096)&&(rt.match_length=MIN_MATCH-1)),rt.prev_length>=MIN_MATCH&&rt.match_length<=rt.prev_length){ht=rt.strstart+rt.lookahead-MIN_MATCH,ct=_tr_tally(rt,rt.strstart-1-rt.prev_match,rt.prev_length-MIN_MATCH),rt.lookahead-=rt.prev_length-1,rt.prev_length-=2;do++rt.strstart<=ht&&(rt.ins_h=HASH(rt,rt.ins_h,rt.window[rt.strstart+MIN_MATCH-1]),lt=rt.prev[rt.strstart&rt.w_mask]=rt.head[rt.ins_h],rt.head[rt.ins_h]=rt.strstart);while(--rt.prev_length!==0);if(rt.match_available=0,rt.match_length=MIN_MATCH-1,rt.strstart++,ct&&(flush_block_only(rt,!1),rt.strm.avail_out===0))return BS_NEED_MORE}else if(rt.match_available){if(ct=_tr_tally(rt,0,rt.window[rt.strstart-1]),ct&&flush_block_only(rt,!1),rt.strstart++,rt.lookahead--,rt.strm.avail_out===0)return BS_NEED_MORE}else rt.match_available=1,rt.strstart++,rt.lookahead--}return rt.match_available&&(ct=_tr_tally(rt,0,rt.window[rt.strstart-1]),rt.match_available=0),rt.insert=rt.strstart<MIN_MATCH-1?rt.strstart:MIN_MATCH-1,it===Z_FINISH$3?(flush_block_only(rt,!0),rt.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):rt.sym_next&&(flush_block_only(rt,!1),rt.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(rt,it)=>{let lt,ct,ht,ut;const ft=rt.window;for(;;){if(rt.lookahead<=MAX_MATCH){if(fill_window(rt),rt.lookahead<=MAX_MATCH&&it===Z_NO_FLUSH$2)return BS_NEED_MORE;if(rt.lookahead===0)break}if(rt.match_length=0,rt.lookahead>=MIN_MATCH&&rt.strstart>0&&(ht=rt.strstart-1,ct=ft[ht],ct===ft[++ht]&&ct===ft[++ht]&&ct===ft[++ht])){ut=rt.strstart+MAX_MATCH;do;while(ct===ft[++ht]&&ct===ft[++ht]&&ct===ft[++ht]&&ct===ft[++ht]&&ct===ft[++ht]&&ct===ft[++ht]&&ct===ft[++ht]&&ct===ft[++ht]&&ht<ut);rt.match_length=MAX_MATCH-(ut-ht),rt.match_length>rt.lookahead&&(rt.match_length=rt.lookahead)}if(rt.match_length>=MIN_MATCH?(lt=_tr_tally(rt,1,rt.match_length-MIN_MATCH),rt.lookahead-=rt.match_length,rt.strstart+=rt.match_length,rt.match_length=0):(lt=_tr_tally(rt,0,rt.window[rt.strstart]),rt.lookahead--,rt.strstart++),lt&&(flush_block_only(rt,!1),rt.strm.avail_out===0))return BS_NEED_MORE}return rt.insert=0,it===Z_FINISH$3?(flush_block_only(rt,!0),rt.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):rt.sym_next&&(flush_block_only(rt,!1),rt.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(rt,it)=>{let lt;for(;;){if(rt.lookahead===0&&(fill_window(rt),rt.lookahead===0)){if(it===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(rt.match_length=0,lt=_tr_tally(rt,0,rt.window[rt.strstart]),rt.lookahead--,rt.strstart++,lt&&(flush_block_only(rt,!1),rt.strm.avail_out===0))return BS_NEED_MORE}return rt.insert=0,it===Z_FINISH$3?(flush_block_only(rt,!0),rt.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):rt.sym_next&&(flush_block_only(rt,!1),rt.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(rt,it,lt,ct,ht){this.good_length=rt,this.max_lazy=it,this.nice_length=lt,this.max_chain=ct,this.func=ht}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=rt=>{rt.window_size=2*rt.w_size,zero(rt.head),rt.max_lazy_match=configuration_table[rt.level].max_lazy,rt.good_match=configuration_table[rt.level].good_length,rt.nice_match=configuration_table[rt.level].nice_length,rt.max_chain_length=configuration_table[rt.level].max_chain,rt.strstart=0,rt.block_start=0,rt.lookahead=0,rt.insert=0,rt.match_length=rt.prev_length=MIN_MATCH-1,rt.match_available=0,rt.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=rt=>{if(!rt)return 1;const it=rt.state;return!it||it.strm!==rt||it.status!==INIT_STATE&&it.status!==GZIP_STATE&&it.status!==EXTRA_STATE&&it.status!==NAME_STATE&&it.status!==COMMENT_STATE&&it.status!==HCRC_STATE&&it.status!==BUSY_STATE&&it.status!==FINISH_STATE?1:0},deflateResetKeep=rt=>{if(deflateStateCheck(rt))return err(rt,Z_STREAM_ERROR$2);rt.total_in=rt.total_out=0,rt.data_type=Z_UNKNOWN;const it=rt.state;return it.pending=0,it.pending_out=0,it.wrap<0&&(it.wrap=-it.wrap),it.status=it.wrap===2?GZIP_STATE:it.wrap?INIT_STATE:BUSY_STATE,rt.adler=it.wrap===2?0:1,it.last_flush=-2,_tr_init(it),Z_OK$3},deflateReset=rt=>{const it=deflateResetKeep(rt);return it===Z_OK$3&&lm_init(rt.state),it},deflateSetHeader=(rt,it)=>deflateStateCheck(rt)||rt.state.wrap!==2?Z_STREAM_ERROR$2:(rt.state.gzhead=it,Z_OK$3),deflateInit2=(rt,it,lt,ct,ht,ut)=>{if(!rt)return Z_STREAM_ERROR$2;let ft=1;if(it===Z_DEFAULT_COMPRESSION$1&&(it=6),ct<0?(ft=0,ct=-ct):ct>15&&(ft=2,ct-=16),ht<1||ht>MAX_MEM_LEVEL||lt!==Z_DEFLATED$2||ct<8||ct>15||it<0||it>9||ut<0||ut>Z_FIXED||ct===8&&ft!==1)return err(rt,Z_STREAM_ERROR$2);ct===8&&(ct=9);const dt=new DeflateState;return rt.state=dt,dt.strm=rt,dt.status=INIT_STATE,dt.wrap=ft,dt.gzhead=null,dt.w_bits=ct,dt.w_size=1<<dt.w_bits,dt.w_mask=dt.w_size-1,dt.hash_bits=ht+7,dt.hash_size=1<<dt.hash_bits,dt.hash_mask=dt.hash_size-1,dt.hash_shift=~~((dt.hash_bits+MIN_MATCH-1)/MIN_MATCH),dt.window=new Uint8Array(dt.w_size*2),dt.head=new Uint16Array(dt.hash_size),dt.prev=new Uint16Array(dt.w_size),dt.lit_bufsize=1<<ht+6,dt.pending_buf_size=dt.lit_bufsize*4,dt.pending_buf=new Uint8Array(dt.pending_buf_size),dt.sym_buf=dt.lit_bufsize,dt.sym_end=(dt.lit_bufsize-1)*3,dt.level=it,dt.strategy=ut,dt.method=lt,deflateReset(rt)},deflateInit=(rt,it)=>deflateInit2(rt,it,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(rt,it)=>{if(deflateStateCheck(rt)||it>Z_BLOCK$1||it<0)return rt?err(rt,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const lt=rt.state;if(!rt.output||rt.avail_in!==0&&!rt.input||lt.status===FINISH_STATE&&it!==Z_FINISH$3)return err(rt,rt.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const ct=lt.last_flush;if(lt.last_flush=it,lt.pending!==0){if(flush_pending(rt),rt.avail_out===0)return lt.last_flush=-1,Z_OK$3}else if(rt.avail_in===0&&rank(it)<=rank(ct)&&it!==Z_FINISH$3)return err(rt,Z_BUF_ERROR$1);if(lt.status===FINISH_STATE&&rt.avail_in!==0)return err(rt,Z_BUF_ERROR$1);if(lt.status===INIT_STATE&&lt.wrap===0&&(lt.status=BUSY_STATE),lt.status===INIT_STATE){let ht=Z_DEFLATED$2+(lt.w_bits-8<<4)<<8,ut=-1;if(lt.strategy>=Z_HUFFMAN_ONLY||lt.level<2?ut=0:lt.level<6?ut=1:lt.level===6?ut=2:ut=3,ht|=ut<<6,lt.strstart!==0&&(ht|=PRESET_DICT),ht+=31-ht%31,putShortMSB(lt,ht),lt.strstart!==0&&(putShortMSB(lt,rt.adler>>>16),putShortMSB(lt,rt.adler&65535)),rt.adler=1,lt.status=BUSY_STATE,flush_pending(rt),lt.pending!==0)return lt.last_flush=-1,Z_OK$3}if(lt.status===GZIP_STATE){if(rt.adler=0,put_byte(lt,31),put_byte(lt,139),put_byte(lt,8),lt.gzhead)put_byte(lt,(lt.gzhead.text?1:0)+(lt.gzhead.hcrc?2:0)+(lt.gzhead.extra?4:0)+(lt.gzhead.name?8:0)+(lt.gzhead.comment?16:0)),put_byte(lt,lt.gzhead.time&255),put_byte(lt,lt.gzhead.time>>8&255),put_byte(lt,lt.gzhead.time>>16&255),put_byte(lt,lt.gzhead.time>>24&255),put_byte(lt,lt.level===9?2:lt.strategy>=Z_HUFFMAN_ONLY||lt.level<2?4:0),put_byte(lt,lt.gzhead.os&255),lt.gzhead.extra&&lt.gzhead.extra.length&&(put_byte(lt,lt.gzhead.extra.length&255),put_byte(lt,lt.gzhead.extra.length>>8&255)),lt.gzhead.hcrc&&(rt.adler=crc32_1(rt.adler,lt.pending_buf,lt.pending,0)),lt.gzindex=0,lt.status=EXTRA_STATE;else if(put_byte(lt,0),put_byte(lt,0),put_byte(lt,0),put_byte(lt,0),put_byte(lt,0),put_byte(lt,lt.level===9?2:lt.strategy>=Z_HUFFMAN_ONLY||lt.level<2?4:0),put_byte(lt,OS_CODE),lt.status=BUSY_STATE,flush_pending(rt),lt.pending!==0)return lt.last_flush=-1,Z_OK$3}if(lt.status===EXTRA_STATE){if(lt.gzhead.extra){let ht=lt.pending,ut=(lt.gzhead.extra.length&65535)-lt.gzindex;for(;lt.pending+ut>lt.pending_buf_size;){let dt=lt.pending_buf_size-lt.pending;if(lt.pending_buf.set(lt.gzhead.extra.subarray(lt.gzindex,lt.gzindex+dt),lt.pending),lt.pending=lt.pending_buf_size,lt.gzhead.hcrc&&lt.pending>ht&&(rt.adler=crc32_1(rt.adler,lt.pending_buf,lt.pending-ht,ht)),lt.gzindex+=dt,flush_pending(rt),lt.pending!==0)return lt.last_flush=-1,Z_OK$3;ht=0,ut-=dt}let ft=new Uint8Array(lt.gzhead.extra);lt.pending_buf.set(ft.subarray(lt.gzindex,lt.gzindex+ut),lt.pending),lt.pending+=ut,lt.gzhead.hcrc&&lt.pending>ht&&(rt.adler=crc32_1(rt.adler,lt.pending_buf,lt.pending-ht,ht)),lt.gzindex=0}lt.status=NAME_STATE}if(lt.status===NAME_STATE){if(lt.gzhead.name){let ht=lt.pending,ut;do{if(lt.pending===lt.pending_buf_size){if(lt.gzhead.hcrc&&lt.pending>ht&&(rt.adler=crc32_1(rt.adler,lt.pending_buf,lt.pending-ht,ht)),flush_pending(rt),lt.pending!==0)return lt.last_flush=-1,Z_OK$3;ht=0}lt.gzindex<lt.gzhead.name.length?ut=lt.gzhead.name.charCodeAt(lt.gzindex++)&255:ut=0,put_byte(lt,ut)}while(ut!==0);lt.gzhead.hcrc&&lt.pending>ht&&(rt.adler=crc32_1(rt.adler,lt.pending_buf,lt.pending-ht,ht)),lt.gzindex=0}lt.status=COMMENT_STATE}if(lt.status===COMMENT_STATE){if(lt.gzhead.comment){let ht=lt.pending,ut;do{if(lt.pending===lt.pending_buf_size){if(lt.gzhead.hcrc&&lt.pending>ht&&(rt.adler=crc32_1(rt.adler,lt.pending_buf,lt.pending-ht,ht)),flush_pending(rt),lt.pending!==0)return lt.last_flush=-1,Z_OK$3;ht=0}lt.gzindex<lt.gzhead.comment.length?ut=lt.gzhead.comment.charCodeAt(lt.gzindex++)&255:ut=0,put_byte(lt,ut)}while(ut!==0);lt.gzhead.hcrc&&lt.pending>ht&&(rt.adler=crc32_1(rt.adler,lt.pending_buf,lt.pending-ht,ht))}lt.status=HCRC_STATE}if(lt.status===HCRC_STATE){if(lt.gzhead.hcrc){if(lt.pending+2>lt.pending_buf_size&&(flush_pending(rt),lt.pending!==0))return lt.last_flush=-1,Z_OK$3;put_byte(lt,rt.adler&255),put_byte(lt,rt.adler>>8&255),rt.adler=0}if(lt.status=BUSY_STATE,flush_pending(rt),lt.pending!==0)return lt.last_flush=-1,Z_OK$3}if(rt.avail_in!==0||lt.lookahead!==0||it!==Z_NO_FLUSH$2&&lt.status!==FINISH_STATE){let ht=lt.level===0?deflate_stored(lt,it):lt.strategy===Z_HUFFMAN_ONLY?deflate_huff(lt,it):lt.strategy===Z_RLE?deflate_rle(lt,it):configuration_table[lt.level].func(lt,it);if((ht===BS_FINISH_STARTED||ht===BS_FINISH_DONE)&&(lt.status=FINISH_STATE),ht===BS_NEED_MORE||ht===BS_FINISH_STARTED)return rt.avail_out===0&&(lt.last_flush=-1),Z_OK$3;if(ht===BS_BLOCK_DONE&&(it===Z_PARTIAL_FLUSH?_tr_align(lt):it!==Z_BLOCK$1&&(_tr_stored_block(lt,0,0,!1),it===Z_FULL_FLUSH$1&&(zero(lt.head),lt.lookahead===0&&(lt.strstart=0,lt.block_start=0,lt.insert=0))),flush_pending(rt),rt.avail_out===0))return lt.last_flush=-1,Z_OK$3}return it!==Z_FINISH$3?Z_OK$3:lt.wrap<=0?Z_STREAM_END$3:(lt.wrap===2?(put_byte(lt,rt.adler&255),put_byte(lt,rt.adler>>8&255),put_byte(lt,rt.adler>>16&255),put_byte(lt,rt.adler>>24&255),put_byte(lt,rt.total_in&255),put_byte(lt,rt.total_in>>8&255),put_byte(lt,rt.total_in>>16&255),put_byte(lt,rt.total_in>>24&255)):(putShortMSB(lt,rt.adler>>>16),putShortMSB(lt,rt.adler&65535)),flush_pending(rt),lt.wrap>0&&(lt.wrap=-lt.wrap),lt.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=rt=>{if(deflateStateCheck(rt))return Z_STREAM_ERROR$2;const it=rt.state.status;return rt.state=null,it===BUSY_STATE?err(rt,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(rt,it)=>{let lt=it.length;if(deflateStateCheck(rt))return Z_STREAM_ERROR$2;const ct=rt.state,ht=ct.wrap;if(ht===2||ht===1&&ct.status!==INIT_STATE||ct.lookahead)return Z_STREAM_ERROR$2;if(ht===1&&(rt.adler=adler32_1(rt.adler,it,lt,0)),ct.wrap=0,lt>=ct.w_size){ht===0&&(zero(ct.head),ct.strstart=0,ct.block_start=0,ct.insert=0);let pt=new Uint8Array(ct.w_size);pt.set(it.subarray(lt-ct.w_size,lt),0),it=pt,lt=ct.w_size}const ut=rt.avail_in,ft=rt.next_in,dt=rt.input;for(rt.avail_in=lt,rt.next_in=0,rt.input=it,fill_window(ct);ct.lookahead>=MIN_MATCH;){let pt=ct.strstart,gt=ct.lookahead-(MIN_MATCH-1);do ct.ins_h=HASH(ct,ct.ins_h,ct.window[pt+MIN_MATCH-1]),ct.prev[pt&ct.w_mask]=ct.head[ct.ins_h],ct.head[ct.ins_h]=pt,pt++;while(--gt);ct.strstart=pt,ct.lookahead=MIN_MATCH-1,fill_window(ct)}return ct.strstart+=ct.lookahead,ct.block_start=ct.strstart,ct.insert=ct.lookahead,ct.lookahead=0,ct.match_length=ct.prev_length=MIN_MATCH-1,ct.match_available=0,rt.next_in=ft,rt.input=dt,rt.avail_in=ut,ct.wrap=ht,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(rt,it)=>Object.prototype.hasOwnProperty.call(rt,it);var assign=function(rt){const it=Array.prototype.slice.call(arguments,1);for(;it.length;){const lt=it.shift();if(lt){if(typeof lt!="object")throw new TypeError(lt+"must be non-object");for(const ct in lt)_has(lt,ct)&&(rt[ct]=lt[ct])}}return rt},flattenChunks=rt=>{let it=0;for(let ct=0,ht=rt.length;ct<ht;ct++)it+=rt[ct].length;const lt=new Uint8Array(it);for(let ct=0,ht=0,ut=rt.length;ct<ut;ct++){let ft=rt[ct];lt.set(ft,ht),ht+=ft.length}return lt},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(rt){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let rt=0;rt<256;rt++)_utf8len[rt]=rt>=252?6:rt>=248?5:rt>=240?4:rt>=224?3:rt>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=rt=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(rt);let it,lt,ct,ht,ut,ft=rt.length,dt=0;for(ht=0;ht<ft;ht++)lt=rt.charCodeAt(ht),(lt&64512)===55296&&ht+1<ft&&(ct=rt.charCodeAt(ht+1),(ct&64512)===56320&&(lt=65536+(lt-55296<<10)+(ct-56320),ht++)),dt+=lt<128?1:lt<2048?2:lt<65536?3:4;for(it=new Uint8Array(dt),ut=0,ht=0;ut<dt;ht++)lt=rt.charCodeAt(ht),(lt&64512)===55296&&ht+1<ft&&(ct=rt.charCodeAt(ht+1),(ct&64512)===56320&&(lt=65536+(lt-55296<<10)+(ct-56320),ht++)),lt<128?it[ut++]=lt:lt<2048?(it[ut++]=192|lt>>>6,it[ut++]=128|lt&63):lt<65536?(it[ut++]=224|lt>>>12,it[ut++]=128|lt>>>6&63,it[ut++]=128|lt&63):(it[ut++]=240|lt>>>18,it[ut++]=128|lt>>>12&63,it[ut++]=128|lt>>>6&63,it[ut++]=128|lt&63);return it};const buf2binstring=(rt,it)=>{if(it<65534&&rt.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,rt.length===it?rt:rt.subarray(0,it));let lt="";for(let ct=0;ct<it;ct++)lt+=String.fromCharCode(rt[ct]);return lt};var buf2string=(rt,it)=>{const lt=it||rt.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(rt.subarray(0,it));let ct,ht;const ut=new Array(lt*2);for(ht=0,ct=0;ct<lt;){let ft=rt[ct++];if(ft<128){ut[ht++]=ft;continue}let dt=_utf8len[ft];if(dt>4){ut[ht++]=65533,ct+=dt-1;continue}for(ft&=dt===2?31:dt===3?15:7;dt>1&&ct<lt;)ft=ft<<6|rt[ct++]&63,dt--;if(dt>1){ut[ht++]=65533;continue}ft<65536?ut[ht++]=ft:(ft-=65536,ut[ht++]=55296|ft>>10&1023,ut[ht++]=56320|ft&1023)}return buf2binstring(ut,ht)},utf8border=(rt,it)=>{it=it||rt.length,it>rt.length&&(it=rt.length);let lt=it-1;for(;lt>=0&&(rt[lt]&192)===128;)lt--;return lt<0||lt===0?it:lt+_utf8len[rt[lt]]>it?lt:it},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(rt){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},rt||{});let it=this.options;it.raw&&it.windowBits>0?it.windowBits=-it.windowBits:it.gzip&&it.windowBits>0&&it.windowBits<16&&(it.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let lt=deflate_1$2.deflateInit2(this.strm,it.level,it.method,it.windowBits,it.memLevel,it.strategy);if(lt!==Z_OK$2)throw new Error(messages[lt]);if(it.header&&deflate_1$2.deflateSetHeader(this.strm,it.header),it.dictionary){let ct;if(typeof it.dictionary=="string"?ct=strings.string2buf(it.dictionary):toString$1.call(it.dictionary)==="[object ArrayBuffer]"?ct=new Uint8Array(it.dictionary):ct=it.dictionary,lt=deflate_1$2.deflateSetDictionary(this.strm,ct),lt!==Z_OK$2)throw new Error(messages[lt]);this._dict_set=!0}}Deflate$1.prototype.push=function(rt,it){const lt=this.strm,ct=this.options.chunkSize;let ht,ut;if(this.ended)return!1;for(it===~~it?ut=it:ut=it===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof rt=="string"?lt.input=strings.string2buf(rt):toString$1.call(rt)==="[object ArrayBuffer]"?lt.input=new Uint8Array(rt):lt.input=rt,lt.next_in=0,lt.avail_in=lt.input.length;;){if(lt.avail_out===0&&(lt.output=new Uint8Array(ct),lt.next_out=0,lt.avail_out=ct),(ut===Z_SYNC_FLUSH||ut===Z_FULL_FLUSH)&&lt.avail_out<=6){this.onData(lt.output.subarray(0,lt.next_out)),lt.avail_out=0;continue}if(ht=deflate_1$2.deflate(lt,ut),ht===Z_STREAM_END$2)return lt.next_out>0&&this.onData(lt.output.subarray(0,lt.next_out)),ht=deflate_1$2.deflateEnd(this.strm),this.onEnd(ht),this.ended=!0,ht===Z_OK$2;if(lt.avail_out===0){this.onData(lt.output);continue}if(ut>0&&lt.next_out>0){this.onData(lt.output.subarray(0,lt.next_out)),lt.avail_out=0;continue}if(lt.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(rt){this.chunks.push(rt)};Deflate$1.prototype.onEnd=function(rt){rt===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=rt,this.msg=this.strm.msg};function deflate$1(rt,it){const lt=new Deflate$1(it);if(lt.push(rt,!0),lt.err)throw lt.msg||messages[lt.err];return lt.result}function deflateRaw$1(rt,it){return it=it||{},it.raw=!0,deflate$1(rt,it)}function gzip$1(rt,it){return it=it||{},it.gzip=!0,deflate$1(rt,it)}var Deflate_1$1=Deflate$1,deflate_2=deflate$1,deflateRaw_1$1=deflateRaw$1,gzip_1$1=gzip$1,constants$1=constants$2,deflate_1$1={Deflate:Deflate_1$1,deflate:deflate_2,deflateRaw:deflateRaw_1$1,gzip:gzip_1$1,constants:constants$1};const BAD$1=16209,TYPE$1=16191;var inffast=function rt(it,lt){let ct,ht,ut,ft,dt,pt,gt,_t,yt,mt,bt,xt,wt,Ct,St,Tt,vt,kt,Et,It,At,Dt,Nt,Mt;const Rt=it.state;ct=it.next_in,Nt=it.input,ht=ct+(it.avail_in-5),ut=it.next_out,Mt=it.output,ft=ut-(lt-it.avail_out),dt=ut+(it.avail_out-257),pt=Rt.dmax,gt=Rt.wsize,_t=Rt.whave,yt=Rt.wnext,mt=Rt.window,bt=Rt.hold,xt=Rt.bits,wt=Rt.lencode,Ct=Rt.distcode,St=(1<<Rt.lenbits)-1,Tt=(1<<Rt.distbits)-1;t:do{xt<15&&(bt+=Nt[ct++]<<xt,xt+=8,bt+=Nt[ct++]<<xt,xt+=8),vt=wt[bt&St];e:for(;;){if(kt=vt>>>24,bt>>>=kt,xt-=kt,kt=vt>>>16&255,kt===0)Mt[ut++]=vt&65535;else if(kt&16){Et=vt&65535,kt&=15,kt&&(xt<kt&&(bt+=Nt[ct++]<<xt,xt+=8),Et+=bt&(1<<kt)-1,bt>>>=kt,xt-=kt),xt<15&&(bt+=Nt[ct++]<<xt,xt+=8,bt+=Nt[ct++]<<xt,xt+=8),vt=Ct[bt&Tt];r:for(;;){if(kt=vt>>>24,bt>>>=kt,xt-=kt,kt=vt>>>16&255,kt&16){if(It=vt&65535,kt&=15,xt<kt&&(bt+=Nt[ct++]<<xt,xt+=8,xt<kt&&(bt+=Nt[ct++]<<xt,xt+=8)),It+=bt&(1<<kt)-1,It>pt){it.msg="invalid distance too far back",Rt.mode=BAD$1;break t}if(bt>>>=kt,xt-=kt,kt=ut-ft,It>kt){if(kt=It-kt,kt>_t&&Rt.sane){it.msg="invalid distance too far back",Rt.mode=BAD$1;break t}if(At=0,Dt=mt,yt===0){if(At+=gt-kt,kt<Et){Et-=kt;do Mt[ut++]=mt[At++];while(--kt);At=ut-It,Dt=Mt}}else if(yt<kt){if(At+=gt+yt-kt,kt-=yt,kt<Et){Et-=kt;do Mt[ut++]=mt[At++];while(--kt);if(At=0,yt<Et){kt=yt,Et-=kt;do Mt[ut++]=mt[At++];while(--kt);At=ut-It,Dt=Mt}}}else if(At+=yt-kt,kt<Et){Et-=kt;do Mt[ut++]=mt[At++];while(--kt);At=ut-It,Dt=Mt}for(;Et>2;)Mt[ut++]=Dt[At++],Mt[ut++]=Dt[At++],Mt[ut++]=Dt[At++],Et-=3;Et&&(Mt[ut++]=Dt[At++],Et>1&&(Mt[ut++]=Dt[At++]))}else{At=ut-It;do Mt[ut++]=Mt[At++],Mt[ut++]=Mt[At++],Mt[ut++]=Mt[At++],Et-=3;while(Et>2);Et&&(Mt[ut++]=Mt[At++],Et>1&&(Mt[ut++]=Mt[At++]))}}else if(kt&64){it.msg="invalid distance code",Rt.mode=BAD$1;break t}else{vt=Ct[(vt&65535)+(bt&(1<<kt)-1)];continue r}break}}else if(kt&64)if(kt&32){Rt.mode=TYPE$1;break t}else{it.msg="invalid literal/length code",Rt.mode=BAD$1;break t}else{vt=wt[(vt&65535)+(bt&(1<<kt)-1)];continue e}break}}while(ct<ht&&ut<dt);Et=xt>>3,ct-=Et,xt-=Et<<3,bt&=(1<<xt)-1,it.next_in=ct,it.next_out=ut,it.avail_in=ct<ht?5+(ht-ct):5-(ct-ht),it.avail_out=ut<dt?257+(dt-ut):257-(ut-dt),Rt.hold=bt,Rt.bits=xt};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(rt,it,lt,ct,ht,ut,ft,dt)=>{const pt=dt.bits;let gt=0,_t=0,yt=0,mt=0,bt=0,xt=0,wt=0,Ct=0,St=0,Tt=0,vt,kt,Et,It,At,Dt=null,Nt;const Mt=new Uint16Array(MAXBITS+1),Rt=new Uint16Array(MAXBITS+1);let zt=null,Ht,Ft,$t;for(gt=0;gt<=MAXBITS;gt++)Mt[gt]=0;for(_t=0;_t<ct;_t++)Mt[it[lt+_t]]++;for(bt=pt,mt=MAXBITS;mt>=1&&Mt[mt]===0;mt--);if(bt>mt&&(bt=mt),mt===0)return ht[ut++]=1<<24|64<<16|0,ht[ut++]=1<<24|64<<16|0,dt.bits=1,0;for(yt=1;yt<mt&&Mt[yt]===0;yt++);for(bt<yt&&(bt=yt),Ct=1,gt=1;gt<=MAXBITS;gt++)if(Ct<<=1,Ct-=Mt[gt],Ct<0)return-1;if(Ct>0&&(rt===CODES$1||mt!==1))return-1;for(Rt[1]=0,gt=1;gt<MAXBITS;gt++)Rt[gt+1]=Rt[gt]+Mt[gt];for(_t=0;_t<ct;_t++)it[lt+_t]!==0&&(ft[Rt[it[lt+_t]]++]=_t);if(rt===CODES$1?(Dt=zt=ft,Nt=20):rt===LENS$1?(Dt=lbase,zt=lext,Nt=257):(Dt=dbase,zt=dext,Nt=0),Tt=0,_t=0,gt=yt,At=ut,xt=bt,wt=0,Et=-1,St=1<<bt,It=St-1,rt===LENS$1&&St>ENOUGH_LENS$1||rt===DISTS$1&&St>ENOUGH_DISTS$1)return 1;for(;;){Ht=gt-wt,ft[_t]+1<Nt?(Ft=0,$t=ft[_t]):ft[_t]>=Nt?(Ft=zt[ft[_t]-Nt],$t=Dt[ft[_t]-Nt]):(Ft=96,$t=0),vt=1<<gt-wt,kt=1<<xt,yt=kt;do kt-=vt,ht[At+(Tt>>wt)+kt]=Ht<<24|Ft<<16|$t|0;while(kt!==0);for(vt=1<<gt-1;Tt&vt;)vt>>=1;if(vt!==0?(Tt&=vt-1,Tt+=vt):Tt=0,_t++,--Mt[gt]===0){if(gt===mt)break;gt=it[lt+ft[_t]]}if(gt>bt&&(Tt&It)!==Et){for(wt===0&&(wt=bt),At+=yt,xt=gt-wt,Ct=1<<xt;xt+wt<mt&&(Ct-=Mt[xt+wt],!(Ct<=0));)xt++,Ct<<=1;if(St+=1<<xt,rt===LENS$1&&St>ENOUGH_LENS$1||rt===DISTS$1&&St>ENOUGH_DISTS$1)return 1;Et=Tt&It,ht[Et]=bt<<24|xt<<16|At-ut|0}}return Tt!==0&&(ht[At+Tt]=gt-wt<<24|64<<16|0),dt.bits=bt,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=rt=>(rt>>>24&255)+(rt>>>8&65280)+((rt&65280)<<8)+((rt&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=rt=>{if(!rt)return 1;const it=rt.state;return!it||it.strm!==rt||it.mode<HEAD||it.mode>SYNC?1:0},inflateResetKeep=rt=>{if(inflateStateCheck(rt))return Z_STREAM_ERROR$1;const it=rt.state;return rt.total_in=rt.total_out=it.total=0,rt.msg="",it.wrap&&(rt.adler=it.wrap&1),it.mode=HEAD,it.last=0,it.havedict=0,it.flags=-1,it.dmax=32768,it.head=null,it.hold=0,it.bits=0,it.lencode=it.lendyn=new Int32Array(ENOUGH_LENS),it.distcode=it.distdyn=new Int32Array(ENOUGH_DISTS),it.sane=1,it.back=-1,Z_OK$1},inflateReset=rt=>{if(inflateStateCheck(rt))return Z_STREAM_ERROR$1;const it=rt.state;return it.wsize=0,it.whave=0,it.wnext=0,inflateResetKeep(rt)},inflateReset2=(rt,it)=>{let lt;if(inflateStateCheck(rt))return Z_STREAM_ERROR$1;const ct=rt.state;return it<0?(lt=0,it=-it):(lt=(it>>4)+5,it<48&&(it&=15)),it&&(it<8||it>15)?Z_STREAM_ERROR$1:(ct.window!==null&&ct.wbits!==it&&(ct.window=null),ct.wrap=lt,ct.wbits=it,inflateReset(rt))},inflateInit2=(rt,it)=>{if(!rt)return Z_STREAM_ERROR$1;const lt=new InflateState;rt.state=lt,lt.strm=rt,lt.window=null,lt.mode=HEAD;const ct=inflateReset2(rt,it);return ct!==Z_OK$1&&(rt.state=null),ct},inflateInit=rt=>inflateInit2(rt,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=rt=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let it=0;for(;it<144;)rt.lens[it++]=8;for(;it<256;)rt.lens[it++]=9;for(;it<280;)rt.lens[it++]=7;for(;it<288;)rt.lens[it++]=8;for(inftrees(LENS,rt.lens,0,288,lenfix,0,rt.work,{bits:9}),it=0;it<32;)rt.lens[it++]=5;inftrees(DISTS,rt.lens,0,32,distfix,0,rt.work,{bits:5}),virgin=!1}rt.lencode=lenfix,rt.lenbits=9,rt.distcode=distfix,rt.distbits=5},updatewindow=(rt,it,lt,ct)=>{let ht;const ut=rt.state;return ut.window===null&&(ut.wsize=1<<ut.wbits,ut.wnext=0,ut.whave=0,ut.window=new Uint8Array(ut.wsize)),ct>=ut.wsize?(ut.window.set(it.subarray(lt-ut.wsize,lt),0),ut.wnext=0,ut.whave=ut.wsize):(ht=ut.wsize-ut.wnext,ht>ct&&(ht=ct),ut.window.set(it.subarray(lt-ct,lt-ct+ht),ut.wnext),ct-=ht,ct?(ut.window.set(it.subarray(lt-ct,lt),0),ut.wnext=ct,ut.whave=ut.wsize):(ut.wnext+=ht,ut.wnext===ut.wsize&&(ut.wnext=0),ut.whave<ut.wsize&&(ut.whave+=ht))),0},inflate$2=(rt,it)=>{let lt,ct,ht,ut,ft,dt,pt,gt,_t,yt,mt,bt,xt,wt,Ct=0,St,Tt,vt,kt,Et,It,At,Dt;const Nt=new Uint8Array(4);let Mt,Rt;const zt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(rt)||!rt.output||!rt.input&&rt.avail_in!==0)return Z_STREAM_ERROR$1;lt=rt.state,lt.mode===TYPE&&(lt.mode=TYPEDO),ft=rt.next_out,ht=rt.output,pt=rt.avail_out,ut=rt.next_in,ct=rt.input,dt=rt.avail_in,gt=lt.hold,_t=lt.bits,yt=dt,mt=pt,Dt=Z_OK$1;t:for(;;)switch(lt.mode){case HEAD:if(lt.wrap===0){lt.mode=TYPEDO;break}for(;_t<16;){if(dt===0)break t;dt--,gt+=ct[ut++]<<_t,_t+=8}if(lt.wrap&2&&gt===35615){lt.wbits===0&&(lt.wbits=15),lt.check=0,Nt[0]=gt&255,Nt[1]=gt>>>8&255,lt.check=crc32_1(lt.check,Nt,2,0),gt=0,_t=0,lt.mode=FLAGS;break}if(lt.head&&(lt.head.done=!1),!(lt.wrap&1)||(((gt&255)<<8)+(gt>>8))%31){rt.msg="incorrect header check",lt.mode=BAD;break}if((gt&15)!==Z_DEFLATED){rt.msg="unknown compression method",lt.mode=BAD;break}if(gt>>>=4,_t-=4,At=(gt&15)+8,lt.wbits===0&&(lt.wbits=At),At>15||At>lt.wbits){rt.msg="invalid window size",lt.mode=BAD;break}lt.dmax=1<<lt.wbits,lt.flags=0,rt.adler=lt.check=1,lt.mode=gt&512?DICTID:TYPE,gt=0,_t=0;break;case FLAGS:for(;_t<16;){if(dt===0)break t;dt--,gt+=ct[ut++]<<_t,_t+=8}if(lt.flags=gt,(lt.flags&255)!==Z_DEFLATED){rt.msg="unknown compression method",lt.mode=BAD;break}if(lt.flags&57344){rt.msg="unknown header flags set",lt.mode=BAD;break}lt.head&&(lt.head.text=gt>>8&1),lt.flags&512&&lt.wrap&4&&(Nt[0]=gt&255,Nt[1]=gt>>>8&255,lt.check=crc32_1(lt.check,Nt,2,0)),gt=0,_t=0,lt.mode=TIME;case TIME:for(;_t<32;){if(dt===0)break t;dt--,gt+=ct[ut++]<<_t,_t+=8}lt.head&&(lt.head.time=gt),lt.flags&512&&lt.wrap&4&&(Nt[0]=gt&255,Nt[1]=gt>>>8&255,Nt[2]=gt>>>16&255,Nt[3]=gt>>>24&255,lt.check=crc32_1(lt.check,Nt,4,0)),gt=0,_t=0,lt.mode=OS;case OS:for(;_t<16;){if(dt===0)break t;dt--,gt+=ct[ut++]<<_t,_t+=8}lt.head&&(lt.head.xflags=gt&255,lt.head.os=gt>>8),lt.flags&512&&lt.wrap&4&&(Nt[0]=gt&255,Nt[1]=gt>>>8&255,lt.check=crc32_1(lt.check,Nt,2,0)),gt=0,_t=0,lt.mode=EXLEN;case EXLEN:if(lt.flags&1024){for(;_t<16;){if(dt===0)break t;dt--,gt+=ct[ut++]<<_t,_t+=8}lt.length=gt,lt.head&&(lt.head.extra_len=gt),lt.flags&512&&lt.wrap&4&&(Nt[0]=gt&255,Nt[1]=gt>>>8&255,lt.check=crc32_1(lt.check,Nt,2,0)),gt=0,_t=0}else lt.head&&(lt.head.extra=null);lt.mode=EXTRA;case EXTRA:if(lt.flags&1024&&(bt=lt.length,bt>dt&&(bt=dt),bt&&(lt.head&&(At=lt.head.extra_len-lt.length,lt.head.extra||(lt.head.extra=new Uint8Array(lt.head.extra_len)),lt.head.extra.set(ct.subarray(ut,ut+bt),At)),lt.flags&512&&lt.wrap&4&&(lt.check=crc32_1(lt.check,ct,bt,ut)),dt-=bt,ut+=bt,lt.length-=bt),lt.length))break t;lt.length=0,lt.mode=NAME;case NAME:if(lt.flags&2048){if(dt===0)break t;bt=0;do At=ct[ut+bt++],lt.head&&At&&lt.length<65536&&(lt.head.name+=String.fromCharCode(At));while(At&&bt<dt);if(lt.flags&512&&lt.wrap&4&&(lt.check=crc32_1(lt.check,ct,bt,ut)),dt-=bt,ut+=bt,At)break t}else lt.head&&(lt.head.name=null);lt.length=0,lt.mode=COMMENT;case COMMENT:if(lt.flags&4096){if(dt===0)break t;bt=0;do At=ct[ut+bt++],lt.head&&At&&lt.length<65536&&(lt.head.comment+=String.fromCharCode(At));while(At&&bt<dt);if(lt.flags&512&&lt.wrap&4&&(lt.check=crc32_1(lt.check,ct,bt,ut)),dt-=bt,ut+=bt,At)break t}else lt.head&&(lt.head.comment=null);lt.mode=HCRC;case HCRC:if(lt.flags&512){for(;_t<16;){if(dt===0)break t;dt--,gt+=ct[ut++]<<_t,_t+=8}if(lt.wrap&4&&gt!==(lt.check&65535)){rt.msg="header crc mismatch",lt.mode=BAD;break}gt=0,_t=0}lt.head&&(lt.head.hcrc=lt.flags>>9&1,lt.head.done=!0),rt.adler=lt.check=0,lt.mode=TYPE;break;case DICTID:for(;_t<32;){if(dt===0)break t;dt--,gt+=ct[ut++]<<_t,_t+=8}rt.adler=lt.check=zswap32(gt),gt=0,_t=0,lt.mode=DICT;case DICT:if(lt.havedict===0)return rt.next_out=ft,rt.avail_out=pt,rt.next_in=ut,rt.avail_in=dt,lt.hold=gt,lt.bits=_t,Z_NEED_DICT$1;rt.adler=lt.check=1,lt.mode=TYPE;case TYPE:if(it===Z_BLOCK||it===Z_TREES)break t;case TYPEDO:if(lt.last){gt>>>=_t&7,_t-=_t&7,lt.mode=CHECK;break}for(;_t<3;){if(dt===0)break t;dt--,gt+=ct[ut++]<<_t,_t+=8}switch(lt.last=gt&1,gt>>>=1,_t-=1,gt&3){case 0:lt.mode=STORED;break;case 1:if(fixedtables(lt),lt.mode=LEN_,it===Z_TREES){gt>>>=2,_t-=2;break t}break;case 2:lt.mode=TABLE;break;case 3:rt.msg="invalid block type",lt.mode=BAD}gt>>>=2,_t-=2;break;case STORED:for(gt>>>=_t&7,_t-=_t&7;_t<32;){if(dt===0)break t;dt--,gt+=ct[ut++]<<_t,_t+=8}if((gt&65535)!==(gt>>>16^65535)){rt.msg="invalid stored block lengths",lt.mode=BAD;break}if(lt.length=gt&65535,gt=0,_t=0,lt.mode=COPY_,it===Z_TREES)break t;case COPY_:lt.mode=COPY;case COPY:if(bt=lt.length,bt){if(bt>dt&&(bt=dt),bt>pt&&(bt=pt),bt===0)break t;ht.set(ct.subarray(ut,ut+bt),ft),dt-=bt,ut+=bt,pt-=bt,ft+=bt,lt.length-=bt;break}lt.mode=TYPE;break;case TABLE:for(;_t<14;){if(dt===0)break t;dt--,gt+=ct[ut++]<<_t,_t+=8}if(lt.nlen=(gt&31)+257,gt>>>=5,_t-=5,lt.ndist=(gt&31)+1,gt>>>=5,_t-=5,lt.ncode=(gt&15)+4,gt>>>=4,_t-=4,lt.nlen>286||lt.ndist>30){rt.msg="too many length or distance symbols",lt.mode=BAD;break}lt.have=0,lt.mode=LENLENS;case LENLENS:for(;lt.have<lt.ncode;){for(;_t<3;){if(dt===0)break t;dt--,gt+=ct[ut++]<<_t,_t+=8}lt.lens[zt[lt.have++]]=gt&7,gt>>>=3,_t-=3}for(;lt.have<19;)lt.lens[zt[lt.have++]]=0;if(lt.lencode=lt.lendyn,lt.lenbits=7,Mt={bits:lt.lenbits},Dt=inftrees(CODES,lt.lens,0,19,lt.lencode,0,lt.work,Mt),lt.lenbits=Mt.bits,Dt){rt.msg="invalid code lengths set",lt.mode=BAD;break}lt.have=0,lt.mode=CODELENS;case CODELENS:for(;lt.have<lt.nlen+lt.ndist;){for(;Ct=lt.lencode[gt&(1<<lt.lenbits)-1],St=Ct>>>24,Tt=Ct>>>16&255,vt=Ct&65535,!(St<=_t);){if(dt===0)break t;dt--,gt+=ct[ut++]<<_t,_t+=8}if(vt<16)gt>>>=St,_t-=St,lt.lens[lt.have++]=vt;else{if(vt===16){for(Rt=St+2;_t<Rt;){if(dt===0)break t;dt--,gt+=ct[ut++]<<_t,_t+=8}if(gt>>>=St,_t-=St,lt.have===0){rt.msg="invalid bit length repeat",lt.mode=BAD;break}At=lt.lens[lt.have-1],bt=3+(gt&3),gt>>>=2,_t-=2}else if(vt===17){for(Rt=St+3;_t<Rt;){if(dt===0)break t;dt--,gt+=ct[ut++]<<_t,_t+=8}gt>>>=St,_t-=St,At=0,bt=3+(gt&7),gt>>>=3,_t-=3}else{for(Rt=St+7;_t<Rt;){if(dt===0)break t;dt--,gt+=ct[ut++]<<_t,_t+=8}gt>>>=St,_t-=St,At=0,bt=11+(gt&127),gt>>>=7,_t-=7}if(lt.have+bt>lt.nlen+lt.ndist){rt.msg="invalid bit length repeat",lt.mode=BAD;break}for(;bt--;)lt.lens[lt.have++]=At}}if(lt.mode===BAD)break;if(lt.lens[256]===0){rt.msg="invalid code -- missing end-of-block",lt.mode=BAD;break}if(lt.lenbits=9,Mt={bits:lt.lenbits},Dt=inftrees(LENS,lt.lens,0,lt.nlen,lt.lencode,0,lt.work,Mt),lt.lenbits=Mt.bits,Dt){rt.msg="invalid literal/lengths set",lt.mode=BAD;break}if(lt.distbits=6,lt.distcode=lt.distdyn,Mt={bits:lt.distbits},Dt=inftrees(DISTS,lt.lens,lt.nlen,lt.ndist,lt.distcode,0,lt.work,Mt),lt.distbits=Mt.bits,Dt){rt.msg="invalid distances set",lt.mode=BAD;break}if(lt.mode=LEN_,it===Z_TREES)break t;case LEN_:lt.mode=LEN;case LEN:if(dt>=6&&pt>=258){rt.next_out=ft,rt.avail_out=pt,rt.next_in=ut,rt.avail_in=dt,lt.hold=gt,lt.bits=_t,inffast(rt,mt),ft=rt.next_out,ht=rt.output,pt=rt.avail_out,ut=rt.next_in,ct=rt.input,dt=rt.avail_in,gt=lt.hold,_t=lt.bits,lt.mode===TYPE&&(lt.back=-1);break}for(lt.back=0;Ct=lt.lencode[gt&(1<<lt.lenbits)-1],St=Ct>>>24,Tt=Ct>>>16&255,vt=Ct&65535,!(St<=_t);){if(dt===0)break t;dt--,gt+=ct[ut++]<<_t,_t+=8}if(Tt&&!(Tt&240)){for(kt=St,Et=Tt,It=vt;Ct=lt.lencode[It+((gt&(1<<kt+Et)-1)>>kt)],St=Ct>>>24,Tt=Ct>>>16&255,vt=Ct&65535,!(kt+St<=_t);){if(dt===0)break t;dt--,gt+=ct[ut++]<<_t,_t+=8}gt>>>=kt,_t-=kt,lt.back+=kt}if(gt>>>=St,_t-=St,lt.back+=St,lt.length=vt,Tt===0){lt.mode=LIT;break}if(Tt&32){lt.back=-1,lt.mode=TYPE;break}if(Tt&64){rt.msg="invalid literal/length code",lt.mode=BAD;break}lt.extra=Tt&15,lt.mode=LENEXT;case LENEXT:if(lt.extra){for(Rt=lt.extra;_t<Rt;){if(dt===0)break t;dt--,gt+=ct[ut++]<<_t,_t+=8}lt.length+=gt&(1<<lt.extra)-1,gt>>>=lt.extra,_t-=lt.extra,lt.back+=lt.extra}lt.was=lt.length,lt.mode=DIST;case DIST:for(;Ct=lt.distcode[gt&(1<<lt.distbits)-1],St=Ct>>>24,Tt=Ct>>>16&255,vt=Ct&65535,!(St<=_t);){if(dt===0)break t;dt--,gt+=ct[ut++]<<_t,_t+=8}if(!(Tt&240)){for(kt=St,Et=Tt,It=vt;Ct=lt.distcode[It+((gt&(1<<kt+Et)-1)>>kt)],St=Ct>>>24,Tt=Ct>>>16&255,vt=Ct&65535,!(kt+St<=_t);){if(dt===0)break t;dt--,gt+=ct[ut++]<<_t,_t+=8}gt>>>=kt,_t-=kt,lt.back+=kt}if(gt>>>=St,_t-=St,lt.back+=St,Tt&64){rt.msg="invalid distance code",lt.mode=BAD;break}lt.offset=vt,lt.extra=Tt&15,lt.mode=DISTEXT;case DISTEXT:if(lt.extra){for(Rt=lt.extra;_t<Rt;){if(dt===0)break t;dt--,gt+=ct[ut++]<<_t,_t+=8}lt.offset+=gt&(1<<lt.extra)-1,gt>>>=lt.extra,_t-=lt.extra,lt.back+=lt.extra}if(lt.offset>lt.dmax){rt.msg="invalid distance too far back",lt.mode=BAD;break}lt.mode=MATCH;case MATCH:if(pt===0)break t;if(bt=mt-pt,lt.offset>bt){if(bt=lt.offset-bt,bt>lt.whave&&lt.sane){rt.msg="invalid distance too far back",lt.mode=BAD;break}bt>lt.wnext?(bt-=lt.wnext,xt=lt.wsize-bt):xt=lt.wnext-bt,bt>lt.length&&(bt=lt.length),wt=lt.window}else wt=ht,xt=ft-lt.offset,bt=lt.length;bt>pt&&(bt=pt),pt-=bt,lt.length-=bt;do ht[ft++]=wt[xt++];while(--bt);lt.length===0&&(lt.mode=LEN);break;case LIT:if(pt===0)break t;ht[ft++]=lt.length,pt--,lt.mode=LEN;break;case CHECK:if(lt.wrap){for(;_t<32;){if(dt===0)break t;dt--,gt|=ct[ut++]<<_t,_t+=8}if(mt-=pt,rt.total_out+=mt,lt.total+=mt,lt.wrap&4&&mt&&(rt.adler=lt.check=lt.flags?crc32_1(lt.check,ht,mt,ft-mt):adler32_1(lt.check,ht,mt,ft-mt)),mt=pt,lt.wrap&4&&(lt.flags?gt:zswap32(gt))!==lt.check){rt.msg="incorrect data check",lt.mode=BAD;break}gt=0,_t=0}lt.mode=LENGTH;case LENGTH:if(lt.wrap&&lt.flags){for(;_t<32;){if(dt===0)break t;dt--,gt+=ct[ut++]<<_t,_t+=8}if(lt.wrap&4&&gt!==(lt.total&4294967295)){rt.msg="incorrect length check",lt.mode=BAD;break}gt=0,_t=0}lt.mode=DONE;case DONE:Dt=Z_STREAM_END$1;break t;case BAD:Dt=Z_DATA_ERROR$1;break t;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return rt.next_out=ft,rt.avail_out=pt,rt.next_in=ut,rt.avail_in=dt,lt.hold=gt,lt.bits=_t,(lt.wsize||mt!==rt.avail_out&&lt.mode<BAD&&(lt.mode<CHECK||it!==Z_FINISH$1))&&updatewindow(rt,rt.output,rt.next_out,mt-rt.avail_out),yt-=rt.avail_in,mt-=rt.avail_out,rt.total_in+=yt,rt.total_out+=mt,lt.total+=mt,lt.wrap&4&&mt&&(rt.adler=lt.check=lt.flags?crc32_1(lt.check,ht,mt,rt.next_out-mt):adler32_1(lt.check,ht,mt,rt.next_out-mt)),rt.data_type=lt.bits+(lt.last?64:0)+(lt.mode===TYPE?128:0)+(lt.mode===LEN_||lt.mode===COPY_?256:0),(yt===0&&mt===0||it===Z_FINISH$1)&&Dt===Z_OK$1&&(Dt=Z_BUF_ERROR),Dt},inflateEnd=rt=>{if(inflateStateCheck(rt))return Z_STREAM_ERROR$1;let it=rt.state;return it.window&&(it.window=null),rt.state=null,Z_OK$1},inflateGetHeader=(rt,it)=>{if(inflateStateCheck(rt))return Z_STREAM_ERROR$1;const lt=rt.state;return lt.wrap&2?(lt.head=it,it.done=!1,Z_OK$1):Z_STREAM_ERROR$1},inflateSetDictionary=(rt,it)=>{const lt=it.length;let ct,ht,ut;return inflateStateCheck(rt)||(ct=rt.state,ct.wrap!==0&&ct.mode!==DICT)?Z_STREAM_ERROR$1:ct.mode===DICT&&(ht=1,ht=adler32_1(ht,it,lt,0),ht!==ct.check)?Z_DATA_ERROR$1:(ut=updatewindow(rt,it,lt,lt),ut?(ct.mode=MEM,Z_MEM_ERROR$1):(ct.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(rt){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},rt||{});const it=this.options;it.raw&&it.windowBits>=0&&it.windowBits<16&&(it.windowBits=-it.windowBits,it.windowBits===0&&(it.windowBits=-15)),it.windowBits>=0&&it.windowBits<16&&!(rt&&rt.windowBits)&&(it.windowBits+=32),it.windowBits>15&&it.windowBits<48&&(it.windowBits&15||(it.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let lt=inflate_1$2.inflateInit2(this.strm,it.windowBits);if(lt!==Z_OK)throw new Error(messages[lt]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),it.dictionary&&(typeof it.dictionary=="string"?it.dictionary=strings.string2buf(it.dictionary):toString.call(it.dictionary)==="[object ArrayBuffer]"&&(it.dictionary=new Uint8Array(it.dictionary)),it.raw&&(lt=inflate_1$2.inflateSetDictionary(this.strm,it.dictionary),lt!==Z_OK)))throw new Error(messages[lt])}Inflate$1.prototype.push=function(rt,it){const lt=this.strm,ct=this.options.chunkSize,ht=this.options.dictionary;let ut,ft,dt;if(this.ended)return!1;for(it===~~it?ft=it:ft=it===!0?Z_FINISH:Z_NO_FLUSH,toString.call(rt)==="[object ArrayBuffer]"?lt.input=new Uint8Array(rt):lt.input=rt,lt.next_in=0,lt.avail_in=lt.input.length;;){for(lt.avail_out===0&&(lt.output=new Uint8Array(ct),lt.next_out=0,lt.avail_out=ct),ut=inflate_1$2.inflate(lt,ft),ut===Z_NEED_DICT&&ht&&(ut=inflate_1$2.inflateSetDictionary(lt,ht),ut===Z_OK?ut=inflate_1$2.inflate(lt,ft):ut===Z_DATA_ERROR&&(ut=Z_NEED_DICT));lt.avail_in>0&&ut===Z_STREAM_END&&lt.state.wrap>0&&rt[lt.next_in]!==0;)inflate_1$2.inflateReset(lt),ut=inflate_1$2.inflate(lt,ft);switch(ut){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(ut),this.ended=!0,!1}if(dt=lt.avail_out,lt.next_out&&(lt.avail_out===0||ut===Z_STREAM_END))if(this.options.to==="string"){let pt=strings.utf8border(lt.output,lt.next_out),gt=lt.next_out-pt,_t=strings.buf2string(lt.output,pt);lt.next_out=gt,lt.avail_out=ct-gt,gt&&lt.output.set(lt.output.subarray(pt,pt+gt),0),this.onData(_t)}else this.onData(lt.output.length===lt.next_out?lt.output:lt.output.subarray(0,lt.next_out));if(!(ut===Z_OK&&dt===0)){if(ut===Z_STREAM_END)return ut=inflate_1$2.inflateEnd(this.strm),this.onEnd(ut),this.ended=!0,!0;if(lt.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(rt){this.chunks.push(rt)};Inflate$1.prototype.onEnd=function(rt){rt===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=rt,this.msg=this.strm.msg};function inflate$1(rt,it){const lt=new Inflate$1(it);if(lt.push(rt),lt.err)throw lt.msg||messages[lt.err];return lt.result}function inflateRaw$1(rt,it){return it=it||{},it.raw=!0,inflate$1(rt,it)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants};const{Deflate,deflate,deflateRaw,gzip}=deflate_1$1,{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var deflate_1=deflate,inflate_1=inflate;const _hasBuffer=typeof Buffer=="function",_TD=typeof TextDecoder=="function"?new TextDecoder:void 0,_TE=typeof TextEncoder=="function"?new TextEncoder:void 0,b64ch="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b64chs=Array.prototype.slice.call(b64ch),b64tab=(rt=>{let it={};return rt.forEach((lt,ct)=>it[lt]=ct),it})(b64chs),b64re=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,_fromCC=String.fromCharCode.bind(String),_U8Afrom=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):rt=>new Uint8Array(Array.prototype.slice.call(rt,0)),_mkUriSafe=rt=>rt.replace(/=/g,"").replace(/[+\/]/g,it=>it=="+"?"-":"_"),_tidyB64=rt=>rt.replace(/[^A-Za-z0-9\+\/]/g,""),btoaPolyfill=rt=>{let it,lt,ct,ht,ut="";const ft=rt.length%3;for(let dt=0;dt<rt.length;){if((lt=rt.charCodeAt(dt++))>255||(ct=rt.charCodeAt(dt++))>255||(ht=rt.charCodeAt(dt++))>255)throw new TypeError("invalid character found");it=lt<<16|ct<<8|ht,ut+=b64chs[it>>18&63]+b64chs[it>>12&63]+b64chs[it>>6&63]+b64chs[it&63]}return ft?ut.slice(0,ft-3)+"===".substring(ft):ut},_btoa=typeof btoa=="function"?rt=>btoa(rt):_hasBuffer?rt=>Buffer.from(rt,"binary").toString("base64"):btoaPolyfill,_fromUint8Array=_hasBuffer?rt=>Buffer.from(rt).toString("base64"):rt=>{let lt=[];for(let ct=0,ht=rt.length;ct<ht;ct+=4096)lt.push(_fromCC.apply(null,rt.subarray(ct,ct+4096)));return _btoa(lt.join(""))},fromUint8Array=(rt,it=!1)=>it?_mkUriSafe(_fromUint8Array(rt)):_fromUint8Array(rt),cb_utob=rt=>{if(rt.length<2){var it=rt.charCodeAt(0);return it<128?rt:it<2048?_fromCC(192|it>>>6)+_fromCC(128|it&63):_fromCC(224|it>>>12&15)+_fromCC(128|it>>>6&63)+_fromCC(128|it&63)}else{var it=65536+(rt.charCodeAt(0)-55296)*1024+(rt.charCodeAt(1)-56320);return _fromCC(240|it>>>18&7)+_fromCC(128|it>>>12&63)+_fromCC(128|it>>>6&63)+_fromCC(128|it&63)}},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=rt=>rt.replace(re_utob,cb_utob),_encode=_hasBuffer?rt=>Buffer.from(rt,"utf8").toString("base64"):_TE?rt=>_fromUint8Array(_TE.encode(rt)):rt=>_btoa(utob(rt)),encode=(rt,it=!1)=>it?_mkUriSafe(_encode(rt)):_encode(rt),re_btou=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,cb_btou=rt=>{switch(rt.length){case 4:var it=(7&rt.charCodeAt(0))<<18|(63&rt.charCodeAt(1))<<12|(63&rt.charCodeAt(2))<<6|63&rt.charCodeAt(3),lt=it-65536;return _fromCC((lt>>>10)+55296)+_fromCC((lt&1023)+56320);case 3:return _fromCC((15&rt.charCodeAt(0))<<12|(63&rt.charCodeAt(1))<<6|63&rt.charCodeAt(2));default:return _fromCC((31&rt.charCodeAt(0))<<6|63&rt.charCodeAt(1))}},btou=rt=>rt.replace(re_btou,cb_btou),atobPolyfill=rt=>{if(rt=rt.replace(/\s+/g,""),!b64re.test(rt))throw new TypeError("malformed base64.");rt+="==".slice(2-(rt.length&3));let it,lt="",ct,ht;for(let ut=0;ut<rt.length;)it=b64tab[rt.charAt(ut++)]<<18|b64tab[rt.charAt(ut++)]<<12|(ct=b64tab[rt.charAt(ut++)])<<6|(ht=b64tab[rt.charAt(ut++)]),lt+=ct===64?_fromCC(it>>16&255):ht===64?_fromCC(it>>16&255,it>>8&255):_fromCC(it>>16&255,it>>8&255,it&255);return lt},_atob=typeof atob=="function"?rt=>atob(_tidyB64(rt)):_hasBuffer?rt=>Buffer.from(rt,"base64").toString("binary"):atobPolyfill,_toUint8Array=_hasBuffer?rt=>_U8Afrom(Buffer.from(rt,"base64")):rt=>_U8Afrom(_atob(rt).split("").map(it=>it.charCodeAt(0))),toUint8Array=rt=>_toUint8Array(_unURI(rt)),_decode=_hasBuffer?rt=>Buffer.from(rt,"base64").toString("utf8"):_TD?rt=>_TD.decode(_toUint8Array(rt)):rt=>btou(_atob(rt)),_unURI=rt=>_tidyB64(rt.replace(/[-_]/g,it=>it=="-"?"+":"/")),decode=rt=>_decode(_unURI(rt)),base64Serde={serialize:rt=>encode(rt,!0),deserialize:rt=>decode(rt)},pakoSerde={serialize:rt=>{const it=new TextEncoder().encode(rt),lt=deflate_1(it,{level:9});return fromUint8Array(lt,!0)},deserialize:rt=>{const it=toUint8Array(rt);return inflate_1(it,{to:"string"})}},serdes={base64:base64Serde,pako:pakoSerde},serializeState=(rt,it="pako")=>{if(!(it in serdes))throw new Error(`Unknown serde type: ${it}`);const lt=JSON.stringify(rt),ct=serdes[it].serialize(lt);return`${it}:${ct}`},deserializeState=rt=>{let it,lt;if(rt.includes(":")){let ht;if([ht,lt]=rt.split(":"),ht in serdes)it=ht;else throw new Error(`Unknown serde type: ${ht}`)}else it="base64",lt=rt;const ct=serdes[it].deserialize(lt);return JSON.parse(ct)},env={rendererUrl:"https://mermaid.ink",krokiRendererUrl:"",analyticsUrl:"",domain:"",isEnabledMermaidChartLinks:!1};let plausible;const initAnalytics=async()=>{if(!plausible)try{const{default:rt}=await __vitePreload(async()=>{const{default:it}=await import("./index.B6CSiJCz.js");return{default:it}},[],import.meta.url);plausible=rt({domain:env.domain,hashMode:!1,apiHost:env.analyticsUrl})}catch(rt){console.log(rt),console.info("Analytics blocked ;)")}},detectType=rt=>{const it=["classDiagram","erDiagram","flowChart","gantt","gitGraph","graph","journey","pie","stateDiagram","quadrantChart","mindmap"],lt=rt.replaceAll(/^\s*%%.*\n/g,`
`).trimStart().split(" ")[0].toLowerCase();return it.find(ht=>lt.includes(ht.toLowerCase()))},countLines=rt=>{var it;return(((it=rt.match(/\n/g))==null?void 0:it.length)??0)+1},saveStatistics=({code:rt,renderTime:it,isRough:lt})=>{const ct=detectType(rt);if(!ct)return;const ht=countLines(rt),ut=getBucket(ht),ft=getBucket(it);logEvent("render",{graphType:ct,length:ht,lengthBucket:ut,renderTimeMsBucket:ft,isRough:lt})},getBucket=rt=>rt<10?"0-10":rt<25?"10-25":rt<50?"25-50":rt<100?"50-100":rt<200?"100-200":rt<500?"200-500":rt<700?"500-700":rt<1e3?"700-1000":rt<1500?"1000-1500":rt<2500?"1500-2500":rt<4500?"2500-4500":rt<7e3?"4500-7000":rt<1e4?"7000-10000":"10000+",minutesToMilliSeconds=rt=>rt*6e4,defaultDelay=minutesToMilliSeconds(1),delaysPerEvent={render:minutesToMilliSeconds(5),panZoom:minutesToMilliSeconds(10),copyClipboard:defaultDelay,download:defaultDelay,copyMarkdown:defaultDelay,loadGist:defaultDelay,loadSampleDiagram:defaultDelay,renderDiagram:defaultDelay,history:defaultDelay,migration:defaultDelay,themeChange:defaultDelay,bannerClick:defaultDelay,version:defaultDelay},timeouts=new Map,logEvent=(rt,it)=>{if(!plausible)return;const lt=it?JSON.stringify({name:rt,data:it}):rt;timeouts.has(lt)?clearTimeout(timeouts.get(lt)):plausible.trackEvent(rt,{props:it},{url:window.location.origin+window.location.pathname}),timeouts.set(lt,window.setTimeout(()=>timeouts.delete(lt),delaysPerEvent[rt]))};var dist={},words={};(function(rt){var it=commonjsGlobal&&commonjsGlobal.__values||function(ct){var ht=typeof Symbol=="function"&&Symbol.iterator,ut=ht&&ct[ht],ft=0;if(ut)return ut.call(ct);if(ct&&typeof ct.length=="number")return{next:function(){return ct&&ft>=ct.length&&(ct=void 0),{value:ct&&ct[ft++],done:!ct}}};throw new TypeError(ht?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(rt,"__esModule",{value:!0}),rt.getWordsByCategory=rt.wordList=void 0,rt.wordList={noun:[{word:"accountant",categories:["profession"]},{word:"ability",categories:["thing"]},{word:"accident",categories:["thing"]},{word:"account",categories:["thing"]},{word:"action",categories:["thing"]},{word:"activity",categories:["thing"]},{word:"actor",categories:["profession"]},{word:"ad",categories:["media"]},{word:"addition",categories:["thing"]},{word:"address",categories:["thing"]},{word:"adult",categories:["people"]},{word:"advantage",categories:["thing"]},{word:"advertisement",categories:["media"]},{word:"afternoon",categories:["time"]},{word:"agency",categories:["thing"]},{word:"agent",categories:["people"]},{word:"air",categories:["thing"]},{word:"airline",categories:["transportation"]},{word:"airplane",categories:["transportation"]},{word:"airport",categories:["transportation","place"]},{word:"alarm",categories:["thing"]},{word:"alligator",categories:["animals"]},{word:"ambulance",categories:["health"]},{word:"analyst",categories:["profession"]},{word:"angle",categories:["thing"]},{word:"animal",categories:["animals"]},{word:"answer",categories:["thing"]},{word:"apartment",categories:["place"]},{word:"apple",categories:["food"]},{word:"application",categories:["thing"]},{word:"appointment",categories:["thing"]},{word:"architect",categories:["profession"]},{word:"argument",categories:["thing"]},{word:"area",categories:["thing"]},{word:"arm",categories:["thing"]},{word:"army",categories:["thing"]},{word:"art",categories:["thing"]},{word:"article",categories:["thing"]},{word:"artist",categories:["profession"]},{word:"australia",categories:["place"]},{word:"author",categories:["profession"]},{word:"autumn",categories:["time"]},{word:"baby",categories:["people","family"]},{word:"baker",categories:["profession"]},{word:"balloon",categories:["thing"]},{word:"banana",categories:["food"]},{word:"barista",categories:["profession"]},{word:"battery",categories:["thing"]},{word:"beach",categories:["place"]},{word:"bear",categories:["animals"]},{word:"beard",categories:["thing"]},{word:"bed",categories:["thing"]},{word:"belgium",categories:["place"]},{word:"bird",categories:["animals"]},{word:"bit",categories:["thing","technology"]},{word:"book",categories:["thing","education"]},{word:"boots",categories:["thing"]},{word:"boy",categories:["people"]},{word:"branch",categories:["thing"]},{word:"breakfast",categories:["thing"]},{word:"brother",categories:["family"]},{word:"businessperson",categories:["people","business"]},{word:"butcher",categories:["profession"]},{word:"byte",categories:["thing","technology"]},{word:"camera",categories:["thing"]},{word:"candle",categories:["thing"]},{word:"car",categories:["transportation"]},{word:"caravan",categories:["transportation"]},{word:"carpenter",categories:["profession"]},{word:"carpet",categories:["thing"]},{word:"cartoon",categories:["media"]},{word:"cat",categories:["animals"]},{word:"chef",categories:["profession"]},{word:"child",categories:["people","family"]},{word:"china",categories:["place"]},{word:"church",categories:["religion"]},{word:"city",categories:["place"]},{word:"coat",categories:["thing"]},{word:"coffeeshop",categories:["place"]},{word:"computer",categories:["thing","technology"]},{word:"continent",categories:["place"]},{word:"controller",categories:["thing","technology"]},{word:"country",categories:["place"]},{word:"cpu",categories:["thing","technology"]},{word:"crayon",categories:["thing"]},{word:"cricket",categories:["animals"]},{word:"crowd",categories:["people"]},{word:"daughter",categories:["family"]},{word:"dawn",categories:["time"]},{word:"daybreak",categories:["time"]},{word:"death",categories:["thing"]},{word:"denmark",categories:["place"]},{word:"dentist",categories:["profession"]},{word:"diamond",categories:["thing"]},{word:"dinner",categories:["food"]},{word:"disease",categories:["thing"]},{word:"doctor",categories:["profession"]},{word:"dog",categories:["animals"]},{word:"dream",categories:["thing"]},{word:"dress",categories:["thing"]},{word:"dusk",categories:["time"]},{word:"easter",categories:["religion"]},{word:"egg",categories:["food"]},{word:"eggplant",categories:["food"]},{word:"egypt",categories:["place"]},{word:"electrician",categories:["profession"]},{word:"elephant",categories:["animals"]},{word:"energy",categories:["thing"]},{word:"engine",categories:["transportation"]},{word:"engineer",categories:["profession"]},{word:"england",categories:["place"]},{word:"eve",categories:["time"]},{word:"evening",categories:["time"]},{word:"eventide",categories:["time"]},{word:"exabyte",categories:["thing","technology"]},{word:"eye",categories:["thing"]},{word:"fall",categories:["time"]},{word:"family",categories:["family"]},{word:"farmer",categories:["profession"]},{word:"father",categories:["people","family"]},{word:"finland",categories:["place"]},{word:"fireman",categories:["profession"]},{word:"fish",categories:["animals"]},{word:"flag",categories:["thing"]},{word:"florist",categories:["profession"]},{word:"flower",categories:["thing"]},{word:"football",categories:["sports"]},{word:"forest",categories:["place"]},{word:"fountain",categories:["thing"]},{word:"france",categories:["place"]},{word:"furniture",categories:["thing"]},{word:"garage",categories:["place"]},{word:"garden",categories:["food"]},{word:"gas",categories:["transportation"]},{word:"ghost",categories:["thing"]},{word:"gigabyte",categories:["thing","technology"]},{word:"girl",categories:["people"]},{word:"glass",categories:["thing"]},{word:"gold",categories:["thing"]},{word:"gpu",categories:["thing","technology"]},{word:"grandmother",categories:["people","family"]},{word:"grass",categories:["thing"]},{word:"greece",categories:["place"]},{word:"guitar",categories:["thing"]},{word:"hair",categories:["thing"]},{word:"hairdresser",categories:["profession"]},{word:"hamburger",categories:["food"]},{word:"helicopter",categories:["transportation"]},{word:"helmet",categories:["thing"]},{word:"holiday",categories:["thing"]},{word:"honey",categories:["food"]},{word:"horse",categories:["animals"]},{word:"hospital",categories:["place"]},{word:"house",categories:["place"]},{word:"hydrogen",categories:["science"]},{word:"ice",categories:["science"]},{word:"insect",categories:["animals"]},{word:"insurance",categories:["thing"]},{word:"intern",categories:["profession"]},{word:"iron",categories:["science"]},{word:"island",categories:["place"]},{word:"jackal",categories:["animals"]},{word:"jelly",categories:["food"]},{word:"jewellery",categories:["thing"]},{word:"jordan",categories:["place"]},{word:"journalist",categories:["profession"]},{word:"joystick",categories:["thing","technology"]},{word:"judge",categories:["profession"]},{word:"juice",categories:["food"]},{word:"kangaroo",categories:["animals"]},{word:"keyboard",categories:["thing","technology"]},{word:"kilobyte",categories:["thing","technology"]},{word:"king",categories:["people"]},{word:"kitchen",categories:["place"]},{word:"kite",categories:["thing"]},{word:"knife",categories:["thing"]},{word:"lamp",categories:["thing"]},{word:"laptop",categories:["thing","technology"]},{word:"lawyer",categories:["profession"]},{word:"leather",categories:["thing"]},{word:"librarian",categories:["profession"]},{word:"library",categories:["place"]},{word:"lifeguard",categories:["profession"]},{word:"lighter",categories:["thing"]},{word:"lion",categories:["animals"]},{word:"lizard",categories:["animals"]},{word:"lock",categories:["thing"]},{word:"london",categories:["place"]},{word:"lunch",categories:["food"]},{word:"machine",categories:["science"]},{word:"magazine",categories:["media"]},{word:"magician",categories:["people"]},{word:"man",categories:["people"]},{word:"manchester",categories:["place"]},{word:"market",categories:["place"]},{word:"match",categories:["thing"]},{word:"mechanic",categories:["profession"]},{word:"megabyte",categories:["thing","technology"]},{word:"memory",categories:["thing","technology"]},{word:"microphone",categories:["thing"]},{word:"midnight",categories:["time"]},{word:"minister",categories:["people","religion"]},{word:"monitor",categories:["thing","technology"]},{word:"monkey",categories:["animals"]},{word:"morn",categories:["time"]},{word:"morning",categories:["time"]},{word:"mother",categories:["people","family"]},{word:"motherboard",categories:["thing","technology"]},{word:"motorcycle",categories:["transportation"]},{word:"mouse",categories:["thing","technology","animals"]},{word:"musician",categories:["profession"]},{word:"nail",categories:["thing"]},{word:"napkin",categories:["thing"]},{word:"needle",categories:["thing"]},{word:"nest",categories:["thing"]},{word:"nigeria",categories:["place"]},{word:"night",categories:["time"]},{word:"nightfall",categories:["time"]},{word:"noon",categories:["time"]},{word:"notebook",categories:["thing"]},{word:"nurse",categories:["profession"]},{word:"ocean",categories:["place"]},{word:"oil",categories:["thing"]},{word:"optician",categories:["profession"]},{word:"orange",categories:["food"]},{word:"oxygen",categories:["science"]},{word:"oyster",categories:["animals"]},{word:"pager",categories:["thing","technology"]},{word:"painter",categories:["profession"]},{word:"painting",categories:["media"]},{word:"park",categories:["place"]},{word:"parrot",categories:["animals"]},{word:"pencil",categories:["thing","education"]},{word:"petabyte",categories:["thing","technology"]},{word:"pharmacist",categories:["profession"]},{word:"photographer",categories:["profession"]},{word:"piano",categories:["thing"]},{word:"pillow",categories:["thing"]},{word:"pilot",categories:["profession"]},{word:"pizza",categories:["food"]},{word:"planet",categories:["science"]},{word:"plastic",categories:["thing"]},{word:"plumber",categories:["profession"]},{word:"policeman",categories:["profession"]},{word:"portugal",categories:["place"]},{word:"postman",categories:["profession"]},{word:"potato",categories:["food"]},{word:"printer",categories:["thing","technology"]},{word:"processor",categories:["thing","technology"]},{word:"psychiatrist",categories:["profession"]},{word:"queen",categories:["people"]},{word:"quill",categories:["thing"]},{word:"rain",categories:["thing"]},{word:"rainbow",categories:["science"]},{word:"raincoat",categories:["thing"]},{word:"ram",categories:["thing","technology"]},{word:"receptionist",categories:["profession"]},{word:"refrigerator",categories:["food"]},{word:"restaurant",categories:["place"]},{word:"river",categories:["thing"]},{word:"rocket",categories:["science"]},{word:"room",categories:["place"]},{word:"rose",categories:["thing"]},{word:"russia",categories:["place"]},{word:"salesclerk",categories:["people","business"]},{word:"salesmen",categories:["profession"]},{word:"sandwich",categories:["food"]},{word:"school",categories:["education"]},{word:"scientist",categories:["profession"]},{word:"scooter",categories:["transportation"]},{word:"secretary",categories:["profession"]},{word:"shampoo",categories:["thing"]},{word:"shoe",categories:["thing"]},{word:"smartphone",categories:["thing","technology"]},{word:"soccer",categories:["sports"]},{word:"solstice",categories:["time"]},{word:"spoon",categories:["thing"]},{word:"spring",categories:["time"]},{word:"state",categories:["place"]},{word:"stone",categories:["thing"]},{word:"student",categories:["people","education"]},{word:"sugar",categories:["food"]},{word:"summer",categories:["time"]},{word:"sundown",categories:["time"]},{word:"sunset",categories:["time"]},{word:"sweden",categories:["place"]},{word:"table",categories:["thing"]},{word:"tailor",categories:["profession"]},{word:"teacher",categories:["people","education","profession"]},{word:"teenager",categories:["people","family"]},{word:"telephone",categories:["thing"]},{word:"television",categories:["media"]},{word:"tent",categories:["thing"]},{word:"terabyte",categories:["thing","technology"]},{word:"thailand",categories:["place"]},{word:"tiger",categories:["animals"]},{word:"toddler",categories:["people","family"]},{word:"tomato",categories:["food"]},{word:"toothbrush",categories:["thing"]},{word:"traffic",categories:["thing"]},{word:"train",categories:["transportation"]},{word:"translator",categories:["profession"]},{word:"truck",categories:["thing","transportation"]},{word:"twilight",categories:["time"]},{word:"uganda",categories:["place"]},{word:"umbrella",categories:["thing"]},{word:"van",categories:["transportation"]},{word:"vase",categories:["thing"]},{word:"vegetable",categories:["food"]},{word:"vr",categories:["thing","technology"]},{word:"vulture",categories:["animals"]},{word:"waiter",categories:["profession"]},{word:"waitress",categories:["profession"]},{word:"wall",categories:["thing"]},{word:"whale",categories:["animals"]},{word:"window",categories:["thing"]},{word:"winter",categories:["time"]},{word:"wire",categories:["thing"]},{word:"wolf",categories:["animals"]},{word:"woman",categories:["people"]},{word:"xylophone",categories:["thing"]},{word:"yacht",categories:["transportation"]},{word:"yak",categories:["animals"]},{word:"yottabyte",categories:["thing","technology"]},{word:"zebra",categories:["animals"]},{word:"zettabyte",categories:["thing","technology"]},{word:"zoo",categories:["animals"]}],adjective:[{word:"abandoned",categories:["condition"]},{word:"abiding",categories:["personality"]},{word:"able",categories:["condition"]},{word:"abrasive",categories:["condition","personality"]},{word:"abnormal",categories:["condition"]},{word:"absurd",categories:["condition"]},{word:"abundant",categories:["quantity"]},{word:"acceptable",categories:["condition"]},{word:"acidic",categories:["taste"]},{word:"acoustic",categories:["sounds"]},{word:"acrid",categories:["condition"]},{word:"adamant",categories:["personality"]},{word:"adorable",categories:["personality"]},{word:"adventurous",categories:["personality"]},{word:"aggressive",categories:["personality"]},{word:"agitated",categories:["personality"]},{word:"agreeable",categories:["personality"]},{word:"alert",categories:["condition"]},{word:"alive",categories:["condition"]},{word:"aloof",categories:["personality"]},{word:"ambitious",categories:["personality"]},{word:"ancient",categories:["time"]},{word:"angry",categories:["personality"]},{word:"annoyed",categories:["personality"]},{word:"antsy",categories:["personality"]},{word:"anxious",categories:["personality"]},{word:"appalling",categories:["personality"]},{word:"appetizing",categories:["taste"]},{word:"apprehensive",categories:["personality"]},{word:"arrogant",categories:["personality"]},{word:"ashamed",categories:["personality"]},{word:"astonishing",categories:["personality"]},{word:"attractive",categories:["appearance"]},{word:"average",categories:["appearance"]},{word:"bad",categories:["condition"]},{word:"bald",categories:["appearance"]},{word:"bashful",categories:["personality"]},{word:"beautiful",categories:["appearance"]},{word:"beefy",categories:["appearance"]},{word:"belligerent",categories:["personality"]},{word:"bent",categories:["condition"]},{word:"best",categories:["condition"]},{word:"better",categories:["condition"]},{word:"bewildered",categories:["personality"]},{word:"big",categories:["size"]},{word:"billions",categories:["quantity"]},{word:"billowy",categories:["appearance"]},{word:"bitter",categories:["taste"]},{word:"black",categories:["color"]},{word:"bland",categories:["taste"]},{word:"blue",categories:["color"]},{word:"blushing",categories:["appearance"]},{word:"bored",categories:["personality"]},{word:"boring",categories:["personality"]},{word:"boundless",categories:["personality"]},{word:"brainy",categories:["personality"]},{word:"brash",categories:["personality"]},{word:"brave",categories:["personality"]},{word:"breezy",categories:["touch"]},{word:"brief",categories:["time"]},{word:"bright",categories:["appearance"]},{word:"broad",categories:["shapes"]},{word:"broken",categories:["condition"]},{word:"brown",categories:["color"]},{word:"bulky",categories:["appearance"]},{word:"bumpy",categories:["touch"]},{word:"burly",categories:["appearance"]},{word:"busy",categories:["personality"]},{word:"cagey",categories:["personality"]},{word:"calm",categories:["personality"]},{word:"callous",categories:["personality"]},{word:"careful",categories:["condition"]},{word:"chilly",categories:["touch"]},{word:"chubby",categories:["appearance"]},{word:"clean",categories:["appearance"]},{word:"clever",categories:["condition"]},{word:"clumsy",categories:["personality"]},{word:"cold",categories:["touch"]},{word:"colossal",categories:["size"]},{word:"cool",categories:["touch"]},{word:"crashing",categories:["sounds"]},{word:"creamy",categories:["taste"]},{word:"crooked",categories:["shapes"]},{word:"cuddly",categories:["touch"]},{word:"curved",categories:["shapes"]},{word:"damaged",categories:["touch"]},{word:"damp",categories:["touch"]},{word:"dazzling",categories:["appearance"]},{word:"dead",categories:["condition"]},{word:"deafening",categories:["sounds"]},{word:"deep",categories:["shapes"]},{word:"defeated",categories:["personality"]},{word:"delicious",categories:["taste"]},{word:"delightful",categories:["personality"]},{word:"dirty",categories:["touch"]},{word:"disgusting",categories:["taste"]},{word:"drab",categories:["appearance"]},{word:"dry",categories:["touch"]},{word:"eager",categories:["personality"]},{word:"early",categories:["time"]},{word:"easy",categories:["condition"]},{word:"echoing",categories:["sounds"]},{word:"elegant",categories:["appearance"]},{word:"embarrassed",categories:["personality"]},{word:"enough",categories:["quantity"]},{word:"faint",categories:["sounds"]},{word:"faithful",categories:["personality"]},{word:"famous",categories:["condition"]},{word:"fancy",categories:["appearance"]},{word:"fast",categories:["time"]},{word:"fat",categories:["size"]},{word:"few",categories:["quantity"]},{word:"fierce",categories:["personality"]},{word:"fit",categories:["appearance"]},{word:"flabby",categories:["appearance"]},{word:"flaky",categories:["touch"]},{word:"flat",categories:["shapes"]},{word:"fluffy",categories:["touch"]},{word:"freezing",categories:["touch"]},{word:"fresh",categories:["taste"]},{word:"full",categories:["quantity"]},{word:"future",categories:["time"]},{word:"gentle",categories:["personality"]},{word:"gifted",categories:["condition"]},{word:"gigantic",categories:["size"]},{word:"glamorous",categories:["appearance"]},{word:"gorgeous",categories:["appearance"]},{word:"gray",categories:["color"]},{word:"greasy",categories:["touch","taste"]},{word:"great",categories:["size"]},{word:"green",categories:["color"]},{word:"grumpy",categories:["personality"]},{word:"hallowed",categories:["condition"]},{word:"handsome",categories:["appearance"]},{word:"happy",categories:["personality"]},{word:"harsh",categories:["sounds"]},{word:"helpful",categories:["condition"]},{word:"helpless",categories:["personality"]},{word:"high",categories:["shapes"]},{word:"hissing",categories:["sounds"]},{word:"hollow",categories:["shapes"]},{word:"hot",categories:["touch","taste"]},{word:"howling",categories:["sounds"]},{word:"huge",categories:["size"]},{word:"hundreds",categories:["quantity"]},{word:"icy",categories:["touch"]},{word:"immense",categories:["size"]},{word:"important",categories:["condition"]},{word:"incalculable",categories:["quantity"]},{word:"inexpensive",categories:["condition"]},{word:"itchy",categories:["personality"]},{word:"jealous",categories:["personality"]},{word:"jolly",categories:["personality"]},{word:"juicy",categories:["taste"]},{word:"kind",categories:["personality"]},{word:"large",categories:["size"]},{word:"late",categories:["time"]},{word:"lazy",categories:["personality"]},{word:"lemon",categories:["color"]},{word:"limited",categories:["quantity"]},{word:"little",categories:["size","quantity"]},{word:"lively",categories:["personality"]},{word:"long",categories:["time","appearance"]},{word:"loose",categories:["touch"]},{word:"loud",categories:["sounds"]},{word:"low",categories:["shapes"]},{word:"magnificent",categories:["appearance"]},{word:"mammoth",categories:["size"]},{word:"mango",categories:["color"]},{word:"many",categories:["quantity"]},{word:"massive",categories:["size"]},{word:"mealy",categories:["condition"]},{word:"melodic",categories:["sounds"]},{word:"melted",categories:["touch"]},{word:"microscopic",categories:["size"]},{word:"millions",categories:["quantity"]},{word:"miniature",categories:["size"]},{word:"modern",categories:["time"]},{word:"moldy",categories:["taste"]},{word:"most",categories:["quantity"]},{word:"muscular",categories:["appearance"]},{word:"mushy",categories:["condition"]},{word:"mysterious",categories:["personality"]},{word:"narrow",categories:["shapes"]},{word:"nervous",categories:["personality"]},{word:"nice",categories:["personality"]},{word:"noisy",categories:["sounds"]},{word:"numerous",categories:["quantity"]},{word:"nutritious",categories:["taste"]},{word:"nutty",categories:["taste"]},{word:"obedient",categories:["personality"]},{word:"obnoxious",categories:["personality"]},{word:"odd",categories:["condition"]},{word:"old",categories:["time"]},{word:"orange",categories:["color"]},{word:"panicky",categories:["personality"]},{word:"petite",categories:["size"]},{word:"pitiful",categories:["personality"]},{word:"plain",categories:["appearance"]},{word:"plump",categories:["appearance"]},{word:"polite",categories:["personality"]},{word:"poor",categories:["condition"]},{word:"powerful",categories:["condition"]},{word:"prehistoric",categories:["time"]},{word:"prickly",categories:["touch"]},{word:"proud",categories:["personality"]},{word:"puny",categories:["size"]},{word:"purple",categories:["color"]},{word:"purring",categories:["sounds"]},{word:"putrid",categories:["taste"]},{word:"quaint",categories:["appearance"]},{word:"quick",categories:["time"]},{word:"quiet",categories:["sounds"]},{word:"rancid",categories:["taste"]},{word:"rapid",categories:["time"]},{word:"rapping",categories:["sounds"]},{word:"raspy",categories:["sounds"]},{word:"red",categories:["color"]},{word:"refined",categories:["shapes"]},{word:"repulsive",categories:["personality"]},{word:"rhythmic",categories:["sounds"]},{word:"rich",categories:["condition"]},{word:"ripe",categories:["taste"]},{word:"rotten",categories:["taste"]},{word:"rough",categories:["touch"]},{word:"round",categories:["shapes"]},{word:"salmon",categories:["color"]},{word:"salty",categories:["taste"]},{word:"savory",categories:["taste"]},{word:"scarce",categories:["quantity"]},{word:"scary",categories:["personality"]},{word:"scrawny",categories:["size"]},{word:"screeching",categories:["sounds"]},{word:"scruffy",categories:["appearance"]},{word:"shaggy",categories:["touch"]},{word:"shallow",categories:["shapes"]},{word:"shapely",categories:["appearance"]},{word:"sharp",categories:["touch"]},{word:"short",categories:["size","appearance","time"]},{word:"shrilling",categories:["sounds"]},{word:"shy",categories:["condition"]},{word:"silly",categories:["personality"]},{word:"skinny",categories:["appearance","shapes"]},{word:"slimy",categories:["touch"]},{word:"slow",categories:["time"]},{word:"small",categories:["size"]},{word:"some",categories:["quantity"]},{word:"sour",categories:["taste"]},{word:"sparse",categories:["quantity"]},{word:"spicy",categories:["taste"]},{word:"spoiled",categories:["taste"]},{word:"square",categories:["shapes"]},{word:"squeaking",categories:["sounds"]},{word:"stale",categories:["taste"]},{word:"steep",categories:["shapes"]},{word:"sticky",categories:["touch"]},{word:"stocky",categories:["appearance"]},{word:"straight",categories:["shapes"]},{word:"strong",categories:["touch"]},{word:"substantial",categories:["quantity"]},{word:"sweet",categories:["taste"]},{word:"swift",categories:["time"]},{word:"tall",categories:["size"]},{word:"tangy",categories:["taste"]},{word:"tart",categories:["taste"]},{word:"tasteless",categories:["taste"]},{word:"tasty",categories:["taste"]},{word:"teeny",categories:["size"]},{word:"tender",categories:["condition"]},{word:"thankful",categories:["personality"]},{word:"thoughtless",categories:["personality"]},{word:"thousands",categories:["quantity"]},{word:"thundering",categories:["sounds"]},{word:"tight",categories:["touch"]},{word:"tinkling",categories:["sounds"]},{word:"tiny",categories:["size"]},{word:"ugly",categories:["appearance"]},{word:"uneven",categories:["touch"]},{word:"unimportant",categories:["condition"]},{word:"uninterested",categories:["condition"]},{word:"unkempt",categories:["appearance"]},{word:"unsightly",categories:["appearance"]},{word:"uptight",categories:["personality"]},{word:"vast",categories:["condition"]},{word:"victorious",categories:["personality"]},{word:"wailing",categories:["sounds"]},{word:"warm",categories:["touch"]},{word:"weak",categories:["touch"]},{word:"wet",categories:["touch"]},{word:"whining",categories:["sounds"]},{word:"whispering",categories:["sounds"]},{word:"white",categories:["color"]},{word:"wide",categories:["shapes"]},{word:"witty",categories:["personality"]},{word:"wonderful",categories:["personality"]},{word:"wooden",categories:["touch"]},{word:"worried",categories:["personality"]},{word:"wrong",categories:["condition"]},{word:"yellow",categories:["color"]},{word:"young",categories:["time"]},{word:"yummy",categories:["taste"]},{word:"zealous",categories:["personality"]}]};function lt(ct,ht){var ut,ft;ht===void 0&&(ht=[]);var dt=new Set(ht),pt=[];try{for(var gt=it(rt.wordList[ct]),_t=gt.next();!_t.done;_t=gt.next()){var yt=_t.value;(ht.length===0||yt.categories.some(function(mt){return dt.has(mt)}))&&pt.push(yt.word)}}catch(mt){ut={error:mt}}finally{try{_t&&!_t.done&&(ft=gt.return)&&ft.call(gt)}finally{if(ut)throw ut.error}}return pt}rt.getWordsByCategory=lt})(words);var __assign=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign=Object.assign||function(rt){for(var it,lt=1,ct=arguments.length;lt<ct;lt++){it=arguments[lt];for(var ht in it)Object.prototype.hasOwnProperty.call(it,ht)&&(rt[ht]=it[ht])}return rt},__assign.apply(this,arguments)};Object.defineProperty(dist,"__esModule",{value:!0});dist.totalUniqueSlugs=generateSlug_1=dist.generateSlug=void 0;var words_1=words,DEFAULT_NUMBER_OF_WORDS=3;function generateSlug(rt,it){for(var lt=rt||DEFAULT_NUMBER_OF_WORDS,ct={partsOfSpeech:getDefaultPartsOfSpeech(lt),categories:{},format:"kebab"},ht=__assign(__assign({},ct),it),ut=[],ft=0;ft<lt;ft++){var dt=ht.partsOfSpeech[ft],pt=words_1.getWordsByCategory(ht.partsOfSpeech[ft],ht.categories[dt]),gt=pt[Math.floor(Math.random()*pt.length)];ut.push(gt)}return formatter(ut,ht.format)}var generateSlug_1=dist.generateSlug=generateSlug;function getDefaultPartsOfSpeech(rt){for(var it=[],lt=0;lt<rt-1;lt++)it.push("adjective");return it.push("noun"),it}function formatter(rt,it){return it==="kebab"?rt.join("-").toLowerCase():it==="camel"?rt.map(function(lt,ct){return ct===0?lt.toLowerCase():lt[0].toUpperCase()+lt.slice(1).toLowerCase()}).join(""):it==="lower"?rt.join(" ").toLowerCase():it==="sentence"?rt.map(function(lt,ct){return ct===0?lt[0].toUpperCase()+lt.slice(1).toLowerCase():lt}).join(" "):rt.map(function(lt){return lt[0].toUpperCase()+lt.slice(1).toLowerCase()}).join(" ")}function totalUniqueSlugs(rt,it){for(var lt,ct,ht=words_1.getWordsByCategory("adjective",(lt=it==null?void 0:it.categories)===null||lt===void 0?void 0:lt.adjective).length,ut=words_1.getWordsByCategory("noun",(ct=it==null?void 0:it.categories)===null||ct===void 0?void 0:ct.noun).length,ft={adjective:ht,noun:ut},dt=rt||DEFAULT_NUMBER_OF_WORDS,pt=(it==null?void 0:it.partsOfSpeech)||getDefaultPartsOfSpeech(dt),gt=1,_t=0;_t<dt;_t++)gt*=ft[pt[_t]];return gt}dist.totalUniqueSlugs=totalUniqueSlugs;let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const byteToHex=[];for(let rt=0;rt<256;++rt)byteToHex.push((rt+256).toString(16).slice(1));function unsafeStringify(rt,it=0){return byteToHex[rt[it+0]]+byteToHex[rt[it+1]]+byteToHex[rt[it+2]]+byteToHex[rt[it+3]]+"-"+byteToHex[rt[it+4]]+byteToHex[rt[it+5]]+"-"+byteToHex[rt[it+6]]+byteToHex[rt[it+7]]+"-"+byteToHex[rt[it+8]]+byteToHex[rt[it+9]]+"-"+byteToHex[rt[it+10]]+byteToHex[rt[it+11]]+byteToHex[rt[it+12]]+byteToHex[rt[it+13]]+byteToHex[rt[it+14]]+byteToHex[rt[it+15]]}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4(rt,it,lt){if(native.randomUUID&&!it&&!rt)return native.randomUUID();rt=rt||{};const ct=rt.random||(rt.rng||rng)();return ct[6]=ct[6]&15|64,ct[8]=ct[8]&63|128,unsafeStringify(ct)}const MAX_AUTO_HISTORY_LENGTH=30,historyModeStore=persist(writable("manual"),localStorage(),"autoHistoryMode"),autoHistoryStore=persist(writable([]),localStorage(),"autoHistoryStore"),manualHistoryStore=persist(writable([]),localStorage(),"manualHistoryStore"),loaderHistoryStore=writable([]),historyStore=derived([historyModeStore,autoHistoryStore,manualHistoryStore,loaderHistoryStore],([rt,it,lt,ct],ht)=>{switch(rt){case"auto":{ht(it);break}case"manual":{ht(lt);break}case"loader":{ht(ct);break}default:ht(it)}}),addHistoryEntry=rt=>{const it={...rt,id:v4()};if(it.type==="loader"){loaderHistoryStore.update(lt=>[it,...lt]);return}it.name||(it.name=generateSlug_1(2)),it.type==="auto"&&autoHistoryStore.update(lt=>(lt.length>=MAX_AUTO_HISTORY_LENGTH&&(lt=lt.slice(0,MAX_AUTO_HISTORY_LENGTH-1)),[it,...lt])),manualHistoryStore.update(lt=>[it,...lt]),logEvent("history",{action:"save"})},clearHistoryData=rt=>{(get$2(historyModeStore)==="auto"?autoHistoryStore:manualHistoryStore).update(it=>(get$2(historyModeStore)!=="loader"&&(it=it.filter(({id:lt})=>rt&&lt!=rt),logEvent("history",{action:"clear",type:rt?"single":"all"})),it))},getPreviousState=rt=>{const it=get$2(rt?autoHistoryStore:manualHistoryStore);return it.length>0?JSON.stringify(it[0].state):""},restoreHistory=rt=>{const it=rt.filter(ct=>validateEntry(ct)),lt=rt.length-it.length;if(lt>0&&(console.error(`${lt} invalid history entries were removed.`),console.error(rt)),it.length>0){let ct=0;(it[0].type==="auto"?autoHistoryStore:manualHistoryStore).update(ht=>{const ut=new Set(ht.map(({id:pt})=>pt)),ft=it.filter(({id:pt})=>!ut.has(pt));ct=ft.length;const dt=[...ht,...ft];return dt.sort((pt,gt)=>gt.time-pt.time),dt}),alert(`${ct} entries restored. ${lt} invalid, ${it.length-ct} duplicates.`),logEvent("history",{action:"restore",success:ct,invalid:lt,duplicates:it.length-ct})}else alert("No valid entries found.")},setIDs=rt=>{for(const it of rt)it.id||(it.id=v4());return rt},injectHistoryIDs=()=>{autoHistoryStore.update(setIDs),manualHistoryStore.update(setIDs)},validateEntry=rt=>rt.type&&rt.state&&rt.time&&!0,codeFileName="code.mmd",configFileName="config.json",isValidGist=rt=>codeFileName in rt,getFileContent=async rt=>rt.truncated?await fetchText(rt.raw_url):rt.content,getGistData=async rt=>{const it=rt.split("github.com").pop();if(!it)throw new Error("Invalid GitHub URL"+rt);const[lt,ct,ht,ut]=it.split("/"),{html_url:ft,files:dt,history:pt}=await fetchJSON(`https://api.github.com/gists/${ht}${ut?"/"+ut:""}`);if(isValidGist(dt)){const gt=await getFileContent(dt[codeFileName]);let _t="{}";configFileName in dt&&(_t=await getFileContent(dt[configFileName]));const yt=pt[0];return{url:`${ft}/${yt.version}`,code:gt,config:_t,author:yt.user.login,time:new Date(yt.committed_at).getTime(),version:yt.version.slice(-7)}}else throw new Error("Invalid gist provided")},getStateFromGist=(rt,it=rt.url)=>{const lt={...defaultState,code:rt.code,loader:{type:"gist",config:{url:it}}};return rt.config&&(lt.mermaid=rt.config),lt},loadGistData=async rt=>{const it=rt.split("github.com").pop();if(!it)throw new Error("Invalid GitHub URL"+rt);const[lt,ct,ht,ut]=it.split("/"),{history:ft}=await fetchJSON(`https://api.github.com/gists/${ht}${ut?"/"+ut:""}`),dt=[];for(const _t of ft)try{const yt=await getGistData(_t.url);dt.push(yt)}catch(yt){console.error(yt)}if(dt.length===0)throw new Error("Invalid gist provided");dt.reverse();const pt=dt.at(-1);if(!pt)throw new Error("Invalid gist provided");const gt=getStateFromGist(pt,rt);for(const _t of dt)addHistoryEntry({state:getStateFromGist(_t),time:_t.time,type:"loader",url:_t.url,name:`${_t.author} v${_t.version}`});return gt},loaders={gist:loadGistData},loadDataFromUrl=async()=>{const rt=new URLSearchParams(window.location.search);let it=defaultState,lt=!1;const ct=rt.get("code")??void 0,ht=rt.get("config")??void 0;let ut;const ft=ht?await fetchText(ht):defaultState.mermaid;if(ct&&(ut=await fetchText(ct),lt=!0),ut){if(!ct)throw new Error("Code URL is not defined");it={code:ut,mermaid:ft,loader:{type:"files",config:{codeURL:ct,configURL:ht}}}}else for(const[dt,pt]of rt.entries())if(dt in loaders)try{it=await loaders[dt](pt),lt=!0;break}catch(gt){console.error(gt)}lt&&updateCodeStore({...it,autoSync:!0,updateDiagram:!0})},migrations={injectHistoryIDs},migrationStore=persist(writable({version:-1}),localStorage(),"migrations"),applyMigrations=()=>{const{version:rt}=get$2(migrationStore),it=Object.entries(migrations);if(rt!==it.length-1){console.log(`Current migration version: v${rt}. Migrating to v${it.length-1}.`);for(let lt=rt+1;lt<it.length;lt++){const[ct,ht]=it[lt];console.log(`Applying migration ${lt}: ${ct}.`),ht(),logEvent("migration",{key:ct}),migrationStore.set({version:lt})}logEvent("migration",{status:"complete",from:rt,to:it.length-1})}},loadStateFromURL=()=>{loadState(window.location.hash.slice(1))},syncDiagram=()=>{updateCodeStore({updateDiagram:!0})},initHandler=async()=>{applyMigrations(),loadStateFromURL(),await initLoading("Loading Gist...",loadDataFromUrl().catch(console.error)),syncDiagram(),initURLSubscription(),await initAnalytics(),plausible==null||plausible.trackPageview({url:window.location.origin+window.location.pathname})},isMac=navigator.platform.toUpperCase().includes("MAC"),cmdKey=isMac?"Cmd":"Ctrl";let count=0;const errorDebug=(rt=1e3)=>{if(count+=1,count>rt){console.log(count,rt);debugger}},formatJSON=rt=>JSON.stringify(rt,void 0,2),fetchJSON=async rt=>(await fetch(rt)).json(),fetchText=async rt=>(await fetch(rt)).text(),defaultState={code:`flowchart TD
    A[Christmas] -->|Get money| B(Go shopping)
    B --> C{Let me think}
    C -->|One| D[Laptop]
    C -->|Two| E[iPhone]
    C -->|Three| F[fa:fa-car Car]
  `,mermaid:formatJSON({theme:"default"}),autoSync:!0,rough:!1,updateDiagram:!0},urlParseFailedState=`flowchart TD
    A[Loading URL failed. We can try to figure out why.] -->|Decode JSON| B(Please check the console to see the JSON and error details.)
    B --> C{Is the JSON correct?}
    C -->|Yes| D(Please Click here to Raise an issue in github.<br/>Including the broken link in the issue <br/> will speed up the fix.)
    C -->|No| E{Did someone <br/>send you this link?}
    E -->|Yes| F[Ask them to send <br/>you the complete link]
    E -->|No| G{Did you copy <br/> the complete URL?}
    G --> |Yes| D
    G --> |"No :("| H(Try using the Timeline tab in History <br/>from same browser you used to create the diagram.)
    click D href "https://github.com/mermaid-js/mermaid-live-editor/issues/new?assignees=&labels=bug&template=bug_report.md&title=Broken%20link" "Raise issue"`,inputStateStore=persist(writable(defaultState),localStorage(),"codeStore"),currentState=(()=>{const rt=get$2(inputStateStore);return{...rt,serialized:serializeState(rt),errorMarkers:[],error:void 0,editorMode:rt.editorMode??"code"}})(),processState=async rt=>{const it={...rt,serialized:"",errorMarkers:[],error:void 0,editorMode:rt.editorMode??"code"};try{it.serialized=serializeState(rt),await parse(rt.code),JSON.parse(rt.mermaid)}catch(lt){if(it.error=lt,errorDebug(),console.error(lt),"hash"in lt)try{let ct=it.error.toString();const ht=extractErrorLineText(ct),ut=findMostRelevantLineNumber(ht,rt.code);let ft,dt,pt,gt;try{({first_line:ft,last_line:dt,first_column:pt,last_column:gt}=lt.hash.loc)}catch{const yt=findMostRelevantLineNumber(ct,rt.code);ft=yt,dt=yt+1,pt=0,gt=0}ut!==-1&&(ct=replaceLineNumberInErrorMessage(ct,ut)),it.error=new Error(ct);const _t={severity:8,startLineNumber:ut,startColumn:pt,endLineNumber:dt+(ut-ft),endColumn:gt+(pt===gt?0:5),message:ct||"Syntax error"};it.errorMarkers=[_t]}catch(ct){console.error("Error without line helper",ct)}}return it},stateStore=derived([inputStateStore],([rt],it)=>{processState(rt).then(it)},currentState),loadState=rt=>{let it;console.log(`Loading '${rt}'`);try{it=deserializeState(rt),it.mermaid||(it.mermaid=defaultState.mermaid);const lt=typeof it.mermaid=="string"?JSON.parse(it.mermaid):it.mermaid;lt.securityLevel&&lt.securityLevel!=="strict"&&confirm(`Removing "securityLevel":"${lt.securityLevel}" from the config for safety.
Click Cancel if you trust the source of this Diagram.`)&&delete lt.securityLevel,it.mermaid=formatJSON(lt)}catch(lt){it=get$2(inputStateStore),rt&&(console.error("Init error",lt),it.code=urlParseFailedState,it.mermaid=defaultState.mermaid)}updateCodeStore(it)},updateCodeStore=rt=>{inputStateStore.update(it=>({...it,...rt}))},updateCode=(rt,{updateDiagram:it=!1,resetPanZoom:lt=!1}={})=>{errorDebug(),inputStateStore.update(ct=>(lt&&(ct.pan=void 0,ct.zoom=void 0),{...ct,code:rt,updateDiagram:it}))},updateConfig=rt=>{inputStateStore.update(it=>({...it,mermaid:rt}))},toggleDarkTheme=rt=>{inputStateStore.update(it=>{const lt=JSON.parse(it.mermaid);return(!lt.theme||["dark","default"].includes(lt.theme))&&(lt.theme=rt?"dark":"default"),{...it,mermaid:formatJSON(lt)}})},initURLSubscription=()=>{const rt=debounce(it=>{history.replaceState(void 0,"",`#${it}`)},250);stateStore.subscribe(({serialized:it})=>{rt(it)})},getStateString=()=>JSON.stringify(get$2(inputStateStore));export{darken as $,render$2 as A,rgba$1 as B,defaultConfig_default as C,cleanAndMerge as D,getConfig as E,random as F,setupGraphViewbox2 as G,selectSvgElement as H,version as I,JSON_SCHEMA as J,getThemeVariables3 as K,line$1 as L,hasKatex as M,calculateMathMLDimensions as N,renderKatex as O,parseFontSize as P,parseGenericTypes as Q,curveBasis as R,generateId as S,lineBreakRegex as T,__export as U,commonDb_exports as V,setupGraphViewbox as W,isDark as X,lighten as Y,ZERO_WIDTH_SPACE as Z,__name as _,assignWithDepth_default as a,identity$1 as a$,withPath as a0,halfPi as a1,epsilon as a2,tau as a3,cos as a4,sin as a5,min as a6,abs$1 as a7,pi as a8,sqrt as a9,clear2 as aA,clear as aB,clear$1 as aC,updateNodeBounds as aD,setNodeElem as aE,insertEdge as aF,positionEdgeLabel as aG,insertEdgeLabel as aH,computeDimensionOfText as aI,toggleDarkTheme as aJ,loadingStateStore as aK,commonjsGlobal as aL,getDefaultExportFromCjs as aM,__name$1 as aN,curveLinear as aO,array as aP,unsafeStringify as aQ,unknownIcon as aR,registerIconPacks as aS,getIconSVG as aT,toNumber as aU,isIterateeCall as aV,keysIn as aW,eq as aX,isArrayLike as aY,isArray as aZ,isSymbol as a_,atan2 as aa,constant as ab,asin as ac,acos as ad,max as ae,insertCluster as af,insertNode as ag,positionNode as ah,getStylesFromArray as ai,evaluate as aj,createText as ak,getSubGraphTitleMargins as al,getLineFunctionsWithOffset as am,replaceIconSubstring as an,decodeEntities as ao,Utils as ap,Color$1 as aq,persist as ar,localStorage as as,logEvent as at,baseRest as au,isArrayLikeObject as av,constant$3 as aw,isFunction as ax,isEmpty as ay,markers_default as az,getAccDescription as b,addHistoryEntry as b$,isObject$1 as b0,isIndex as b1,assignValue as b2,define as b3,extend as b4,Rgb as b5,Color as b6,rgbConvert as b7,nogamma as b8,hue as b9,cloneArrayBuffer as bA,cloneTypedArray as bB,isObjectLike as bC,getTag as bD,nodeUtil as bE,copyArray as bF,isBuffer as bG,cloneBuffer as bH,initCloneObject as bI,Stack as bJ,MapCache as bK,Uint8Array$1 as bL,isTypedArray as bM,isLength as bN,Set$1 as bO,pakoSerde as bP,env as bQ,encode as bR,errorDebug as bS,syncDiagram as bT,updateCode as bU,updateConfig as bV,loaderHistoryStore as bW,historyModeStore as bX,historyStore as bY,getStateString as bZ,getPreviousState as b_,dayjs2 as ba,constant$1 as bb,interpolateNumber as bc,color as bd,interpolateRgb as be,interpolateString as bf,debounce as bg,stateStore as bh,inputStateStore as bi,render as bj,saveStatistics as bk,cmdKey as bl,updateCodeStore as bm,setToString as bn,overRest as bo,baseFor as bp,baseAssignValue as bq,baseUnary as br,merge$1 as bs,Symbol$1 as bt,arrayLikeKeys as bu,baseKeys as bv,memoize as bw,isArguments as bx,copyObject as by,getPrototype as bz,setAccDescription as c,clearHistoryData as c0,restoreHistory as c1,plausible as c2,createAssigner as c3,isPrototype as c4,baseGetTag as c5,getConfig2 as d,common_default as e,calculateTextHeight as f,getAccTitle as g,calculateTextWidth as h,initHandler as i,sanitizeText as j,select as k,log as l,configureSvgSize as m,sanitizeUrl_1 as n,setConfig2 as o,defaultConfig2 as p,setDiagramTitle as q,getDiagramTitle as r,setAccTitle as s,load as t,isValidShape as u,utils_default as v,wrapLabel as w,clear$2 as x,getEdgeId as y,getRegisteredLayoutAlgorithm as z};

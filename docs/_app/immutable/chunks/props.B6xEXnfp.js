import{S as N,J as K,K as Z,L as P,M as $,N as y,O as D,U as _,h as g,P as L,Q as z,R as V,T as G,z as F,D as H,w as J,E as Q,x as W,A as X,C as k,V as p,W as ee,X as re,Y as te,u as j,Z as ne,_ as ae,$ as B,a0 as ie,a1 as fe,a2 as se,j as M,a3 as ue,a4 as ve,a5 as le,a6 as _e,a7 as de}from"./utils.G50m_0R7.js";import{c as ce}from"./store.CTdasAKx.js";function I(t,u=null,o){if(typeof t!="object"||t===null||N in t)return t;const b=V(t);if(b!==K&&b!==Z)return t;var a=new Map,l=G(t),R=P(0);l&&a.set("length",P(t.length));var h;return new Proxy(t,{defineProperty(f,e,r){(!("value"in r)||r.configurable===!1||r.enumerable===!1||r.writable===!1)&&$();var n=a.get(e);return n===void 0?(n=P(r.value),a.set(e,n)):y(n,I(r.value,h)),!0},deleteProperty(f,e){var r=a.get(e);if(r===void 0)e in f&&a.set(e,P(_));else{if(l&&typeof e=="string"){var n=a.get("length"),i=Number(e);Number.isInteger(i)&&i<n.v&&y(n,i)}y(r,_),U(R)}return!0},get(f,e,r){var d;if(e===N)return t;var n=a.get(e),i=e in f;if(n===void 0&&(!i||(d=D(f,e))!=null&&d.writable)&&(n=P(I(i?f[e]:_,h)),a.set(e,n)),n!==void 0){var s=g(n);return s===_?void 0:s}return Reflect.get(f,e,r)},getOwnPropertyDescriptor(f,e){var r=Reflect.getOwnPropertyDescriptor(f,e);if(r&&"value"in r){var n=a.get(e);n&&(r.value=g(n))}else if(r===void 0){var i=a.get(e),s=i==null?void 0:i.v;if(i!==void 0&&s!==_)return{enumerable:!0,configurable:!0,value:s,writable:!0}}return r},has(f,e){var s;if(e===N)return!0;var r=a.get(e),n=r!==void 0&&r.v!==_||Reflect.has(f,e);if(r!==void 0||L!==null&&(!n||(s=D(f,e))!=null&&s.writable)){r===void 0&&(r=P(n?I(f[e],h):_),a.set(e,r));var i=g(r);if(i===_)return!1}return n},set(f,e,r,n){var O;var i=a.get(e),s=e in f;if(l&&e==="length")for(var d=r;d<i.v;d+=1){var c=a.get(d+"");c!==void 0?y(c,_):d in f&&(c=P(_),a.set(d+"",c))}i===void 0?(!s||(O=D(f,e))!=null&&O.writable)&&(i=P(void 0),y(i,I(r,h)),a.set(e,i)):(s=i.v!==_,y(i,I(r,h)));var m=Reflect.getOwnPropertyDescriptor(f,e);if(m!=null&&m.set&&m.set.call(n,r),!s){if(l&&typeof e=="string"){var A=a.get("length"),E=Number(e);Number.isInteger(E)&&E>=A.v&&y(A,E+1)}U(R)}return!0},ownKeys(f){g(R);var e=Reflect.ownKeys(f).filter(i=>{var s=a.get(i);return s===void 0||s.v!==_});for(var[r,n]of a)n.v!==_&&!(r in f)&&e.push(r);return e},setPrototypeOf(){z()}})}function U(t,u=1){y(t,t.v+u)}function Y(t){return t!==null&&typeof t=="object"&&N in t?t[N]:t}function ye(t,u){return Object.is(Y(t),Y(u))}function ge(t,u,o){F&&H();var b=t,a,l;J(()=>{a!==(a=u())&&(l&&(k(l),l=null),a&&(l=W(()=>o(b,a))))},Q),F&&(b=X)}function q(t){for(var u=L,o=L;u!==null&&!(u.f&(ne|ae));)u=u.parent;try{return B(u),t()}finally{B(o)}}function Pe(t,u,o,b){var C;var a=(o&ie)!==0,l=(o&fe)!==0,R=(o&se)!==0,h=(o&_e)!==0,f=!1,e;R?[e,f]=ce(()=>t[u]):e=t[u];var r=(C=D(t,u))==null?void 0:C.set,n=b,i=!0,s=!1,d=()=>(s=!0,i&&(i=!1,h?n=j(b):n=b),n);e===void 0&&b!==void 0&&(r&&l&&p(),e=d(),r&&r(e));var c;if(l)c=()=>{var v=t[u];return v===void 0?d():(i=!0,s=!1,v)};else{var m=q(()=>(a?M:ue)(()=>t[u]));m.f|=ee,c=()=>{var v=g(m);return v!==void 0&&(n=void 0),v===void 0?n:v}}if(!(o&re))return c;if(r){var A=t.$$legacy;return function(v,w){return arguments.length>0?((!l||!w||A||f)&&r(w?c():v),v):c()}}var E=!1,O=!1,x=de(e),S=q(()=>M(()=>{var v=c(),w=g(x),T=ve;return E||v===void 0&&T.f&le?(E=!1,O=!0,w):(O=!1,x.v=v)}));return a||(S.equals=te),function(v,w){if(arguments.length>0){const T=w?g(S):l&&R?I(v):v;return S.equals(T)||(E=!0,y(x,T),s&&n!==void 0&&(n=T),j(()=>g(S))),v}return g(S)}}export{I as a,ge as c,ye as i,Pe as p};

import{B as writable,I as derived,J as get_store_value}from"./index-b1a93a0b.js";import{_ as __vitePreload}from"./preload-helper-9b728935.js";const defaultLoading={loading:!1},loadingStateStore=writable(defaultLoading),initLoading=async(e,t)=>{loadingStateStore.set({loading:!0,message:e});const r=await t;return loadingStateStore.set({loading:!1}),r};var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}var bundle$1={};(function(exports){(()=>{var __webpack_modules__={607:(module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var serializer_1=__webpack_require__(810),deserializer_1=__webpack_require__(496),Module;typeof process<"u"&&process.release&&process.release.name==="node"&&(Module=eval("require")("module"));var ESSerializer=function(){function e(){}return e.throwErrorIfInNonNodeEnvironment=function(){if(!Module)throw new Error("Cannot intercept require in non-Node environment.")},e.interceptRequire=function(){this.isRequireIntercepted||(this.isRequireIntercepted=!0,this.throwErrorIfInNonNodeEnvironment(),e.originRequire=Module.prototype.require,Module.prototype.require=function(){var t=e.originRequire.apply(this,arguments),r=t.name;return e.requiredClasses[r]||(e.requiredClasses[r]=t),t})},e.stopInterceptRequire=function(){this.throwErrorIfInNonNodeEnvironment(),Module.prototype.require=e.originRequire,this.isRequireIntercepted=!1},e.isInterceptingRequire=function(){return this.isRequireIntercepted},e.getRequiredClasses=function(){return this.requiredClasses},e.clearRequiredClasses=function(){this.requiredClasses={}},e.registerClass=function(t){this.registeredClasses.push(t)},e.registerClasses=function(t){this.registeredClasses=this.registeredClasses.concat(t)},e.clearRegisteredClasses=function(){this.registeredClasses=[]},e.serialize=function(t,r){return r===void 0&&(r={}),JSON.stringify(serializer_1.getSerializeValueWithClassName(t,r))},e.deserialize=function(t,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),deserializer_1.deserializeFromParsedObj(JSON.parse(t),Object.values(this.requiredClasses).concat(this.registeredClasses).concat(r),n)},e.originRequire=null,e.isRequireIntercepted=!1,e.requiredClasses={},e.registeredClasses=[],e}();module.exports=ESSerializer},917:function(e,t){var r=this&&this.__spreadArrays||function(){for(var _e=0,ke=0,de=arguments.length;ke<de;ke++)_e+=arguments[ke].length;var ce=Array(_e),he=0;for(ke=0;ke<de;ke++)for(var Se=arguments[ke],ve=0,me=Se.length;ve<me;ve++,he++)ce[he]=Se[ve];return ce};Object.defineProperty(t,"__esModule",{value:!0}),t.TO_STRING_FIELD=t.TIMESTAMP_FIELD=t.OPTIONS_FIELD=t.CLASS_NAME_FIELD=t.BOOLEAN_FIELD=t.ARRAY_FIELD=t.BUILTIN_TYPE_UNDEFINED=t.BUILTIN_TYPE_NOT_FINITE=t.BUILTIN_TYPE_BIG_INT=t.BUILTIN_CLASS_AGGREGATE_ERROR=t.BUILTIN_CLASS_URI_ERROR=t.BUILTIN_CLASS_TYPE_ERROR=t.BUILTIN_CLASS_SYNTAX_ERROR=t.BUILTIN_CLASS_REFERENCE_ERROR=t.BUILTIN_CLASS_RANGE_ERROR=t.BUILTIN_CLASS_EVAL_ERROR=t.BUILTIN_CLASS_ERROR=t.BUILTIN_CLASS_STRING=t.BUILTIN_CLASS_SET=t.BUILTIN_CLASS_REGEXP=t.BUILTIN_CLASS_INTL_RELATIVETIMEFORMAT=t.BUILTIN_CLASS_INTL_PLURALRULES=t.BUILTIN_CLASS_INTL_NUMBERFORMAT=t.BUILTIN_CLASS_INTL_LOCALE=t.BUILTIN_CLASS_INTL_LISTFORMAT=t.BUILTIN_CLASS_INTL_DATETIMEFORMAT=t.BUILTIN_CLASS_INTL_COLLATOR=t.BUILTIN_CLASS_DATE=t.BUILTIN_CLASS_DATAVIEW=t.BUILTIN_CLASS_BOOLEAN=t.BUILTIN_CLASS_SHAREDARRAYBUFFER=t.BUILTIN_CLASS_ARRAYBUFFER=t.BUILTIN_CLASS_BIGUINT64ARRAY=t.BUILTIN_CLASS_BIGINT64ARRAY=t.BUILTIN_CLASS_FLOAT64ARRAY=t.BUILTIN_CLASS_FLOAT32ARRAY=t.BUILTIN_CLASS_UINT32ARRAY=t.BUILTIN_CLASS_INT32ARRAY=t.BUILTIN_CLASS_UINT16ARRAY=t.BUILTIN_CLASS_INT16ARRAY=t.BUILTIN_CLASS_UINT8CLAMPEDARRAY=t.BUILTIN_CLASS_UINT8ARRAY=t.BUILTIN_CLASS_INT8ARRAY=t.CLASSNAMES_WHOSE_ENUMERABLE_PROPERTIES_SHOULD_BE_IGNORED=t.ALL_BUILTIN_INTLS=t.ALL_BUILTIN_ERRORS=t.ALL_BUILTIN_ARRAYS=t.ESSERIALIZER_NULL=void 0,t.ESSERIALIZER_NULL="__ESSERIALIZER_NULL__",t.ARRAY_FIELD="ess_arr",t.BOOLEAN_FIELD="ess_bool",t.CLASS_NAME_FIELD="ess_cn",t.OPTIONS_FIELD="ess_opt",t.TIMESTAMP_FIELD="ess_ts",t.TO_STRING_FIELD="ess_str";var n="Int8Array";t.BUILTIN_CLASS_INT8ARRAY=n;var o="Uint8Array";t.BUILTIN_CLASS_UINT8ARRAY=o;var l="Uint8ClampedArray";t.BUILTIN_CLASS_UINT8CLAMPEDARRAY=l;var u="Int16Array";t.BUILTIN_CLASS_INT16ARRAY=u;var h="Uint16Array";t.BUILTIN_CLASS_UINT16ARRAY=h;var f="Int32Array";t.BUILTIN_CLASS_INT32ARRAY=f;var d="Uint32Array";t.BUILTIN_CLASS_UINT32ARRAY=d;var p="Float32Array";t.BUILTIN_CLASS_FLOAT32ARRAY=p;var m="Float64Array";t.BUILTIN_CLASS_FLOAT64ARRAY=m;var g="BigInt64Array";t.BUILTIN_CLASS_BIGINT64ARRAY=g;var b="BigUint64Array";t.BUILTIN_CLASS_BIGUINT64ARRAY=b,t.BUILTIN_CLASS_ARRAYBUFFER="ArrayBuffer",t.BUILTIN_CLASS_SHAREDARRAYBUFFER="SharedArrayBuffer",t.BUILTIN_CLASS_BOOLEAN="Boolean",t.BUILTIN_CLASS_DATAVIEW="DataView",t.BUILTIN_CLASS_DATE="Date";var v="Collator";t.BUILTIN_CLASS_INTL_COLLATOR=v;var T="DateTimeFormat";t.BUILTIN_CLASS_INTL_DATETIMEFORMAT=T;var R="ListFormat";t.BUILTIN_CLASS_INTL_LISTFORMAT=R,t.BUILTIN_CLASS_INTL_LOCALE="Locale";var I="NumberFormat";t.BUILTIN_CLASS_INTL_NUMBERFORMAT=I;var N="PluralRules";t.BUILTIN_CLASS_INTL_PLURALRULES=N;var q="RelativeTimeFormat";t.BUILTIN_CLASS_INTL_RELATIVETIMEFORMAT=q,t.BUILTIN_CLASS_REGEXP="RegExp",t.BUILTIN_CLASS_SET="Set";var F="String";t.BUILTIN_CLASS_STRING=F;var H="Error";t.BUILTIN_CLASS_ERROR=H;var V="EvalError";t.BUILTIN_CLASS_EVAL_ERROR=V;var z="RangeError";t.BUILTIN_CLASS_RANGE_ERROR=z;var G="ReferenceError";t.BUILTIN_CLASS_REFERENCE_ERROR=G;var P="SyntaxError";t.BUILTIN_CLASS_SYNTAX_ERROR=P;var W="TypeError";t.BUILTIN_CLASS_TYPE_ERROR=W;var S="URIError";t.BUILTIN_CLASS_URI_ERROR=S;var U="AggregateError";t.BUILTIN_CLASS_AGGREGATE_ERROR=U,t.BUILTIN_TYPE_BIG_INT="BI",t.BUILTIN_TYPE_NOT_FINITE="NF",t.BUILTIN_TYPE_UNDEFINED="UD";var L=[n,o,l,u,h,f,d,p,m,g,b];t.ALL_BUILTIN_ARRAYS=L;var ae=[H,V,z,G,P,W,S,U];t.ALL_BUILTIN_ERRORS=ae;var Q=[v,T,R,I,N,q];t.ALL_BUILTIN_INTLS=Q;var ue=r([F],L);t.CLASSNAMES_WHOSE_ENUMERABLE_PROPERTIES_SHOULD_BE_IGNORED=ue},496:function(e,t,r){var n=this&&this.__spreadArrays||function(){for(var I=0,N=0,q=arguments.length;N<q;N++)I+=arguments[N].length;var F=Array(I),H=0;for(N=0;N<q;N++)for(var V=arguments[N],z=0,G=V.length;z<G;z++,H++)F[H]=V[z];return F};Object.defineProperty(t,"__esModule",{value:!0}),t.getParentClassName=t.getClassMappingFromClassArray=t.deserializeFromParsedObjWithClassMapping=t.deserializeFromParsedObj=void 0;var o=r(821),l=r(917),u=/^\s*class\s+/;function h(I,N,q){if(q===void 0&&(q={}),o.notObject(I))return I;if(Array.isArray(I))return f(I,N);var F=I[l.CLASS_NAME_FIELD],H=function(G,P,W){switch(G){case l.BUILTIN_CLASS_INT8ARRAY:return d(P[l.ARRAY_FIELD],Int8Array);case l.BUILTIN_CLASS_UINT8ARRAY:return d(P[l.ARRAY_FIELD],Uint8Array);case l.BUILTIN_CLASS_UINT8CLAMPEDARRAY:return d(P[l.ARRAY_FIELD],Uint8ClampedArray);case l.BUILTIN_CLASS_INT16ARRAY:return d(P[l.ARRAY_FIELD],Int16Array);case l.BUILTIN_CLASS_UINT16ARRAY:return d(P[l.ARRAY_FIELD],Uint16Array);case l.BUILTIN_CLASS_INT32ARRAY:return d(P[l.ARRAY_FIELD],Int32Array);case l.BUILTIN_CLASS_UINT32ARRAY:return d(P[l.ARRAY_FIELD],Uint32Array);case l.BUILTIN_CLASS_FLOAT32ARRAY:return d(P[l.ARRAY_FIELD],Float32Array);case l.BUILTIN_CLASS_FLOAT64ARRAY:return d(P[l.ARRAY_FIELD],Float64Array);case l.BUILTIN_CLASS_BIGINT64ARRAY:return p(P[l.ARRAY_FIELD],BigInt64Array);case l.BUILTIN_CLASS_BIGUINT64ARRAY:return p(P[l.ARRAY_FIELD],BigUint64Array);case l.BUILTIN_TYPE_BIG_INT:return m(P[l.TO_STRING_FIELD]);case l.BUILTIN_TYPE_UNDEFINED:return;case l.BUILTIN_TYPE_NOT_FINITE:return o.getValueFromToStringResult(P[l.TO_STRING_FIELD]);case l.BUILTIN_CLASS_ARRAYBUFFER:return S=P[l.ARRAY_FIELD],new Uint8Array(S).buffer;case l.BUILTIN_CLASS_SHAREDARRAYBUFFER:return function(U){var L=new SharedArrayBuffer(U.length),ae=new Uint8Array(L);return U.forEach(function(Q,ue){ae[ue]=Q}),L}(P[l.ARRAY_FIELD]);case l.BUILTIN_CLASS_BOOLEAN:return function(U){return new Boolean(U[l.BOOLEAN_FIELD])}(P);case l.BUILTIN_CLASS_DATAVIEW:return function(U){return new DataView(new Uint8Array(U).buffer)}(P[l.ARRAY_FIELD]);case l.BUILTIN_CLASS_DATE:return function(U){return typeof U[l.TIMESTAMP_FIELD]=="number"?new Date(U[l.TIMESTAMP_FIELD]):null}(P);case l.BUILTIN_CLASS_INTL_COLLATOR:return g(P,Intl.Collator);case l.BUILTIN_CLASS_INTL_DATETIMEFORMAT:return g(P,Intl.DateTimeFormat);case l.BUILTIN_CLASS_INTL_LISTFORMAT:return g(P,Intl.ListFormat);case l.BUILTIN_CLASS_INTL_LOCALE:return new Intl.Locale(P[l.TO_STRING_FIELD]);case l.BUILTIN_CLASS_INTL_NUMBERFORMAT:return g(P,Intl.NumberFormat);case l.BUILTIN_CLASS_INTL_PLURALRULES:return g(P,Intl.PluralRules);case l.BUILTIN_CLASS_INTL_RELATIVETIMEFORMAT:return g(P,Intl.RelativeTimeFormat);case l.BUILTIN_CLASS_REGEXP:return function(U){var L=U[l.TO_STRING_FIELD],ae=L.lastIndexOf("/");return new RegExp(L.substring(1,ae),L.substring(ae+1))}(P);case l.BUILTIN_CLASS_SET:return function(U,L){return new Set(f(U[l.ARRAY_FIELD],L))}(P,W);case l.BUILTIN_CLASS_STRING:return function(U){return new String(U[l.TO_STRING_FIELD])}(P);case l.BUILTIN_CLASS_ERROR:return b(P,Error);case l.BUILTIN_CLASS_EVAL_ERROR:return b(P,EvalError);case l.BUILTIN_CLASS_RANGE_ERROR:return b(P,RangeError);case l.BUILTIN_CLASS_REFERENCE_ERROR:return b(P,ReferenceError);case l.BUILTIN_CLASS_SYNTAX_ERROR:return b(P,SyntaxError);case l.BUILTIN_CLASS_TYPE_ERROR:return b(P,TypeError);case l.BUILTIN_CLASS_URI_ERROR:return b(P,URIError);case l.BUILTIN_CLASS_AGGREGATE_ERROR:return b(P,AggregateError);default:return l.ESSERIALIZER_NULL}var S}(F,I,N);if(H!==l.ESSERIALIZER_NULL)return H;if(F&&!N[F])throw new Error("Class "+F+" not found");var V=[];q.fieldsForConstructorParameters&&(V=q.fieldsForConstructorParameters.map(function(G){return G in I?I[G]:{}}));var z=function(G,P){var W={};if(!G)return W;var S=G.length-P.length;if(S>0&&(P=P.concat(Array.from(Array(S),function(){return{}}))),u.test(G.toString()))try{W=new(G.bind.apply(G,n([void 0],P)))}catch{v(G.name),W={},Object.setPrototypeOf(W,G?G.prototype:Object.prototype)}else{W=Object.create(G.prototype.constructor.prototype);try{G.prototype.constructor.call(W,P)}catch{v(G.name)}}return W}(N[F],V);return function(G,P,W,S){for(var U in P){var L=P[U];if(!S.ignoreProperties||!S.ignoreProperties.includes(U))if(S.rawProperties&&S.rawProperties.includes(U))G[U]=JSON.stringify(L);else{var ae=Object.getOwnPropertyDescriptor(G,U);Q=L,ue=ae,U===l.CLASS_NAME_FIELD||ue&&(typeof ue.set=="function"||ue.writable===!1&&typeof Q!="object")||(ae&&ae.writable===!1&&typeof L=="object"?T(G[U],L,W):G[U]=h(L,W))}}var Q,ue;return G}(z,I,N,q)}function f(I,N){return I.map(function(q){return h(q,N)})}function d(I,N){return new N(I)}function p(I,N){return new N(I.map(function(q){return m(q[l.TO_STRING_FIELD])}))}function m(I){return BigInt(I)}function g(I,N){var q=I[l.OPTIONS_FIELD],F=q.locale;return delete q.locale,new N(F,q)}function b(I,N){var q;return delete(q=I.message?new N(I.message):new N).stack,I.name&&(q.name=I.name),I.stack&&(q.stack=I.stack),N===AggregateError&&(q.errors=h(I.errors,{})),q}function v(I){console.warn("Incorrect parameter type passed to constructor: "+I)}function T(I,N,q){for(var F in N){var H=Object.getOwnPropertyDescriptor(I,F);H&&H.writable!==!0&&typeof H.set!="function"||(I[F]=h(N[F],q))}}function R(I){I===void 0&&(I=[]);var N={};return I.forEach(function(q){if(o.isClass(q)){var F=q.name,H=N[F];H&&H!==q&&console.warn("WARNING: Found class definition with the same name: "+F),N[F]=q}}),N}t.deserializeFromParsedObj=function(I,N,q){return h(I,R(N),q)},t.deserializeFromParsedObjWithClassMapping=h,t.getClassMappingFromClassArray=R,t.getParentClassName=function(I){return I.prototype.__proto__.constructor.name}},821:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isClass=t.notObject=t.getValueFromToStringResult=void 0,t.notObject=function(r){return r===null||typeof r!="object"},t.getValueFromToStringResult=function(r){switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN;default:return null}},t.isClass=function(r){if(function(n){return[Date].indexOf(n)>=0}(r))return!0;try{Reflect.construct(String,[],r)}catch{return!1}return!0}},810:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSerializeValueWithClassName=void 0;var n=r(917),o=r(821);function l(h,f){f===void 0&&(f={});var d=function(b){var v,T,R;return b===void 0?((v={})[n.CLASS_NAME_FIELD]=n.BUILTIN_TYPE_UNDEFINED,v):typeof b!="number"||isFinite(b)?typeof b=="bigint"?((R={})[n.CLASS_NAME_FIELD]=n.BUILTIN_TYPE_BIG_INT,R[n.TO_STRING_FIELD]=b.toString(),R):o.notObject(b)?b:n.ESSERIALIZER_NULL:((T={})[n.CLASS_NAME_FIELD]=n.BUILTIN_TYPE_NOT_FINITE,T[n.TO_STRING_FIELD]=b.toString(),T)}(h);if(d!==n.ESSERIALIZER_NULL)return d;if(Array.isArray(h))return u(h);var p={};if(!function(b){var v=b.__proto__.constructor.name;return n.CLASSNAMES_WHOSE_ENUMERABLE_PROPERTIES_SHOULD_BE_IGNORED.includes(v)}(h)){if(f.ignoreProperties&&f.ignoreProperties.forEach(function(b){delete h[b]}),f.interceptProperties)for(var m in f.interceptProperties)h[m]=f.interceptProperties[m].call(h,h[m]);for(var g in h)p[g]=l(h[g])}return function(b,v){var T=b.__proto__.constructor.name;return T!=="Object"&&(v[n.CLASS_NAME_FIELD]=T,T===n.BUILTIN_CLASS_ARRAYBUFFER||T===n.BUILTIN_CLASS_SHAREDARRAYBUFFER?v[n.ARRAY_FIELD]=u(Array.from(new Uint8Array(b))):T===n.BUILTIN_CLASS_BOOLEAN?v[n.BOOLEAN_FIELD]=b.valueOf():T===n.BUILTIN_CLASS_DATAVIEW?v[n.ARRAY_FIELD]=u(Array.from(new Uint8Array(b.buffer))):T===n.BUILTIN_CLASS_DATE?v[n.TIMESTAMP_FIELD]=b.getTime():T===n.BUILTIN_CLASS_INTL_LOCALE||T===n.BUILTIN_CLASS_REGEXP?v[n.TO_STRING_FIELD]=b.toString():T===n.BUILTIN_CLASS_SET?v[n.ARRAY_FIELD]=u(Array.from(b)):T===n.BUILTIN_CLASS_STRING?v[n.TO_STRING_FIELD]=b.toString():n.ALL_BUILTIN_ARRAYS.includes(T)?v[n.ARRAY_FIELD]=u(Array.from(b)):n.ALL_BUILTIN_ERRORS.includes(T)?function(R,I,N){R.name!=="Error"&&(I.name=R.name),R.message&&(I.message=R.message),R.stack&&(I.stack=R.stack),N===n.BUILTIN_CLASS_AGGREGATE_ERROR&&(I.errors=l(R.errors))}(b,v,T):n.ALL_BUILTIN_INTLS.includes(T)&&(v[n.OPTIONS_FIELD]=b.resolvedOptions())),v}(h,p)}function u(h){return h.map(function(f){return l(f)})}t.getSerializeValueWithClassName=l}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(t!==void 0)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}var __webpack_exports__=__webpack_require__(607),__webpack_export_target__=exports;for(var i in __webpack_exports__)__webpack_export_target__[i]=__webpack_exports__[i];__webpack_exports__.__esModule&&Object.defineProperty(__webpack_export_target__,"__esModule",{value:!0})})()})(bundle$1);const ESSerializer=getDefaultExportFromCjs(bundle$1),alreadyWarnFor=[],warnStorageNotFound=e=>{const t=typeof process<"u"&&!0;if(!alreadyWarnFor.includes(e)&&!t){let r=`Unable to find the ${e}. No data will be persisted.`;typeof window>"u"&&(r+=`
Are you running on a server? Most of storages are not available while running on a server.`),console.warn(r),alreadyWarnFor.push(e)}},serialize$1=e=>ESSerializer.serialize(e),deserialize=e=>{if(e!=="undefined"){if(e!=null){try{return ESSerializer.deserialize(e)}catch{}try{return JSON.parse(e)}catch{}}return e}};function persist(e,t,r){const n=t.getValue(r);return n!==null&&e.set(n),"addListener"in t&&t.addListener(r,o=>{e.set(o)}),e.subscribe(o=>{t.setValue(r,o)}),{...e,delete(){t.deleteValue(r)}}}function getBrowserStorage(e,t=!1){const r=[],n=u=>{const h=u.key;u.storageArea===e&&r.filter(({key:f})=>f===h).forEach(({listener:f})=>{f(deserialize(u.newValue))})},o=()=>{t&&typeof window<"u"&&window.addEventListener&&window.addEventListener("storage",n)},l=()=>{t&&typeof window<"u"&&window.removeEventListener&&window.removeEventListener("storage",n)};return{addListener(u,h){r.push({key:u,listener:h}),r.length===1&&o()},removeListener(u,h){const f=r.indexOf({key:u,listener:h});f!==-1&&r.splice(f,1),r.length===0&&l()},getValue(u){const h=e.getItem(u);return deserialize(h)},deleteValue(u){e.removeItem(u)},setValue(u,h){e.setItem(u,serialize$1(h))}}}function localStorage(e=!1){return typeof window<"u"&&window.localStorage?getBrowserStorage(window.localStorage,e):(warnStorageNotFound("window.localStorage"),noopStorage())}function noopStorage(){return{getValue(){return null},deleteValue(){},setValue(){}}}let analytics;const initAnalytics=async()=>{if(!analytics)try{const[{Analytics:e},{default:t}]=await Promise.all([__vitePreload(()=>import("./analytics.browser.es-80770405.js"),[],import.meta.url),__vitePreload(()=>import("./plausible-721f44c8.js").then(r=>r.p),[],import.meta.url)]);analytics=e({app:"mermaid-live-editor",plugins:[t({domain:"mermaid.live",hashMode:!1,trackLocalhost:!1,apiHost:"https://plausible.io"})]})}catch(e){console.log(e),console.info("Analytics blocked ;)")}},detectType$1=e=>{const t=["classDiagram","erDiagram","flowChart","gantt","gitGraph","graph","journey","pie","stateDiagram"],r=e.replace(/^\s*%%.*\n/g,`
`).trimStart().split(" ")[0].toLowerCase();return t.find(o=>r.includes(o.toLowerCase()))},countLines=e=>{var t,r;return((r=(t=e.match(/\n/g))==null?void 0:t.length)!=null?r:0)+1},saveStatistics=e=>{const t=detectType$1(e);if(!t)return;const r=countLines(e);logEvent("render",{graphType:t,length:r})},minutesToMilliSeconds=e=>e*6e4,defaultDelay=minutesToMilliSeconds(1),delaysPerEvent={render:minutesToMilliSeconds(5),panZoom:minutesToMilliSeconds(10),copyClipboard:defaultDelay,download:defaultDelay,copyMarkdown:defaultDelay,loadGist:defaultDelay,loadSampleDiagram:defaultDelay,renderDiagram:defaultDelay,history:defaultDelay,migration:defaultDelay,themeChange:defaultDelay},timeouts=new Map,logEvent=(e,t)=>{if(!analytics)return;const r=t?JSON.stringify({name:e,data:t}):e;timeouts.has(r)?clearTimeout(timeouts.get(r)):analytics.track(e,t),timeouts.set(r,window.setTimeout(()=>timeouts.delete(r),delaysPerEvent[e]))};/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1$1(e){let t=e.length;for(;--t>=0;)e[t]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1$1(base_length);const base_dist=new Array(D_CODES$1);zero$1$1(base_dist);function StaticTreeDesc(e,t,r,n,o){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=o,this.has_stree=e&&e.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const d_code=e=>e<256?_dist_code[e]:_dist_code[256+(e>>>7)],put_short=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},send_bits=(e,t,r)=>{e.bi_valid>Buf_size-r?(e.bi_buf|=t<<e.bi_valid&65535,put_short(e,e.bi_buf),e.bi_buf=t>>Buf_size-e.bi_valid,e.bi_valid+=r-Buf_size):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},send_code=(e,t,r)=>{send_bits(e,r[t*2],r[t*2+1])},bi_reverse=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},bi_flush=e=>{e.bi_valid===16?(put_short(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},gen_bitlen=(e,t)=>{const r=t.dyn_tree,n=t.max_code,o=t.stat_desc.static_tree,l=t.stat_desc.has_stree,u=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,f=t.stat_desc.max_length;let d,p,m,g,b,v,T=0;for(g=0;g<=MAX_BITS$1;g++)e.bl_count[g]=0;for(r[e.heap[e.heap_max]*2+1]=0,d=e.heap_max+1;d<HEAP_SIZE$1;d++)p=e.heap[d],g=r[r[p*2+1]*2+1]+1,g>f&&(g=f,T++),r[p*2+1]=g,!(p>n)&&(e.bl_count[g]++,b=0,p>=h&&(b=u[p-h]),v=r[p*2],e.opt_len+=v*(g+b),l&&(e.static_len+=v*(o[p*2+1]+b)));if(T!==0){do{for(g=f-1;e.bl_count[g]===0;)g--;e.bl_count[g]--,e.bl_count[g+1]+=2,e.bl_count[f]--,T-=2}while(T>0);for(g=f;g!==0;g--)for(p=e.bl_count[g];p!==0;)m=e.heap[--d],!(m>n)&&(r[m*2+1]!==g&&(e.opt_len+=(g-r[m*2+1])*r[m*2],r[m*2+1]=g),p--)}},gen_codes=(e,t,r)=>{const n=new Array(MAX_BITS$1+1);let o=0,l,u;for(l=1;l<=MAX_BITS$1;l++)o=o+r[l-1]<<1,n[l]=o;for(u=0;u<=t;u++){let h=e[u*2+1];h!==0&&(e[u*2]=bi_reverse(n[h]++,h))}},tr_static_init=()=>{let e,t,r,n,o;const l=new Array(MAX_BITS$1+1);for(r=0,n=0;n<LENGTH_CODES$1-1;n++)for(base_length[n]=r,e=0;e<1<<extra_lbits[n];e++)_length_code[r++]=n;for(_length_code[r-1]=n,o=0,n=0;n<16;n++)for(base_dist[n]=o,e=0;e<1<<extra_dbits[n];e++)_dist_code[o++]=n;for(o>>=7;n<D_CODES$1;n++)for(base_dist[n]=o<<7,e=0;e<1<<extra_dbits[n]-7;e++)_dist_code[256+o++]=n;for(t=0;t<=MAX_BITS$1;t++)l[t]=0;for(e=0;e<=143;)static_ltree[e*2+1]=8,e++,l[8]++;for(;e<=255;)static_ltree[e*2+1]=9,e++,l[9]++;for(;e<=279;)static_ltree[e*2+1]=7,e++,l[7]++;for(;e<=287;)static_ltree[e*2+1]=8,e++,l[8]++;for(gen_codes(static_ltree,L_CODES$1+1,l),e=0;e<D_CODES$1;e++)static_dtree[e*2+1]=5,static_dtree[e*2]=bi_reverse(e,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=e=>{let t;for(t=0;t<L_CODES$1;t++)e.dyn_ltree[t*2]=0;for(t=0;t<D_CODES$1;t++)e.dyn_dtree[t*2]=0;for(t=0;t<BL_CODES$1;t++)e.bl_tree[t*2]=0;e.dyn_ltree[END_BLOCK*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},bi_windup=e=>{e.bi_valid>8?put_short(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},smaller=(e,t,r,n)=>{const o=t*2,l=r*2;return e[o]<e[l]||e[o]===e[l]&&n[t]<=n[r]},pqdownheap=(e,t,r)=>{const n=e.heap[r];let o=r<<1;for(;o<=e.heap_len&&(o<e.heap_len&&smaller(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!smaller(t,n,e.heap[o],e.depth));)e.heap[r]=e.heap[o],r=o,o<<=1;e.heap[r]=n},compress_block=(e,t,r)=>{let n,o,l=0,u,h;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+l++]&255,n+=(e.pending_buf[e.sym_buf+l++]&255)<<8,o=e.pending_buf[e.sym_buf+l++],n===0?send_code(e,o,t):(u=_length_code[o],send_code(e,u+LITERALS$1+1,t),h=extra_lbits[u],h!==0&&(o-=base_length[u],send_bits(e,o,h)),n--,u=d_code(n),send_code(e,u,r),h=extra_dbits[u],h!==0&&(n-=base_dist[u],send_bits(e,n,h)));while(l<e.sym_next);send_code(e,END_BLOCK,t)},build_tree=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,o=t.stat_desc.has_stree,l=t.stat_desc.elems;let u,h,f=-1,d;for(e.heap_len=0,e.heap_max=HEAP_SIZE$1,u=0;u<l;u++)r[u*2]!==0?(e.heap[++e.heap_len]=f=u,e.depth[u]=0):r[u*2+1]=0;for(;e.heap_len<2;)d=e.heap[++e.heap_len]=f<2?++f:0,r[d*2]=1,e.depth[d]=0,e.opt_len--,o&&(e.static_len-=n[d*2+1]);for(t.max_code=f,u=e.heap_len>>1;u>=1;u--)pqdownheap(e,r,u);d=l;do u=e.heap[1],e.heap[1]=e.heap[e.heap_len--],pqdownheap(e,r,1),h=e.heap[1],e.heap[--e.heap_max]=u,e.heap[--e.heap_max]=h,r[d*2]=r[u*2]+r[h*2],e.depth[d]=(e.depth[u]>=e.depth[h]?e.depth[u]:e.depth[h])+1,r[u*2+1]=r[h*2+1]=d,e.heap[1]=d++,pqdownheap(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],gen_bitlen(e,t),gen_codes(r,f,e.bl_count)},scan_tree=(e,t,r)=>{let n,o=-1,l,u=t[0*2+1],h=0,f=7,d=4;for(u===0&&(f=138,d=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)l=u,u=t[(n+1)*2+1],!(++h<f&&l===u)&&(h<d?e.bl_tree[l*2]+=h:l!==0?(l!==o&&e.bl_tree[l*2]++,e.bl_tree[REP_3_6*2]++):h<=10?e.bl_tree[REPZ_3_10*2]++:e.bl_tree[REPZ_11_138*2]++,h=0,o=l,u===0?(f=138,d=3):l===u?(f=6,d=3):(f=7,d=4))},send_tree=(e,t,r)=>{let n,o=-1,l,u=t[0*2+1],h=0,f=7,d=4;for(u===0&&(f=138,d=3),n=0;n<=r;n++)if(l=u,u=t[(n+1)*2+1],!(++h<f&&l===u)){if(h<d)do send_code(e,l,e.bl_tree);while(--h!==0);else l!==0?(l!==o&&(send_code(e,l,e.bl_tree),h--),send_code(e,REP_3_6,e.bl_tree),send_bits(e,h-3,2)):h<=10?(send_code(e,REPZ_3_10,e.bl_tree),send_bits(e,h-3,3)):(send_code(e,REPZ_11_138,e.bl_tree),send_bits(e,h-11,7));h=0,o=l,u===0?(f=138,d=3):l===u?(f=6,d=3):(f=7,d=4)}},build_bl_tree=e=>{let t;for(scan_tree(e,e.dyn_ltree,e.l_desc.max_code),scan_tree(e,e.dyn_dtree,e.d_desc.max_code),build_tree(e,e.bl_desc),t=BL_CODES$1-1;t>=3&&e.bl_tree[bl_order[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},send_all_trees=(e,t,r,n)=>{let o;for(send_bits(e,t-257,5),send_bits(e,r-1,5),send_bits(e,n-4,4),o=0;o<n;o++)send_bits(e,e.bl_tree[bl_order[o]*2+1],3);send_tree(e,e.dyn_ltree,t-1),send_tree(e,e.dyn_dtree,r-1)},detect_data_type=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return Z_BINARY;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Z_TEXT;for(r=32;r<LITERALS$1;r++)if(e.dyn_ltree[r*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=e=>{static_init_done||(tr_static_init(),static_init_done=!0),e.l_desc=new TreeDesc(e.dyn_ltree,static_l_desc),e.d_desc=new TreeDesc(e.dyn_dtree,static_d_desc),e.bl_desc=new TreeDesc(e.bl_tree,static_bl_desc),e.bi_buf=0,e.bi_valid=0,init_block(e)},_tr_stored_block$1=(e,t,r,n)=>{send_bits(e,(STORED_BLOCK<<1)+(n?1:0),3),bi_windup(e),put_short(e,r),put_short(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},_tr_align$1=e=>{send_bits(e,STATIC_TREES<<1,3),send_code(e,END_BLOCK,static_ltree),bi_flush(e)},_tr_flush_block$1=(e,t,r,n)=>{let o,l,u=0;e.level>0?(e.strm.data_type===Z_UNKNOWN$1&&(e.strm.data_type=detect_data_type(e)),build_tree(e,e.l_desc),build_tree(e,e.d_desc),u=build_bl_tree(e),o=e.opt_len+3+7>>>3,l=e.static_len+3+7>>>3,l<=o&&(o=l)):o=l=r+5,r+4<=o&&t!==-1?_tr_stored_block$1(e,t,r,n):e.strategy===Z_FIXED$1||l===o?(send_bits(e,(STATIC_TREES<<1)+(n?1:0),3),compress_block(e,static_ltree,static_dtree)):(send_bits(e,(DYN_TREES<<1)+(n?1:0),3),send_all_trees(e,e.l_desc.max_code+1,e.d_desc.max_code+1,u+1),compress_block(e,e.dyn_ltree,e.dyn_dtree)),init_block(e),n&&bi_windup(e)},_tr_tally$1=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(_length_code[r]+LITERALS$1+1)*2]++,e.dyn_dtree[d_code(t)*2]++),e.sym_next===e.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(e,t,r,n)=>{let o=e&65535|0,l=e>>>16&65535|0,u=0;for(;r!==0;){u=r>2e3?2e3:r,r-=u;do o=o+t[n++]|0,l=l+o|0;while(--u);o%=65521,l%=65521}return o|l<<16|0};var adler32_1=adler32;const makeTable=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},crcTable=new Uint32Array(makeTable()),crc32=(e,t,r,n)=>{const o=crcTable,l=n+r;e^=-1;for(let u=n;u<l;u++)e=e>>>8^o[(e^t[u])&255];return e^-1};var crc32_1=crc32,messages$1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(e,t)=>(e.msg=messages$1[t],t),rank$2=e=>e*2-(e>4?9:0),zero$3=e=>{let t=e.length;for(;--t>=0;)e[t]=0},slide_hash=e=>{let t,r,n,o=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=o?r-o:0;while(--t);t=o,n=t;do r=e.prev[--n],e.prev[n]=r>=o?r-o:0;while(--t)};let HASH_ZLIB=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,HASH=HASH_ZLIB;const flush_pending=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},flush_block_only=(e,t)=>{_tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,flush_pending(e.strm)},put_byte=(e,t)=>{e.pending_buf[e.pending++]=t},putShortMSB=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},read_buf=(e,t,r,n)=>{let o=e.avail_in;return o>n&&(o=n),o===0?0:(e.avail_in-=o,t.set(e.input.subarray(e.next_in,e.next_in+o),r),e.state.wrap===1?e.adler=adler32_1(e.adler,t,o,r):e.state.wrap===2&&(e.adler=crc32_1(e.adler,t,o,r)),e.next_in+=o,e.total_in+=o,o)},longest_match=(e,t)=>{let r=e.max_chain_length,n=e.strstart,o,l,u=e.prev_length,h=e.nice_match;const f=e.strstart>e.w_size-MIN_LOOKAHEAD?e.strstart-(e.w_size-MIN_LOOKAHEAD):0,d=e.window,p=e.w_mask,m=e.prev,g=e.strstart+MAX_MATCH;let b=d[n+u-1],v=d[n+u];e.prev_length>=e.good_match&&(r>>=2),h>e.lookahead&&(h=e.lookahead);do if(o=t,!(d[o+u]!==v||d[o+u-1]!==b||d[o]!==d[n]||d[++o]!==d[n+1])){n+=2,o++;do;while(d[++n]===d[++o]&&d[++n]===d[++o]&&d[++n]===d[++o]&&d[++n]===d[++o]&&d[++n]===d[++o]&&d[++n]===d[++o]&&d[++n]===d[++o]&&d[++n]===d[++o]&&n<g);if(l=MAX_MATCH-(g-n),n=g-MAX_MATCH,l>u){if(e.match_start=t,u=l,l>=h)break;b=d[n+u-1],v=d[n+u]}}while((t=m[t&p])>f&&--r!==0);return u<=e.lookahead?u:e.lookahead},fill_window=e=>{const t=e.w_size;let r,n,o;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-MIN_LOOKAHEAD)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),slide_hash(e),n+=t),e.strm.avail_in===0)break;if(r=read_buf(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=MIN_MATCH)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=HASH(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=HASH(e,e.ins_h,e.window[o+MIN_MATCH-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<MIN_MATCH)););}while(e.lookahead<MIN_LOOKAHEAD&&e.strm.avail_in!==0)},deflate_stored=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,o,l,u=0,h=e.strm.avail_in;do{if(n=65535,l=e.bi_valid+42>>3,e.strm.avail_out<l||(l=e.strm.avail_out-l,o=e.strstart-e.block_start,n>o+e.strm.avail_in&&(n=o+e.strm.avail_in),n>l&&(n=l),n<r&&(n===0&&t!==Z_FINISH$3||t===Z_NO_FLUSH$2||n!==o+e.strm.avail_in)))break;u=t===Z_FINISH$3&&n===o+e.strm.avail_in?1:0,_tr_stored_block(e,0,0,u),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,flush_pending(e.strm),o&&(o>n&&(o=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+o),e.strm.next_out),e.strm.next_out+=o,e.strm.avail_out-=o,e.strm.total_out+=o,e.block_start+=o,n-=o),n&&(read_buf(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(u===0);return h-=e.strm.avail_in,h&&(h>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=h&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-h,e.strm.next_in),e.strstart),e.strstart+=h,e.insert+=h>e.w_size-e.insert?e.w_size-e.insert:h),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),u?BS_FINISH_DONE:t!==Z_NO_FLUSH$2&&t!==Z_FINISH$3&&e.strm.avail_in===0&&e.strstart===e.block_start?BS_BLOCK_DONE:(l=e.window_size-e.strstart,e.strm.avail_in>l&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,l+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),l>e.strm.avail_in&&(l=e.strm.avail_in),l&&(read_buf(e.strm,e.window,e.strstart,l),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.high_water<e.strstart&&(e.high_water=e.strstart),l=e.bi_valid+42>>3,l=e.pending_buf_size-l>65535?65535:e.pending_buf_size-l,r=l>e.w_size?e.w_size:l,o=e.strstart-e.block_start,(o>=r||(o||t===Z_FINISH$3)&&t!==Z_NO_FLUSH$2&&e.strm.avail_in===0&&o<=l)&&(n=o>l?l:o,u=t===Z_FINISH$3&&e.strm.avail_in===0&&n===o?1:0,_tr_stored_block(e,e.block_start,n,u),e.block_start+=n,flush_pending(e.strm)),u?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(e,t)=>{let r,n;for(;;){if(e.lookahead<MIN_LOOKAHEAD){if(fill_window(e),e.lookahead<MIN_LOOKAHEAD&&t===Z_NO_FLUSH$2)return BS_NEED_MORE;if(e.lookahead===0)break}if(r=0,e.lookahead>=MIN_MATCH&&(e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+MIN_MATCH-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-MIN_LOOKAHEAD&&(e.match_length=longest_match(e,r)),e.match_length>=MIN_MATCH)if(n=_tr_tally(e,e.strstart-e.match_start,e.match_length-MIN_MATCH),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=MIN_MATCH){e.match_length--;do e.strstart++,e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+MIN_MATCH-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+1]);else n=_tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(flush_block_only(e,!1),e.strm.avail_out===0))return BS_NEED_MORE}return e.insert=e.strstart<MIN_MATCH-1?e.strstart:MIN_MATCH-1,t===Z_FINISH$3?(flush_block_only(e,!0),e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):e.sym_next&&(flush_block_only(e,!1),e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(e,t)=>{let r,n,o;for(;;){if(e.lookahead<MIN_LOOKAHEAD){if(fill_window(e),e.lookahead<MIN_LOOKAHEAD&&t===Z_NO_FLUSH$2)return BS_NEED_MORE;if(e.lookahead===0)break}if(r=0,e.lookahead>=MIN_MATCH&&(e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+MIN_MATCH-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=MIN_MATCH-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-MIN_LOOKAHEAD&&(e.match_length=longest_match(e,r),e.match_length<=5&&(e.strategy===Z_FILTERED||e.match_length===MIN_MATCH&&e.strstart-e.match_start>4096)&&(e.match_length=MIN_MATCH-1)),e.prev_length>=MIN_MATCH&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-MIN_MATCH,n=_tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-MIN_MATCH),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=o&&(e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+MIN_MATCH-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=MIN_MATCH-1,e.strstart++,n&&(flush_block_only(e,!1),e.strm.avail_out===0))return BS_NEED_MORE}else if(e.match_available){if(n=_tr_tally(e,0,e.window[e.strstart-1]),n&&flush_block_only(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return BS_NEED_MORE}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=_tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<MIN_MATCH-1?e.strstart:MIN_MATCH-1,t===Z_FINISH$3?(flush_block_only(e,!0),e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):e.sym_next&&(flush_block_only(e,!1),e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(e,t)=>{let r,n,o,l;const u=e.window;for(;;){if(e.lookahead<=MAX_MATCH){if(fill_window(e),e.lookahead<=MAX_MATCH&&t===Z_NO_FLUSH$2)return BS_NEED_MORE;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=MIN_MATCH&&e.strstart>0&&(o=e.strstart-1,n=u[o],n===u[++o]&&n===u[++o]&&n===u[++o])){l=e.strstart+MAX_MATCH;do;while(n===u[++o]&&n===u[++o]&&n===u[++o]&&n===u[++o]&&n===u[++o]&&n===u[++o]&&n===u[++o]&&n===u[++o]&&o<l);e.match_length=MAX_MATCH-(l-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=MIN_MATCH?(r=_tr_tally(e,1,e.match_length-MIN_MATCH),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=_tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(flush_block_only(e,!1),e.strm.avail_out===0))return BS_NEED_MORE}return e.insert=0,t===Z_FINISH$3?(flush_block_only(e,!0),e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):e.sym_next&&(flush_block_only(e,!1),e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(fill_window(e),e.lookahead===0)){if(t===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(e.match_length=0,r=_tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(flush_block_only(e,!1),e.strm.avail_out===0))return BS_NEED_MORE}return e.insert=0,t===Z_FINISH$3?(flush_block_only(e,!0),e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):e.sym_next&&(flush_block_only(e,!1),e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(e,t,r,n,o){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=o}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=e=>{e.window_size=2*e.w_size,zero$3(e.head),e.max_lazy_match=configuration_table[e.level].max_lazy,e.good_match=configuration_table[e.level].good_length,e.nice_match=configuration_table[e.level].nice_length,e.max_chain_length=configuration_table[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=MIN_MATCH-1,e.match_available=0,e.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero$3(this.dyn_ltree),zero$3(this.dyn_dtree),zero$3(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero$3(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero$3(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==INIT_STATE&&t.status!==GZIP_STATE&&t.status!==EXTRA_STATE&&t.status!==NAME_STATE&&t.status!==COMMENT_STATE&&t.status!==HCRC_STATE&&t.status!==BUSY_STATE&&t.status!==FINISH_STATE?1:0},deflateResetKeep=e=>{if(deflateStateCheck(e))return err(e,Z_STREAM_ERROR$2);e.total_in=e.total_out=0,e.data_type=Z_UNKNOWN;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?GZIP_STATE:t.wrap?INIT_STATE:BUSY_STATE,e.adler=t.wrap===2?0:1,t.last_flush=-2,_tr_init(t),Z_OK$3},deflateReset=e=>{const t=deflateResetKeep(e);return t===Z_OK$3&&lm_init(e.state),t},deflateSetHeader=(e,t)=>deflateStateCheck(e)||e.state.wrap!==2?Z_STREAM_ERROR$2:(e.state.gzhead=t,Z_OK$3),deflateInit2=(e,t,r,n,o,l)=>{if(!e)return Z_STREAM_ERROR$2;let u=1;if(t===Z_DEFAULT_COMPRESSION$1&&(t=6),n<0?(u=0,n=-n):n>15&&(u=2,n-=16),o<1||o>MAX_MEM_LEVEL||r!==Z_DEFLATED$2||n<8||n>15||t<0||t>9||l<0||l>Z_FIXED||n===8&&u!==1)return err(e,Z_STREAM_ERROR$2);n===8&&(n=9);const h=new DeflateState;return e.state=h,h.strm=e,h.status=INIT_STATE,h.wrap=u,h.gzhead=null,h.w_bits=n,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=o+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+MIN_MATCH-1)/MIN_MATCH),h.window=new Uint8Array(h.w_size*2),h.head=new Uint16Array(h.hash_size),h.prev=new Uint16Array(h.w_size),h.lit_bufsize=1<<o+6,h.pending_buf_size=h.lit_bufsize*4,h.pending_buf=new Uint8Array(h.pending_buf_size),h.sym_buf=h.lit_bufsize,h.sym_end=(h.lit_bufsize-1)*3,h.level=t,h.strategy=l,h.method=r,deflateReset(e)},deflateInit=(e,t)=>deflateInit2(e,t,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(e,t)=>{if(deflateStateCheck(e)||t>Z_BLOCK$1||t<0)return e?err(e,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===FINISH_STATE&&t!==Z_FINISH$3)return err(e,e.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(flush_pending(e),e.avail_out===0)return r.last_flush=-1,Z_OK$3}else if(e.avail_in===0&&rank$2(t)<=rank$2(n)&&t!==Z_FINISH$3)return err(e,Z_BUF_ERROR$1);if(r.status===FINISH_STATE&&e.avail_in!==0)return err(e,Z_BUF_ERROR$1);if(r.status===INIT_STATE&&r.wrap===0&&(r.status=BUSY_STATE),r.status===INIT_STATE){let o=Z_DEFLATED$2+(r.w_bits-8<<4)<<8,l=-1;if(r.strategy>=Z_HUFFMAN_ONLY||r.level<2?l=0:r.level<6?l=1:r.level===6?l=2:l=3,o|=l<<6,r.strstart!==0&&(o|=PRESET_DICT),o+=31-o%31,putShortMSB(r,o),r.strstart!==0&&(putShortMSB(r,e.adler>>>16),putShortMSB(r,e.adler&65535)),e.adler=1,r.status=BUSY_STATE,flush_pending(e),r.pending!==0)return r.last_flush=-1,Z_OK$3}if(r.status===GZIP_STATE){if(e.adler=0,put_byte(r,31),put_byte(r,139),put_byte(r,8),r.gzhead)put_byte(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),put_byte(r,r.gzhead.time&255),put_byte(r,r.gzhead.time>>8&255),put_byte(r,r.gzhead.time>>16&255),put_byte(r,r.gzhead.time>>24&255),put_byte(r,r.level===9?2:r.strategy>=Z_HUFFMAN_ONLY||r.level<2?4:0),put_byte(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(put_byte(r,r.gzhead.extra.length&255),put_byte(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=crc32_1(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=EXTRA_STATE;else if(put_byte(r,0),put_byte(r,0),put_byte(r,0),put_byte(r,0),put_byte(r,0),put_byte(r,r.level===9?2:r.strategy>=Z_HUFFMAN_ONLY||r.level<2?4:0),put_byte(r,OS_CODE),r.status=BUSY_STATE,flush_pending(e),r.pending!==0)return r.last_flush=-1,Z_OK$3}if(r.status===EXTRA_STATE){if(r.gzhead.extra){let o=r.pending,l=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+l>r.pending_buf_size;){let h=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+h),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>o&&(e.adler=crc32_1(e.adler,r.pending_buf,r.pending-o,o)),r.gzindex+=h,flush_pending(e),r.pending!==0)return r.last_flush=-1,Z_OK$3;o=0,l-=h}let u=new Uint8Array(r.gzhead.extra);r.pending_buf.set(u.subarray(r.gzindex,r.gzindex+l),r.pending),r.pending+=l,r.gzhead.hcrc&&r.pending>o&&(e.adler=crc32_1(e.adler,r.pending_buf,r.pending-o,o)),r.gzindex=0}r.status=NAME_STATE}if(r.status===NAME_STATE){if(r.gzhead.name){let o=r.pending,l;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>o&&(e.adler=crc32_1(e.adler,r.pending_buf,r.pending-o,o)),flush_pending(e),r.pending!==0)return r.last_flush=-1,Z_OK$3;o=0}r.gzindex<r.gzhead.name.length?l=r.gzhead.name.charCodeAt(r.gzindex++)&255:l=0,put_byte(r,l)}while(l!==0);r.gzhead.hcrc&&r.pending>o&&(e.adler=crc32_1(e.adler,r.pending_buf,r.pending-o,o)),r.gzindex=0}r.status=COMMENT_STATE}if(r.status===COMMENT_STATE){if(r.gzhead.comment){let o=r.pending,l;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>o&&(e.adler=crc32_1(e.adler,r.pending_buf,r.pending-o,o)),flush_pending(e),r.pending!==0)return r.last_flush=-1,Z_OK$3;o=0}r.gzindex<r.gzhead.comment.length?l=r.gzhead.comment.charCodeAt(r.gzindex++)&255:l=0,put_byte(r,l)}while(l!==0);r.gzhead.hcrc&&r.pending>o&&(e.adler=crc32_1(e.adler,r.pending_buf,r.pending-o,o))}r.status=HCRC_STATE}if(r.status===HCRC_STATE){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(flush_pending(e),r.pending!==0))return r.last_flush=-1,Z_OK$3;put_byte(r,e.adler&255),put_byte(r,e.adler>>8&255),e.adler=0}if(r.status=BUSY_STATE,flush_pending(e),r.pending!==0)return r.last_flush=-1,Z_OK$3}if(e.avail_in!==0||r.lookahead!==0||t!==Z_NO_FLUSH$2&&r.status!==FINISH_STATE){let o=r.level===0?deflate_stored(r,t):r.strategy===Z_HUFFMAN_ONLY?deflate_huff(r,t):r.strategy===Z_RLE?deflate_rle(r,t):configuration_table[r.level].func(r,t);if((o===BS_FINISH_STARTED||o===BS_FINISH_DONE)&&(r.status=FINISH_STATE),o===BS_NEED_MORE||o===BS_FINISH_STARTED)return e.avail_out===0&&(r.last_flush=-1),Z_OK$3;if(o===BS_BLOCK_DONE&&(t===Z_PARTIAL_FLUSH?_tr_align(r):t!==Z_BLOCK$1&&(_tr_stored_block(r,0,0,!1),t===Z_FULL_FLUSH$1&&(zero$3(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),flush_pending(e),e.avail_out===0))return r.last_flush=-1,Z_OK$3}return t!==Z_FINISH$3?Z_OK$3:r.wrap<=0?Z_STREAM_END$3:(r.wrap===2?(put_byte(r,e.adler&255),put_byte(r,e.adler>>8&255),put_byte(r,e.adler>>16&255),put_byte(r,e.adler>>24&255),put_byte(r,e.total_in&255),put_byte(r,e.total_in>>8&255),put_byte(r,e.total_in>>16&255),put_byte(r,e.total_in>>24&255)):(putShortMSB(r,e.adler>>>16),putShortMSB(r,e.adler&65535)),flush_pending(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=e=>{if(deflateStateCheck(e))return Z_STREAM_ERROR$2;const t=e.state.status;return e.state=null,t===BUSY_STATE?err(e,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(e,t)=>{let r=t.length;if(deflateStateCheck(e))return Z_STREAM_ERROR$2;const n=e.state,o=n.wrap;if(o===2||o===1&&n.status!==INIT_STATE||n.lookahead)return Z_STREAM_ERROR$2;if(o===1&&(e.adler=adler32_1(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){o===0&&(zero$3(n.head),n.strstart=0,n.block_start=0,n.insert=0);let f=new Uint8Array(n.w_size);f.set(t.subarray(r-n.w_size,r),0),t=f,r=n.w_size}const l=e.avail_in,u=e.next_in,h=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,fill_window(n);n.lookahead>=MIN_MATCH;){let f=n.strstart,d=n.lookahead-(MIN_MATCH-1);do n.ins_h=HASH(n,n.ins_h,n.window[f+MIN_MATCH-1]),n.prev[f&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=f,f++;while(--d);n.strstart=f,n.lookahead=MIN_MATCH-1,fill_window(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=MIN_MATCH-1,n.match_available=0,e.next_in=u,e.input=h,e.avail_in=l,n.wrap=o,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var assign=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(!!r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)_has(r,n)&&(e[n]=r[n])}}return e},flattenChunks=e=>{let t=0;for(let n=0,o=e.length;n<o;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,o=0,l=e.length;n<l;n++){let u=e[n];r.set(u,o),o+=u.length}return r},common$1={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let e=0;e<256;e++)_utf8len[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,o,l,u=e.length,h=0;for(o=0;o<u;o++)r=e.charCodeAt(o),(r&64512)===55296&&o+1<u&&(n=e.charCodeAt(o+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),o++)),h+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(h),l=0,o=0;l<h;o++)r=e.charCodeAt(o),(r&64512)===55296&&o+1<u&&(n=e.charCodeAt(o+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),o++)),r<128?t[l++]=r:r<2048?(t[l++]=192|r>>>6,t[l++]=128|r&63):r<65536?(t[l++]=224|r>>>12,t[l++]=128|r>>>6&63,t[l++]=128|r&63):(t[l++]=240|r>>>18,t[l++]=128|r>>>12&63,t[l++]=128|r>>>6&63,t[l++]=128|r&63);return t};const buf2binstring=(e,t)=>{if(t<65534&&e.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var buf2string=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,o;const l=new Array(r*2);for(o=0,n=0;n<r;){let u=e[n++];if(u<128){l[o++]=u;continue}let h=_utf8len[u];if(h>4){l[o++]=65533,n+=h-1;continue}for(u&=h===2?31:h===3?15:7;h>1&&n<r;)u=u<<6|e[n++]&63,h--;if(h>1){l[o++]=65533;continue}u<65536?l[o++]=u:(u-=65536,l[o++]=55296|u>>10&1023,l[o++]=56320|u&1023)}return buf2binstring(l,o)},utf8border=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+_utf8len[e[r]]>t?r:t},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(e){this.options=common$1.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let r=deflate_1$2.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==Z_OK$2)throw new Error(messages$1[r]);if(t.header&&deflate_1$2.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=strings.string2buf(t.dictionary):toString$1.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=deflate_1$2.deflateSetDictionary(this.strm,n),r!==Z_OK$2)throw new Error(messages$1[r]);this._dict_set=!0}}Deflate$1.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let o,l;if(this.ended)return!1;for(t===~~t?l=t:l=t===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof e=="string"?r.input=strings.string2buf(e):toString$1.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(l===Z_SYNC_FLUSH||l===Z_FULL_FLUSH)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(o=deflate_1$2.deflate(r,l),o===Z_STREAM_END$2)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),o=deflate_1$2.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===Z_OK$2;if(r.avail_out===0){this.onData(r.output);continue}if(l>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(e){this.chunks.push(e)};Deflate$1.prototype.onEnd=function(e){e===Z_OK$2&&(this.result=common$1.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function deflate$1(e,t){const r=new Deflate$1(t);if(r.push(e,!0),r.err)throw r.msg||messages$1[r.err];return r.result}function deflateRaw$1(e,t){return t=t||{},t.raw=!0,deflate$1(e,t)}function gzip$1(e,t){return t=t||{},t.gzip=!0,deflate$1(e,t)}var Deflate_1$1=Deflate$1,deflate_2=deflate$1,deflateRaw_1$1=deflateRaw$1,gzip_1$1=gzip$1,constants$1=constants$2,deflate_1$1={Deflate:Deflate_1$1,deflate:deflate_2,deflateRaw:deflateRaw_1$1,gzip:gzip_1$1,constants:constants$1};const BAD$1=16209,TYPE$1=16191;var inffast=function e(t,r){let n,o,l,u,h,f,d,p,m,g,b,v,T,R,I,N,q,F,H,V,z,G,P,W;const S=t.state;n=t.next_in,P=t.input,o=n+(t.avail_in-5),l=t.next_out,W=t.output,u=l-(r-t.avail_out),h=l+(t.avail_out-257),f=S.dmax,d=S.wsize,p=S.whave,m=S.wnext,g=S.window,b=S.hold,v=S.bits,T=S.lencode,R=S.distcode,I=(1<<S.lenbits)-1,N=(1<<S.distbits)-1;e:do{v<15&&(b+=P[n++]<<v,v+=8,b+=P[n++]<<v,v+=8),q=T[b&I];t:for(;;){if(F=q>>>24,b>>>=F,v-=F,F=q>>>16&255,F===0)W[l++]=q&65535;else if(F&16){H=q&65535,F&=15,F&&(v<F&&(b+=P[n++]<<v,v+=8),H+=b&(1<<F)-1,b>>>=F,v-=F),v<15&&(b+=P[n++]<<v,v+=8,b+=P[n++]<<v,v+=8),q=R[b&N];r:for(;;){if(F=q>>>24,b>>>=F,v-=F,F=q>>>16&255,F&16){if(V=q&65535,F&=15,v<F&&(b+=P[n++]<<v,v+=8,v<F&&(b+=P[n++]<<v,v+=8)),V+=b&(1<<F)-1,V>f){t.msg="invalid distance too far back",S.mode=BAD$1;break e}if(b>>>=F,v-=F,F=l-u,V>F){if(F=V-F,F>p&&S.sane){t.msg="invalid distance too far back",S.mode=BAD$1;break e}if(z=0,G=g,m===0){if(z+=d-F,F<H){H-=F;do W[l++]=g[z++];while(--F);z=l-V,G=W}}else if(m<F){if(z+=d+m-F,F-=m,F<H){H-=F;do W[l++]=g[z++];while(--F);if(z=0,m<H){F=m,H-=F;do W[l++]=g[z++];while(--F);z=l-V,G=W}}}else if(z+=m-F,F<H){H-=F;do W[l++]=g[z++];while(--F);z=l-V,G=W}for(;H>2;)W[l++]=G[z++],W[l++]=G[z++],W[l++]=G[z++],H-=3;H&&(W[l++]=G[z++],H>1&&(W[l++]=G[z++]))}else{z=l-V;do W[l++]=W[z++],W[l++]=W[z++],W[l++]=W[z++],H-=3;while(H>2);H&&(W[l++]=W[z++],H>1&&(W[l++]=W[z++]))}}else if((F&64)===0){q=R[(q&65535)+(b&(1<<F)-1)];continue r}else{t.msg="invalid distance code",S.mode=BAD$1;break e}break}}else if((F&64)===0){q=T[(q&65535)+(b&(1<<F)-1)];continue t}else if(F&32){S.mode=TYPE$1;break e}else{t.msg="invalid literal/length code",S.mode=BAD$1;break e}break}}while(n<o&&l<h);H=v>>3,n-=H,v-=H<<3,b&=(1<<v)-1,t.next_in=n,t.next_out=l,t.avail_in=n<o?5+(o-n):5-(n-o),t.avail_out=l<h?257+(h-l):257-(l-h),S.hold=b,S.bits=v};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(e,t,r,n,o,l,u,h)=>{const f=h.bits;let d=0,p=0,m=0,g=0,b=0,v=0,T=0,R=0,I=0,N=0,q,F,H,V,z,G=null,P;const W=new Uint16Array(MAXBITS+1),S=new Uint16Array(MAXBITS+1);let U=null,L,ae,Q;for(d=0;d<=MAXBITS;d++)W[d]=0;for(p=0;p<n;p++)W[t[r+p]]++;for(b=f,g=MAXBITS;g>=1&&W[g]===0;g--);if(b>g&&(b=g),g===0)return o[l++]=1<<24|64<<16|0,o[l++]=1<<24|64<<16|0,h.bits=1,0;for(m=1;m<g&&W[m]===0;m++);for(b<m&&(b=m),R=1,d=1;d<=MAXBITS;d++)if(R<<=1,R-=W[d],R<0)return-1;if(R>0&&(e===CODES$1||g!==1))return-1;for(S[1]=0,d=1;d<MAXBITS;d++)S[d+1]=S[d]+W[d];for(p=0;p<n;p++)t[r+p]!==0&&(u[S[t[r+p]]++]=p);if(e===CODES$1?(G=U=u,P=20):e===LENS$1?(G=lbase,U=lext,P=257):(G=dbase,U=dext,P=0),N=0,p=0,d=m,z=l,v=b,T=0,H=-1,I=1<<b,V=I-1,e===LENS$1&&I>ENOUGH_LENS$1||e===DISTS$1&&I>ENOUGH_DISTS$1)return 1;for(;;){L=d-T,u[p]+1<P?(ae=0,Q=u[p]):u[p]>=P?(ae=U[u[p]-P],Q=G[u[p]-P]):(ae=32+64,Q=0),q=1<<d-T,F=1<<v,m=F;do F-=q,o[z+(N>>T)+F]=L<<24|ae<<16|Q|0;while(F!==0);for(q=1<<d-1;N&q;)q>>=1;if(q!==0?(N&=q-1,N+=q):N=0,p++,--W[d]===0){if(d===g)break;d=t[r+u[p]]}if(d>b&&(N&V)!==H){for(T===0&&(T=b),z+=m,v=d-T,R=1<<v;v+T<g&&(R-=W[v+T],!(R<=0));)v++,R<<=1;if(I+=1<<v,e===LENS$1&&I>ENOUGH_LENS$1||e===DISTS$1&&I>ENOUGH_DISTS$1)return 1;H=N&V,o[H]=b<<24|v<<16|z-l|0}}return N!==0&&(o[z+N]=d-T<<24|64<<16|0),h.bits=b,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT$1=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE$2=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<HEAD||t.mode>SYNC?1:0},inflateResetKeep=e=>{if(inflateStateCheck(e))return Z_STREAM_ERROR$1;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=HEAD,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(ENOUGH_LENS),t.distcode=t.distdyn=new Int32Array(ENOUGH_DISTS),t.sane=1,t.back=-1,Z_OK$1},inflateReset=e=>{if(inflateStateCheck(e))return Z_STREAM_ERROR$1;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,inflateResetKeep(e)},inflateReset2=(e,t)=>{let r;if(inflateStateCheck(e))return Z_STREAM_ERROR$1;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Z_STREAM_ERROR$1:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,inflateReset(e))},inflateInit2=(e,t)=>{if(!e)return Z_STREAM_ERROR$1;const r=new InflateState;e.state=r,r.strm=e,r.window=null,r.mode=HEAD;const n=inflateReset2(e,t);return n!==Z_OK$1&&(e.state=null),n},inflateInit=e=>inflateInit2(e,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=e=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(inftrees(LENS,e.lens,0,288,lenfix,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;inftrees(DISTS,e.lens,0,32,distfix,0,e.work,{bits:5}),virgin=!1}e.lencode=lenfix,e.lenbits=9,e.distcode=distfix,e.distbits=5},updatewindow=(e,t,r,n)=>{let o;const l=e.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Uint8Array(l.wsize)),n>=l.wsize?(l.window.set(t.subarray(r-l.wsize,r),0),l.wnext=0,l.whave=l.wsize):(o=l.wsize-l.wnext,o>n&&(o=n),l.window.set(t.subarray(r-n,r-n+o),l.wnext),n-=o,n?(l.window.set(t.subarray(r-n,r),0),l.wnext=n,l.whave=l.wsize):(l.wnext+=o,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=o))),0},inflate$2=(e,t)=>{let r,n,o,l,u,h,f,d,p,m,g,b,v,T,R=0,I,N,q,F,H,V,z,G;const P=new Uint8Array(4);let W,S;const U=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(e)||!e.output||!e.input&&e.avail_in!==0)return Z_STREAM_ERROR$1;r=e.state,r.mode===TYPE$2&&(r.mode=TYPEDO),u=e.next_out,o=e.output,f=e.avail_out,l=e.next_in,n=e.input,h=e.avail_in,d=r.hold,p=r.bits,m=h,g=f,G=Z_OK$1;e:for(;;)switch(r.mode){case HEAD:if(r.wrap===0){r.mode=TYPEDO;break}for(;p<16;){if(h===0)break e;h--,d+=n[l++]<<p,p+=8}if(r.wrap&2&&d===35615){r.wbits===0&&(r.wbits=15),r.check=0,P[0]=d&255,P[1]=d>>>8&255,r.check=crc32_1(r.check,P,2,0),d=0,p=0,r.mode=FLAGS;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",r.mode=BAD;break}if((d&15)!==Z_DEFLATED){e.msg="unknown compression method",r.mode=BAD;break}if(d>>>=4,p-=4,z=(d&15)+8,r.wbits===0&&(r.wbits=z),z>15||z>r.wbits){e.msg="invalid window size",r.mode=BAD;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=d&512?DICTID:TYPE$2,d=0,p=0;break;case FLAGS:for(;p<16;){if(h===0)break e;h--,d+=n[l++]<<p,p+=8}if(r.flags=d,(r.flags&255)!==Z_DEFLATED){e.msg="unknown compression method",r.mode=BAD;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=BAD;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&r.wrap&4&&(P[0]=d&255,P[1]=d>>>8&255,r.check=crc32_1(r.check,P,2,0)),d=0,p=0,r.mode=TIME;case TIME:for(;p<32;){if(h===0)break e;h--,d+=n[l++]<<p,p+=8}r.head&&(r.head.time=d),r.flags&512&&r.wrap&4&&(P[0]=d&255,P[1]=d>>>8&255,P[2]=d>>>16&255,P[3]=d>>>24&255,r.check=crc32_1(r.check,P,4,0)),d=0,p=0,r.mode=OS;case OS:for(;p<16;){if(h===0)break e;h--,d+=n[l++]<<p,p+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&r.wrap&4&&(P[0]=d&255,P[1]=d>>>8&255,r.check=crc32_1(r.check,P,2,0)),d=0,p=0,r.mode=EXLEN;case EXLEN:if(r.flags&1024){for(;p<16;){if(h===0)break e;h--,d+=n[l++]<<p,p+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&r.wrap&4&&(P[0]=d&255,P[1]=d>>>8&255,r.check=crc32_1(r.check,P,2,0)),d=0,p=0}else r.head&&(r.head.extra=null);r.mode=EXTRA;case EXTRA:if(r.flags&1024&&(b=r.length,b>h&&(b=h),b&&(r.head&&(z=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(l,l+b),z)),r.flags&512&&r.wrap&4&&(r.check=crc32_1(r.check,n,b,l)),h-=b,l+=b,r.length-=b),r.length))break e;r.length=0,r.mode=NAME;case NAME:if(r.flags&2048){if(h===0)break e;b=0;do z=n[l+b++],r.head&&z&&r.length<65536&&(r.head.name+=String.fromCharCode(z));while(z&&b<h);if(r.flags&512&&r.wrap&4&&(r.check=crc32_1(r.check,n,b,l)),h-=b,l+=b,z)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=COMMENT$1;case COMMENT$1:if(r.flags&4096){if(h===0)break e;b=0;do z=n[l+b++],r.head&&z&&r.length<65536&&(r.head.comment+=String.fromCharCode(z));while(z&&b<h);if(r.flags&512&&r.wrap&4&&(r.check=crc32_1(r.check,n,b,l)),h-=b,l+=b,z)break e}else r.head&&(r.head.comment=null);r.mode=HCRC;case HCRC:if(r.flags&512){for(;p<16;){if(h===0)break e;h--,d+=n[l++]<<p,p+=8}if(r.wrap&4&&d!==(r.check&65535)){e.msg="header crc mismatch",r.mode=BAD;break}d=0,p=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=TYPE$2;break;case DICTID:for(;p<32;){if(h===0)break e;h--,d+=n[l++]<<p,p+=8}e.adler=r.check=zswap32(d),d=0,p=0,r.mode=DICT;case DICT:if(r.havedict===0)return e.next_out=u,e.avail_out=f,e.next_in=l,e.avail_in=h,r.hold=d,r.bits=p,Z_NEED_DICT$1;e.adler=r.check=1,r.mode=TYPE$2;case TYPE$2:if(t===Z_BLOCK||t===Z_TREES)break e;case TYPEDO:if(r.last){d>>>=p&7,p-=p&7,r.mode=CHECK;break}for(;p<3;){if(h===0)break e;h--,d+=n[l++]<<p,p+=8}switch(r.last=d&1,d>>>=1,p-=1,d&3){case 0:r.mode=STORED;break;case 1:if(fixedtables(r),r.mode=LEN_,t===Z_TREES){d>>>=2,p-=2;break e}break;case 2:r.mode=TABLE;break;case 3:e.msg="invalid block type",r.mode=BAD}d>>>=2,p-=2;break;case STORED:for(d>>>=p&7,p-=p&7;p<32;){if(h===0)break e;h--,d+=n[l++]<<p,p+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",r.mode=BAD;break}if(r.length=d&65535,d=0,p=0,r.mode=COPY_,t===Z_TREES)break e;case COPY_:r.mode=COPY;case COPY:if(b=r.length,b){if(b>h&&(b=h),b>f&&(b=f),b===0)break e;o.set(n.subarray(l,l+b),u),h-=b,l+=b,f-=b,u+=b,r.length-=b;break}r.mode=TYPE$2;break;case TABLE:for(;p<14;){if(h===0)break e;h--,d+=n[l++]<<p,p+=8}if(r.nlen=(d&31)+257,d>>>=5,p-=5,r.ndist=(d&31)+1,d>>>=5,p-=5,r.ncode=(d&15)+4,d>>>=4,p-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=BAD;break}r.have=0,r.mode=LENLENS;case LENLENS:for(;r.have<r.ncode;){for(;p<3;){if(h===0)break e;h--,d+=n[l++]<<p,p+=8}r.lens[U[r.have++]]=d&7,d>>>=3,p-=3}for(;r.have<19;)r.lens[U[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,W={bits:r.lenbits},G=inftrees(CODES,r.lens,0,19,r.lencode,0,r.work,W),r.lenbits=W.bits,G){e.msg="invalid code lengths set",r.mode=BAD;break}r.have=0,r.mode=CODELENS;case CODELENS:for(;r.have<r.nlen+r.ndist;){for(;R=r.lencode[d&(1<<r.lenbits)-1],I=R>>>24,N=R>>>16&255,q=R&65535,!(I<=p);){if(h===0)break e;h--,d+=n[l++]<<p,p+=8}if(q<16)d>>>=I,p-=I,r.lens[r.have++]=q;else{if(q===16){for(S=I+2;p<S;){if(h===0)break e;h--,d+=n[l++]<<p,p+=8}if(d>>>=I,p-=I,r.have===0){e.msg="invalid bit length repeat",r.mode=BAD;break}z=r.lens[r.have-1],b=3+(d&3),d>>>=2,p-=2}else if(q===17){for(S=I+3;p<S;){if(h===0)break e;h--,d+=n[l++]<<p,p+=8}d>>>=I,p-=I,z=0,b=3+(d&7),d>>>=3,p-=3}else{for(S=I+7;p<S;){if(h===0)break e;h--,d+=n[l++]<<p,p+=8}d>>>=I,p-=I,z=0,b=11+(d&127),d>>>=7,p-=7}if(r.have+b>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=BAD;break}for(;b--;)r.lens[r.have++]=z}}if(r.mode===BAD)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=BAD;break}if(r.lenbits=9,W={bits:r.lenbits},G=inftrees(LENS,r.lens,0,r.nlen,r.lencode,0,r.work,W),r.lenbits=W.bits,G){e.msg="invalid literal/lengths set",r.mode=BAD;break}if(r.distbits=6,r.distcode=r.distdyn,W={bits:r.distbits},G=inftrees(DISTS,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,W),r.distbits=W.bits,G){e.msg="invalid distances set",r.mode=BAD;break}if(r.mode=LEN_,t===Z_TREES)break e;case LEN_:r.mode=LEN;case LEN:if(h>=6&&f>=258){e.next_out=u,e.avail_out=f,e.next_in=l,e.avail_in=h,r.hold=d,r.bits=p,inffast(e,g),u=e.next_out,o=e.output,f=e.avail_out,l=e.next_in,n=e.input,h=e.avail_in,d=r.hold,p=r.bits,r.mode===TYPE$2&&(r.back=-1);break}for(r.back=0;R=r.lencode[d&(1<<r.lenbits)-1],I=R>>>24,N=R>>>16&255,q=R&65535,!(I<=p);){if(h===0)break e;h--,d+=n[l++]<<p,p+=8}if(N&&(N&240)===0){for(F=I,H=N,V=q;R=r.lencode[V+((d&(1<<F+H)-1)>>F)],I=R>>>24,N=R>>>16&255,q=R&65535,!(F+I<=p);){if(h===0)break e;h--,d+=n[l++]<<p,p+=8}d>>>=F,p-=F,r.back+=F}if(d>>>=I,p-=I,r.back+=I,r.length=q,N===0){r.mode=LIT;break}if(N&32){r.back=-1,r.mode=TYPE$2;break}if(N&64){e.msg="invalid literal/length code",r.mode=BAD;break}r.extra=N&15,r.mode=LENEXT;case LENEXT:if(r.extra){for(S=r.extra;p<S;){if(h===0)break e;h--,d+=n[l++]<<p,p+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,p-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=DIST;case DIST:for(;R=r.distcode[d&(1<<r.distbits)-1],I=R>>>24,N=R>>>16&255,q=R&65535,!(I<=p);){if(h===0)break e;h--,d+=n[l++]<<p,p+=8}if((N&240)===0){for(F=I,H=N,V=q;R=r.distcode[V+((d&(1<<F+H)-1)>>F)],I=R>>>24,N=R>>>16&255,q=R&65535,!(F+I<=p);){if(h===0)break e;h--,d+=n[l++]<<p,p+=8}d>>>=F,p-=F,r.back+=F}if(d>>>=I,p-=I,r.back+=I,N&64){e.msg="invalid distance code",r.mode=BAD;break}r.offset=q,r.extra=N&15,r.mode=DISTEXT;case DISTEXT:if(r.extra){for(S=r.extra;p<S;){if(h===0)break e;h--,d+=n[l++]<<p,p+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,p-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=BAD;break}r.mode=MATCH;case MATCH:if(f===0)break e;if(b=g-f,r.offset>b){if(b=r.offset-b,b>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=BAD;break}b>r.wnext?(b-=r.wnext,v=r.wsize-b):v=r.wnext-b,b>r.length&&(b=r.length),T=r.window}else T=o,v=u-r.offset,b=r.length;b>f&&(b=f),f-=b,r.length-=b;do o[u++]=T[v++];while(--b);r.length===0&&(r.mode=LEN);break;case LIT:if(f===0)break e;o[u++]=r.length,f--,r.mode=LEN;break;case CHECK:if(r.wrap){for(;p<32;){if(h===0)break e;h--,d|=n[l++]<<p,p+=8}if(g-=f,e.total_out+=g,r.total+=g,r.wrap&4&&g&&(e.adler=r.check=r.flags?crc32_1(r.check,o,g,u-g):adler32_1(r.check,o,g,u-g)),g=f,r.wrap&4&&(r.flags?d:zswap32(d))!==r.check){e.msg="incorrect data check",r.mode=BAD;break}d=0,p=0}r.mode=LENGTH;case LENGTH:if(r.wrap&&r.flags){for(;p<32;){if(h===0)break e;h--,d+=n[l++]<<p,p+=8}if(r.wrap&4&&d!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=BAD;break}d=0,p=0}r.mode=DONE;case DONE:G=Z_STREAM_END$1;break e;case BAD:G=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return e.next_out=u,e.avail_out=f,e.next_in=l,e.avail_in=h,r.hold=d,r.bits=p,(r.wsize||g!==e.avail_out&&r.mode<BAD&&(r.mode<CHECK||t!==Z_FINISH$1))&&updatewindow(e,e.output,e.next_out,g-e.avail_out),m-=e.avail_in,g-=e.avail_out,e.total_in+=m,e.total_out+=g,r.total+=g,r.wrap&4&&g&&(e.adler=r.check=r.flags?crc32_1(r.check,o,g,e.next_out-g):adler32_1(r.check,o,g,e.next_out-g)),e.data_type=r.bits+(r.last?64:0)+(r.mode===TYPE$2?128:0)+(r.mode===LEN_||r.mode===COPY_?256:0),(m===0&&g===0||t===Z_FINISH$1)&&G===Z_OK$1&&(G=Z_BUF_ERROR),G},inflateEnd=e=>{if(inflateStateCheck(e))return Z_STREAM_ERROR$1;let t=e.state;return t.window&&(t.window=null),e.state=null,Z_OK$1},inflateGetHeader=(e,t)=>{if(inflateStateCheck(e))return Z_STREAM_ERROR$1;const r=e.state;return(r.wrap&2)===0?Z_STREAM_ERROR$1:(r.head=t,t.done=!1,Z_OK$1)},inflateSetDictionary=(e,t)=>{const r=t.length;let n,o,l;return inflateStateCheck(e)||(n=e.state,n.wrap!==0&&n.mode!==DICT)?Z_STREAM_ERROR$1:n.mode===DICT&&(o=1,o=adler32_1(o,t,r,0),o!==n.check)?Z_DATA_ERROR$1:(l=updatewindow(e,t,r,r),l?(n.mode=MEM,Z_MEM_ERROR$1):(n.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(e){this.options=common$1.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let r=inflate_1$2.inflateInit2(this.strm,t.windowBits);if(r!==Z_OK)throw new Error(messages$1[r]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=strings.string2buf(t.dictionary):toString.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=inflate_1$2.inflateSetDictionary(this.strm,t.dictionary),r!==Z_OK)))throw new Error(messages$1[r])}Inflate$1.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,o=this.options.dictionary;let l,u,h;if(this.ended)return!1;for(t===~~t?u=t:u=t===!0?Z_FINISH:Z_NO_FLUSH,toString.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),l=inflate_1$2.inflate(r,u),l===Z_NEED_DICT&&o&&(l=inflate_1$2.inflateSetDictionary(r,o),l===Z_OK?l=inflate_1$2.inflate(r,u):l===Z_DATA_ERROR&&(l=Z_NEED_DICT));r.avail_in>0&&l===Z_STREAM_END&&r.state.wrap>0&&e[r.next_in]!==0;)inflate_1$2.inflateReset(r),l=inflate_1$2.inflate(r,u);switch(l){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(l),this.ended=!0,!1}if(h=r.avail_out,r.next_out&&(r.avail_out===0||l===Z_STREAM_END))if(this.options.to==="string"){let f=strings.utf8border(r.output,r.next_out),d=r.next_out-f,p=strings.buf2string(r.output,f);r.next_out=d,r.avail_out=n-d,d&&r.output.set(r.output.subarray(f,f+d),0),this.onData(p)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(l===Z_OK&&h===0)){if(l===Z_STREAM_END)return l=inflate_1$2.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(e){this.chunks.push(e)};Inflate$1.prototype.onEnd=function(e){e===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common$1.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function inflate$1(e,t){const r=new Inflate$1(t);if(r.push(e),r.err)throw r.msg||messages$1[r.err];return r.result}function inflateRaw$1(e,t){return t=t||{},t.raw=!0,inflate$1(e,t)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants$3=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants:constants$3};const{Deflate,deflate,deflateRaw,gzip}=deflate_1$1,{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var deflate_1=deflate,inflate_1=inflate;const _hasatob=typeof atob=="function",_hasbtoa=typeof btoa=="function",_hasBuffer=typeof Buffer=="function",_TD=typeof TextDecoder=="function"?new TextDecoder:void 0,_TE=typeof TextEncoder=="function"?new TextEncoder:void 0,b64ch="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b64chs=Array.prototype.slice.call(b64ch),b64tab=(e=>{let t={};return e.forEach((r,n)=>t[r]=n),t})(b64chs),b64re=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,_fromCC=String.fromCharCode.bind(String),_U8Afrom=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(e,t=r=>r)=>new Uint8Array(Array.prototype.slice.call(e,0).map(t)),_mkUriSafe=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),_tidyB64=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),btoaPolyfill=e=>{let t,r,n,o,l="";const u=e.length%3;for(let h=0;h<e.length;){if((r=e.charCodeAt(h++))>255||(n=e.charCodeAt(h++))>255||(o=e.charCodeAt(h++))>255)throw new TypeError("invalid character found");t=r<<16|n<<8|o,l+=b64chs[t>>18&63]+b64chs[t>>12&63]+b64chs[t>>6&63]+b64chs[t&63]}return u?l.slice(0,u-3)+"===".substring(u):l},_btoa=_hasbtoa?e=>btoa(e):_hasBuffer?e=>Buffer.from(e,"binary").toString("base64"):btoaPolyfill,_fromUint8Array=_hasBuffer?e=>Buffer.from(e).toString("base64"):e=>{let r=[];for(let n=0,o=e.length;n<o;n+=4096)r.push(_fromCC.apply(null,e.subarray(n,n+4096)));return _btoa(r.join(""))},fromUint8Array=(e,t=!1)=>t?_mkUriSafe(_fromUint8Array(e)):_fromUint8Array(e),cb_utob=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?_fromCC(192|t>>>6)+_fromCC(128|t&63):_fromCC(224|t>>>12&15)+_fromCC(128|t>>>6&63)+_fromCC(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return _fromCC(240|t>>>18&7)+_fromCC(128|t>>>12&63)+_fromCC(128|t>>>6&63)+_fromCC(128|t&63)}},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=e=>e.replace(re_utob,cb_utob),_encode=_hasBuffer?e=>Buffer.from(e,"utf8").toString("base64"):_TE?e=>_fromUint8Array(_TE.encode(e)):e=>_btoa(utob(e)),encode=(e,t=!1)=>t?_mkUriSafe(_encode(e)):_encode(e),re_btou=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,cb_btou=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),r=t-65536;return _fromCC((r>>>10)+55296)+_fromCC((r&1023)+56320);case 3:return _fromCC((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return _fromCC((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=e=>e.replace(re_btou,cb_btou),atobPolyfill=e=>{if(e=e.replace(/\s+/g,""),!b64re.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,r="",n,o;for(let l=0;l<e.length;)t=b64tab[e.charAt(l++)]<<18|b64tab[e.charAt(l++)]<<12|(n=b64tab[e.charAt(l++)])<<6|(o=b64tab[e.charAt(l++)]),r+=n===64?_fromCC(t>>16&255):o===64?_fromCC(t>>16&255,t>>8&255):_fromCC(t>>16&255,t>>8&255,t&255);return r},_atob=_hasatob?e=>atob(_tidyB64(e)):_hasBuffer?e=>Buffer.from(e,"base64").toString("binary"):atobPolyfill,_toUint8Array=_hasBuffer?e=>_U8Afrom(Buffer.from(e,"base64")):e=>_U8Afrom(_atob(e),t=>t.charCodeAt(0)),toUint8Array=e=>_toUint8Array(_unURI(e)),_decode=_hasBuffer?e=>Buffer.from(e,"base64").toString("utf8"):_TD?e=>_TD.decode(_toUint8Array(e)):e=>btou(_atob(e)),_unURI=e=>_tidyB64(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),decode=e=>_decode(_unURI(e)),base64Serde={serialize:e=>encode(e,!0),deserialize:e=>decode(e)},pakoSerde={serialize:e=>{const t=new TextEncoder().encode(e),r=deflate_1(t,{level:9});return fromUint8Array(r,!0)},deserialize:e=>{const t=toUint8Array(e);return inflate_1(t,{to:"string"})}},serdes={base64:base64Serde,pako:pakoSerde},serializeState=(e,t="pako")=>{if(!(t in serdes))throw new Error(`Unknown serde type: ${t}`);const r=JSON.stringify(e),n=serdes[t].serialize(r);return`${t}:${n}`},deserializeState=e=>{let t,r;if(e.includes(":")){let o;if([o,r]=e.split(":"),o in serdes)t=o;else throw new Error(`Unknown serde type: ${o}`)}else t="base64",r=e;const n=serdes[t].deserialize(r);return JSON.parse(n)};var dist$1={},words={};(function(e){var t=commonjsGlobal$1&&commonjsGlobal$1.__values||function(n){var o=typeof Symbol=="function"&&Symbol.iterator,l=o&&n[o],u=0;if(l)return l.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&u>=n.length&&(n=void 0),{value:n&&n[u++],done:!n}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.getWordsByCategory=e.wordList=void 0,e.wordList={noun:[{word:"accountant",categories:["profession"]},{word:"ability",categories:["thing"]},{word:"accident",categories:["thing"]},{word:"account",categories:["thing"]},{word:"action",categories:["thing"]},{word:"activity",categories:["thing"]},{word:"actor",categories:["profession"]},{word:"ad",categories:["media"]},{word:"addition",categories:["thing"]},{word:"address",categories:["thing"]},{word:"adult",categories:["people"]},{word:"advantage",categories:["thing"]},{word:"advertisement",categories:["media"]},{word:"afternoon",categories:["time"]},{word:"agency",categories:["thing"]},{word:"agent",categories:["people"]},{word:"air",categories:["thing"]},{word:"airline",categories:["transportation"]},{word:"airplane",categories:["transportation"]},{word:"airport",categories:["transportation","place"]},{word:"alarm",categories:["thing"]},{word:"alligator",categories:["animals"]},{word:"ambulance",categories:["health"]},{word:"analyst",categories:["profession"]},{word:"angle",categories:["thing"]},{word:"animal",categories:["animals"]},{word:"answer",categories:["thing"]},{word:"apartment",categories:["place"]},{word:"apple",categories:["food"]},{word:"application",categories:["thing"]},{word:"appointment",categories:["thing"]},{word:"architect",categories:["profession"]},{word:"argument",categories:["thing"]},{word:"area",categories:["thing"]},{word:"arm",categories:["thing"]},{word:"army",categories:["thing"]},{word:"art",categories:["thing"]},{word:"article",categories:["thing"]},{word:"artist",categories:["profession"]},{word:"australia",categories:["place"]},{word:"author",categories:["profession"]},{word:"autumn",categories:["time"]},{word:"baby",categories:["people","family"]},{word:"baker",categories:["profession"]},{word:"balloon",categories:["thing"]},{word:"banana",categories:["food"]},{word:"barista",categories:["profession"]},{word:"battery",categories:["thing"]},{word:"beach",categories:["place"]},{word:"bear",categories:["animals"]},{word:"beard",categories:["thing"]},{word:"bed",categories:["thing"]},{word:"belgium",categories:["place"]},{word:"bird",categories:["animals"]},{word:"bit",categories:["thing","technology"]},{word:"book",categories:["thing","education"]},{word:"boots",categories:["thing"]},{word:"boy",categories:["people"]},{word:"branch",categories:["thing"]},{word:"breakfast",categories:["thing"]},{word:"brother",categories:["family"]},{word:"businessperson",categories:["people","business"]},{word:"butcher",categories:["profession"]},{word:"byte",categories:["thing","technology"]},{word:"camera",categories:["thing"]},{word:"candle",categories:["thing"]},{word:"car",categories:["transportation"]},{word:"caravan",categories:["transportation"]},{word:"carpenter",categories:["profession"]},{word:"carpet",categories:["thing"]},{word:"cartoon",categories:["media"]},{word:"cat",categories:["animals"]},{word:"chef",categories:["profession"]},{word:"child",categories:["people","family"]},{word:"china",categories:["place"]},{word:"church",categories:["religion"]},{word:"city",categories:["place"]},{word:"coat",categories:["thing"]},{word:"coffeeshop",categories:["place"]},{word:"computer",categories:["thing","technology"]},{word:"continent",categories:["place"]},{word:"controller",categories:["thing","technology"]},{word:"country",categories:["place"]},{word:"cpu",categories:["thing","technology"]},{word:"crayon",categories:["thing"]},{word:"cricket",categories:["animals"]},{word:"crowd",categories:["people"]},{word:"daughter",categories:["family"]},{word:"dawn",categories:["time"]},{word:"daybreak",categories:["time"]},{word:"death",categories:["thing"]},{word:"denmark",categories:["place"]},{word:"dentist",categories:["profession"]},{word:"diamond",categories:["thing"]},{word:"dinner",categories:["food"]},{word:"disease",categories:["thing"]},{word:"doctor",categories:["profession"]},{word:"dog",categories:["animals"]},{word:"dream",categories:["thing"]},{word:"dress",categories:["thing"]},{word:"dusk",categories:["time"]},{word:"easter",categories:["religion"]},{word:"egg",categories:["food"]},{word:"eggplant",categories:["food"]},{word:"egypt",categories:["place"]},{word:"electrician",categories:["profession"]},{word:"elephant",categories:["animals"]},{word:"energy",categories:["thing"]},{word:"engine",categories:["transportation"]},{word:"engineer",categories:["profession"]},{word:"england",categories:["place"]},{word:"eve",categories:["time"]},{word:"evening",categories:["time"]},{word:"eventide",categories:["time"]},{word:"exabyte",categories:["thing","technology"]},{word:"eye",categories:["thing"]},{word:"fall",categories:["time"]},{word:"family",categories:["family"]},{word:"farmer",categories:["profession"]},{word:"father",categories:["people","family"]},{word:"finland",categories:["place"]},{word:"fireman",categories:["profession"]},{word:"fish",categories:["animals"]},{word:"flag",categories:["thing"]},{word:"florist",categories:["profession"]},{word:"flower",categories:["thing"]},{word:"football",categories:["sports"]},{word:"forest",categories:["place"]},{word:"fountain",categories:["thing"]},{word:"france",categories:["place"]},{word:"furniture",categories:["thing"]},{word:"garage",categories:["place"]},{word:"garden",categories:["food"]},{word:"gas",categories:["transportation"]},{word:"ghost",categories:["thing"]},{word:"gigabyte",categories:["thing","technology"]},{word:"girl",categories:["people"]},{word:"glass",categories:["thing"]},{word:"gold",categories:["thing"]},{word:"gpu",categories:["thing","technology"]},{word:"grandmother",categories:["people","family"]},{word:"grass",categories:["thing"]},{word:"greece",categories:["place"]},{word:"guitar",categories:["thing"]},{word:"hair",categories:["thing"]},{word:"hairdresser",categories:["profession"]},{word:"hamburger",categories:["food"]},{word:"helicopter",categories:["transportation"]},{word:"helmet",categories:["thing"]},{word:"holiday",categories:["thing"]},{word:"honey",categories:["food"]},{word:"horse",categories:["animals"]},{word:"hospital",categories:["place"]},{word:"house",categories:["place"]},{word:"hydrogen",categories:["science"]},{word:"ice",categories:["science"]},{word:"insect",categories:["animals"]},{word:"insurance",categories:["thing"]},{word:"intern",categories:["profession"]},{word:"iron",categories:["science"]},{word:"island",categories:["place"]},{word:"jackal",categories:["animals"]},{word:"jelly",categories:["food"]},{word:"jewellery",categories:["thing"]},{word:"jordan",categories:["place"]},{word:"journalist",categories:["profession"]},{word:"joystick",categories:["thing","technology"]},{word:"judge",categories:["profession"]},{word:"juice",categories:["food"]},{word:"kangaroo",categories:["animals"]},{word:"keyboard",categories:["thing","technology"]},{word:"kilobyte",categories:["thing","technology"]},{word:"king",categories:["people"]},{word:"kitchen",categories:["place"]},{word:"kite",categories:["thing"]},{word:"knife",categories:["thing"]},{word:"lamp",categories:["thing"]},{word:"laptop",categories:["thing","technology"]},{word:"lawyer",categories:["profession"]},{word:"leather",categories:["thing"]},{word:"librarian",categories:["profession"]},{word:"library",categories:["place"]},{word:"lifeguard",categories:["profession"]},{word:"lighter",categories:["thing"]},{word:"lion",categories:["animals"]},{word:"lizard",categories:["animals"]},{word:"lock",categories:["thing"]},{word:"london",categories:["place"]},{word:"lunch",categories:["food"]},{word:"machine",categories:["science"]},{word:"magazine",categories:["media"]},{word:"magician",categories:["people"]},{word:"man",categories:["people"]},{word:"manchester",categories:["place"]},{word:"market",categories:["place"]},{word:"match",categories:["thing"]},{word:"mechanic",categories:["profession"]},{word:"megabyte",categories:["thing","technology"]},{word:"memory",categories:["thing","technology"]},{word:"microphone",categories:["thing"]},{word:"midnight",categories:["time"]},{word:"minister",categories:["people","religion"]},{word:"monitor",categories:["thing","technology"]},{word:"monkey",categories:["animals"]},{word:"morn",categories:["time"]},{word:"morning",categories:["time"]},{word:"mother",categories:["people","family"]},{word:"motherboard",categories:["thing","technology"]},{word:"motorcycle",categories:["transportation"]},{word:"mouse",categories:["thing","technology","animals"]},{word:"musician",categories:["profession"]},{word:"nail",categories:["thing"]},{word:"napkin",categories:["thing"]},{word:"needle",categories:["thing"]},{word:"nest",categories:["thing"]},{word:"nigeria",categories:["place"]},{word:"night",categories:["time"]},{word:"nightfall",categories:["time"]},{word:"noon",categories:["time"]},{word:"notebook",categories:["thing"]},{word:"nurse",categories:["profession"]},{word:"ocean",categories:["place"]},{word:"oil",categories:["thing"]},{word:"optician",categories:["profession"]},{word:"orange",categories:["food"]},{word:"oxygen",categories:["science"]},{word:"oyster",categories:["animals"]},{word:"pager",categories:["thing","technology"]},{word:"painter",categories:["profession"]},{word:"painting",categories:["media"]},{word:"park",categories:["place"]},{word:"parrot",categories:["animals"]},{word:"pencil",categories:["thing","education"]},{word:"petabyte",categories:["thing","technology"]},{word:"pharmacist",categories:["profession"]},{word:"photographer",categories:["profession"]},{word:"piano",categories:["thing"]},{word:"pillow",categories:["thing"]},{word:"pilot",categories:["profession"]},{word:"pizza",categories:["food"]},{word:"planet",categories:["science"]},{word:"plastic",categories:["thing"]},{word:"plumber",categories:["profession"]},{word:"policeman",categories:["profession"]},{word:"portugal",categories:["place"]},{word:"postman",categories:["profession"]},{word:"potato",categories:["food"]},{word:"printer",categories:["thing","technology"]},{word:"processor",categories:["thing","technology"]},{word:"psychiatrist",categories:["profession"]},{word:"queen",categories:["people"]},{word:"quill",categories:["thing"]},{word:"rain",categories:["thing"]},{word:"rainbow",categories:["science"]},{word:"raincoat",categories:["thing"]},{word:"ram",categories:["thing","technology"]},{word:"receptionist",categories:["profession"]},{word:"refrigerator",categories:["food"]},{word:"restaurant",categories:["place"]},{word:"river",categories:["thing"]},{word:"rocket",categories:["science"]},{word:"room",categories:["place"]},{word:"rose",categories:["thing"]},{word:"russia",categories:["place"]},{word:"salesclerk",categories:["people","business"]},{word:"salesmen",categories:["profession"]},{word:"sandwich",categories:["food"]},{word:"school",categories:["education"]},{word:"scientist",categories:["profession"]},{word:"scooter",categories:["transportation"]},{word:"secretary",categories:["profession"]},{word:"shampoo",categories:["thing"]},{word:"shoe",categories:["thing"]},{word:"smartphone",categories:["thing","technology"]},{word:"soccer",categories:["sports"]},{word:"solstice",categories:["time"]},{word:"spoon",categories:["thing"]},{word:"spring",categories:["time"]},{word:"state",categories:["place"]},{word:"stone",categories:["thing"]},{word:"student",categories:["people","education"]},{word:"sugar",categories:["food"]},{word:"summer",categories:["time"]},{word:"sundown",categories:["time"]},{word:"sunset",categories:["time"]},{word:"sweden",categories:["place"]},{word:"table",categories:["thing"]},{word:"tailor",categories:["profession"]},{word:"teacher",categories:["people","education","profession"]},{word:"teenager",categories:["people","family"]},{word:"telephone",categories:["thing"]},{word:"television",categories:["media"]},{word:"tent",categories:["thing"]},{word:"terabyte",categories:["thing","technology"]},{word:"thailand",categories:["place"]},{word:"tiger",categories:["animals"]},{word:"toddler",categories:["people","family"]},{word:"tomato",categories:["food"]},{word:"toothbrush",categories:["thing"]},{word:"traffic",categories:["thing"]},{word:"train",categories:["transportation"]},{word:"translator",categories:["profession"]},{word:"truck",categories:["thing","transportation"]},{word:"twilight",categories:["time"]},{word:"uganda",categories:["place"]},{word:"umbrella",categories:["thing"]},{word:"van",categories:["transportation"]},{word:"vase",categories:["thing"]},{word:"vegetable",categories:["food"]},{word:"vr",categories:["thing","technology"]},{word:"vulture",categories:["animals"]},{word:"waiter",categories:["profession"]},{word:"waitress",categories:["profession"]},{word:"wall",categories:["thing"]},{word:"whale",categories:["animals"]},{word:"window",categories:["thing"]},{word:"winter",categories:["time"]},{word:"wire",categories:["thing"]},{word:"wolf",categories:["animals"]},{word:"woman",categories:["people"]},{word:"xylophone",categories:["thing"]},{word:"yacht",categories:["transportation"]},{word:"yak",categories:["animals"]},{word:"yottabyte",categories:["thing","technology"]},{word:"zebra",categories:["animals"]},{word:"zettabyte",categories:["thing","technology"]},{word:"zoo",categories:["animals"]}],adjective:[{word:"abandoned",categories:["condition"]},{word:"abiding",categories:["personality"]},{word:"able",categories:["condition"]},{word:"abrasive",categories:["condition","personality"]},{word:"abnormal",categories:["condition"]},{word:"absurd",categories:["condition"]},{word:"abundant",categories:["quantity"]},{word:"acceptable",categories:["condition"]},{word:"acidic",categories:["taste"]},{word:"acoustic",categories:["sounds"]},{word:"acrid",categories:["condition"]},{word:"adamant",categories:["personality"]},{word:"adorable",categories:["personality"]},{word:"adventurous",categories:["personality"]},{word:"aggressive",categories:["personality"]},{word:"agitated",categories:["personality"]},{word:"agreeable",categories:["personality"]},{word:"alert",categories:["condition"]},{word:"alive",categories:["condition"]},{word:"aloof",categories:["personality"]},{word:"ambitious",categories:["personality"]},{word:"ancient",categories:["time"]},{word:"angry",categories:["personality"]},{word:"annoyed",categories:["personality"]},{word:"antsy",categories:["personality"]},{word:"anxious",categories:["personality"]},{word:"appalling",categories:["personality"]},{word:"appetizing",categories:["taste"]},{word:"apprehensive",categories:["personality"]},{word:"arrogant",categories:["personality"]},{word:"ashamed",categories:["personality"]},{word:"astonishing",categories:["personality"]},{word:"attractive",categories:["appearance"]},{word:"average",categories:["appearance"]},{word:"bad",categories:["condition"]},{word:"bald",categories:["appearance"]},{word:"bashful",categories:["personality"]},{word:"beautiful",categories:["appearance"]},{word:"beefy",categories:["appearance"]},{word:"belligerent",categories:["personality"]},{word:"bent",categories:["condition"]},{word:"better",categories:["condition"]},{word:"best",categories:["condition"]},{word:"better",categories:["condition"]},{word:"bewildered",categories:["personality"]},{word:"big",categories:["size"]},{word:"billions",categories:["quantity"]},{word:"billowy",categories:["appearance"]},{word:"bitter",categories:["taste"]},{word:"black",categories:["color"]},{word:"bland",categories:["taste"]},{word:"blue",categories:["color"]},{word:"blushing",categories:["appearance"]},{word:"bored",categories:["personality"]},{word:"boring",categories:["personality"]},{word:"boundless",categories:["personality"]},{word:"brainy",categories:["personality"]},{word:"brash",categories:["personality"]},{word:"brave",categories:["personality"]},{word:"breezy",categories:["touch"]},{word:"brief",categories:["time"]},{word:"bright",categories:["appearance"]},{word:"broad",categories:["shapes"]},{word:"broken",categories:["condition"]},{word:"brown",categories:["color"]},{word:"bulky",categories:["appearance"]},{word:"bumpy",categories:["touch"]},{word:"burly",categories:["appearance"]},{word:"busy",categories:["personality"]},{word:"cagey",categories:["personality"]},{word:"calm",categories:["personality"]},{word:"callous",categories:["personality"]},{word:"careful",categories:["condition"]},{word:"chilly",categories:["touch"]},{word:"chubby",categories:["appearance"]},{word:"clean",categories:["appearance"]},{word:"clever",categories:["condition"]},{word:"clumsy",categories:["personality"]},{word:"cold",categories:["touch"]},{word:"colossal",categories:["size"]},{word:"cool",categories:["touch"]},{word:"crashing",categories:["sounds"]},{word:"creamy",categories:["taste"]},{word:"crooked",categories:["shapes"]},{word:"cuddly",categories:["touch"]},{word:"curved",categories:["shapes"]},{word:"damaged",categories:["touch"]},{word:"damp",categories:["touch"]},{word:"dazzling",categories:["appearance"]},{word:"dead",categories:["condition"]},{word:"deafening",categories:["sounds"]},{word:"deep",categories:["shapes"]},{word:"defeated",categories:["personality"]},{word:"delicious",categories:["taste"]},{word:"delightful",categories:["personality"]},{word:"dirty",categories:["touch"]},{word:"disgusting",categories:["taste"]},{word:"drab",categories:["appearance"]},{word:"dry",categories:["touch"]},{word:"eager",categories:["personality"]},{word:"early",categories:["time"]},{word:"easy",categories:["condition"]},{word:"echoing",categories:["sounds"]},{word:"elegant",categories:["appearance"]},{word:"embarrassed",categories:["personality"]},{word:"enough",categories:["quantity"]},{word:"faint",categories:["sounds"]},{word:"faithful",categories:["personality"]},{word:"famous",categories:["condition"]},{word:"fancy",categories:["appearance"]},{word:"fast",categories:["time"]},{word:"fat",categories:["size"]},{word:"few",categories:["quantity"]},{word:"fierce",categories:["personality"]},{word:"fit",categories:["appearance"]},{word:"flabby",categories:["appearance"]},{word:"flaky",categories:["touch"]},{word:"flat",categories:["shapes"]},{word:"fluffy",categories:["touch"]},{word:"freezing",categories:["touch"]},{word:"fresh",categories:["taste"]},{word:"full",categories:["quantity"]},{word:"future",categories:["time"]},{word:"gentle",categories:["personality"]},{word:"gifted",categories:["condition"]},{word:"gigantic",categories:["size"]},{word:"glamorous",categories:["appearance"]},{word:"gorgeous",categories:["appearance"]},{word:"gray",categories:["color"]},{word:"greasy",categories:["touch","taste"]},{word:"great",categories:["size"]},{word:"green",categories:["color"]},{word:"grumpy",categories:["personality"]},{word:"hallowed",categories:["condition"]},{word:"handsome",categories:["appearance"]},{word:"happy",categories:["personality"]},{word:"harsh",categories:["sounds"]},{word:"helpful",categories:["condition"]},{word:"helpless",categories:["personality"]},{word:"high",categories:["shapes"]},{word:"hissing",categories:["sounds"]},{word:"hollow",categories:["shapes"]},{word:"hot",categories:["touch","taste"]},{word:"howling",categories:["sounds"]},{word:"huge",categories:["size"]},{word:"hundreds",categories:["quantity"]},{word:"icy",categories:["touch"]},{word:"immense",categories:["size"]},{word:"important",categories:["condition"]},{word:"incalculable",categories:["quantity"]},{word:"inexpensive",categories:["condition"]},{word:"itchy",categories:["personality"]},{word:"jealous",categories:["personality"]},{word:"jolly",categories:["personality"]},{word:"juicy",categories:["taste"]},{word:"kind",categories:["personality"]},{word:"large",categories:["size"]},{word:"late",categories:["time"]},{word:"lazy",categories:["personality"]},{word:"lemon",categories:["color"]},{word:"limited",categories:["quantity"]},{word:"little",categories:["size","quantity"]},{word:"lively",categories:["personality"]},{word:"long",categories:["time","appearance"]},{word:"loose",categories:["touch"]},{word:"loud",categories:["sounds"]},{word:"low",categories:["shapes"]},{word:"magnificent",categories:["appearance"]},{word:"mammoth",categories:["size"]},{word:"mango",categories:["color"]},{word:"many",categories:["quantity"]},{word:"massive",categories:["size"]},{word:"mealy",categories:["condition"]},{word:"melodic",categories:["sounds"]},{word:"melted",categories:["touch"]},{word:"microscopic",categories:["size"]},{word:"millions",categories:["quantity"]},{word:"miniature",categories:["size"]},{word:"modern",categories:["time"]},{word:"moldy",categories:["taste"]},{word:"most",categories:["quantity"]},{word:"muscular",categories:["appearance"]},{word:"mushy",categories:["condition"]},{word:"mysterious",categories:["personality"]},{word:"narrow",categories:["shapes"]},{word:"nervous",categories:["personality"]},{word:"nice",categories:["personality"]},{word:"noisy",categories:["sounds"]},{word:"numerous",categories:["quantity"]},{word:"nutritious",categories:["taste"]},{word:"nutty",categories:["taste"]},{word:"obedient",categories:["personality"]},{word:"obnoxious",categories:["personality"]},{word:"odd",categories:["condition"]},{word:"old",categories:["time"]},{word:"orange",categories:["color"]},{word:"panicky",categories:["personality"]},{word:"petite",categories:["size"]},{word:"pitiful",categories:["personality"]},{word:"plain",categories:["appearance"]},{word:"plump",categories:["appearance"]},{word:"polite",categories:["personality"]},{word:"poor",categories:["condition"]},{word:"powerful",categories:["condition"]},{word:"prehistoric",categories:["time"]},{word:"prickly",categories:["touch"]},{word:"proud",categories:["personality"]},{word:"puny",categories:["size"]},{word:"purple",categories:["color"]},{word:"purring",categories:["sounds"]},{word:"putrid",categories:["taste"]},{word:"quaint",categories:["appearance"]},{word:"quick",categories:["time"]},{word:"quiet",categories:["sounds"]},{word:"rancid",categories:["taste"]},{word:"rapid",categories:["time"]},{word:"rapping",categories:["sounds"]},{word:"raspy",categories:["sounds"]},{word:"red",categories:["color"]},{word:"refined",categories:["shapes"]},{word:"repulsive",categories:["personality"]},{word:"rhythmic",categories:["sounds"]},{word:"rich",categories:["condition"]},{word:"ripe",categories:["taste"]},{word:"rotten",categories:["taste"]},{word:"rough",categories:["touch"]},{word:"round",categories:["shapes"]},{word:"salmon",categories:["color"]},{word:"salty",categories:["taste"]},{word:"savory",categories:["taste"]},{word:"scarce",categories:["quantity"]},{word:"scary",categories:["personality"]},{word:"scrawny",categories:["size"]},{word:"screeching",categories:["sounds"]},{word:"scruffy",categories:["appearance"]},{word:"shaggy",categories:["touch"]},{word:"shallow",categories:["shapes"]},{word:"shapely",categories:["appearance"]},{word:"sharp",categories:["touch"]},{word:"short",categories:["size","appearance","time"]},{word:"shrilling",categories:["sounds"]},{word:"shy",categories:["condition"]},{word:"silly",categories:["personality"]},{word:"skinny",categories:["appearance","shapes"]},{word:"slimy",categories:["touch"]},{word:"slow",categories:["time"]},{word:"small",categories:["size"]},{word:"some",categories:["quantity"]},{word:"sour",categories:["taste"]},{word:"sparse",categories:["quantity"]},{word:"spicy",categories:["taste"]},{word:"spoiled",categories:["taste"]},{word:"square",categories:["shapes"]},{word:"squeaking",categories:["sounds"]},{word:"stale",categories:["taste"]},{word:"steep",categories:["shapes"]},{word:"sticky",categories:["touch"]},{word:"stocky",categories:["appearance"]},{word:"straight",categories:["shapes"]},{word:"strong",categories:["touch"]},{word:"substantial",categories:["quantity"]},{word:"sweet",categories:["taste"]},{word:"swift",categories:["time"]},{word:"tall",categories:["size"]},{word:"tangy",categories:["taste"]},{word:"tart",categories:["taste"]},{word:"tasteless",categories:["taste"]},{word:"tasty",categories:["taste"]},{word:"teeny",categories:["size"]},{word:"tender",categories:["condition"]},{word:"thankful",categories:["personality"]},{word:"thoughtless",categories:["personality"]},{word:"thousands",categories:["quantity"]},{word:"thundering",categories:["sounds"]},{word:"tight",categories:["touch"]},{word:"tinkling",categories:["sounds"]},{word:"tiny",categories:["size"]},{word:"ugly",categories:["appearance"]},{word:"uneven",categories:["touch"]},{word:"unimportant",categories:["condition"]},{word:"uninterested",categories:["condition"]},{word:"unkempt",categories:["appearance"]},{word:"unsightly",categories:["appearance"]},{word:"uptight",categories:["personality"]},{word:"vast",categories:["condition"]},{word:"victorious",categories:["personality"]},{word:"wailing",categories:["sounds"]},{word:"warm",categories:["touch"]},{word:"weak",categories:["touch"]},{word:"wet",categories:["touch"]},{word:"whining",categories:["sounds"]},{word:"whispering",categories:["sounds"]},{word:"white",categories:["color"]},{word:"wide",categories:["shapes"]},{word:"witty",categories:["personality"]},{word:"wonderful",categories:["personality"]},{word:"wooden",categories:["touch"]},{word:"worried",categories:["personality"]},{word:"wrong",categories:["condition"]},{word:"yellow",categories:["color"]},{word:"young",categories:["time"]},{word:"yummy",categories:["taste"]},{word:"zealous",categories:["personality"]}]};function r(n,o){var l,u;o===void 0&&(o=[]);var h=new Set(o),f=[];try{for(var d=t(e.wordList[n]),p=d.next();!p.done;p=d.next()){var m=p.value;(o.length===0||m.categories.some(function(g){return h.has(g)}))&&f.push(m.word)}}catch(g){l={error:g}}finally{try{p&&!p.done&&(u=d.return)&&u.call(d)}finally{if(l)throw l.error}}return f}e.getWordsByCategory=r})(words);var __assign=commonjsGlobal$1&&commonjsGlobal$1.__assign||function(){return __assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},__assign.apply(this,arguments)};Object.defineProperty(dist$1,"__esModule",{value:!0});dist$1.totalUniqueSlugs=generateSlug_1=dist$1.generateSlug=void 0;var words_1=words,DEFAULT_NUMBER_OF_WORDS=3;function generateSlug(e,t){for(var r=e||DEFAULT_NUMBER_OF_WORDS,n={partsOfSpeech:getDefaultPartsOfSpeech(r),categories:{},format:"kebab"},o=__assign(__assign({},n),t),l=[],u=0;u<r;u++){var h=o.partsOfSpeech[u],f=words_1.getWordsByCategory(o.partsOfSpeech[u],o.categories[h]),d=f[Math.floor(Math.random()*f.length)];l.push(d)}return formatter(l,o.format)}var generateSlug_1=dist$1.generateSlug=generateSlug;function getDefaultPartsOfSpeech(e){for(var t=[],r=0;r<e-1;r++)t.push("adjective");return t.push("noun"),t}function formatter(e,t){return t==="kebab"?e.join("-").toLowerCase():t==="camel"?e.map(function(r,n){return n===0?r.toLowerCase():r[0].toUpperCase()+r.slice(1).toLowerCase()}).join(""):t==="lower"?e.join(" ").toLowerCase():t==="sentence"?e.map(function(r,n){return n===0?r[0].toUpperCase()+r.slice(1).toLowerCase():r}).join(" "):e.map(function(r){return r[0].toUpperCase()+r.slice(1).toLowerCase()}).join(" ")}function totalUniqueSlugs(e,t){for(var r,n,o=words_1.getWordsByCategory("adjective",(r=t==null?void 0:t.categories)===null||r===void 0?void 0:r.adjective).length,l=words_1.getWordsByCategory("noun",(n=t==null?void 0:t.categories)===null||n===void 0?void 0:n.noun).length,u={adjective:o,noun:l},h=e||DEFAULT_NUMBER_OF_WORDS,f=(t==null?void 0:t.partsOfSpeech)||getDefaultPartsOfSpeech(h),d=1,p=0;p<h;p++)d*=u[f[p]];return d}dist$1.totalUniqueSlugs=totalUniqueSlugs;let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const byteToHex=[];for(let e=0;e<256;++e)byteToHex.push((e+256).toString(16).slice(1));function unsafeStringify(e,t=0){return(byteToHex[e[t+0]]+byteToHex[e[t+1]]+byteToHex[e[t+2]]+byteToHex[e[t+3]]+"-"+byteToHex[e[t+4]]+byteToHex[e[t+5]]+"-"+byteToHex[e[t+6]]+byteToHex[e[t+7]]+"-"+byteToHex[e[t+8]]+byteToHex[e[t+9]]+"-"+byteToHex[e[t+10]]+byteToHex[e[t+11]]+byteToHex[e[t+12]]+byteToHex[e[t+13]]+byteToHex[e[t+14]]+byteToHex[e[t+15]]).toLowerCase()}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4(e,t,r){if(native.randomUUID&&!t&&!e)return native.randomUUID();e=e||{};const n=e.random||(e.rng||rng)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return unsafeStringify(n)}const MAX_AUTO_HISTORY_LENGTH=30,historyModeStore=persist(writable("manual"),localStorage(),"autoHistoryMode"),autoHistoryStore=persist(writable([]),localStorage(),"autoHistoryStore"),manualHistoryStore=persist(writable([]),localStorage(),"manualHistoryStore"),loaderHistoryStore=writable([]),historyStore=derived([historyModeStore,autoHistoryStore,manualHistoryStore,loaderHistoryStore],([e,t,r,n],o)=>{o(e==="auto"?t:e==="manual"?r:e==="loader"?n:t)}),addHistoryEntry=e=>{const t={...e,id:v4()};if(t.type==="loader"){loaderHistoryStore.update(r=>[t,...r]);return}t.name||(t.name=generateSlug_1(2)),t.type==="auto"?autoHistoryStore.update(r=>(r.length>=MAX_AUTO_HISTORY_LENGTH&&(r=r.slice(0,MAX_AUTO_HISTORY_LENGTH-1)),[t,...r])):t.type==="manual"&&(manualHistoryStore.update(r=>[t,...r]),logEvent("history",{action:"save"}))},clearHistoryData=e=>{(get_store_value(historyModeStore)==="auto"?autoHistoryStore:manualHistoryStore).update(t=>(get_store_value(historyModeStore)!=="loader"&&(t=t.filter(({id:r})=>e&&r!=e),logEvent("history",{action:"clear",type:e?"single":"all"})),t))},getPreviousState=e=>{const t=get_store_value(e?autoHistoryStore:manualHistoryStore);return t.length>0?JSON.stringify(t[0].state):""},restoreHistory=e=>{const t=e.filter(validateEntry),r=e.length-t.length;if(r>0&&(console.error(`${r} invalid history entries were removed.`),console.error(e)),t.length>0){let n=0;(t[0].type==="auto"?autoHistoryStore:manualHistoryStore).update(o=>{const l=new Set(o.map(({id:f})=>f)),u=t.filter(({id:f})=>!l.has(f));n=u.length;const h=[...o,...u];return h.sort((f,d)=>d.time-f.time),h}),alert(`${n} entries restored. ${r} invalid, ${t.length-n} duplicates.`),logEvent("history",{action:"restore",success:n,invalid:r,duplicates:t.length-n})}else alert("No valid entries found.")},injectHistoryIDs=()=>{const e=t=>{for(const r of t)r.id||(r.id=v4());return t};autoHistoryStore.update(e),manualHistoryStore.update(e)},validateEntry=e=>e.type&&e.state&&e.time&&!0,codeFileName="code.mmd",configFileName="config.json",isValidGist=e=>codeFileName in e,getFileContent=async e=>e.truncated?await(await fetch(e.raw_url)).text():e.content,getGistData=async e=>{const t=e.split("github.com").pop();if(!t)throw new Error("Invalid GitHub URL"+e);const[r,n,o,l]=t.split("/"),{html_url:u,files:h,history:f}=await(await fetch(`https://api.github.com/gists/${o}${l?"/"+l:""}`)).json();if(isValidGist(h)){const d=await getFileContent(h[codeFileName]);let p="{}";configFileName in h&&(p=await getFileContent(h[configFileName]));const m=f[0];return{url:`${u}/${m.version}`,code:d,config:p,author:m.user.login,time:new Date(m.committed_at).getTime(),version:m.version.slice(-7)}}else throw new Error("Invalid gist provided")},getStateFromGist=(e,t=e.url)=>{const r={...defaultState,code:e.code,loader:{type:"gist",config:{url:t}}};return e.config&&(r.mermaid=e.config),r},loadGistData=async e=>{const t=e.split("github.com").pop();if(!t)throw new Error("Invalid GitHub URL"+e);const[r,n,o,l]=t.split("/"),{history:u}=await(await fetch(`https://api.github.com/gists/${o}${l?"/"+l:""}`)).json(),h=[];for(const p of u){const m=await getGistData(p.url).catch(()=>{});m&&h.push(m)}if(h.length===0)throw new Error("Invalid gist provided");h.reverse();const f=h.slice(-1).pop();if(!f)throw new Error("Invalid gist provided");const d=getStateFromGist(f,e);for(const p of h)addHistoryEntry({state:getStateFromGist(p),time:p.time,type:"loader",url:p.url,name:`${p.author} v${p.version}`});return d},loaders={gist:loadGistData},loadDataFromUrl=async()=>{var h,f;const e=new URLSearchParams(window.location.search);let t=defaultState,r,n,o=!1;const l=(h=e.get("code"))!=null?h:void 0,u=(f=e.get("config"))!=null?f:void 0;if(l&&(r=await(await fetch(l)).text(),o=!0),u?n=await(await fetch(u)).text():n=defaultState.mermaid,r){if(!l)throw new Error("Code URL is not defined");t={code:r,mermaid:n,loader:{type:"files",config:{codeURL:l,configURL:u}}}}else for(const[d,p]of e.entries())if(d in loaders)try{t=await loaders[d](p),o=!0;break}catch(m){console.error(m)}o&&updateCodeStore({...t,autoSync:!0,updateDiagram:!0})},migrations={injectHistoryIDs},migrationStore=persist(writable({version:-1}),localStorage(),"migrations"),applyMigrations=()=>{const{version:e}=get_store_value(migrationStore),t=Object.entries(migrations);if(e!==t.length-1){console.log(`Current migration version: v${e}. Migrating to v${t.length-1}.`);for(let r=e+1;r<t.length;r++){const[n,o]=t[r];console.log(`Applying migration ${r}: ${n}.`),o(),logEvent("migration",{key:n}),migrationStore.set({version:r})}logEvent("migration",{status:"complete",from:e,to:t.length-1})}};function commonjsRequire$1(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var moment_min={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(commonjsGlobal$1,function(){var r;function n(){return r.apply(null,arguments)}function o($){return $ instanceof Array||Object.prototype.toString.call($)==="[object Array]"}function l($){return $!=null&&Object.prototype.toString.call($)==="[object Object]"}function u($,O){return Object.prototype.hasOwnProperty.call($,O)}function h($){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames($).length===0;for(var O in $)if(u($,O))return;return 1}function f($){return $===void 0}function d($){return typeof $=="number"||Object.prototype.toString.call($)==="[object Number]"}function p($){return $ instanceof Date||Object.prototype.toString.call($)==="[object Date]"}function m($,O){for(var j=[],ne=$.length,le=0;le<ne;++le)j.push(O($[le],le));return j}function g($,O){for(var j in O)u(O,j)&&($[j]=O[j]);return u(O,"toString")&&($.toString=O.toString),u(O,"valueOf")&&($.valueOf=O.valueOf),$}function b($,O,j,ne){return zt($,O,j,ne,!0).utc()}function v($){return $._pf==null&&($._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),$._pf}function T($){if($._isValid==null){var O=v($),j=I.call(O.parsedDateParts,function(ne){return ne!=null}),j=!isNaN($._d.getTime())&&O.overflow<0&&!O.empty&&!O.invalidEra&&!O.invalidMonth&&!O.invalidWeekday&&!O.weekdayMismatch&&!O.nullInput&&!O.invalidFormat&&!O.userInvalidated&&(!O.meridiem||O.meridiem&&j);if($._strict&&(j=j&&O.charsLeftOver===0&&O.unusedTokens.length===0&&O.bigHour===void 0),Object.isFrozen!=null&&Object.isFrozen($))return j;$._isValid=j}return $._isValid}function R($){var O=b(NaN);return $!=null?g(v(O),$):v(O).userInvalidated=!0,O}var I=Array.prototype.some||function($){for(var O=Object(this),j=O.length>>>0,ne=0;ne<j;ne++)if(ne in O&&$.call(this,O[ne],ne,O))return!0;return!1},N=n.momentProperties=[],q=!1;function F($,O){var j,ne,le,$e=N.length;if(f(O._isAMomentObject)||($._isAMomentObject=O._isAMomentObject),f(O._i)||($._i=O._i),f(O._f)||($._f=O._f),f(O._l)||($._l=O._l),f(O._strict)||($._strict=O._strict),f(O._tzm)||($._tzm=O._tzm),f(O._isUTC)||($._isUTC=O._isUTC),f(O._offset)||($._offset=O._offset),f(O._pf)||($._pf=v(O)),f(O._locale)||($._locale=O._locale),0<$e)for(j=0;j<$e;j++)f(le=O[ne=N[j]])||($[ne]=le);return $}function H($){F(this,$),this._d=new Date($._d!=null?$._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),q===!1&&(q=!0,n.updateOffset(this),q=!1)}function V($){return $ instanceof H||$!=null&&$._isAMomentObject!=null}function z($){n.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+$)}function G($,O){var j=!0;return g(function(){if(n.deprecationHandler!=null&&n.deprecationHandler(null,$),j){for(var ne,le,$e=[],De=arguments.length,ze=0;ze<De;ze++){if(ne="",typeof arguments[ze]=="object"){for(le in ne+=`
[`+ze+"] ",arguments[0])u(arguments[0],le)&&(ne+=le+": "+arguments[0][le]+", ");ne=ne.slice(0,-2)}else ne=arguments[ze];$e.push(ne)}z($+`
Arguments: `+Array.prototype.slice.call($e).join("")+`
`+new Error().stack),j=!1}return O.apply(this,arguments)},O)}var P={};function W($,O){n.deprecationHandler!=null&&n.deprecationHandler($,O),P[$]||(z(O),P[$]=!0)}function S($){return typeof Function<"u"&&$ instanceof Function||Object.prototype.toString.call($)==="[object Function]"}function U($,O){var j,ne=g({},$);for(j in O)u(O,j)&&(l($[j])&&l(O[j])?(ne[j]={},g(ne[j],$[j]),g(ne[j],O[j])):O[j]!=null?ne[j]=O[j]:delete ne[j]);for(j in $)u($,j)&&!u(O,j)&&l($[j])&&(ne[j]=g({},ne[j]));return ne}function L($){$!=null&&this.set($)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;var ae=Object.keys||function($){var O,j=[];for(O in $)u($,O)&&j.push(O);return j};function Q($,O,j){var ne=""+Math.abs($);return(0<=$?j?"+":"":"-")+Math.pow(10,Math.max(0,O-ne.length)).toString().substr(1)+ne}var ue=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,_e=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ke={},de={};function ce($,O,j,ne){var le=typeof ne=="string"?function(){return this[ne]()}:ne;$&&(de[$]=le),O&&(de[O[0]]=function(){return Q(le.apply(this,arguments),O[1],O[2])}),j&&(de[j]=function(){return this.localeData().ordinal(le.apply(this,arguments),$)})}function he($,O){return $.isValid()?(O=Se(O,$.localeData()),ke[O]=ke[O]||function(j){for(var ne,le=j.match(ue),$e=0,De=le.length;$e<De;$e++)de[le[$e]]?le[$e]=de[le[$e]]:le[$e]=(ne=le[$e]).match(/\[[\s\S]/)?ne.replace(/^\[|\]$/g,""):ne.replace(/\\/g,"");return function(ze){for(var Qe="",We=0;We<De;We++)Qe+=S(le[We])?le[We].call(ze,j):le[We];return Qe}}(O),ke[O]($)):$.localeData().invalidDate()}function Se($,O){var j=5;function ne(le){return O.longDateFormat(le)||le}for(_e.lastIndex=0;0<=j&&_e.test($);)$=$.replace(_e,ne),_e.lastIndex=0,--j;return $}var ve={};function me($,O){var j=$.toLowerCase();ve[j]=ve[j+"s"]=ve[O]=$}function Ce($){return typeof $=="string"?ve[$]||ve[$.toLowerCase()]:void 0}function xe($){var O,j,ne={};for(j in $)u($,j)&&(O=Ce(j))&&(ne[O]=$[j]);return ne}var Ne={};function pe($,O){Ne[$]=O}function J($){return $%4==0&&$%100!=0||$%400==0}function oe($){return $<0?Math.ceil($)||0:Math.floor($)}function ee(O){var O=+O,j=0;return j=O!=0&&isFinite(O)?oe(O):j}function Z($,O){return function(j){return j!=null?(se(this,$,j),n.updateOffset(this,O),this):ie(this,$)}}function ie($,O){return $.isValid()?$._d["get"+($._isUTC?"UTC":"")+O]():NaN}function se($,O,j){$.isValid()&&!isNaN(j)&&(O==="FullYear"&&J($.year())&&$.month()===1&&$.date()===29?(j=ee(j),$._d["set"+($._isUTC?"UTC":"")+O](j,$.month(),Re(j,$.month()))):$._d["set"+($._isUTC?"UTC":"")+O](j))}var te=/\d/,mt=/\d\d/,fe=/\d{3}/,_r=/\d{4}/,ur=/[+-]?\d{6}/,we=/\d\d?/,Ye=/\d\d\d\d?/,He=/\d\d\d\d\d\d?/,je=/\d{1,3}/,hr=/\d{1,4}/,lr=/[+-]?\d{1,6}/,Pe=/\d+/,Ee=/[+-]?\d+/,Ie=/Z|[+-]\d\d:?\d\d/gi,Le=/Z|[+-]\d\d(?::?\d\d)?/gi,Be=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Te($,O,j){rt[$]=S(O)?O:function(ne,le){return ne&&j?j:O}}function dt($,O){return u(rt,$)?rt[$](O._strict,O._locale):new RegExp(Ge($.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(j,ne,le,$e,De){return ne||le||$e||De})))}function Ge($){return $.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var rt={},it={};function st($,O){var j,ne,le=O;for(typeof $=="string"&&($=[$]),d(O)&&(le=function($e,De){De[O]=ee($e)}),ne=$.length,j=0;j<ne;j++)it[$[j]]=le}function wt($,O){st($,function(j,ne,le,$e){le._w=le._w||{},O(j,le._w,le,$e)})}var nt,Ke=0,Je=1,Oe=2,Me=3,Fe=4,qe=5,et=6,Ae=7,_t=8;function Re($,O){if(isNaN($)||isNaN(O))return NaN;var j=(O%(j=12)+j)%j;return $+=(O-j)/12,j==1?J($)?29:28:31-j%7%2}nt=Array.prototype.indexOf||function($){for(var O=0;O<this.length;++O)if(this[O]===$)return O;return-1},ce("M",["MM",2],"Mo",function(){return this.month()+1}),ce("MMM",0,0,function($){return this.localeData().monthsShort(this,$)}),ce("MMMM",0,0,function($){return this.localeData().months(this,$)}),me("month","M"),pe("month",8),Te("M",we),Te("MM",we,mt),Te("MMM",function($,O){return O.monthsShortRegex($)}),Te("MMMM",function($,O){return O.monthsRegex($)}),st(["M","MM"],function($,O){O[Je]=ee($)-1}),st(["MMM","MMMM"],function($,O,j,ne){ne=j._locale.monthsParse($,ne,j._strict),ne!=null?O[Je]=ne:v(j).invalidMonth=$});var lt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),xt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),bt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,$t=Be,kt=Be;function tt($,O){var j;if($.isValid()){if(typeof O=="string"){if(/^\d+$/.test(O))O=ee(O);else if(!d(O=$.localeData().monthsParse(O)))return}j=Math.min($.date(),Re($.year(),O)),$._d["set"+($._isUTC?"UTC":"")+"Month"](O,j)}}function ht($){return $!=null?(tt(this,$),n.updateOffset(this,!0),this):ie(this,"Month")}function vt(){function $(De,ze){return ze.length-De.length}for(var O,j=[],ne=[],le=[],$e=0;$e<12;$e++)O=b([2e3,$e]),j.push(this.monthsShort(O,"")),ne.push(this.months(O,"")),le.push(this.months(O,"")),le.push(this.monthsShort(O,""));for(j.sort($),ne.sort($),le.sort($),$e=0;$e<12;$e++)j[$e]=Ge(j[$e]),ne[$e]=Ge(ne[$e]);for($e=0;$e<24;$e++)le[$e]=Ge(le[$e]);this._monthsRegex=new RegExp("^("+le.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+ne.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+j.join("|")+")","i")}function gt($){return J($)?366:365}ce("Y",0,0,function(){var $=this.year();return $<=9999?Q($,4):"+"+$}),ce(0,["YY",2],0,function(){return this.year()%100}),ce(0,["YYYY",4],0,"year"),ce(0,["YYYYY",5],0,"year"),ce(0,["YYYYYY",6,!0],0,"year"),me("year","y"),pe("year",1),Te("Y",Ee),Te("YY",we,mt),Te("YYYY",hr,_r),Te("YYYYY",lr,ur),Te("YYYYYY",lr,ur),st(["YYYYY","YYYYYY"],Ke),st("YYYY",function($,O){O[Ke]=$.length===2?n.parseTwoDigitYear($):ee($)}),st("YY",function($,O){O[Ke]=n.parseTwoDigitYear($)}),st("Y",function($,O){O[Ke]=parseInt($,10)}),n.parseTwoDigitYear=function($){return ee($)+(68<ee($)?1900:2e3)};var Dr=Z("FullYear",!0);function tr($,O,j,ne,le,$e,De){var ze;return $<100&&0<=$?(ze=new Date($+400,O,j,ne,le,$e,De),isFinite(ze.getFullYear())&&ze.setFullYear($)):ze=new Date($,O,j,ne,le,$e,De),ze}function Ht($){var O;return $<100&&0<=$?((O=Array.prototype.slice.call(arguments))[0]=$+400,O=new Date(Date.UTC.apply(null,O)),isFinite(O.getUTCFullYear())&&O.setUTCFullYear($)):O=new Date(Date.UTC.apply(null,arguments)),O}function St($,O,j){return j=7+O-j,j-(7+Ht($,0,j).getUTCDay()-O)%7-1}function ft($,De,ze,ne,le){var $e,De=1+7*(De-1)+(7+ze-ne)%7+St($,ne,le),ze=De<=0?gt($e=$-1)+De:De>gt($)?($e=$+1,De-gt($)):($e=$,De);return{year:$e,dayOfYear:ze}}function Nt($,O,j){var ne,le,$e=St($.year(),O,j),$e=Math.floor(($.dayOfYear()-$e-1)/7)+1;return $e<1?ne=$e+Pt(le=$.year()-1,O,j):$e>Pt($.year(),O,j)?(ne=$e-Pt($.year(),O,j),le=$.year()+1):(le=$.year(),ne=$e),{week:ne,year:le}}function Pt($,le,j){var ne=St($,le,j),le=St($+1,le,j);return(gt($)-ne+le)/7}ce("w",["ww",2],"wo","week"),ce("W",["WW",2],"Wo","isoWeek"),me("week","w"),me("isoWeek","W"),pe("week",5),pe("isoWeek",5),Te("w",we),Te("ww",we,mt),Te("W",we),Te("WW",we,mt),wt(["w","ww","W","WW"],function($,O,j,ne){O[ne.substr(0,1)]=ee($)});function Lt($,O){return $.slice(O,7).concat($.slice(0,O))}ce("d",0,"do","day"),ce("dd",0,0,function($){return this.localeData().weekdaysMin(this,$)}),ce("ddd",0,0,function($){return this.localeData().weekdaysShort(this,$)}),ce("dddd",0,0,function($){return this.localeData().weekdays(this,$)}),ce("e",0,0,"weekday"),ce("E",0,0,"isoWeekday"),me("day","d"),me("weekday","e"),me("isoWeekday","E"),pe("day",11),pe("weekday",11),pe("isoWeekday",11),Te("d",we),Te("e",we),Te("E",we),Te("dd",function($,O){return O.weekdaysMinRegex($)}),Te("ddd",function($,O){return O.weekdaysShortRegex($)}),Te("dddd",function($,O){return O.weekdaysRegex($)}),wt(["dd","ddd","dddd"],function($,O,j,ne){ne=j._locale.weekdaysParse($,ne,j._strict),ne!=null?O.d=ne:v(j).invalidWeekday=$}),wt(["d","e","E"],function($,O,j,ne){O[ne]=ee($)});var qt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Xe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ye="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ue=Be,Ve=Be,ot=Be;function Mt(){function $(We,yt){return yt.length-We.length}for(var O,j,ne,le=[],$e=[],De=[],ze=[],Qe=0;Qe<7;Qe++)ne=b([2e3,1]).day(Qe),O=Ge(this.weekdaysMin(ne,"")),j=Ge(this.weekdaysShort(ne,"")),ne=Ge(this.weekdays(ne,"")),le.push(O),$e.push(j),De.push(ne),ze.push(O),ze.push(j),ze.push(ne);le.sort($),$e.sort($),De.sort($),ze.sort($),this._weekdaysRegex=new RegExp("^("+ze.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+De.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+$e.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+le.join("|")+")","i")}function At(){return this.hours()%12||12}function Rt($,O){ce($,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),O)})}function Ut($,O){return O._meridiemParse}ce("H",["HH",2],0,"hour"),ce("h",["hh",2],0,At),ce("k",["kk",2],0,function(){return this.hours()||24}),ce("hmm",0,0,function(){return""+At.apply(this)+Q(this.minutes(),2)}),ce("hmmss",0,0,function(){return""+At.apply(this)+Q(this.minutes(),2)+Q(this.seconds(),2)}),ce("Hmm",0,0,function(){return""+this.hours()+Q(this.minutes(),2)}),ce("Hmmss",0,0,function(){return""+this.hours()+Q(this.minutes(),2)+Q(this.seconds(),2)}),Rt("a",!0),Rt("A",!1),me("hour","h"),pe("hour",13),Te("a",Ut),Te("A",Ut),Te("H",we),Te("h",we),Te("k",we),Te("HH",we,mt),Te("hh",we,mt),Te("kk",we,mt),Te("hmm",Ye),Te("hmmss",He),Te("Hmm",Ye),Te("Hmmss",He),st(["H","HH"],Me),st(["k","kk"],function($,O,j){$=ee($),O[Me]=$===24?0:$}),st(["a","A"],function($,O,j){j._isPm=j._locale.isPM($),j._meridiem=$}),st(["h","hh"],function($,O,j){O[Me]=ee($),v(j).bigHour=!0}),st("hmm",function($,O,j){var ne=$.length-2;O[Me]=ee($.substr(0,ne)),O[Fe]=ee($.substr(ne)),v(j).bigHour=!0}),st("hmmss",function($,O,j){var ne=$.length-4,le=$.length-2;O[Me]=ee($.substr(0,ne)),O[Fe]=ee($.substr(ne,2)),O[qe]=ee($.substr(le)),v(j).bigHour=!0}),st("Hmm",function($,O,j){var ne=$.length-2;O[Me]=ee($.substr(0,ne)),O[Fe]=ee($.substr(ne))}),st("Hmmss",function($,O,j){var ne=$.length-4,le=$.length-2;O[Me]=ee($.substr(0,ne)),O[Fe]=ee($.substr(ne,2)),O[qe]=ee($.substr(le))}),Be=Z("Hours",!0);var It,rr={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:lt,monthsShort:xt,week:{dow:0,doy:6},weekdays:qt,weekdaysMin:ye,weekdaysShort:Xe,meridiemParse:/[ap]\.?m?\.?/i},Tt={},Qt={};function Sr($){return $&&$.toLowerCase().replace("_","-")}function xr($){for(var O,j,ne,le,$e=0;$e<$.length;){for(O=(le=Sr($[$e]).split("-")).length,j=(j=Sr($[$e+1]))?j.split("-"):null;0<O;){if(ne=Gt(le.slice(0,O).join("-")))return ne;if(j&&j.length>=O&&function(De,ze){for(var Qe=Math.min(De.length,ze.length),We=0;We<Qe;We+=1)if(De[We]!==ze[We])return We;return Qe}(le,j)>=O-1)break;O--}$e++}return It}function Gt($){var O;if(Tt[$]===void 0&&!0&&e&&e.exports&&$.match("^[^/\\\\]*$")!=null)try{O=It._abbr,commonjsRequire$1("./locale/"+$),at(O)}catch{Tt[$]=null}return Tt[$]}function at($,O){return $&&((O=f(O)?pt($):ct($,O))?It=O:typeof console<"u"&&console.warn&&console.warn("Locale "+$+" not found. Did you forget to load it?")),It._abbr}function ct($,O){if(O===null)return delete Tt[$],null;var j,ne=rr;if(O.abbr=$,Tt[$]!=null)W("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),ne=Tt[$]._config;else if(O.parentLocale!=null)if(Tt[O.parentLocale]!=null)ne=Tt[O.parentLocale]._config;else{if((j=Gt(O.parentLocale))==null)return Qt[O.parentLocale]||(Qt[O.parentLocale]=[]),Qt[O.parentLocale].push({name:$,config:O}),null;ne=j._config}return Tt[$]=new L(U(ne,O)),Qt[$]&&Qt[$].forEach(function(le){ct(le.name,le.config)}),at($),Tt[$]}function pt($){var O;if(!($=$&&$._locale&&$._locale._abbr?$._locale._abbr:$))return It;if(!o($)){if(O=Gt($))return O;$=[$]}return xr($)}function Ze($){var O=$._a;return O&&v($).overflow===-2&&(O=O[Je]<0||11<O[Je]?Je:O[Oe]<1||O[Oe]>Re(O[Ke],O[Je])?Oe:O[Me]<0||24<O[Me]||O[Me]===24&&(O[Fe]!==0||O[qe]!==0||O[et]!==0)?Me:O[Fe]<0||59<O[Fe]?Fe:O[qe]<0||59<O[qe]?qe:O[et]<0||999<O[et]?et:-1,v($)._overflowDayOfYear&&(O<Ke||Oe<O)&&(O=Oe),v($)._overflowWeeks&&O===-1&&(O=Ae),v($)._overflowWeekday&&O===-1&&(O=_t),v($).overflow=O),$}var Dt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ge=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fr=/Z|[+-]\d\d(?::?\d\d)?/,be=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Yt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Cr=/^\/?Date\((-?\d+)/i,qr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Er={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ar($){var O,j,ne,le,$e,De,Qe=$._i,ze=Dt.exec(Qe)||ge.exec(Qe),Qe=be.length,We=Yt.length;if(ze){for(v($).iso=!0,O=0,j=Qe;O<j;O++)if(be[O][1].exec(ze[1])){le=be[O][0],ne=be[O][2]!==!1;break}if(le==null)$._isValid=!1;else{if(ze[3]){for(O=0,j=We;O<j;O++)if(Yt[O][1].exec(ze[3])){$e=(ze[2]||" ")+Yt[O][0];break}if($e==null)return void($._isValid=!1)}if(ne||$e==null){if(ze[4]){if(!fr.exec(ze[4]))return void($._isValid=!1);De="Z"}$._f=le+($e||"")+(De||""),wr($)}else $._isValid=!1}}else $._isValid=!1}function Bt($,O,j,ne,le,$e){return $=[function(De){De=parseInt(De,10);{if(De<=49)return 2e3+De;if(De<=999)return 1900+De}return De}($),xt.indexOf(O),parseInt(j,10),parseInt(ne,10),parseInt(le,10)],$e&&$.push(parseInt($e,10)),$}function Jt($){var O,j,ne,le,$e=qr.exec($._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));$e?(O=Bt($e[4],$e[3],$e[2],$e[5],$e[6],$e[7]),j=$e[1],ne=O,le=$,j&&Xe.indexOf(j)!==new Date(ne[0],ne[1],ne[2]).getDay()?(v(le).weekdayMismatch=!0,le._isValid=!1):($._a=O,$._tzm=(j=$e[8],ne=$e[9],le=$e[10],j?Er[j]:ne?0:60*(((j=parseInt(le,10))-(ne=j%100))/100)+ne),$._d=Ht.apply(null,$._a),$._d.setUTCMinutes($._d.getUTCMinutes()-$._tzm),v($).rfc2822=!0)):$._isValid=!1}function er($,O,j){return $!=null?$:O!=null?O:j}function dr($){var O,j,ne,le,$e,De,ze,Qe,We,yt,ut,Ot=[];if(!$._d){for(ne=$,le=new Date(n.now()),j=ne._useUTC?[le.getUTCFullYear(),le.getUTCMonth(),le.getUTCDate()]:[le.getFullYear(),le.getMonth(),le.getDate()],$._w&&$._a[Oe]==null&&$._a[Je]==null&&((le=(ne=$)._w).GG!=null||le.W!=null||le.E!=null?(Qe=1,We=4,$e=er(le.GG,ne._a[Ke],Nt(Et(),1,4).year),De=er(le.W,1),((ze=er(le.E,1))<1||7<ze)&&(yt=!0)):(Qe=ne._locale._week.dow,We=ne._locale._week.doy,ut=Nt(Et(),Qe,We),$e=er(le.gg,ne._a[Ke],ut.year),De=er(le.w,ut.week),le.d!=null?((ze=le.d)<0||6<ze)&&(yt=!0):le.e!=null?(ze=le.e+Qe,(le.e<0||6<le.e)&&(yt=!0)):ze=Qe),De<1||De>Pt($e,Qe,We)?v(ne)._overflowWeeks=!0:yt!=null?v(ne)._overflowWeekday=!0:(ut=ft($e,De,ze,Qe,We),ne._a[Ke]=ut.year,ne._dayOfYear=ut.dayOfYear)),$._dayOfYear!=null&&(le=er($._a[Ke],j[Ke]),($._dayOfYear>gt(le)||$._dayOfYear===0)&&(v($)._overflowDayOfYear=!0),yt=Ht(le,0,$._dayOfYear),$._a[Je]=yt.getUTCMonth(),$._a[Oe]=yt.getUTCDate()),O=0;O<3&&$._a[O]==null;++O)$._a[O]=Ot[O]=j[O];for(;O<7;O++)$._a[O]=Ot[O]=$._a[O]==null?O===2?1:0:$._a[O];$._a[Me]===24&&$._a[Fe]===0&&$._a[qe]===0&&$._a[et]===0&&($._nextDay=!0,$._a[Me]=0),$._d=($._useUTC?Ht:tr).apply(null,Ot),$e=$._useUTC?$._d.getUTCDay():$._d.getDay(),$._tzm!=null&&$._d.setUTCMinutes($._d.getUTCMinutes()-$._tzm),$._nextDay&&($._a[Me]=24),$._w&&$._w.d!==void 0&&$._w.d!==$e&&(v($).weekdayMismatch=!0)}}function wr($){if($._f===n.ISO_8601)Ar($);else if($._f===n.RFC_2822)Jt($);else{$._a=[],v($).empty=!0;for(var O,j,ne,le,$e,De=""+$._i,ze=De.length,Qe=0,We=Se($._f,$._locale).match(ue)||[],yt=We.length,ut=0;ut<yt;ut++)j=We[ut],(O=(De.match(dt(j,$))||[])[0])&&(0<(ne=De.substr(0,De.indexOf(O))).length&&v($).unusedInput.push(ne),De=De.slice(De.indexOf(O)+O.length),Qe+=O.length),de[j]?(O?v($).empty=!1:v($).unusedTokens.push(j),ne=j,$e=$,(le=O)!=null&&u(it,ne)&&it[ne](le,$e._a,$e,ne)):$._strict&&!O&&v($).unusedTokens.push(j);v($).charsLeftOver=ze-Qe,0<De.length&&v($).unusedInput.push(De),$._a[Me]<=12&&v($).bigHour===!0&&0<$._a[Me]&&(v($).bigHour=void 0),v($).parsedDateParts=$._a.slice(0),v($).meridiem=$._meridiem,$._a[Me]=function(Ot,Ft,Xt){return Xt==null?Ft:Ot.meridiemHour!=null?Ot.meridiemHour(Ft,Xt):Ot.isPM!=null?((Ot=Ot.isPM(Xt))&&Ft<12&&(Ft+=12),Ft=Ot||Ft!==12?Ft:0):Ft}($._locale,$._a[Me],$._meridiem),(ze=v($).era)!==null&&($._a[Ke]=$._locale.erasConvertYear(ze,$._a[Ke])),dr($),Ze($)}}function Rr($){var O,j,ne,le=$._i,$e=$._f;return $._locale=$._locale||pt($._l),le===null||$e===void 0&&le===""?R({nullInput:!0}):(typeof le=="string"&&($._i=le=$._locale.preparse(le)),V(le)?new H(Ze(le)):(p(le)?$._d=le:o($e)?function(De){var ze,Qe,We,yt,ut,Ot,Ft=!1,Xt=De._f.length;if(Xt===0)return v(De).invalidFormat=!0,De._d=new Date(NaN);for(yt=0;yt<Xt;yt++)ut=0,Ot=!1,ze=F({},De),De._useUTC!=null&&(ze._useUTC=De._useUTC),ze._f=De._f[yt],wr(ze),T(ze)&&(Ot=!0),ut=(ut+=v(ze).charsLeftOver)+10*v(ze).unusedTokens.length,v(ze).score=ut,Ft?ut<We&&(We=ut,Qe=ze):(We==null||ut<We||Ot)&&(We=ut,Qe=ze,Ot&&(Ft=!0));g(De,Qe||ze)}($):$e?wr($):f($e=(le=$)._i)?le._d=new Date(n.now()):p($e)?le._d=new Date($e.valueOf()):typeof $e=="string"?(j=le,(O=Cr.exec(j._i))!==null?j._d=new Date(+O[1]):(Ar(j),j._isValid===!1&&(delete j._isValid,Jt(j),j._isValid===!1&&(delete j._isValid,j._strict?j._isValid=!1:n.createFromInputFallback(j))))):o($e)?(le._a=m($e.slice(0),function(De){return parseInt(De,10)}),dr(le)):l($e)?(O=le)._d||(ne=(j=xe(O._i)).day===void 0?j.date:j.day,O._a=m([j.year,j.month,ne,j.hour,j.minute,j.second,j.millisecond],function(De){return De&&parseInt(De,10)}),dr(O)):d($e)?le._d=new Date($e):n.createFromInputFallback(le),T($)||($._d=null),$))}function zt($,O,j,ne,le){var $e={};return O!==!0&&O!==!1||(ne=O,O=void 0),j!==!0&&j!==!1||(ne=j,j=void 0),(l($)&&h($)||o($)&&$.length===0)&&($=void 0),$e._isAMomentObject=!0,$e._useUTC=$e._isUTC=le,$e._l=j,$e._i=$,$e._f=O,$e._strict=ne,(le=new H(Ze(Rr(le=$e))))._nextDay&&(le.add(1,"d"),le._nextDay=void 0),le}function Et($,O,j,ne){return zt($,O,j,ne,!1)}n.createFromInputFallback=G("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function($){$._d=new Date($._i+($._useUTC?" UTC":""))}),n.ISO_8601=function(){},n.RFC_2822=function(){},Ye=G("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var $=Et.apply(null,arguments);return this.isValid()&&$.isValid()?$<this?this:$:R()}),He=G("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var $=Et.apply(null,arguments);return this.isValid()&&$.isValid()?this<$?this:$:R()});function Vt($,O){var j,ne;if(!(O=O.length===1&&o(O[0])?O[0]:O).length)return Et();for(j=O[0],ne=1;ne<O.length;++ne)O[ne].isValid()&&!O[ne][$](j)||(j=O[ne]);return j}var nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Kt(O){var O=xe(O),j=O.year||0,ne=O.quarter||0,le=O.month||0,$e=O.week||O.isoWeek||0,De=O.day||0,ze=O.hour||0,Qe=O.minute||0,We=O.second||0,yt=O.millisecond||0;this._isValid=function(ut){var Ot,Ft,Xt=!1,Hr=nr.length;for(Ot in ut)if(u(ut,Ot)&&(nt.call(nr,Ot)===-1||ut[Ot]!=null&&isNaN(ut[Ot])))return!1;for(Ft=0;Ft<Hr;++Ft)if(ut[nr[Ft]]){if(Xt)return!1;parseFloat(ut[nr[Ft]])!==ee(ut[nr[Ft]])&&(Xt=!0)}return!0}(O),this._milliseconds=+yt+1e3*We+6e4*Qe+1e3*ze*60*60,this._days=+De+7*$e,this._months=+le+3*ne+12*j,this._data={},this._locale=pt(),this._bubble()}function ir($){return $ instanceof Kt}function Wt($){return $<0?-1*Math.round(-1*$):Math.round($)}function Tr($,O){ce($,0,0,function(){var j=this.utcOffset(),ne="+";return j<0&&(j=-j,ne="-"),ne+Q(~~(j/60),2)+O+Q(~~j%60,2)})}Tr("Z",":"),Tr("ZZ",""),Te("Z",Le),Te("ZZ",Le),st(["Z","ZZ"],function($,O,j){j._useUTC=!0,j._tzm=pr(Le,$)});var yr=/([\+\-]|\d\d)/gi;function pr($,j){var j=(j||"").match($);return j===null?null:(j=60*($=((j[j.length-1]||[])+"").match(yr)||["-",0,0])[1]+ee($[2]))===0?0:$[0]==="+"?j:-j}function jt($,O){var j;return O._isUTC?(O=O.clone(),j=(V($)||p($)?$:Et($)).valueOf()-O.valueOf(),O._d.setTime(O._d.valueOf()+j),n.updateOffset(O,!1),O):Et($).local()}function Or($){return-Math.round($._d.getTimezoneOffset())}function Yr(){return!!this.isValid()&&this._isUTC&&this._offset===0}n.updateOffset=function(){};var on=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,cn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Zt($,O){var j,ne=$,le=null;return ir($)?ne={ms:$._milliseconds,d:$._days,M:$._months}:d($)||!isNaN(+$)?(ne={},O?ne[O]=+$:ne.milliseconds=+$):(le=on.exec($))?(j=le[1]==="-"?-1:1,ne={y:0,d:ee(le[Oe])*j,h:ee(le[Me])*j,m:ee(le[Fe])*j,s:ee(le[qe])*j,ms:ee(Wt(1e3*le[et]))*j}):(le=cn.exec($))?(j=le[1]==="-"?-1:1,ne={y:gr(le[2],j),M:gr(le[3],j),w:gr(le[4],j),d:gr(le[5],j),h:gr(le[6],j),m:gr(le[7],j),s:gr(le[8],j)}):ne==null?ne={}:typeof ne=="object"&&("from"in ne||"to"in ne)&&(O=function($e,De){var ze;return!$e.isValid()||!De.isValid()?{milliseconds:0,months:0}:(De=jt(De,$e),$e.isBefore(De)?ze=Vr($e,De):((ze=Vr(De,$e)).milliseconds=-ze.milliseconds,ze.months=-ze.months),ze)}(Et(ne.from),Et(ne.to)),(ne={}).ms=O.milliseconds,ne.M=O.months),le=new Kt(ne),ir($)&&u($,"_locale")&&(le._locale=$._locale),ir($)&&u($,"_isValid")&&(le._isValid=$._isValid),le}function gr($,O){return $=$&&parseFloat($.replace(",",".")),(isNaN($)?0:$)*O}function Vr($,O){var j={};return j.months=O.month()-$.month()+12*(O.year()-$.year()),$.clone().add(j.months,"M").isAfter(O)&&--j.months,j.milliseconds=+O-+$.clone().add(j.months,"M"),j}function Gr($,O){return function(j,ne){var le;return ne===null||isNaN(+ne)||(W(O,"moment()."+O+"(period, number) is deprecated. Please use moment()."+O+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),le=j,j=ne,ne=le),Wr(this,Zt(j,ne),$),this}}function Wr($,De,j,ne){var le=De._milliseconds,$e=Wt(De._days),De=Wt(De._months);$.isValid()&&(ne=ne==null||ne,De&&tt($,ie($,"Month")+De*j),$e&&se($,"Date",ie($,"Date")+$e*j),le&&$._d.setTime($._d.valueOf()+le*j),ne&&n.updateOffset($,$e||De))}Zt.fn=Kt.prototype,Zt.invalid=function(){return Zt(NaN)},lt=Gr(1,"add"),qt=Gr(-1,"subtract");function jr($){return typeof $=="string"||$ instanceof String}function ln($){return V($)||p($)||jr($)||d($)||function(O){var j=o(O),ne=!1;return j&&(ne=O.filter(function(le){return!d(le)&&jr(O)}).length===0),j&&ne}($)||function(O){var j,ne,le=l(O)&&!h(O),$e=!1,De=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],ze=De.length;for(j=0;j<ze;j+=1)ne=De[j],$e=$e||u(O,ne);return le&&$e}($)||$==null}function Ir($,le){if($.date()<le.date())return-Ir(le,$);var j=12*(le.year()-$.year())+(le.month()-$.month()),ne=$.clone().add(j,"months"),le=le-ne<0?(le-ne)/(ne-$.clone().add(j-1,"months")):(le-ne)/($.clone().add(1+j,"months")-ne);return-(j+le)||0}function Kr($){return $===void 0?this._locale._abbr:(($=pt($))!=null&&(this._locale=$),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]",ye=G("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function($){return $===void 0?this.localeData():this.locale($)});function Zr(){return this._locale}var Xr=126227808e5;function br($,O){return($%O+O)%O}function Qr($,O,j){return $<100&&0<=$?new Date($+400,O,j)-Xr:new Date($,O,j).valueOf()}function Jr($,O,j){return $<100&&0<=$?Date.UTC($+400,O,j)-Xr:Date.UTC($,O,j)}function Br($,O){return O.erasAbbrRegex($)}function Fr(){for(var $=[],O=[],j=[],ne=[],le=this.eras(),$e=0,De=le.length;$e<De;++$e)O.push(Ge(le[$e].name)),$.push(Ge(le[$e].abbr)),j.push(Ge(le[$e].narrow)),ne.push(Ge(le[$e].name)),ne.push(Ge(le[$e].abbr)),ne.push(Ge(le[$e].narrow));this._erasRegex=new RegExp("^("+ne.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+O.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+$.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+j.join("|")+")","i")}function Mr($,O){ce(0,[$,$.length],0,O)}function en($,O,j,ne,le){var $e;return $==null?Nt(this,ne,le).year:($e=Pt($,ne,le),function(De,ze,Qe,We,yt){return De=ft(De,ze,Qe,We,yt),ze=Ht(De.year,0,De.dayOfYear),this.year(ze.getUTCFullYear()),this.month(ze.getUTCMonth()),this.date(ze.getUTCDate()),this}.call(this,$,O=$e<O?$e:O,j,ne,le))}ce("N",0,0,"eraAbbr"),ce("NN",0,0,"eraAbbr"),ce("NNN",0,0,"eraAbbr"),ce("NNNN",0,0,"eraName"),ce("NNNNN",0,0,"eraNarrow"),ce("y",["y",1],"yo","eraYear"),ce("y",["yy",2],0,"eraYear"),ce("y",["yyy",3],0,"eraYear"),ce("y",["yyyy",4],0,"eraYear"),Te("N",Br),Te("NN",Br),Te("NNN",Br),Te("NNNN",function($,O){return O.erasNameRegex($)}),Te("NNNNN",function($,O){return O.erasNarrowRegex($)}),st(["N","NN","NNN","NNNN","NNNNN"],function($,O,j,ne){ne=j._locale.erasParse($,ne,j._strict),ne?v(j).era=ne:v(j).invalidEra=$}),Te("y",Pe),Te("yy",Pe),Te("yyy",Pe),Te("yyyy",Pe),Te("yo",function($,O){return O._eraYearOrdinalRegex||Pe}),st(["y","yy","yyy","yyyy"],Ke),st(["yo"],function($,O,j,ne){var le;j._locale._eraYearOrdinalRegex&&(le=$.match(j._locale._eraYearOrdinalRegex)),j._locale.eraYearOrdinalParse?O[Ke]=j._locale.eraYearOrdinalParse($,le):O[Ke]=parseInt($,10)}),ce(0,["gg",2],0,function(){return this.weekYear()%100}),ce(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Mr("gggg","weekYear"),Mr("ggggg","weekYear"),Mr("GGGG","isoWeekYear"),Mr("GGGGG","isoWeekYear"),me("weekYear","gg"),me("isoWeekYear","GG"),pe("weekYear",1),pe("isoWeekYear",1),Te("G",Ee),Te("g",Ee),Te("GG",we,mt),Te("gg",we,mt),Te("GGGG",hr,_r),Te("gggg",hr,_r),Te("GGGGG",lr,ur),Te("ggggg",lr,ur),wt(["gggg","ggggg","GGGG","GGGGG"],function($,O,j,ne){O[ne.substr(0,2)]=ee($)}),wt(["gg","GG"],function($,O,j,ne){O[ne]=n.parseTwoDigitYear($)}),ce("Q",0,"Qo","quarter"),me("quarter","Q"),pe("quarter",7),Te("Q",te),st("Q",function($,O){O[Je]=3*(ee($)-1)}),ce("D",["DD",2],"Do","date"),me("date","D"),pe("date",9),Te("D",we),Te("DD",we,mt),Te("Do",function($,O){return $?O._dayOfMonthOrdinalParse||O._ordinalParse:O._dayOfMonthOrdinalParseLenient}),st(["D","DD"],Oe),st("Do",function($,O){O[Oe]=ee($.match(we)[0])}),hr=Z("Date",!0),ce("DDD",["DDDD",3],"DDDo","dayOfYear"),me("dayOfYear","DDD"),pe("dayOfYear",4),Te("DDD",je),Te("DDDD",fe),st(["DDD","DDDD"],function($,O,j){j._dayOfYear=ee($)}),ce("m",["mm",2],0,"minute"),me("minute","m"),pe("minute",14),Te("m",we),Te("mm",we,mt),st(["m","mm"],Fe);var cr,_r=Z("Minutes",!1),lr=(ce("s",["ss",2],0,"second"),me("second","s"),pe("second",15),Te("s",we),Te("ss",we,mt),st(["s","ss"],qe),Z("Seconds",!1));for(ce("S",0,0,function(){return~~(this.millisecond()/100)}),ce(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),ce(0,["SSS",3],0,"millisecond"),ce(0,["SSSS",4],0,function(){return 10*this.millisecond()}),ce(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),ce(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),ce(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),ce(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),ce(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),me("millisecond","ms"),pe("millisecond",16),Te("S",je,te),Te("SS",je,mt),Te("SSS",je,fe),cr="SSSS";cr.length<=9;cr+="S")Te(cr,Pe);function un($,O){O[et]=ee(1e3*("0."+$))}for(cr="S";cr.length<=9;cr+="S")st(cr,un);ur=Z("Milliseconds",!1),ce("z",0,0,"zoneAbbr"),ce("zz",0,0,"zoneName"),te=H.prototype;function tn($){return $}te.add=lt,te.calendar=function(j,le){arguments.length===1&&(arguments[0]?ln(arguments[0])?(j=arguments[0],le=void 0):function($e){for(var De=l($e)&&!h($e),ze=!1,Qe=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],We=0;We<Qe.length;We+=1)ze=ze||u($e,Qe[We]);return De&&ze}(arguments[0])&&(le=arguments[0],j=void 0):le=j=void 0);var j=j||Et(),ne=jt(j,this).startOf("day"),ne=n.calendarFormat(this,ne)||"sameElse",le=le&&(S(le[ne])?le[ne].call(this,j):le[ne]);return this.format(le||this.localeData().calendar(ne,this,Et(j)))},te.clone=function(){return new H(this)},te.diff=function($,O,j){var ne,le,$e;if(!this.isValid())return NaN;if(!(ne=jt($,this)).isValid())return NaN;switch(le=6e4*(ne.utcOffset()-this.utcOffset()),O=Ce(O)){case"year":$e=Ir(this,ne)/12;break;case"month":$e=Ir(this,ne);break;case"quarter":$e=Ir(this,ne)/3;break;case"second":$e=(this-ne)/1e3;break;case"minute":$e=(this-ne)/6e4;break;case"hour":$e=(this-ne)/36e5;break;case"day":$e=(this-ne-le)/864e5;break;case"week":$e=(this-ne-le)/6048e5;break;default:$e=this-ne}return j?$e:oe($e)},te.endOf=function($){var O,j;if(($=Ce($))===void 0||$==="millisecond"||!this.isValid())return this;switch(j=this._isUTC?Jr:Qr,$){case"year":O=j(this.year()+1,0,1)-1;break;case"quarter":O=j(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":O=j(this.year(),this.month()+1,1)-1;break;case"week":O=j(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":O=j(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":O=j(this.year(),this.month(),this.date()+1)-1;break;case"hour":O=this._d.valueOf(),O+=36e5-br(O+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":O=this._d.valueOf(),O+=6e4-br(O,6e4)-1;break;case"second":O=this._d.valueOf(),O+=1e3-br(O,1e3)-1;break}return this._d.setTime(O),n.updateOffset(this,!0),this},te.format=function($){return $=$||(this.isUtc()?n.defaultFormatUtc:n.defaultFormat),$=he(this,$),this.localeData().postformat($)},te.from=function($,O){return this.isValid()&&(V($)&&$.isValid()||Et($).isValid())?Zt({to:this,from:$}).locale(this.locale()).humanize(!O):this.localeData().invalidDate()},te.fromNow=function($){return this.from(Et(),$)},te.to=function($,O){return this.isValid()&&(V($)&&$.isValid()||Et($).isValid())?Zt({from:this,to:$}).locale(this.locale()).humanize(!O):this.localeData().invalidDate()},te.toNow=function($){return this.to(Et(),$)},te.get=function($){return S(this[$=Ce($)])?this[$]():this},te.invalidAt=function(){return v(this).overflow},te.isAfter=function($,O){return $=V($)?$:Et($),!(!this.isValid()||!$.isValid())&&((O=Ce(O)||"millisecond")==="millisecond"?this.valueOf()>$.valueOf():$.valueOf()<this.clone().startOf(O).valueOf())},te.isBefore=function($,O){return $=V($)?$:Et($),!(!this.isValid()||!$.isValid())&&((O=Ce(O)||"millisecond")==="millisecond"?this.valueOf()<$.valueOf():this.clone().endOf(O).valueOf()<$.valueOf())},te.isBetween=function($,O,j,ne){return $=V($)?$:Et($),O=V(O)?O:Et(O),!!(this.isValid()&&$.isValid()&&O.isValid())&&((ne=ne||"()")[0]==="("?this.isAfter($,j):!this.isBefore($,j))&&(ne[1]===")"?this.isBefore(O,j):!this.isAfter(O,j))},te.isSame=function(j,O){var j=V(j)?j:Et(j);return!(!this.isValid()||!j.isValid())&&((O=Ce(O)||"millisecond")==="millisecond"?this.valueOf()===j.valueOf():(j=j.valueOf(),this.clone().startOf(O).valueOf()<=j&&j<=this.clone().endOf(O).valueOf()))},te.isSameOrAfter=function($,O){return this.isSame($,O)||this.isAfter($,O)},te.isSameOrBefore=function($,O){return this.isSame($,O)||this.isBefore($,O)},te.isValid=function(){return T(this)},te.lang=ye,te.locale=Kr,te.localeData=Zr,te.max=He,te.min=Ye,te.parsingFlags=function(){return g({},v(this))},te.set=function($,O){if(typeof $=="object")for(var j=function($e){var De,ze=[];for(De in $e)u($e,De)&&ze.push({unit:De,priority:Ne[De]});return ze.sort(function(Qe,We){return Qe.priority-We.priority}),ze}($=xe($)),ne=j.length,le=0;le<ne;le++)this[j[le].unit]($[j[le].unit]);else if(S(this[$=Ce($)]))return this[$](O);return this},te.startOf=function($){var O,j;if(($=Ce($))===void 0||$==="millisecond"||!this.isValid())return this;switch(j=this._isUTC?Jr:Qr,$){case"year":O=j(this.year(),0,1);break;case"quarter":O=j(this.year(),this.month()-this.month()%3,1);break;case"month":O=j(this.year(),this.month(),1);break;case"week":O=j(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":O=j(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":O=j(this.year(),this.month(),this.date());break;case"hour":O=this._d.valueOf(),O-=br(O+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":O=this._d.valueOf(),O-=br(O,6e4);break;case"second":O=this._d.valueOf(),O-=br(O,1e3);break}return this._d.setTime(O),n.updateOffset(this,!0),this},te.subtract=qt,te.toArray=function(){var $=this;return[$.year(),$.month(),$.date(),$.hour(),$.minute(),$.second(),$.millisecond()]},te.toObject=function(){var $=this;return{years:$.year(),months:$.month(),date:$.date(),hours:$.hours(),minutes:$.minutes(),seconds:$.seconds(),milliseconds:$.milliseconds()}},te.toDate=function(){return new Date(this.valueOf())},te.toISOString=function($){if(!this.isValid())return null;var O=($=$!==!0)?this.clone().utc():this;return O.year()<0||9999<O.year()?he(O,$?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):S(Date.prototype.toISOString)?$?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",he(O,"Z")):he(O,$?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},te.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var $,O="moment",j="";return this.isLocal()||(O=this.utcOffset()===0?"moment.utc":"moment.parseZone",j="Z"),O="["+O+'("]',$=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(O+$+"-MM-DD[T]HH:mm:ss.SSS"+(j+'[")]'))},typeof Symbol<"u"&&Symbol.for!=null&&(te[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),te.toJSON=function(){return this.isValid()?this.toISOString():null},te.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},te.unix=function(){return Math.floor(this.valueOf()/1e3)},te.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},te.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},te.eraName=function(){for(var $,O=this.localeData().eras(),j=0,ne=O.length;j<ne;++j)if($=this.clone().startOf("day").valueOf(),O[j].since<=$&&$<=O[j].until||O[j].until<=$&&$<=O[j].since)return O[j].name;return""},te.eraNarrow=function(){for(var $,O=this.localeData().eras(),j=0,ne=O.length;j<ne;++j)if($=this.clone().startOf("day").valueOf(),O[j].since<=$&&$<=O[j].until||O[j].until<=$&&$<=O[j].since)return O[j].narrow;return""},te.eraAbbr=function(){for(var $,O=this.localeData().eras(),j=0,ne=O.length;j<ne;++j)if($=this.clone().startOf("day").valueOf(),O[j].since<=$&&$<=O[j].until||O[j].until<=$&&$<=O[j].since)return O[j].abbr;return""},te.eraYear=function(){for(var $,O,j=this.localeData().eras(),ne=0,le=j.length;ne<le;++ne)if($=j[ne].since<=j[ne].until?1:-1,O=this.clone().startOf("day").valueOf(),j[ne].since<=O&&O<=j[ne].until||j[ne].until<=O&&O<=j[ne].since)return(this.year()-n(j[ne].since).year())*$+j[ne].offset;return this.year()},te.year=Dr,te.isLeapYear=function(){return J(this.year())},te.weekYear=function($){return en.call(this,$,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},te.isoWeekYear=function($){return en.call(this,$,this.isoWeek(),this.isoWeekday(),1,4)},te.quarter=te.quarters=function($){return $==null?Math.ceil((this.month()+1)/3):this.month(3*($-1)+this.month()%3)},te.month=ht,te.daysInMonth=function(){return Re(this.year(),this.month())},te.week=te.weeks=function($){var O=this.localeData().week(this);return $==null?O:this.add(7*($-O),"d")},te.isoWeek=te.isoWeeks=function($){var O=Nt(this,1,4).week;return $==null?O:this.add(7*($-O),"d")},te.weeksInYear=function(){var $=this.localeData()._week;return Pt(this.year(),$.dow,$.doy)},te.weeksInWeekYear=function(){var $=this.localeData()._week;return Pt(this.weekYear(),$.dow,$.doy)},te.isoWeeksInYear=function(){return Pt(this.year(),1,4)},te.isoWeeksInISOWeekYear=function(){return Pt(this.isoWeekYear(),1,4)},te.date=hr,te.day=te.days=function($){if(!this.isValid())return $!=null?this:NaN;var O,j,ne=this._isUTC?this._d.getUTCDay():this._d.getDay();return $!=null?(O=$,j=this.localeData(),$=typeof O!="string"?O:isNaN(O)?typeof(O=j.weekdaysParse(O))=="number"?O:null:parseInt(O,10),this.add($-ne,"d")):ne},te.weekday=function($){if(!this.isValid())return $!=null?this:NaN;var O=(this.day()+7-this.localeData()._week.dow)%7;return $==null?O:this.add($-O,"d")},te.isoWeekday=function($){return this.isValid()?$!=null?(O=$,j=this.localeData(),j=typeof O=="string"?j.weekdaysParse(O)%7||7:isNaN(O)?null:O,this.day(this.day()%7?j:j-7)):this.day()||7:$!=null?this:NaN;var O,j},te.dayOfYear=function($){var O=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return $==null?O:this.add($-O,"d")},te.hour=te.hours=Be,te.minute=te.minutes=_r,te.second=te.seconds=lr,te.millisecond=te.milliseconds=ur,te.utcOffset=function($,O,j){var ne,le=this._offset||0;if(!this.isValid())return $!=null?this:NaN;if($==null)return this._isUTC?le:Or(this);if(typeof $=="string"){if(($=pr(Le,$))===null)return this}else Math.abs($)<16&&!j&&($*=60);return!this._isUTC&&O&&(ne=Or(this)),this._offset=$,this._isUTC=!0,ne!=null&&this.add(ne,"m"),le!==$&&(!O||this._changeInProgress?Wr(this,Zt($-le,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this},te.utc=function($){return this.utcOffset(0,$)},te.local=function($){return this._isUTC&&(this.utcOffset(0,$),this._isUTC=!1,$&&this.subtract(Or(this),"m")),this},te.parseZone=function(){var $;return this._tzm!=null?this.utcOffset(this._tzm,!1,!0):typeof this._i=="string"&&(($=pr(Ie,this._i))!=null?this.utcOffset($):this.utcOffset(0,!0)),this},te.hasAlignedHourOffset=function($){return!!this.isValid()&&($=$?Et($).utcOffset():0,(this.utcOffset()-$)%60==0)},te.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},te.isLocal=function(){return!!this.isValid()&&!this._isUTC},te.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},te.isUtc=Yr,te.isUTC=Yr,te.zoneAbbr=function(){return this._isUTC?"UTC":""},te.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},te.dates=G("dates accessor is deprecated. Use date instead.",hr),te.months=G("months accessor is deprecated. Use month instead",ht),te.years=G("years accessor is deprecated. Use year instead",Dr),te.zone=G("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function($,O){return $!=null?(this.utcOffset($=typeof $!="string"?-$:$,O),this):-this.utcOffset()}),te.isDSTShifted=G("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!f(this._isDSTShifted))return this._isDSTShifted;var $,O={};return F(O,this),(O=Rr(O))._a?($=(O._isUTC?b:Et)(O._a),this._isDSTShifted=this.isValid()&&0<function(j,ne,le){for(var $e=Math.min(j.length,ne.length),De=Math.abs(j.length-ne.length),ze=0,Qe=0;Qe<$e;Qe++)(le&&j[Qe]!==ne[Qe]||!le&&ee(j[Qe])!==ee(ne[Qe]))&&ze++;return ze+De}(O._a,$.toArray())):this._isDSTShifted=!1,this._isDSTShifted}),mt=L.prototype;function Lr($,O,j,$e){var le=pt(),$e=b().set($e,O);return le[j]($e,$)}function rn($,O,j){if(d($)&&(O=$,$=void 0),$=$||"",O!=null)return Lr($,O,j,"month");for(var ne=[],le=0;le<12;le++)ne[le]=Lr($,le,j,"month");return ne}function Pr($,O,j,ne){O=(typeof $=="boolean"?d(O)&&(j=O,O=void 0):(O=$,$=!1,d(j=O)&&(j=O,O=void 0)),O||"");var le,$e=pt(),De=$?$e._week.dow:0,ze=[];if(j!=null)return Lr(O,(j+De)%7,ne,"day");for(le=0;le<7;le++)ze[le]=Lr(O,(le+De)%7,ne,"day");return ze}mt.calendar=function($,O,j){return S($=this._calendar[$]||this._calendar.sameElse)?$.call(O,j):$},mt.longDateFormat=function($){var O=this._longDateFormat[$],j=this._longDateFormat[$.toUpperCase()];return O||!j?O:(this._longDateFormat[$]=j.match(ue).map(function(ne){return ne==="MMMM"||ne==="MM"||ne==="DD"||ne==="dddd"?ne.slice(1):ne}).join(""),this._longDateFormat[$])},mt.invalidDate=function(){return this._invalidDate},mt.ordinal=function($){return this._ordinal.replace("%d",$)},mt.preparse=tn,mt.postformat=tn,mt.relativeTime=function($,O,j,ne){var le=this._relativeTime[j];return S(le)?le($,O,j,ne):le.replace(/%d/i,$)},mt.pastFuture=function($,O){return S($=this._relativeTime[0<$?"future":"past"])?$(O):$.replace(/%s/i,O)},mt.set=function($){var O,j;for(j in $)u($,j)&&(S(O=$[j])?this[j]=O:this["_"+j]=O);this._config=$,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},mt.eras=function($,O){for(var j,ne=this._eras||pt("en")._eras,le=0,$e=ne.length;le<$e;++le){switch(typeof ne[le].since){case"string":j=n(ne[le].since).startOf("day"),ne[le].since=j.valueOf();break}switch(typeof ne[le].until){case"undefined":ne[le].until=1/0;break;case"string":j=n(ne[le].until).startOf("day").valueOf(),ne[le].until=j.valueOf();break}}return ne},mt.erasParse=function($,O,j){var ne,le,$e,De,ze,Qe=this.eras();for($=$.toUpperCase(),ne=0,le=Qe.length;ne<le;++ne)if($e=Qe[ne].name.toUpperCase(),De=Qe[ne].abbr.toUpperCase(),ze=Qe[ne].narrow.toUpperCase(),j)switch(O){case"N":case"NN":case"NNN":if(De===$)return Qe[ne];break;case"NNNN":if($e===$)return Qe[ne];break;case"NNNNN":if(ze===$)return Qe[ne];break}else if(0<=[$e,De,ze].indexOf($))return Qe[ne]},mt.erasConvertYear=function($,O){var j=$.since<=$.until?1:-1;return O===void 0?n($.since).year():n($.since).year()+(O-$.offset)*j},mt.erasAbbrRegex=function($){return u(this,"_erasAbbrRegex")||Fr.call(this),$?this._erasAbbrRegex:this._erasRegex},mt.erasNameRegex=function($){return u(this,"_erasNameRegex")||Fr.call(this),$?this._erasNameRegex:this._erasRegex},mt.erasNarrowRegex=function($){return u(this,"_erasNarrowRegex")||Fr.call(this),$?this._erasNarrowRegex:this._erasRegex},mt.months=function($,O){return $?(o(this._months)?this._months:this._months[(this._months.isFormat||bt).test(O)?"format":"standalone"])[$.month()]:o(this._months)?this._months:this._months.standalone},mt.monthsShort=function($,O){return $?(o(this._monthsShort)?this._monthsShort:this._monthsShort[bt.test(O)?"format":"standalone"])[$.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},mt.monthsParse=function($,O,j){var ne,le;if(this._monthsParseExact)return function(ut,De,ze){var Qe,We,yt,ut=ut.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],Qe=0;Qe<12;++Qe)yt=b([2e3,Qe]),this._shortMonthsParse[Qe]=this.monthsShort(yt,"").toLocaleLowerCase(),this._longMonthsParse[Qe]=this.months(yt,"").toLocaleLowerCase();return ze?De==="MMM"?(We=nt.call(this._shortMonthsParse,ut))!==-1?We:null:(We=nt.call(this._longMonthsParse,ut))!==-1?We:null:De==="MMM"?(We=nt.call(this._shortMonthsParse,ut))!==-1||(We=nt.call(this._longMonthsParse,ut))!==-1?We:null:(We=nt.call(this._longMonthsParse,ut))!==-1||(We=nt.call(this._shortMonthsParse,ut))!==-1?We:null}.call(this,$,O,j);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),ne=0;ne<12;ne++)if(le=b([2e3,ne]),j&&!this._longMonthsParse[ne]&&(this._longMonthsParse[ne]=new RegExp("^"+this.months(le,"").replace(".","")+"$","i"),this._shortMonthsParse[ne]=new RegExp("^"+this.monthsShort(le,"").replace(".","")+"$","i")),j||this._monthsParse[ne]||(le="^"+this.months(le,"")+"|^"+this.monthsShort(le,""),this._monthsParse[ne]=new RegExp(le.replace(".",""),"i")),j&&O==="MMMM"&&this._longMonthsParse[ne].test($)||j&&O==="MMM"&&this._shortMonthsParse[ne].test($)||!j&&this._monthsParse[ne].test($))return ne},mt.monthsRegex=function($){return this._monthsParseExact?(u(this,"_monthsRegex")||vt.call(this),$?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=kt),this._monthsStrictRegex&&$?this._monthsStrictRegex:this._monthsRegex)},mt.monthsShortRegex=function($){return this._monthsParseExact?(u(this,"_monthsRegex")||vt.call(this),$?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=$t),this._monthsShortStrictRegex&&$?this._monthsShortStrictRegex:this._monthsShortRegex)},mt.week=function($){return Nt($,this._week.dow,this._week.doy).week},mt.firstDayOfYear=function(){return this._week.doy},mt.firstDayOfWeek=function(){return this._week.dow},mt.weekdays=function($,O){return O=o(this._weekdays)?this._weekdays:this._weekdays[$&&$!==!0&&this._weekdays.isFormat.test(O)?"format":"standalone"],$===!0?Lt(O,this._week.dow):$?O[$.day()]:O},mt.weekdaysMin=function($){return $===!0?Lt(this._weekdaysMin,this._week.dow):$?this._weekdaysMin[$.day()]:this._weekdaysMin},mt.weekdaysShort=function($){return $===!0?Lt(this._weekdaysShort,this._week.dow):$?this._weekdaysShort[$.day()]:this._weekdaysShort},mt.weekdaysParse=function($,O,j){var ne,le;if(this._weekdaysParseExact)return function(ut,De,ze){var Qe,We,yt,ut=ut.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],Qe=0;Qe<7;++Qe)yt=b([2e3,1]).day(Qe),this._minWeekdaysParse[Qe]=this.weekdaysMin(yt,"").toLocaleLowerCase(),this._shortWeekdaysParse[Qe]=this.weekdaysShort(yt,"").toLocaleLowerCase(),this._weekdaysParse[Qe]=this.weekdays(yt,"").toLocaleLowerCase();return ze?De==="dddd"?(We=nt.call(this._weekdaysParse,ut))!==-1?We:null:De==="ddd"?(We=nt.call(this._shortWeekdaysParse,ut))!==-1?We:null:(We=nt.call(this._minWeekdaysParse,ut))!==-1?We:null:De==="dddd"?(We=nt.call(this._weekdaysParse,ut))!==-1||(We=nt.call(this._shortWeekdaysParse,ut))!==-1||(We=nt.call(this._minWeekdaysParse,ut))!==-1?We:null:De==="ddd"?(We=nt.call(this._shortWeekdaysParse,ut))!==-1||(We=nt.call(this._weekdaysParse,ut))!==-1||(We=nt.call(this._minWeekdaysParse,ut))!==-1?We:null:(We=nt.call(this._minWeekdaysParse,ut))!==-1||(We=nt.call(this._weekdaysParse,ut))!==-1||(We=nt.call(this._shortWeekdaysParse,ut))!==-1?We:null}.call(this,$,O,j);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),ne=0;ne<7;ne++)if(le=b([2e3,1]).day(ne),j&&!this._fullWeekdaysParse[ne]&&(this._fullWeekdaysParse[ne]=new RegExp("^"+this.weekdays(le,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[ne]=new RegExp("^"+this.weekdaysShort(le,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[ne]=new RegExp("^"+this.weekdaysMin(le,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[ne]||(le="^"+this.weekdays(le,"")+"|^"+this.weekdaysShort(le,"")+"|^"+this.weekdaysMin(le,""),this._weekdaysParse[ne]=new RegExp(le.replace(".",""),"i")),j&&O==="dddd"&&this._fullWeekdaysParse[ne].test($)||j&&O==="ddd"&&this._shortWeekdaysParse[ne].test($)||j&&O==="dd"&&this._minWeekdaysParse[ne].test($)||!j&&this._weekdaysParse[ne].test($))return ne},mt.weekdaysRegex=function($){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Mt.call(this),$?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Ue),this._weekdaysStrictRegex&&$?this._weekdaysStrictRegex:this._weekdaysRegex)},mt.weekdaysShortRegex=function($){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Mt.call(this),$?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ve),this._weekdaysShortStrictRegex&&$?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},mt.weekdaysMinRegex=function($){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Mt.call(this),$?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ot),this._weekdaysMinStrictRegex&&$?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},mt.isPM=function($){return($+"").toLowerCase().charAt(0)==="p"},mt.meridiem=function($,O,j){return 11<$?j?"pm":"PM":j?"am":"AM"},at("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function($){var O=$%10;return $+(ee($%100/10)===1?"th":O==1?"st":O==2?"nd":O==3?"rd":"th")}}),n.lang=G("moment.lang is deprecated. Use moment.locale instead.",at),n.langData=G("moment.langData is deprecated. Use moment.localeData instead.",pt);var ar=Math.abs;function nn($,O,j,ne){return O=Zt(O,j),$._milliseconds+=ne*O._milliseconds,$._days+=ne*O._days,$._months+=ne*O._months,$._bubble()}function an($){return $<0?Math.floor($):Math.ceil($)}function sn($){return 4800*$/146097}function Ur($){return 146097*$/4800}function sr($){return function(){return this.as($)}}je=sr("ms"),fe=sr("s"),lt=sr("m"),He=sr("h"),Ye=sr("d"),qt=sr("w"),Be=sr("M"),_r=sr("Q"),lr=sr("y");function mr($){return function(){return this.isValid()?this._data[$]:NaN}}var ur=mr("milliseconds"),hr=mr("seconds"),Dr=mr("minutes"),mt=mr("hours"),hn=mr("days"),fn=mr("months"),dn=mr("years"),or=Math.round,vr={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function pn($,O,j,ne){var We=Zt($).abs(),yt=or(We.as("s")),le=or(We.as("m")),$e=or(We.as("h")),De=or(We.as("d")),ze=or(We.as("M")),Qe=or(We.as("w")),We=or(We.as("y")),yt=(yt<=j.ss?["s",yt]:yt<j.s&&["ss",yt])||le<=1&&["m"]||le<j.m&&["mm",le]||$e<=1&&["h"]||$e<j.h&&["hh",$e]||De<=1&&["d"]||De<j.d&&["dd",De];return(yt=(yt=j.w!=null?yt||Qe<=1&&["w"]||Qe<j.w&&["ww",Qe]:yt)||ze<=1&&["M"]||ze<j.M&&["MM",ze]||We<=1&&["y"]||["yy",We])[2]=O,yt[3]=0<+$,yt[4]=ne,function(ut,Ot,Ft,Xt,Hr){return Hr.relativeTime(Ot||1,!!Ft,ut,Xt)}.apply(null,yt)}var zr=Math.abs;function $r($){return(0<$)-($<0)||+$}function Nr(){if(!this.isValid())return this.localeData().invalidDate();var $,O,j,ne,le,$e,De,ze=zr(this._milliseconds)/1e3,Qe=zr(this._days),We=zr(this._months),yt=this.asSeconds();return yt?($=oe(ze/60),O=oe($/60),ze%=60,$%=60,j=oe(We/12),We%=12,ne=ze?ze.toFixed(3).replace(/\.?0+$/,""):"",le=$r(this._months)!==$r(yt)?"-":"",$e=$r(this._days)!==$r(yt)?"-":"",De=$r(this._milliseconds)!==$r(yt)?"-":"",(yt<0?"-":"")+"P"+(j?le+j+"Y":"")+(We?le+We+"M":"")+(Qe?$e+Qe+"D":"")+(O||$||ze?"T":"")+(O?De+O+"H":"")+($?De+$+"M":"")+(ze?De+ne+"S":"")):"P0D"}var Ct=Kt.prototype;return Ct.isValid=function(){return this._isValid},Ct.abs=function(){var $=this._data;return this._milliseconds=ar(this._milliseconds),this._days=ar(this._days),this._months=ar(this._months),$.milliseconds=ar($.milliseconds),$.seconds=ar($.seconds),$.minutes=ar($.minutes),$.hours=ar($.hours),$.months=ar($.months),$.years=ar($.years),this},Ct.add=function($,O){return nn(this,$,O,1)},Ct.subtract=function($,O){return nn(this,$,O,-1)},Ct.as=function($){if(!this.isValid())return NaN;var O,j,ne=this._milliseconds;if(($=Ce($))==="month"||$==="quarter"||$==="year")switch(O=this._days+ne/864e5,j=this._months+sn(O),$){case"month":return j;case"quarter":return j/3;case"year":return j/12}else switch(O=this._days+Math.round(Ur(this._months)),$){case"week":return O/7+ne/6048e5;case"day":return O+ne/864e5;case"hour":return 24*O+ne/36e5;case"minute":return 1440*O+ne/6e4;case"second":return 86400*O+ne/1e3;case"millisecond":return Math.floor(864e5*O)+ne;default:throw new Error("Unknown unit "+$)}},Ct.asMilliseconds=je,Ct.asSeconds=fe,Ct.asMinutes=lt,Ct.asHours=He,Ct.asDays=Ye,Ct.asWeeks=qt,Ct.asMonths=Be,Ct.asQuarters=_r,Ct.asYears=lr,Ct.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ee(this._months/12):NaN},Ct._bubble=function(){var $=this._milliseconds,O=this._days,j=this._months,ne=this._data;return 0<=$&&0<=O&&0<=j||$<=0&&O<=0&&j<=0||($+=864e5*an(Ur(j)+O),j=O=0),ne.milliseconds=$%1e3,$=oe($/1e3),ne.seconds=$%60,$=oe($/60),ne.minutes=$%60,$=oe($/60),ne.hours=$%24,O+=oe($/24),j+=$=oe(sn(O)),O-=an(Ur($)),$=oe(j/12),j%=12,ne.days=O,ne.months=j,ne.years=$,this},Ct.clone=function(){return Zt(this)},Ct.get=function($){return $=Ce($),this.isValid()?this[$+"s"]():NaN},Ct.milliseconds=ur,Ct.seconds=hr,Ct.minutes=Dr,Ct.hours=mt,Ct.days=hn,Ct.weeks=function(){return oe(this.days()/7)},Ct.months=fn,Ct.years=dn,Ct.humanize=function($,O){if(!this.isValid())return this.localeData().invalidDate();var j=!1,ne=vr;return typeof $=="object"&&(O=$,$=!1),typeof $=="boolean"&&(j=$),typeof O=="object"&&(ne=Object.assign({},vr,O),O.s!=null&&O.ss==null&&(ne.ss=O.s-1)),$=this.localeData(),O=pn(this,!j,ne,$),j&&(O=$.pastFuture(+this,O)),$.postformat(O)},Ct.toISOString=Nr,Ct.toString=Nr,Ct.toJSON=Nr,Ct.locale=Kr,Ct.localeData=Zr,Ct.toIsoString=G("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Nr),Ct.lang=ye,ce("X",0,0,"unix"),ce("x",0,0,"valueOf"),Te("x",Ee),Te("X",/[+-]?\d+(\.\d{1,3})?/),st("X",function($,O,j){j._d=new Date(1e3*parseFloat($))}),st("x",function($,O,j){j._d=new Date(ee($))}),n.version="2.29.4",r=Et,n.fn=te,n.min=function(){return Vt("isBefore",[].slice.call(arguments,0))},n.max=function(){return Vt("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=b,n.unix=function($){return Et(1e3*$)},n.months=function($,O){return rn($,O,"months")},n.isDate=p,n.locale=at,n.invalid=R,n.duration=Zt,n.isMoment=V,n.weekdays=function($,O,j){return Pr($,O,j,"weekdays")},n.parseZone=function(){return Et.apply(null,arguments).parseZone()},n.localeData=pt,n.isDuration=ir,n.monthsShort=function($,O){return rn($,O,"monthsShort")},n.weekdaysMin=function($,O,j){return Pr($,O,j,"weekdaysMin")},n.defineLocale=ct,n.updateLocale=function($,O){var j,ne;return O!=null?(ne=rr,Tt[$]!=null&&Tt[$].parentLocale!=null?Tt[$].set(U(Tt[$]._config,O)):(O=U(ne=(j=Gt($))!=null?j._config:ne,O),j==null&&(O.abbr=$),(ne=new L(O)).parentLocale=Tt[$],Tt[$]=ne),at($)):Tt[$]!=null&&(Tt[$].parentLocale!=null?(Tt[$]=Tt[$].parentLocale,$===at()&&at($)):Tt[$]!=null&&delete Tt[$]),Tt[$]},n.locales=function(){return ae(Tt)},n.weekdaysShort=function($,O,j){return Pr($,O,j,"weekdaysShort")},n.normalizeUnits=Ce,n.relativeTimeRounding=function($){return $===void 0?or:typeof $=="function"&&(or=$,!0)},n.relativeTimeThreshold=function($,O){return vr[$]!==void 0&&(O===void 0?vr[$]:(vr[$]=O,$==="s"&&(vr.ss=O-1),!0))},n.calendarFormat=function($,O){return($=$.diff(O,"days",!0))<-6?"sameElse":$<-1?"lastWeek":$<0?"lastDay":$<1?"sameDay":$<2?"nextDay":$<7?"nextWeek":"sameElse"},n.prototype=te,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n})})(moment_min);const moment=moment_min.exports;var dist={};Object.defineProperty(dist,"__esModule",{value:!0});var sanitizeUrl_1=dist.sanitizeUrl=void 0,invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,urlSchemeRegex=/^([^:]+):/gm,relativeFirstCharacters=[".","/"];function isRelativeUrlWithoutProtocol(e){return relativeFirstCharacters.indexOf(e[0])>-1}function decodeHtmlCharacters(e){return e.replace(htmlEntitiesRegex,function(t,r){return String.fromCharCode(r)})}function sanitizeUrl(e){var t=decodeHtmlCharacters(e||"").replace(ctrlCharactersRegex,"").trim();if(!t)return"about:blank";if(isRelativeUrlWithoutProtocol(t))return t;var r=t.match(urlSchemeRegex);if(!r)return t;var n=r[0];return invalidProtocolRegex.test(n)?"about:blank":t}sanitizeUrl_1=dist.sanitizeUrl=sanitizeUrl;class InternMap extends Map{constructor(t,r=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,o]of t)this.set(n,o)}get(t){return super.get(intern_get(this,t))}has(t){return super.has(intern_get(this,t))}set(t,r){return super.set(intern_set(this,t),r)}delete(t){return super.delete(intern_delete(this,t))}}function intern_get({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function intern_set({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function intern_delete({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function keyof(e){return e!==null&&typeof e=="object"?e.valueOf():e}function max$4(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let o of e)(o=t(o,++n,e))!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}return r}function min$3(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let o of e)(o=t(o,++n,e))!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}return r}function identity$e(e){return e}var top$1=1,right$1=2,bottom$1=3,left$1=4,epsilon$7=1e-6;function translateX$1(e){return"translate("+e+",0)"}function translateY$1(e){return"translate(0,"+e+")"}function number$7(e){return t=>+e(t)}function center$2(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function entering$1(){return!this.__axis}function axis$1(e,t){var r=[],n=null,o=null,l=6,u=6,h=3,f=typeof window<"u"&&window.devicePixelRatio>1?0:.5,d=e===top$1||e===left$1?-1:1,p=e===left$1||e===right$1?"x":"y",m=e===top$1||e===bottom$1?translateX$1:translateY$1;function g(b){var v=n==null?t.ticks?t.ticks.apply(t,r):t.domain():n,T=o==null?t.tickFormat?t.tickFormat.apply(t,r):identity$e:o,R=Math.max(l,0)+h,I=t.range(),N=+I[0]+f,q=+I[I.length-1]+f,F=(t.bandwidth?center$2:number$7)(t.copy(),f),H=b.selection?b.selection():b,V=H.selectAll(".domain").data([null]),z=H.selectAll(".tick").data(v,t).order(),G=z.exit(),P=z.enter().append("g").attr("class","tick"),W=z.select("line"),S=z.select("text");V=V.merge(V.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),z=z.merge(P),W=W.merge(P.append("line").attr("stroke","currentColor").attr(p+"2",d*l)),S=S.merge(P.append("text").attr("fill","currentColor").attr(p,d*R).attr("dy",e===top$1?"0em":e===bottom$1?"0.71em":"0.32em")),b!==H&&(V=V.transition(b),z=z.transition(b),W=W.transition(b),S=S.transition(b),G=G.transition(b).attr("opacity",epsilon$7).attr("transform",function(U){return isFinite(U=F(U))?m(U+f):this.getAttribute("transform")}),P.attr("opacity",epsilon$7).attr("transform",function(U){var L=this.parentNode.__axis;return m((L&&isFinite(L=L(U))?L:F(U))+f)})),G.remove(),V.attr("d",e===left$1||e===right$1?u?"M"+d*u+","+N+"H"+f+"V"+q+"H"+d*u:"M"+f+","+N+"V"+q:u?"M"+N+","+d*u+"V"+f+"H"+q+"V"+d*u:"M"+N+","+f+"H"+q),z.attr("opacity",1).attr("transform",function(U){return m(F(U)+f)}),W.attr(p+"2",d*l),S.attr(p,d*R).text(T),H.filter(entering$1).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===right$1?"start":e===left$1?"end":"middle"),H.each(function(){this.__axis=F})}return g.scale=function(b){return arguments.length?(t=b,g):t},g.ticks=function(){return r=Array.from(arguments),g},g.tickArguments=function(b){return arguments.length?(r=b==null?[]:Array.from(b),g):r.slice()},g.tickValues=function(b){return arguments.length?(n=b==null?null:Array.from(b),g):n&&n.slice()},g.tickFormat=function(b){return arguments.length?(o=b,g):o},g.tickSize=function(b){return arguments.length?(l=u=+b,g):l},g.tickSizeInner=function(b){return arguments.length?(l=+b,g):l},g.tickSizeOuter=function(b){return arguments.length?(u=+b,g):u},g.tickPadding=function(b){return arguments.length?(h=+b,g):h},g.offset=function(b){return arguments.length?(f=+b,g):f},g}function axisTop$1(e){return axis$1(top$1,e)}function axisBottom$1(e){return axis$1(bottom$1,e)}function define$2(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function extend$2(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Color$4(){}var darker$2=.7,brighter$2=1/darker$2,reI$2="\\s*([+-]?\\d+)\\s*",reN$2="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP$2="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex$2=/^#([0-9a-f]{3,8})$/,reRgbInteger$2=new RegExp("^rgb\\("+[reI$2,reI$2,reI$2]+"\\)$"),reRgbPercent$2=new RegExp("^rgb\\("+[reP$2,reP$2,reP$2]+"\\)$"),reRgbaInteger$2=new RegExp("^rgba\\("+[reI$2,reI$2,reI$2,reN$2]+"\\)$"),reRgbaPercent$2=new RegExp("^rgba\\("+[reP$2,reP$2,reP$2,reN$2]+"\\)$"),reHslPercent$2=new RegExp("^hsl\\("+[reN$2,reP$2,reP$2]+"\\)$"),reHslaPercent$2=new RegExp("^hsla\\("+[reN$2,reP$2,reP$2,reN$2]+"\\)$"),named$2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define$2(Color$4,color$2,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:color_formatHex$2,formatHex:color_formatHex$2,formatHsl:color_formatHsl$2,formatRgb:color_formatRgb$2,toString:color_formatRgb$2});function color_formatHex$2(){return this.rgb().formatHex()}function color_formatHsl$2(){return hslConvert$2(this).formatHsl()}function color_formatRgb$2(){return this.rgb().formatRgb()}function color$2(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=reHex$2.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?rgbn$2(t):r===3?new Rgb$2(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?rgba$4(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?rgba$4(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=reRgbInteger$2.exec(e))?new Rgb$2(t[1],t[2],t[3],1):(t=reRgbPercent$2.exec(e))?new Rgb$2(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=reRgbaInteger$2.exec(e))?rgba$4(t[1],t[2],t[3],t[4]):(t=reRgbaPercent$2.exec(e))?rgba$4(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=reHslPercent$2.exec(e))?hsla$2(t[1],t[2]/100,t[3]/100,1):(t=reHslaPercent$2.exec(e))?hsla$2(t[1],t[2]/100,t[3]/100,t[4]):named$2.hasOwnProperty(e)?rgbn$2(named$2[e]):e==="transparent"?new Rgb$2(NaN,NaN,NaN,0):null}function rgbn$2(e){return new Rgb$2(e>>16&255,e>>8&255,e&255,1)}function rgba$4(e,t,r,n){return n<=0&&(e=t=r=NaN),new Rgb$2(e,t,r,n)}function rgbConvert$2(e){return e instanceof Color$4||(e=color$2(e)),e?(e=e.rgb(),new Rgb$2(e.r,e.g,e.b,e.opacity)):new Rgb$2}function rgb$3(e,t,r,n){return arguments.length===1?rgbConvert$2(e):new Rgb$2(e,t,r,n==null?1:n)}function Rgb$2(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}define$2(Rgb$2,rgb$3,extend$2(Color$4,{brighter:function(e){return e=e==null?brighter$2:Math.pow(brighter$2,e),new Rgb$2(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?darker$2:Math.pow(darker$2,e),new Rgb$2(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex$2,formatHex:rgb_formatHex$2,formatRgb:rgb_formatRgb$2,toString:rgb_formatRgb$2}));function rgb_formatHex$2(){return"#"+hex$2(this.r)+hex$2(this.g)+hex$2(this.b)}function rgb_formatRgb$2(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function hex$2(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function hsla$2(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Hsl$2(e,t,r,n)}function hslConvert$2(e){if(e instanceof Hsl$2)return new Hsl$2(e.h,e.s,e.l,e.opacity);if(e instanceof Color$4||(e=color$2(e)),!e)return new Hsl$2;if(e instanceof Hsl$2)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,o=Math.min(t,r,n),l=Math.max(t,r,n),u=NaN,h=l-o,f=(l+o)/2;return h?(t===l?u=(r-n)/h+(r<n)*6:r===l?u=(n-t)/h+2:u=(t-r)/h+4,h/=f<.5?l+o:2-l-o,u*=60):h=f>0&&f<1?0:u,new Hsl$2(u,h,f,e.opacity)}function hsl$4(e,t,r,n){return arguments.length===1?hslConvert$2(e):new Hsl$2(e,t,r,n==null?1:n)}function Hsl$2(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}define$2(Hsl$2,hsl$4,extend$2(Color$4,{brighter:function(e){return e=e==null?brighter$2:Math.pow(brighter$2,e),new Hsl$2(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?darker$2:Math.pow(darker$2,e),new Hsl$2(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,o=2*r-n;return new Rgb$2(hsl2rgb$2(e>=240?e-240:e+120,o,n),hsl2rgb$2(e,o,n),hsl2rgb$2(e<120?e+240:e-120,o,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function hsl2rgb$2(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const radians$1=Math.PI/180,degrees$3=180/Math.PI,K$1=18,Xn$1=.96422,Yn$1=1,Zn$1=.82521,t0$4=4/29,t1$4=6/29,t2$1=3*t1$4*t1$4,t3$1=t1$4*t1$4*t1$4;function labConvert$1(e){if(e instanceof Lab$1)return new Lab$1(e.l,e.a,e.b,e.opacity);if(e instanceof Hcl$1)return hcl2lab$1(e);e instanceof Rgb$2||(e=rgbConvert$2(e));var t=rgb2lrgb$1(e.r),r=rgb2lrgb$1(e.g),n=rgb2lrgb$1(e.b),o=xyz2lab$1((.2225045*t+.7168786*r+.0606169*n)/Yn$1),l,u;return t===r&&r===n?l=u=o:(l=xyz2lab$1((.4360747*t+.3850649*r+.1430804*n)/Xn$1),u=xyz2lab$1((.0139322*t+.0971045*r+.7141733*n)/Zn$1)),new Lab$1(116*o-16,500*(l-o),200*(o-u),e.opacity)}function lab$2(e,t,r,n){return arguments.length===1?labConvert$1(e):new Lab$1(e,t,r,n==null?1:n)}function Lab$1(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}define$2(Lab$1,lab$2,extend$2(Color$4,{brighter:function(e){return new Lab$1(this.l+K$1*(e==null?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Lab$1(this.l-K$1*(e==null?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=Xn$1*lab2xyz$1(t),e=Yn$1*lab2xyz$1(e),r=Zn$1*lab2xyz$1(r),new Rgb$2(lrgb2rgb$1(3.1338561*t-1.6168667*e-.4906146*r),lrgb2rgb$1(-.9787684*t+1.9161415*e+.033454*r),lrgb2rgb$1(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));function xyz2lab$1(e){return e>t3$1?Math.pow(e,1/3):e/t2$1+t0$4}function lab2xyz$1(e){return e>t1$4?e*e*e:t2$1*(e-t0$4)}function lrgb2rgb$1(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function rgb2lrgb$1(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function hclConvert$1(e){if(e instanceof Hcl$1)return new Hcl$1(e.h,e.c,e.l,e.opacity);if(e instanceof Lab$1||(e=labConvert$1(e)),e.a===0&&e.b===0)return new Hcl$1(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*degrees$3;return new Hcl$1(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function hcl$4(e,t,r,n){return arguments.length===1?hclConvert$1(e):new Hcl$1(e,t,r,n==null?1:n)}function Hcl$1(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function hcl2lab$1(e){if(isNaN(e.h))return new Lab$1(e.l,0,0,e.opacity);var t=e.h*radians$1;return new Lab$1(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}define$2(Hcl$1,hcl$4,extend$2(Color$4,{brighter:function(e){return new Hcl$1(this.h,this.c,this.l+K$1*(e==null?1:e),this.opacity)},darker:function(e){return new Hcl$1(this.h,this.c,this.l-K$1*(e==null?1:e),this.opacity)},rgb:function(){return hcl2lab$1(this).rgb()}}));var noop$5={value:()=>{}};function dispatch$1(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Dispatch$1(r)}function Dispatch$1(e){this._=e}function parseTypenames$3(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",o=r.indexOf(".");if(o>=0&&(n=r.slice(o+1),r=r.slice(0,o)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Dispatch$1.prototype=dispatch$1.prototype={constructor:Dispatch$1,on:function(e,t){var r=this._,n=parseTypenames$3(e+"",r),o,l=-1,u=n.length;if(arguments.length<2){for(;++l<u;)if((o=(e=n[l]).type)&&(o=get$3(r[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++l<u;)if(o=(e=n[l]).type)r[o]=set$4(r[o],e.name,t);else if(t==null)for(o in r)r[o]=set$4(r[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Dispatch$1(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var r=new Array(o),n=0,o,l;n<o;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(l=this._[e],n=0,o=l.length;n<o;++n)l[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],o=0,l=n.length;o<l;++o)n[o].value.apply(t,r)}};function get$3(e,t){for(var r=0,n=e.length,o;r<n;++r)if((o=e[r]).name===t)return o.value}function set$4(e,t,r){for(var n=0,o=e.length;n<o;++n)if(e[n].name===t){e[n]=noop$5,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var xhtml$1="http://www.w3.org/1999/xhtml";const namespaces$1={svg:"http://www.w3.org/2000/svg",xhtml:xhtml$1,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace$1(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),namespaces$1.hasOwnProperty(t)?{space:namespaces$1[t],local:e}:e}function creatorInherit$1(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===xhtml$1&&t.documentElement.namespaceURI===xhtml$1?t.createElement(e):t.createElementNS(r,e)}}function creatorFixed$1(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function creator$1(e){var t=namespace$1(e);return(t.local?creatorFixed$1:creatorInherit$1)(t)}function none$3(){}function selector$1(e){return e==null?none$3:function(){return this.querySelector(e)}}function selection_select$1(e){typeof e!="function"&&(e=selector$1(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var l=t[o],u=l.length,h=n[o]=new Array(u),f,d,p=0;p<u;++p)(f=l[p])&&(d=e.call(f,f.__data__,p,l))&&("__data__"in f&&(d.__data__=f.__data__),h[p]=d);return new Selection$3(n,this._parents)}function array$5(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function empty$2(){return[]}function selectorAll$1(e){return e==null?empty$2:function(){return this.querySelectorAll(e)}}function arrayAll(e){return function(){return array$5(e.apply(this,arguments))}}function selection_selectAll$1(e){typeof e=="function"?e=arrayAll(e):e=selectorAll$1(e);for(var t=this._groups,r=t.length,n=[],o=[],l=0;l<r;++l)for(var u=t[l],h=u.length,f,d=0;d<h;++d)(f=u[d])&&(n.push(e.call(f,f.__data__,d,u)),o.push(f));return new Selection$3(n,o)}function matcher$1(e){return function(){return this.matches(e)}}function childMatcher(e){return function(t){return t.matches(e)}}var find$1=Array.prototype.find;function childFind(e){return function(){return find$1.call(this.children,e)}}function childFirst(){return this.firstElementChild}function selection_selectChild(e){return this.select(e==null?childFirst:childFind(typeof e=="function"?e:childMatcher(e)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(e){return function(){return filter.call(this.children,e)}}function selection_selectChildren(e){return this.selectAll(e==null?children:childrenFilter(typeof e=="function"?e:childMatcher(e)))}function selection_filter$1(e){typeof e!="function"&&(e=matcher$1(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var l=t[o],u=l.length,h=n[o]=[],f,d=0;d<u;++d)(f=l[d])&&e.call(f,f.__data__,d,l)&&h.push(f);return new Selection$3(n,this._parents)}function sparse$1(e){return new Array(e.length)}function selection_enter$1(){return new Selection$3(this._enter||this._groups.map(sparse$1),this._parents)}function EnterNode$1(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}EnterNode$1.prototype={constructor:EnterNode$1,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function constant$h(e){return function(){return e}}function bindIndex$1(e,t,r,n,o,l){for(var u=0,h,f=t.length,d=l.length;u<d;++u)(h=t[u])?(h.__data__=l[u],n[u]=h):r[u]=new EnterNode$1(e,l[u]);for(;u<f;++u)(h=t[u])&&(o[u]=h)}function bindKey$1(e,t,r,n,o,l,u){var h,f,d=new Map,p=t.length,m=l.length,g=new Array(p),b;for(h=0;h<p;++h)(f=t[h])&&(g[h]=b=u.call(f,f.__data__,h,t)+"",d.has(b)?o[h]=f:d.set(b,f));for(h=0;h<m;++h)b=u.call(e,l[h],h,l)+"",(f=d.get(b))?(n[h]=f,f.__data__=l[h],d.delete(b)):r[h]=new EnterNode$1(e,l[h]);for(h=0;h<p;++h)(f=t[h])&&d.get(g[h])===f&&(o[h]=f)}function datum(e){return e.__data__}function selection_data$1(e,t){if(!arguments.length)return Array.from(this,datum);var r=t?bindKey$1:bindIndex$1,n=this._parents,o=this._groups;typeof e!="function"&&(e=constant$h(e));for(var l=o.length,u=new Array(l),h=new Array(l),f=new Array(l),d=0;d<l;++d){var p=n[d],m=o[d],g=m.length,b=arraylike(e.call(p,p&&p.__data__,d,n)),v=b.length,T=h[d]=new Array(v),R=u[d]=new Array(v),I=f[d]=new Array(g);r(p,m,T,R,I,b,t);for(var N=0,q=0,F,H;N<v;++N)if(F=T[N]){for(N>=q&&(q=N+1);!(H=R[q])&&++q<v;);F._next=H||null}}return u=new Selection$3(u,n),u._enter=h,u._exit=f,u}function arraylike(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function selection_exit$1(){return new Selection$3(this._exit||this._groups.map(sparse$1),this._parents)}function selection_join$1(e,t,r){var n=this.enter(),o=this,l=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),r==null?l.remove():r(l),n&&o?n.merge(o).order():o}function selection_merge$1(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,o=r.length,l=n.length,u=Math.min(o,l),h=new Array(o),f=0;f<u;++f)for(var d=r[f],p=n[f],m=d.length,g=h[f]=new Array(m),b,v=0;v<m;++v)(b=d[v]||p[v])&&(g[v]=b);for(;f<o;++f)h[f]=r[f];return new Selection$3(h,this._parents)}function selection_order$1(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],o=n.length-1,l=n[o],u;--o>=0;)(u=n[o])&&(l&&u.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(u,l),l=u);return this}function selection_sort$1(e){e||(e=ascending$5);function t(m,g){return m&&g?e(m.__data__,g.__data__):!m-!g}for(var r=this._groups,n=r.length,o=new Array(n),l=0;l<n;++l){for(var u=r[l],h=u.length,f=o[l]=new Array(h),d,p=0;p<h;++p)(d=u[p])&&(f[p]=d);f.sort(t)}return new Selection$3(o,this._parents).order()}function ascending$5(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function selection_call$1(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function selection_nodes$1(){return Array.from(this)}function selection_node$1(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],o=0,l=n.length;o<l;++o){var u=n[o];if(u)return u}return null}function selection_size$1(){let e=0;for(const t of this)++e;return e}function selection_empty$1(){return!this.node()}function selection_each$1(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var o=t[r],l=0,u=o.length,h;l<u;++l)(h=o[l])&&e.call(h,h.__data__,l,o);return this}function attrRemove$3(e){return function(){this.removeAttribute(e)}}function attrRemoveNS$3(e){return function(){this.removeAttributeNS(e.space,e.local)}}function attrConstant$3(e,t){return function(){this.setAttribute(e,t)}}function attrConstantNS$3(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function attrFunction$3(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function attrFunctionNS$3(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function selection_attr$1(e,t){var r=namespace$1(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?attrRemoveNS$3:attrRemove$3:typeof t=="function"?r.local?attrFunctionNS$3:attrFunction$3:r.local?attrConstantNS$3:attrConstant$3)(r,t))}function defaultView$1(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function styleRemove$3(e){return function(){this.style.removeProperty(e)}}function styleConstant$3(e,t,r){return function(){this.style.setProperty(e,t,r)}}function styleFunction$3(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function selection_style$1(e,t,r){return arguments.length>1?this.each((t==null?styleRemove$3:typeof t=="function"?styleFunction$3:styleConstant$3)(e,t,r==null?"":r)):styleValue$1(this.node(),e)}function styleValue$1(e,t){return e.style.getPropertyValue(t)||defaultView$1(e).getComputedStyle(e,null).getPropertyValue(t)}function propertyRemove$1(e){return function(){delete this[e]}}function propertyConstant$1(e,t){return function(){this[e]=t}}function propertyFunction$1(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function selection_property$1(e,t){return arguments.length>1?this.each((t==null?propertyRemove$1:typeof t=="function"?propertyFunction$1:propertyConstant$1)(e,t)):this.node()[e]}function classArray$1(e){return e.trim().split(/^|\s+/)}function classList$1(e){return e.classList||new ClassList$1(e)}function ClassList$1(e){this._node=e,this._names=classArray$1(e.getAttribute("class")||"")}ClassList$1.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function classedAdd$1(e,t){for(var r=classList$1(e),n=-1,o=t.length;++n<o;)r.add(t[n])}function classedRemove$1(e,t){for(var r=classList$1(e),n=-1,o=t.length;++n<o;)r.remove(t[n])}function classedTrue$1(e){return function(){classedAdd$1(this,e)}}function classedFalse$1(e){return function(){classedRemove$1(this,e)}}function classedFunction$1(e,t){return function(){(t.apply(this,arguments)?classedAdd$1:classedRemove$1)(this,e)}}function selection_classed$1(e,t){var r=classArray$1(e+"");if(arguments.length<2){for(var n=classList$1(this.node()),o=-1,l=r.length;++o<l;)if(!n.contains(r[o]))return!1;return!0}return this.each((typeof t=="function"?classedFunction$1:t?classedTrue$1:classedFalse$1)(r,t))}function textRemove$1(){this.textContent=""}function textConstant$3(e){return function(){this.textContent=e}}function textFunction$3(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function selection_text$1(e){return arguments.length?this.each(e==null?textRemove$1:(typeof e=="function"?textFunction$3:textConstant$3)(e)):this.node().textContent}function htmlRemove$1(){this.innerHTML=""}function htmlConstant$1(e){return function(){this.innerHTML=e}}function htmlFunction$1(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function selection_html$1(e){return arguments.length?this.each(e==null?htmlRemove$1:(typeof e=="function"?htmlFunction$1:htmlConstant$1)(e)):this.node().innerHTML}function raise$1(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise$1(){return this.each(raise$1)}function lower$1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower$1(){return this.each(lower$1)}function selection_append$1(e){var t=typeof e=="function"?e:creator$1(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function constantNull$1(){return null}function selection_insert$1(e,t){var r=typeof e=="function"?e:creator$1(e),n=t==null?constantNull$1:typeof t=="function"?t:selector$1(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function remove$1(){var e=this.parentNode;e&&e.removeChild(this)}function selection_remove$1(){return this.each(remove$1)}function selection_cloneShallow$1(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function selection_cloneDeep$1(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function selection_clone$1(e){return this.select(e?selection_cloneDeep$1:selection_cloneShallow$1)}function selection_datum$1(e){return arguments.length?this.property("__data__",e):this.node().__data__}function contextListener$1(e){return function(t){e.call(this,t,this.__data__)}}function parseTypenames$2(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function onRemove$1(e){return function(){var t=this.__on;if(!!t){for(var r=0,n=-1,o=t.length,l;r<o;++r)l=t[r],(!e.type||l.type===e.type)&&l.name===e.name?this.removeEventListener(l.type,l.listener,l.options):t[++n]=l;++n?t.length=n:delete this.__on}}}function onAdd$1(e,t,r){return function(){var n=this.__on,o,l=contextListener$1(t);if(n){for(var u=0,h=n.length;u<h;++u)if((o=n[u]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=l,o.options=r),o.value=t;return}}this.addEventListener(e.type,l,r),o={type:e.type,name:e.name,value:t,listener:l,options:r},n?n.push(o):this.__on=[o]}}function selection_on$1(e,t,r){var n=parseTypenames$2(e+""),o,l=n.length,u;if(arguments.length<2){var h=this.node().__on;if(h){for(var f=0,d=h.length,p;f<d;++f)for(o=0,p=h[f];o<l;++o)if((u=n[o]).type===p.type&&u.name===p.name)return p.value}return}for(h=t?onAdd$1:onRemove$1,o=0;o<l;++o)this.each(h(n[o],t,r));return this}function dispatchEvent$1(e,t,r){var n=defaultView$1(e),o=n.CustomEvent;typeof o=="function"?o=new o(t,r):(o=n.document.createEvent("Event"),r?(o.initEvent(t,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function dispatchConstant$1(e,t){return function(){return dispatchEvent$1(this,e,t)}}function dispatchFunction$1(e,t){return function(){return dispatchEvent$1(this,e,t.apply(this,arguments))}}function selection_dispatch$1(e,t){return this.each((typeof t=="function"?dispatchFunction$1:dispatchConstant$1)(e,t))}function*selection_iterator(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],o=0,l=n.length,u;o<l;++o)(u=n[o])&&(yield u)}var root$3=[null];function Selection$3(e,t){this._groups=e,this._parents=t}function selection$1(){return new Selection$3([[document.documentElement]],root$3)}function selection_selection(){return this}Selection$3.prototype=selection$1.prototype={constructor:Selection$3,select:selection_select$1,selectAll:selection_selectAll$1,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter$1,data:selection_data$1,enter:selection_enter$1,exit:selection_exit$1,join:selection_join$1,merge:selection_merge$1,selection:selection_selection,order:selection_order$1,sort:selection_sort$1,call:selection_call$1,nodes:selection_nodes$1,node:selection_node$1,size:selection_size$1,empty:selection_empty$1,each:selection_each$1,attr:selection_attr$1,style:selection_style$1,property:selection_property$1,classed:selection_classed$1,text:selection_text$1,html:selection_html$1,raise:selection_raise$1,lower:selection_lower$1,append:selection_append$1,insert:selection_insert$1,remove:selection_remove$1,clone:selection_clone$1,datum:selection_datum$1,on:selection_on$1,dispatch:selection_dispatch$1,[Symbol.iterator]:selection_iterator};function select$1(e){return typeof e=="string"?new Selection$3([[document.querySelector(e)]],[document.documentElement]):new Selection$3([[e]],root$3)}function selectAll$1(e){return typeof e=="string"?new Selection$3([document.querySelectorAll(e)],[document.documentElement]):new Selection$3([array$5(e)],root$3)}function cubicInOut$1(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}const constant$g=e=>()=>e;function linear$5(e,t){return function(r){return e+r*t}}function exponential$3(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function hue$2(e,t){var r=t-e;return r?linear$5(e,r>180||r<-180?r-360*Math.round(r/360):r):constant$g(isNaN(e)?t:e)}function gamma$2(e){return(e=+e)==1?nogamma$2:function(t,r){return r-t?exponential$3(t,r,e):constant$g(isNaN(t)?r:t)}}function nogamma$2(e,t){var r=t-e;return r?linear$5(e,r):constant$g(isNaN(e)?t:e)}const interpolateRgb$1=function e(t){var r=gamma$2(t);function n(o,l){var u=r((o=rgb$3(o)).r,(l=rgb$3(l)).r),h=r(o.g,l.g),f=r(o.b,l.b),d=nogamma$2(o.opacity,l.opacity);return function(p){return o.r=u(p),o.g=h(p),o.b=f(p),o.opacity=d(p),o+""}}return n.gamma=e,n}(1);function interpolateNumber$2(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var reA$2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB$2=new RegExp(reA$2.source,"g");function zero$2(e){return function(){return e}}function one$2(e){return function(t){return e(t)+""}}function interpolateString$1(e,t){var r=reA$2.lastIndex=reB$2.lastIndex=0,n,o,l,u=-1,h=[],f=[];for(e=e+"",t=t+"";(n=reA$2.exec(e))&&(o=reB$2.exec(t));)(l=o.index)>r&&(l=t.slice(r,l),h[u]?h[u]+=l:h[++u]=l),(n=n[0])===(o=o[0])?h[u]?h[u]+=o:h[++u]=o:(h[++u]=null,f.push({i:u,x:interpolateNumber$2(n,o)})),r=reB$2.lastIndex;return r<t.length&&(l=t.slice(r),h[u]?h[u]+=l:h[++u]=l),h.length<2?f[0]?one$2(f[0].x):zero$2(t):(t=f.length,function(d){for(var p=0,m;p<t;++p)h[(m=f[p]).i]=m.x(d);return h.join("")})}var degrees$2=180/Math.PI,identity$d={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose$1(e,t,r,n,o,l){var u,h,f;return(u=Math.sqrt(e*e+t*t))&&(e/=u,t/=u),(f=e*r+t*n)&&(r-=e*f,n-=t*f),(h=Math.sqrt(r*r+n*n))&&(r/=h,n/=h,f/=h),e*n<t*r&&(e=-e,t=-t,f=-f,u=-u),{translateX:o,translateY:l,rotate:Math.atan2(t,e)*degrees$2,skewX:Math.atan(f)*degrees$2,scaleX:u,scaleY:h}}var svgNode$1;function parseCss$1(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?identity$d:decompose$1(t.a,t.b,t.c,t.d,t.e,t.f)}function parseSvg$1(e){return e==null||(svgNode$1||(svgNode$1=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode$1.setAttribute("transform",e),!(e=svgNode$1.transform.baseVal.consolidate()))?identity$d:(e=e.matrix,decompose$1(e.a,e.b,e.c,e.d,e.e,e.f))}function interpolateTransform$1(e,t,r,n){function o(d){return d.length?d.pop()+" ":""}function l(d,p,m,g,b,v){if(d!==m||p!==g){var T=b.push("translate(",null,t,null,r);v.push({i:T-4,x:interpolateNumber$2(d,m)},{i:T-2,x:interpolateNumber$2(p,g)})}else(m||g)&&b.push("translate("+m+t+g+r)}function u(d,p,m,g){d!==p?(d-p>180?p+=360:p-d>180&&(d+=360),g.push({i:m.push(o(m)+"rotate(",null,n)-2,x:interpolateNumber$2(d,p)})):p&&m.push(o(m)+"rotate("+p+n)}function h(d,p,m,g){d!==p?g.push({i:m.push(o(m)+"skewX(",null,n)-2,x:interpolateNumber$2(d,p)}):p&&m.push(o(m)+"skewX("+p+n)}function f(d,p,m,g,b,v){if(d!==m||p!==g){var T=b.push(o(b)+"scale(",null,",",null,")");v.push({i:T-4,x:interpolateNumber$2(d,m)},{i:T-2,x:interpolateNumber$2(p,g)})}else(m!==1||g!==1)&&b.push(o(b)+"scale("+m+","+g+")")}return function(d,p){var m=[],g=[];return d=e(d),p=e(p),l(d.translateX,d.translateY,p.translateX,p.translateY,m,g),u(d.rotate,p.rotate,m,g),h(d.skewX,p.skewX,m,g),f(d.scaleX,d.scaleY,p.scaleX,p.scaleY,m,g),d=p=null,function(b){for(var v=-1,T=g.length,R;++v<T;)m[(R=g[v]).i]=R.x(b);return m.join("")}}}var interpolateTransformCss$1=interpolateTransform$1(parseCss$1,"px, ","px)","deg)"),interpolateTransformSvg$1=interpolateTransform$1(parseSvg$1,", ",")",")");function hcl$3(e){return function(t,r){var n=e((t=hcl$4(t)).h,(r=hcl$4(r)).h),o=nogamma$2(t.c,r.c),l=nogamma$2(t.l,r.l),u=nogamma$2(t.opacity,r.opacity);return function(h){return t.h=n(h),t.c=o(h),t.l=l(h),t.opacity=u(h),t+""}}}const interpolateHcl=hcl$3(hue$2);function ascending$4(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bisector$1(e){let t=e,r=e,n=e;e.length!==2&&(t=(h,f)=>e(h)-f,r=ascending$4,n=(h,f)=>ascending$4(e(h),f));function o(h,f,d=0,p=h.length){if(d<p){if(r(f,f)!==0)return p;do{const m=d+p>>>1;n(h[m],f)<0?d=m+1:p=m}while(d<p)}return d}function l(h,f,d=0,p=h.length){if(d<p){if(r(f,f)!==0)return p;do{const m=d+p>>>1;n(h[m],f)<=0?d=m+1:p=m}while(d<p)}return d}function u(h,f,d=0,p=h.length){const m=o(h,f,d,p-1);return m>d&&t(h[m-1],f)>-t(h[m],f)?m-1:m}return{left:o,center:u,right:l}}function number$6(e){return e===null?NaN:+e}const ascendingBisect$1=bisector$1(ascending$4),bisectRight$1=ascendingBisect$1.right;bisector$1(number$6).center;const bisect=bisectRight$1;var e10$1=Math.sqrt(50),e5$1=Math.sqrt(10),e2$1=Math.sqrt(2);function ticks$1(e,t,r){var n,o=-1,l,u,h;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((n=t<e)&&(l=e,e=t,t=l),(h=tickIncrement$1(e,t,r))===0||!isFinite(h))return[];if(h>0){let f=Math.round(e/h),d=Math.round(t/h);for(f*h<e&&++f,d*h>t&&--d,u=new Array(l=d-f+1);++o<l;)u[o]=(f+o)*h}else{h=-h;let f=Math.round(e*h),d=Math.round(t*h);for(f/h<e&&++f,d/h>t&&--d,u=new Array(l=d-f+1);++o<l;)u[o]=(f+o)/h}return n&&u.reverse(),u}function tickIncrement$1(e,t,r){var n=(t-e)/Math.max(0,r),o=Math.floor(Math.log(n)/Math.LN10),l=n/Math.pow(10,o);return o>=0?(l>=e10$1?10:l>=e5$1?5:l>=e2$1?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(l>=e10$1?10:l>=e5$1?5:l>=e2$1?2:1)}function tickStep$1(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),o=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),l=n/o;return l>=e10$1?o*=10:l>=e5$1?o*=5:l>=e2$1&&(o*=2),t<e?-o:o}function initRange$1(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const implicit$1=Symbol("implicit");function ordinal$1(){var e=new InternMap,t=[],r=[],n=implicit$1;function o(l){let u=e.get(l);if(u===void 0){if(n!==implicit$1)return n;e.set(l,u=t.push(l)-1)}return r[u%r.length]}return o.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new InternMap;for(const u of l)e.has(u)||e.set(u,t.push(u)-1);return o},o.range=function(l){return arguments.length?(r=Array.from(l),o):r.slice()},o.unknown=function(l){return arguments.length?(n=l,o):n},o.copy=function(){return ordinal$1(t,r).unknown(n)},initRange$1.apply(o,arguments),o}function define$1(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function extend$1(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Color$3(){}var darker$1=.7,brighter$1=1/darker$1,reI$1="\\s*([+-]?\\d+)\\s*",reN$1="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP$1="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex$1=/^#([0-9a-f]{3,8})$/,reRgbInteger$1=new RegExp("^rgb\\("+[reI$1,reI$1,reI$1]+"\\)$"),reRgbPercent$1=new RegExp("^rgb\\("+[reP$1,reP$1,reP$1]+"\\)$"),reRgbaInteger$1=new RegExp("^rgba\\("+[reI$1,reI$1,reI$1,reN$1]+"\\)$"),reRgbaPercent$1=new RegExp("^rgba\\("+[reP$1,reP$1,reP$1,reN$1]+"\\)$"),reHslPercent$1=new RegExp("^hsl\\("+[reN$1,reP$1,reP$1]+"\\)$"),reHslaPercent$1=new RegExp("^hsla\\("+[reN$1,reP$1,reP$1,reN$1]+"\\)$"),named$1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define$1(Color$3,color$1,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:color_formatHex$1,formatHex:color_formatHex$1,formatHsl:color_formatHsl$1,formatRgb:color_formatRgb$1,toString:color_formatRgb$1});function color_formatHex$1(){return this.rgb().formatHex()}function color_formatHsl$1(){return hslConvert$1(this).formatHsl()}function color_formatRgb$1(){return this.rgb().formatRgb()}function color$1(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=reHex$1.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?rgbn$1(t):r===3?new Rgb$1(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?rgba$3(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?rgba$3(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=reRgbInteger$1.exec(e))?new Rgb$1(t[1],t[2],t[3],1):(t=reRgbPercent$1.exec(e))?new Rgb$1(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=reRgbaInteger$1.exec(e))?rgba$3(t[1],t[2],t[3],t[4]):(t=reRgbaPercent$1.exec(e))?rgba$3(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=reHslPercent$1.exec(e))?hsla$1(t[1],t[2]/100,t[3]/100,1):(t=reHslaPercent$1.exec(e))?hsla$1(t[1],t[2]/100,t[3]/100,t[4]):named$1.hasOwnProperty(e)?rgbn$1(named$1[e]):e==="transparent"?new Rgb$1(NaN,NaN,NaN,0):null}function rgbn$1(e){return new Rgb$1(e>>16&255,e>>8&255,e&255,1)}function rgba$3(e,t,r,n){return n<=0&&(e=t=r=NaN),new Rgb$1(e,t,r,n)}function rgbConvert$1(e){return e instanceof Color$3||(e=color$1(e)),e?(e=e.rgb(),new Rgb$1(e.r,e.g,e.b,e.opacity)):new Rgb$1}function rgb$2(e,t,r,n){return arguments.length===1?rgbConvert$1(e):new Rgb$1(e,t,r,n==null?1:n)}function Rgb$1(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}define$1(Rgb$1,rgb$2,extend$1(Color$3,{brighter:function(e){return e=e==null?brighter$1:Math.pow(brighter$1,e),new Rgb$1(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?darker$1:Math.pow(darker$1,e),new Rgb$1(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex$1,formatHex:rgb_formatHex$1,formatRgb:rgb_formatRgb$1,toString:rgb_formatRgb$1}));function rgb_formatHex$1(){return"#"+hex$1(this.r)+hex$1(this.g)+hex$1(this.b)}function rgb_formatRgb$1(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function hex$1(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function hsla$1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Hsl$1(e,t,r,n)}function hslConvert$1(e){if(e instanceof Hsl$1)return new Hsl$1(e.h,e.s,e.l,e.opacity);if(e instanceof Color$3||(e=color$1(e)),!e)return new Hsl$1;if(e instanceof Hsl$1)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,o=Math.min(t,r,n),l=Math.max(t,r,n),u=NaN,h=l-o,f=(l+o)/2;return h?(t===l?u=(r-n)/h+(r<n)*6:r===l?u=(n-t)/h+2:u=(t-r)/h+4,h/=f<.5?l+o:2-l-o,u*=60):h=f>0&&f<1?0:u,new Hsl$1(u,h,f,e.opacity)}function hsl$3(e,t,r,n){return arguments.length===1?hslConvert$1(e):new Hsl$1(e,t,r,n==null?1:n)}function Hsl$1(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}define$1(Hsl$1,hsl$3,extend$1(Color$3,{brighter:function(e){return e=e==null?brighter$1:Math.pow(brighter$1,e),new Hsl$1(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?darker$1:Math.pow(darker$1,e),new Hsl$1(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,o=2*r-n;return new Rgb$1(hsl2rgb$1(e>=240?e-240:e+120,o,n),hsl2rgb$1(e,o,n),hsl2rgb$1(e<120?e+240:e-120,o,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function hsl2rgb$1(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const constant$f=e=>()=>e;function linear$4(e,t){return function(r){return e+r*t}}function exponential$2(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function gamma$1(e){return(e=+e)==1?nogamma$1:function(t,r){return r-t?exponential$2(t,r,e):constant$f(isNaN(t)?r:t)}}function nogamma$1(e,t){var r=t-e;return r?linear$4(e,r):constant$f(isNaN(e)?t:e)}const rgb$1=function e(t){var r=gamma$1(t);function n(o,l){var u=r((o=rgb$2(o)).r,(l=rgb$2(l)).r),h=r(o.g,l.g),f=r(o.b,l.b),d=nogamma$1(o.opacity,l.opacity);return function(p){return o.r=u(p),o.g=h(p),o.b=f(p),o.opacity=d(p),o+""}}return n.gamma=e,n}(1);function numberArray$1(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),o;return function(l){for(o=0;o<r;++o)n[o]=e[o]*(1-l)+t[o]*l;return n}}function isNumberArray$1(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function genericArray$1(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,o=new Array(n),l=new Array(r),u;for(u=0;u<n;++u)o[u]=interpolate$3(e[u],t[u]);for(;u<r;++u)l[u]=t[u];return function(h){for(u=0;u<n;++u)l[u]=o[u](h);return l}}function date$3(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function interpolateNumber$1(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function object$2(e,t){var r={},n={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?r[o]=interpolate$3(e[o],t[o]):n[o]=t[o];return function(l){for(o in r)n[o]=r[o](l);return n}}var reA$1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB$1=new RegExp(reA$1.source,"g");function zero$1(e){return function(){return e}}function one$1(e){return function(t){return e(t)+""}}function string(e,t){var r=reA$1.lastIndex=reB$1.lastIndex=0,n,o,l,u=-1,h=[],f=[];for(e=e+"",t=t+"";(n=reA$1.exec(e))&&(o=reB$1.exec(t));)(l=o.index)>r&&(l=t.slice(r,l),h[u]?h[u]+=l:h[++u]=l),(n=n[0])===(o=o[0])?h[u]?h[u]+=o:h[++u]=o:(h[++u]=null,f.push({i:u,x:interpolateNumber$1(n,o)})),r=reB$1.lastIndex;return r<t.length&&(l=t.slice(r),h[u]?h[u]+=l:h[++u]=l),h.length<2?f[0]?one$1(f[0].x):zero$1(t):(t=f.length,function(d){for(var p=0,m;p<t;++p)h[(m=f[p]).i]=m.x(d);return h.join("")})}function interpolate$3(e,t){var r=typeof t,n;return t==null||r==="boolean"?constant$f(t):(r==="number"?interpolateNumber$1:r==="string"?(n=color$1(t))?(t=n,rgb$1):string:t instanceof color$1?rgb$1:t instanceof Date?date$3:isNumberArray$1(t)?numberArray$1:Array.isArray(t)?genericArray$1:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?object$2:interpolateNumber$1)(e,t)}function interpolateRound$1(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function constants(e){return function(){return e}}function number$5(e){return+e}var unit$2=[0,1];function identity$c(e){return e}function normalize$3(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:constants(isNaN(t)?NaN:.5)}function clamper$1(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function bimap$1(e,t,r){var n=e[0],o=e[1],l=t[0],u=t[1];return o<n?(n=normalize$3(o,n),l=r(u,l)):(n=normalize$3(n,o),l=r(l,u)),function(h){return l(n(h))}}function polymap$1(e,t,r){var n=Math.min(e.length,t.length)-1,o=new Array(n),l=new Array(n),u=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<n;)o[u]=normalize$3(e[u],e[u+1]),l[u]=r(t[u],t[u+1]);return function(h){var f=bisect(e,h,1,n)-1;return l[f](o[f](h))}}function copy$3(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function transformer$4(){var e=unit$2,t=unit$2,r=interpolate$3,n,o,l,u=identity$c,h,f,d;function p(){var g=Math.min(e.length,t.length);return u!==identity$c&&(u=clamper$1(e[0],e[g-1])),h=g>2?polymap$1:bimap$1,f=d=null,m}function m(g){return g==null||isNaN(g=+g)?l:(f||(f=h(e.map(n),t,r)))(n(u(g)))}return m.invert=function(g){return u(o((d||(d=h(t,e.map(n),interpolateNumber$1)))(g)))},m.domain=function(g){return arguments.length?(e=Array.from(g,number$5),p()):e.slice()},m.range=function(g){return arguments.length?(t=Array.from(g),p()):t.slice()},m.rangeRound=function(g){return t=Array.from(g),r=interpolateRound$1,p()},m.clamp=function(g){return arguments.length?(u=g?!0:identity$c,p()):u!==identity$c},m.interpolate=function(g){return arguments.length?(r=g,p()):r},m.unknown=function(g){return arguments.length?(l=g,m):l},function(g,b){return n=g,o=b,p()}}function continuous$1(){return transformer$4()(identity$c,identity$c)}function formatDecimal$1(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function formatDecimalParts$1(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function exponent$2(e){return e=formatDecimalParts$1(Math.abs(e)),e?e[1]:NaN}function formatGroup$1(e,t){return function(r,n){for(var o=r.length,l=[],u=0,h=e[0],f=0;o>0&&h>0&&(f+h+1>n&&(h=Math.max(1,n-f)),l.push(r.substring(o-=h,o+h)),!((f+=h+1)>n));)h=e[u=(u+1)%e.length];return l.reverse().join(t)}}function formatNumerals$1(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var re$1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier$1(e){if(!(t=re$1.exec(e)))throw new Error("invalid format: "+e);var t;return new FormatSpecifier$1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}formatSpecifier$1.prototype=FormatSpecifier$1.prototype;function FormatSpecifier$1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}FormatSpecifier$1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim$1(e){e:for(var t=e.length,r=1,n=-1,o;r<t;++r)switch(e[r]){case".":n=o=r;break;case"0":n===0&&(n=r),o=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(o+1):e}var prefixExponent$1;function formatPrefixAuto$1(e,t){var r=formatDecimalParts$1(e,t);if(!r)return e+"";var n=r[0],o=r[1],l=o-(prefixExponent$1=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,u=n.length;return l===u?n:l>u?n+new Array(l-u+1).join("0"):l>0?n.slice(0,l)+"."+n.slice(l):"0."+new Array(1-l).join("0")+formatDecimalParts$1(e,Math.max(0,t+l-1))[0]}function formatRounded$1(e,t){var r=formatDecimalParts$1(e,t);if(!r)return e+"";var n=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+n:n.length>o+1?n.slice(0,o+1)+"."+n.slice(o+1):n+new Array(o-n.length+2).join("0")}const formatTypes$1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:formatDecimal$1,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>formatRounded$1(e*100,t),r:formatRounded$1,s:formatPrefixAuto$1,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function identity$b(e){return e}var map$4=Array.prototype.map,prefixes$1=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$4(e){var t=e.grouping===void 0||e.thousands===void 0?identity$b:formatGroup$1(map$4.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?identity$b:formatNumerals$1(map$4.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",h=e.minus===void 0?"\u2212":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function d(m){m=formatSpecifier$1(m);var g=m.fill,b=m.align,v=m.sign,T=m.symbol,R=m.zero,I=m.width,N=m.comma,q=m.precision,F=m.trim,H=m.type;H==="n"?(N=!0,H="g"):formatTypes$1[H]||(q===void 0&&(q=12),F=!0,H="g"),(R||g==="0"&&b==="=")&&(R=!0,g="0",b="=");var V=T==="$"?r:T==="#"&&/[boxX]/.test(H)?"0"+H.toLowerCase():"",z=T==="$"?n:/[%p]/.test(H)?u:"",G=formatTypes$1[H],P=/[defgprs%]/.test(H);q=q===void 0?6:/[gprs]/.test(H)?Math.max(1,Math.min(21,q)):Math.max(0,Math.min(20,q));function W(S){var U=V,L=z,ae,Q,ue;if(H==="c")L=G(S)+L,S="";else{S=+S;var _e=S<0||1/S<0;if(S=isNaN(S)?f:G(Math.abs(S),q),F&&(S=formatTrim$1(S)),_e&&+S==0&&v!=="+"&&(_e=!1),U=(_e?v==="("?v:h:v==="-"||v==="("?"":v)+U,L=(H==="s"?prefixes$1[8+prefixExponent$1/3]:"")+L+(_e&&v==="("?")":""),P){for(ae=-1,Q=S.length;++ae<Q;)if(ue=S.charCodeAt(ae),48>ue||ue>57){L=(ue===46?o+S.slice(ae+1):S.slice(ae))+L,S=S.slice(0,ae);break}}}N&&!R&&(S=t(S,1/0));var ke=U.length+S.length+L.length,de=ke<I?new Array(I-ke+1).join(g):"";switch(N&&R&&(S=t(de+S,de.length?I-L.length:1/0),de=""),b){case"<":S=U+S+L+de;break;case"=":S=U+de+S+L;break;case"^":S=de.slice(0,ke=de.length>>1)+U+S+L+de.slice(ke);break;default:S=de+U+S+L;break}return l(S)}return W.toString=function(){return m+""},W}function p(m,g){var b=d((m=formatSpecifier$1(m),m.type="f",m)),v=Math.max(-8,Math.min(8,Math.floor(exponent$2(g)/3)))*3,T=Math.pow(10,-v),R=prefixes$1[8+v/3];return function(I){return b(T*I)+R}}return{format:d,formatPrefix:p}}var locale$4,format$2,formatPrefix$1;defaultLocale$4({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$4(e){return locale$4=formatLocale$4(e),format$2=locale$4.format,formatPrefix$1=locale$4.formatPrefix,locale$4}function precisionFixed$1(e){return Math.max(0,-exponent$2(Math.abs(e)))}function precisionPrefix$1(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent$2(t)/3)))*3-exponent$2(Math.abs(e)))}function precisionRound$1(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,exponent$2(t)-exponent$2(e))+1}function tickFormat$1(e,t,r,n){var o=tickStep$1(e,t,r),l;switch(n=formatSpecifier$1(n==null?",f":n),n.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(l=precisionPrefix$1(o,u))&&(n.precision=l),formatPrefix$1(n,u)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(l=precisionRound$1(o,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=l-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(l=precisionFixed$1(o))&&(n.precision=l-(n.type==="%")*2);break}}return format$2(n)}function linearish$1(e){var t=e.domain;return e.ticks=function(r){var n=t();return ticks$1(n[0],n[n.length-1],r==null?10:r)},e.tickFormat=function(r,n){var o=t();return tickFormat$1(o[0],o[o.length-1],r==null?10:r,n)},e.nice=function(r){r==null&&(r=10);var n=t(),o=0,l=n.length-1,u=n[o],h=n[l],f,d,p=10;for(h<u&&(d=u,u=h,h=d,d=o,o=l,l=d);p-- >0;){if(d=tickIncrement$1(u,h,r),d===f)return n[o]=u,n[l]=h,t(n);if(d>0)u=Math.floor(u/d)*d,h=Math.ceil(h/d)*d;else if(d<0)u=Math.ceil(u*d)/d,h=Math.floor(h*d)/d;else break;f=d}return e},e}function linear$3(){var e=continuous$1();return e.copy=function(){return copy$3(e,linear$3())},initRange$1.apply(e,arguments),linearish$1(e)}function nice$1(e,t){e=e.slice();var r=0,n=e.length-1,o=e[r],l=e[n],u;return l<o&&(u=r,r=n,n=u,u=o,o=l,l=u),e[r]=t.floor(o),e[n]=t.ceil(l),e}var t0$3=new Date,t1$3=new Date;function newInterval$2(e,t,r,n){function o(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return o.floor=function(l){return e(l=new Date(+l)),l},o.ceil=function(l){return e(l=new Date(l-1)),t(l,1),e(l),l},o.round=function(l){var u=o(l),h=o.ceil(l);return l-u<h-l?u:h},o.offset=function(l,u){return t(l=new Date(+l),u==null?1:Math.floor(u)),l},o.range=function(l,u,h){var f=[],d;if(l=o.ceil(l),h=h==null?1:Math.floor(h),!(l<u)||!(h>0))return f;do f.push(d=new Date(+l)),t(l,h),e(l);while(d<l&&l<u);return f},o.filter=function(l){return newInterval$2(function(u){if(u>=u)for(;e(u),!l(u);)u.setTime(u-1)},function(u,h){if(u>=u)if(h<0)for(;++h<=0;)for(;t(u,-1),!l(u););else for(;--h>=0;)for(;t(u,1),!l(u););})},r&&(o.count=function(l,u){return t0$3.setTime(+l),t1$3.setTime(+u),e(t0$3),e(t1$3),Math.floor(r(t0$3,t1$3))},o.every=function(l){return l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?o.filter(n?function(u){return n(u)%l===0}:function(u){return o.count(0,u)%l===0}):o}),o}var millisecond$1=newInterval$2(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});millisecond$1.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?newInterval$2(function(t){t.setTime(Math.floor(t/e)*e)},function(t,r){t.setTime(+t+r*e)},function(t,r){return(r-t)/e}):millisecond$1};const millisecond$2=millisecond$1;millisecond$1.range;const durationSecond$3=1e3,durationMinute$3=durationSecond$3*60,durationHour$3=durationMinute$3*60,durationDay$3=durationHour$3*24,durationWeek$3=durationDay$3*7,durationMonth$1=durationDay$3*30,durationYear$1=durationDay$3*365;var second$1=newInterval$2(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*durationSecond$3)},function(e,t){return(t-e)/durationSecond$3},function(e){return e.getUTCSeconds()});const utcSecond$1=second$1;second$1.range;var minute$1=newInterval$2(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*durationSecond$3)},function(e,t){e.setTime(+e+t*durationMinute$3)},function(e,t){return(t-e)/durationMinute$3},function(e){return e.getMinutes()});const timeMinute$1=minute$1;minute$1.range;var hour$1=newInterval$2(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*durationSecond$3-e.getMinutes()*durationMinute$3)},function(e,t){e.setTime(+e+t*durationHour$3)},function(e,t){return(t-e)/durationHour$3},function(e){return e.getHours()});const timeHour$1=hour$1;hour$1.range;var day$2=newInterval$2(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*durationMinute$3)/durationDay$3,e=>e.getDate()-1);const timeDay$2=day$2;day$2.range;function weekday$2(e){return newInterval$2(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute$3)/durationWeek$3})}var sunday$2=weekday$2(0),monday$2=weekday$2(1),tuesday$2=weekday$2(2),wednesday$2=weekday$2(3),thursday$2=weekday$2(4),friday$2=weekday$2(5),saturday$2=weekday$2(6);sunday$2.range;monday$2.range;tuesday$2.range;wednesday$2.range;thursday$2.range;friday$2.range;saturday$2.range;var month$1=newInterval$2(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()});const timeMonth$1=month$1;month$1.range;var year$2=newInterval$2(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});year$2.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:newInterval$2(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};const timeYear$2=year$2;year$2.range;var utcMinute$2=newInterval$2(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*durationMinute$3)},function(e,t){return(t-e)/durationMinute$3},function(e){return e.getUTCMinutes()});const utcMinute$3=utcMinute$2;utcMinute$2.range;var utcHour$2=newInterval$2(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*durationHour$3)},function(e,t){return(t-e)/durationHour$3},function(e){return e.getUTCHours()});const utcHour$3=utcHour$2;utcHour$2.range;var utcDay$4=newInterval$2(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/durationDay$3},function(e){return e.getUTCDate()-1});const utcDay$5=utcDay$4;utcDay$4.range;function utcWeekday$2(e){return newInterval$2(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r*7)},function(t,r){return(r-t)/durationWeek$3})}var utcSunday$2=utcWeekday$2(0),utcMonday$2=utcWeekday$2(1),utcTuesday$2=utcWeekday$2(2),utcWednesday$2=utcWeekday$2(3),utcThursday$2=utcWeekday$2(4),utcFriday$2=utcWeekday$2(5),utcSaturday$2=utcWeekday$2(6);utcSunday$2.range;utcMonday$2.range;utcTuesday$2.range;utcWednesday$2.range;utcThursday$2.range;utcFriday$2.range;utcSaturday$2.range;var utcMonth$2=newInterval$2(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()});const utcMonth$3=utcMonth$2;utcMonth$2.range;var utcYear$4=newInterval$2(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});utcYear$4.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:newInterval$2(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})};const utcYear$5=utcYear$4;utcYear$4.range;function ticker(e,t,r,n,o,l){const u=[[utcSecond$1,1,durationSecond$3],[utcSecond$1,5,5*durationSecond$3],[utcSecond$1,15,15*durationSecond$3],[utcSecond$1,30,30*durationSecond$3],[l,1,durationMinute$3],[l,5,5*durationMinute$3],[l,15,15*durationMinute$3],[l,30,30*durationMinute$3],[o,1,durationHour$3],[o,3,3*durationHour$3],[o,6,6*durationHour$3],[o,12,12*durationHour$3],[n,1,durationDay$3],[n,2,2*durationDay$3],[r,1,durationWeek$3],[t,1,durationMonth$1],[t,3,3*durationMonth$1],[e,1,durationYear$1]];function h(d,p,m){const g=p<d;g&&([d,p]=[p,d]);const b=m&&typeof m.range=="function"?m:f(d,p,m),v=b?b.range(d,+p+1):[];return g?v.reverse():v}function f(d,p,m){const g=Math.abs(p-d)/m,b=bisector$1(([,,R])=>R).right(u,g);if(b===u.length)return e.every(tickStep$1(d/durationYear$1,p/durationYear$1,m));if(b===0)return millisecond$2.every(Math.max(tickStep$1(d,p,m),1));const[v,T]=u[g/u[b-1][2]<u[b][2]/g?b-1:b];return v.every(T)}return[h,f]}ticker(utcYear$5,utcMonth$3,utcSunday$2,utcDay$5,utcHour$3,utcMinute$3);const[timeTicks,timeTickInterval]=ticker(timeYear$2,timeMonth$1,sunday$2,timeDay$2,timeHour$1,timeMinute$1);function localDate$2(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function utcDate$2(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function newDate$2(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function formatLocale$3(e){var t=e.dateTime,r=e.date,n=e.time,o=e.periods,l=e.days,u=e.shortDays,h=e.months,f=e.shortMonths,d=formatRe$2(o),p=formatLookup$2(o),m=formatRe$2(l),g=formatLookup$2(l),b=formatRe$2(u),v=formatLookup$2(u),T=formatRe$2(h),R=formatLookup$2(h),I=formatRe$2(f),N=formatLookup$2(f),q={a:_e,A:ke,b:de,B:ce,c:null,d:formatDayOfMonth$2,e:formatDayOfMonth$2,f:formatMicroseconds$2,g:formatYearISO$2,G:formatFullYearISO$2,H:formatHour24$2,I:formatHour12$2,j:formatDayOfYear$2,L:formatMilliseconds$2,m:formatMonthNumber$2,M:formatMinutes$2,p:he,q:Se,Q:formatUnixTimestamp$2,s:formatUnixTimestampSeconds$2,S:formatSeconds$2,u:formatWeekdayNumberMonday$2,U:formatWeekNumberSunday$2,V:formatWeekNumberISO$2,w:formatWeekdayNumberSunday$2,W:formatWeekNumberMonday$2,x:null,X:null,y:formatYear$3,Y:formatFullYear$2,Z:formatZone$2,"%":formatLiteralPercent$2},F={a:ve,A:me,b:Ce,B:xe,c:null,d:formatUTCDayOfMonth$2,e:formatUTCDayOfMonth$2,f:formatUTCMicroseconds$2,g:formatUTCYearISO$2,G:formatUTCFullYearISO$2,H:formatUTCHour24$2,I:formatUTCHour12$2,j:formatUTCDayOfYear$2,L:formatUTCMilliseconds$2,m:formatUTCMonthNumber$2,M:formatUTCMinutes$2,p:Ne,q:pe,Q:formatUnixTimestamp$2,s:formatUnixTimestampSeconds$2,S:formatUTCSeconds$2,u:formatUTCWeekdayNumberMonday$2,U:formatUTCWeekNumberSunday$2,V:formatUTCWeekNumberISO$2,w:formatUTCWeekdayNumberSunday$2,W:formatUTCWeekNumberMonday$2,x:null,X:null,y:formatUTCYear$2,Y:formatUTCFullYear$2,Z:formatUTCZone$2,"%":formatLiteralPercent$2},H={a:W,A:S,b:U,B:L,c:ae,d:parseDayOfMonth$2,e:parseDayOfMonth$2,f:parseMicroseconds$2,g:parseYear$2,G:parseFullYear$2,H:parseHour24$2,I:parseHour24$2,j:parseDayOfYear$2,L:parseMilliseconds$2,m:parseMonthNumber$2,M:parseMinutes$2,p:P,q:parseQuarter$2,Q:parseUnixTimestamp$2,s:parseUnixTimestampSeconds$2,S:parseSeconds$2,u:parseWeekdayNumberMonday$2,U:parseWeekNumberSunday$2,V:parseWeekNumberISO$2,w:parseWeekdayNumberSunday$2,W:parseWeekNumberMonday$2,x:Q,X:ue,y:parseYear$2,Y:parseFullYear$2,Z:parseZone$2,"%":parseLiteralPercent$2};q.x=V(r,q),q.X=V(n,q),q.c=V(t,q),F.x=V(r,F),F.X=V(n,F),F.c=V(t,F);function V(J,oe){return function(ee){var Z=[],ie=-1,se=0,te=J.length,fe,we,Ye;for(ee instanceof Date||(ee=new Date(+ee));++ie<te;)J.charCodeAt(ie)===37&&(Z.push(J.slice(se,ie)),(we=pads$2[fe=J.charAt(++ie)])!=null?fe=J.charAt(++ie):we=fe==="e"?" ":"0",(Ye=oe[fe])&&(fe=Ye(ee,we)),Z.push(fe),se=ie+1);return Z.push(J.slice(se,ie)),Z.join("")}}function z(J,oe){return function(ee){var Z=newDate$2(1900,void 0,1),ie=G(Z,J,ee+="",0),se,te;if(ie!=ee.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(oe&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(se=utcDate$2(newDate$2(Z.y,0,1)),te=se.getUTCDay(),se=te>4||te===0?utcMonday$2.ceil(se):utcMonday$2(se),se=utcDay$5.offset(se,(Z.V-1)*7),Z.y=se.getUTCFullYear(),Z.m=se.getUTCMonth(),Z.d=se.getUTCDate()+(Z.w+6)%7):(se=localDate$2(newDate$2(Z.y,0,1)),te=se.getDay(),se=te>4||te===0?monday$2.ceil(se):monday$2(se),se=timeDay$2.offset(se,(Z.V-1)*7),Z.y=se.getFullYear(),Z.m=se.getMonth(),Z.d=se.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),te="Z"in Z?utcDate$2(newDate$2(Z.y,0,1)).getUTCDay():localDate$2(newDate$2(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(te+5)%7:Z.w+Z.U*7-(te+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,utcDate$2(Z)):localDate$2(Z)}}function G(J,oe,ee,Z){for(var ie=0,se=oe.length,te=ee.length,fe,we;ie<se;){if(Z>=te)return-1;if(fe=oe.charCodeAt(ie++),fe===37){if(fe=oe.charAt(ie++),we=H[fe in pads$2?oe.charAt(ie++):fe],!we||(Z=we(J,ee,Z))<0)return-1}else if(fe!=ee.charCodeAt(Z++))return-1}return Z}function P(J,oe,ee){var Z=d.exec(oe.slice(ee));return Z?(J.p=p.get(Z[0].toLowerCase()),ee+Z[0].length):-1}function W(J,oe,ee){var Z=b.exec(oe.slice(ee));return Z?(J.w=v.get(Z[0].toLowerCase()),ee+Z[0].length):-1}function S(J,oe,ee){var Z=m.exec(oe.slice(ee));return Z?(J.w=g.get(Z[0].toLowerCase()),ee+Z[0].length):-1}function U(J,oe,ee){var Z=I.exec(oe.slice(ee));return Z?(J.m=N.get(Z[0].toLowerCase()),ee+Z[0].length):-1}function L(J,oe,ee){var Z=T.exec(oe.slice(ee));return Z?(J.m=R.get(Z[0].toLowerCase()),ee+Z[0].length):-1}function ae(J,oe,ee){return G(J,t,oe,ee)}function Q(J,oe,ee){return G(J,r,oe,ee)}function ue(J,oe,ee){return G(J,n,oe,ee)}function _e(J){return u[J.getDay()]}function ke(J){return l[J.getDay()]}function de(J){return f[J.getMonth()]}function ce(J){return h[J.getMonth()]}function he(J){return o[+(J.getHours()>=12)]}function Se(J){return 1+~~(J.getMonth()/3)}function ve(J){return u[J.getUTCDay()]}function me(J){return l[J.getUTCDay()]}function Ce(J){return f[J.getUTCMonth()]}function xe(J){return h[J.getUTCMonth()]}function Ne(J){return o[+(J.getUTCHours()>=12)]}function pe(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var oe=V(J+="",q);return oe.toString=function(){return J},oe},parse:function(J){var oe=z(J+="",!1);return oe.toString=function(){return J},oe},utcFormat:function(J){var oe=V(J+="",F);return oe.toString=function(){return J},oe},utcParse:function(J){var oe=z(J+="",!0);return oe.toString=function(){return J},oe}}}var pads$2={"-":"",_:" ",0:"0"},numberRe$2=/^\s*\d+/,percentRe$2=/^%/,requoteRe$2=/[\\^$*+?|[\]().{}]/g;function pad$3(e,t,r){var n=e<0?"-":"",o=(n?-e:e)+"",l=o.length;return n+(l<r?new Array(r-l+1).join(t)+o:o)}function requote$2(e){return e.replace(requoteRe$2,"\\$&")}function formatRe$2(e){return new RegExp("^(?:"+e.map(requote$2).join("|")+")","i")}function formatLookup$2(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function parseWeekdayNumberSunday$2(e,t,r){var n=numberRe$2.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function parseWeekdayNumberMonday$2(e,t,r){var n=numberRe$2.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function parseWeekNumberSunday$2(e,t,r){var n=numberRe$2.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function parseWeekNumberISO$2(e,t,r){var n=numberRe$2.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function parseWeekNumberMonday$2(e,t,r){var n=numberRe$2.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function parseFullYear$2(e,t,r){var n=numberRe$2.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function parseYear$2(e,t,r){var n=numberRe$2.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function parseZone$2(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function parseQuarter$2(e,t,r){var n=numberRe$2.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function parseMonthNumber$2(e,t,r){var n=numberRe$2.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function parseDayOfMonth$2(e,t,r){var n=numberRe$2.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function parseDayOfYear$2(e,t,r){var n=numberRe$2.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function parseHour24$2(e,t,r){var n=numberRe$2.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function parseMinutes$2(e,t,r){var n=numberRe$2.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function parseSeconds$2(e,t,r){var n=numberRe$2.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function parseMilliseconds$2(e,t,r){var n=numberRe$2.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function parseMicroseconds$2(e,t,r){var n=numberRe$2.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function parseLiteralPercent$2(e,t,r){var n=percentRe$2.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function parseUnixTimestamp$2(e,t,r){var n=numberRe$2.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function parseUnixTimestampSeconds$2(e,t,r){var n=numberRe$2.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function formatDayOfMonth$2(e,t){return pad$3(e.getDate(),t,2)}function formatHour24$2(e,t){return pad$3(e.getHours(),t,2)}function formatHour12$2(e,t){return pad$3(e.getHours()%12||12,t,2)}function formatDayOfYear$2(e,t){return pad$3(1+timeDay$2.count(timeYear$2(e),e),t,3)}function formatMilliseconds$2(e,t){return pad$3(e.getMilliseconds(),t,3)}function formatMicroseconds$2(e,t){return formatMilliseconds$2(e,t)+"000"}function formatMonthNumber$2(e,t){return pad$3(e.getMonth()+1,t,2)}function formatMinutes$2(e,t){return pad$3(e.getMinutes(),t,2)}function formatSeconds$2(e,t){return pad$3(e.getSeconds(),t,2)}function formatWeekdayNumberMonday$2(e){var t=e.getDay();return t===0?7:t}function formatWeekNumberSunday$2(e,t){return pad$3(sunday$2.count(timeYear$2(e)-1,e),t,2)}function dISO$2(e){var t=e.getDay();return t>=4||t===0?thursday$2(e):thursday$2.ceil(e)}function formatWeekNumberISO$2(e,t){return e=dISO$2(e),pad$3(thursday$2.count(timeYear$2(e),e)+(timeYear$2(e).getDay()===4),t,2)}function formatWeekdayNumberSunday$2(e){return e.getDay()}function formatWeekNumberMonday$2(e,t){return pad$3(monday$2.count(timeYear$2(e)-1,e),t,2)}function formatYear$3(e,t){return pad$3(e.getFullYear()%100,t,2)}function formatYearISO$2(e,t){return e=dISO$2(e),pad$3(e.getFullYear()%100,t,2)}function formatFullYear$2(e,t){return pad$3(e.getFullYear()%1e4,t,4)}function formatFullYearISO$2(e,t){var r=e.getDay();return e=r>=4||r===0?thursday$2(e):thursday$2.ceil(e),pad$3(e.getFullYear()%1e4,t,4)}function formatZone$2(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pad$3(t/60|0,"0",2)+pad$3(t%60,"0",2)}function formatUTCDayOfMonth$2(e,t){return pad$3(e.getUTCDate(),t,2)}function formatUTCHour24$2(e,t){return pad$3(e.getUTCHours(),t,2)}function formatUTCHour12$2(e,t){return pad$3(e.getUTCHours()%12||12,t,2)}function formatUTCDayOfYear$2(e,t){return pad$3(1+utcDay$5.count(utcYear$5(e),e),t,3)}function formatUTCMilliseconds$2(e,t){return pad$3(e.getUTCMilliseconds(),t,3)}function formatUTCMicroseconds$2(e,t){return formatUTCMilliseconds$2(e,t)+"000"}function formatUTCMonthNumber$2(e,t){return pad$3(e.getUTCMonth()+1,t,2)}function formatUTCMinutes$2(e,t){return pad$3(e.getUTCMinutes(),t,2)}function formatUTCSeconds$2(e,t){return pad$3(e.getUTCSeconds(),t,2)}function formatUTCWeekdayNumberMonday$2(e){var t=e.getUTCDay();return t===0?7:t}function formatUTCWeekNumberSunday$2(e,t){return pad$3(utcSunday$2.count(utcYear$5(e)-1,e),t,2)}function UTCdISO$2(e){var t=e.getUTCDay();return t>=4||t===0?utcThursday$2(e):utcThursday$2.ceil(e)}function formatUTCWeekNumberISO$2(e,t){return e=UTCdISO$2(e),pad$3(utcThursday$2.count(utcYear$5(e),e)+(utcYear$5(e).getUTCDay()===4),t,2)}function formatUTCWeekdayNumberSunday$2(e){return e.getUTCDay()}function formatUTCWeekNumberMonday$2(e,t){return pad$3(utcMonday$2.count(utcYear$5(e)-1,e),t,2)}function formatUTCYear$2(e,t){return pad$3(e.getUTCFullYear()%100,t,2)}function formatUTCYearISO$2(e,t){return e=UTCdISO$2(e),pad$3(e.getUTCFullYear()%100,t,2)}function formatUTCFullYear$2(e,t){return pad$3(e.getUTCFullYear()%1e4,t,4)}function formatUTCFullYearISO$2(e,t){var r=e.getUTCDay();return e=r>=4||r===0?utcThursday$2(e):utcThursday$2.ceil(e),pad$3(e.getUTCFullYear()%1e4,t,4)}function formatUTCZone$2(){return"+0000"}function formatLiteralPercent$2(){return"%"}function formatUnixTimestamp$2(e){return+e}function formatUnixTimestampSeconds$2(e){return Math.floor(+e/1e3)}var locale$3,timeFormat$2;defaultLocale$3({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale$3(e){return locale$3=formatLocale$3(e),timeFormat$2=locale$3.format,locale$3.parse,locale$3.utcFormat,locale$3.utcParse,locale$3}function date$2(e){return new Date(e)}function number$4(e){return e instanceof Date?+e:+new Date(+e)}function calendar$1(e,t,r,n,o,l,u,h,f,d){var p=continuous$1(),m=p.invert,g=p.domain,b=d(".%L"),v=d(":%S"),T=d("%I:%M"),R=d("%I %p"),I=d("%a %d"),N=d("%b %d"),q=d("%B"),F=d("%Y");function H(V){return(f(V)<V?b:h(V)<V?v:u(V)<V?T:l(V)<V?R:n(V)<V?o(V)<V?I:N:r(V)<V?q:F)(V)}return p.invert=function(V){return new Date(m(V))},p.domain=function(V){return arguments.length?g(Array.from(V,number$4)):g().map(date$2)},p.ticks=function(V){var z=g();return e(z[0],z[z.length-1],V==null?10:V)},p.tickFormat=function(V,z){return z==null?H:d(z)},p.nice=function(V){var z=g();return(!V||typeof V.range!="function")&&(V=t(z[0],z[z.length-1],V==null?10:V)),V?g(nice$1(z,V)):p},p.copy=function(){return copy$3(p,calendar$1(e,t,r,n,o,l,u,h,f,d))},p}function time$2(){return initRange$1.apply(calendar$1(timeTicks,timeTickInterval,timeYear$2,timeMonth$1,sunday$2,timeDay$2,timeHour$1,timeMinute$1,utcSecond$1,timeFormat$2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}const pi$6=Math.PI,tau$6=2*pi$6,epsilon$6=1e-6,tauEpsilon$1=tau$6-epsilon$6;function Path$1(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path$1(){return new Path$1}Path$1.prototype=path$1.prototype={constructor:Path$1,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,o,l){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+o)+","+(this._y1=+l)},arcTo:function(e,t,r,n,o){e=+e,t=+t,r=+r,n=+n,o=+o;var l=this._x1,u=this._y1,h=r-e,f=n-t,d=l-e,p=u-t,m=d*d+p*p;if(o<0)throw new Error("negative radius: "+o);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(m>epsilon$6)if(!(Math.abs(p*h-f*d)>epsilon$6)||!o)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var g=r-l,b=n-u,v=h*h+f*f,T=g*g+b*b,R=Math.sqrt(v),I=Math.sqrt(m),N=o*Math.tan((pi$6-Math.acos((v+m-T)/(2*R*I)))/2),q=N/I,F=N/R;Math.abs(q-1)>epsilon$6&&(this._+="L"+(e+q*d)+","+(t+q*p)),this._+="A"+o+","+o+",0,0,"+ +(p*g>d*b)+","+(this._x1=e+F*h)+","+(this._y1=t+F*f)}},arc:function(e,t,r,n,o,l){e=+e,t=+t,r=+r,l=!!l;var u=r*Math.cos(n),h=r*Math.sin(n),f=e+u,d=t+h,p=1^l,m=l?n-o:o-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+f+","+d:(Math.abs(this._x1-f)>epsilon$6||Math.abs(this._y1-d)>epsilon$6)&&(this._+="L"+f+","+d),r&&(m<0&&(m=m%tau$6+tau$6),m>tauEpsilon$1?this._+="A"+r+","+r+",0,1,"+p+","+(e-u)+","+(t-h)+"A"+r+","+r+",0,1,"+p+","+(this._x1=f)+","+(this._y1=d):m>epsilon$6&&(this._+="A"+r+","+r+",0,"+ +(m>=pi$6)+","+p+","+(this._x1=e+r*Math.cos(o))+","+(this._y1=t+r*Math.sin(o))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};function constant$e(e){return function(){return e}}var abs$3=Math.abs,atan2$2=Math.atan2,cos$3=Math.cos,max$3=Math.max,min$2=Math.min,sin$3=Math.sin,sqrt$3=Math.sqrt,epsilon$5=1e-12,pi$5=Math.PI,halfPi$4=pi$5/2,tau$5=2*pi$5;function acos$2(e){return e>1?0:e<-1?pi$5:Math.acos(e)}function asin$2(e){return e>=1?halfPi$4:e<=-1?-halfPi$4:Math.asin(e)}function arcInnerRadius$1(e){return e.innerRadius}function arcOuterRadius$1(e){return e.outerRadius}function arcStartAngle$1(e){return e.startAngle}function arcEndAngle$1(e){return e.endAngle}function arcPadAngle$1(e){return e&&e.padAngle}function intersect$3(e,t,r,n,o,l,u,h){var f=r-e,d=n-t,p=u-o,m=h-l,g=m*f-p*d;if(!(g*g<epsilon$5))return g=(p*(t-l)-m*(e-o))/g,[e+g*f,t+g*d]}function cornerTangents$1(e,t,r,n,o,l,u){var h=e-r,f=t-n,d=(u?l:-l)/sqrt$3(h*h+f*f),p=d*f,m=-d*h,g=e+p,b=t+m,v=r+p,T=n+m,R=(g+v)/2,I=(b+T)/2,N=v-g,q=T-b,F=N*N+q*q,H=o-l,V=g*T-v*b,z=(q<0?-1:1)*sqrt$3(max$3(0,H*H*F-V*V)),G=(V*q-N*z)/F,P=(-V*N-q*z)/F,W=(V*q+N*z)/F,S=(-V*N+q*z)/F,U=G-R,L=P-I,ae=W-R,Q=S-I;return U*U+L*L>ae*ae+Q*Q&&(G=W,P=S),{cx:G,cy:P,x01:-p,y01:-m,x11:G*(o/H-1),y11:P*(o/H-1)}}function arc$1(){var e=arcInnerRadius$1,t=arcOuterRadius$1,r=constant$e(0),n=null,o=arcStartAngle$1,l=arcEndAngle$1,u=arcPadAngle$1,h=null;function f(){var d,p,m=+e.apply(this,arguments),g=+t.apply(this,arguments),b=o.apply(this,arguments)-halfPi$4,v=l.apply(this,arguments)-halfPi$4,T=abs$3(v-b),R=v>b;if(h||(h=d=path$1()),g<m&&(p=g,g=m,m=p),!(g>epsilon$5))h.moveTo(0,0);else if(T>tau$5-epsilon$5)h.moveTo(g*cos$3(b),g*sin$3(b)),h.arc(0,0,g,b,v,!R),m>epsilon$5&&(h.moveTo(m*cos$3(v),m*sin$3(v)),h.arc(0,0,m,v,b,R));else{var I=b,N=v,q=b,F=v,H=T,V=T,z=u.apply(this,arguments)/2,G=z>epsilon$5&&(n?+n.apply(this,arguments):sqrt$3(m*m+g*g)),P=min$2(abs$3(g-m)/2,+r.apply(this,arguments)),W=P,S=P,U,L;if(G>epsilon$5){var ae=asin$2(G/m*sin$3(z)),Q=asin$2(G/g*sin$3(z));(H-=ae*2)>epsilon$5?(ae*=R?1:-1,q+=ae,F-=ae):(H=0,q=F=(b+v)/2),(V-=Q*2)>epsilon$5?(Q*=R?1:-1,I+=Q,N-=Q):(V=0,I=N=(b+v)/2)}var ue=g*cos$3(I),_e=g*sin$3(I),ke=m*cos$3(F),de=m*sin$3(F);if(P>epsilon$5){var ce=g*cos$3(N),he=g*sin$3(N),Se=m*cos$3(q),ve=m*sin$3(q),me;if(T<pi$5&&(me=intersect$3(ue,_e,Se,ve,ce,he,ke,de))){var Ce=ue-me[0],xe=_e-me[1],Ne=ce-me[0],pe=he-me[1],J=1/sin$3(acos$2((Ce*Ne+xe*pe)/(sqrt$3(Ce*Ce+xe*xe)*sqrt$3(Ne*Ne+pe*pe)))/2),oe=sqrt$3(me[0]*me[0]+me[1]*me[1]);W=min$2(P,(m-oe)/(J-1)),S=min$2(P,(g-oe)/(J+1))}}V>epsilon$5?S>epsilon$5?(U=cornerTangents$1(Se,ve,ue,_e,g,S,R),L=cornerTangents$1(ce,he,ke,de,g,S,R),h.moveTo(U.cx+U.x01,U.cy+U.y01),S<P?h.arc(U.cx,U.cy,S,atan2$2(U.y01,U.x01),atan2$2(L.y01,L.x01),!R):(h.arc(U.cx,U.cy,S,atan2$2(U.y01,U.x01),atan2$2(U.y11,U.x11),!R),h.arc(0,0,g,atan2$2(U.cy+U.y11,U.cx+U.x11),atan2$2(L.cy+L.y11,L.cx+L.x11),!R),h.arc(L.cx,L.cy,S,atan2$2(L.y11,L.x11),atan2$2(L.y01,L.x01),!R))):(h.moveTo(ue,_e),h.arc(0,0,g,I,N,!R)):h.moveTo(ue,_e),!(m>epsilon$5)||!(H>epsilon$5)?h.lineTo(ke,de):W>epsilon$5?(U=cornerTangents$1(ke,de,ce,he,m,-W,R),L=cornerTangents$1(ue,_e,Se,ve,m,-W,R),h.lineTo(U.cx+U.x01,U.cy+U.y01),W<P?h.arc(U.cx,U.cy,W,atan2$2(U.y01,U.x01),atan2$2(L.y01,L.x01),!R):(h.arc(U.cx,U.cy,W,atan2$2(U.y01,U.x01),atan2$2(U.y11,U.x11),!R),h.arc(0,0,m,atan2$2(U.cy+U.y11,U.cx+U.x11),atan2$2(L.cy+L.y11,L.cx+L.x11),R),h.arc(L.cx,L.cy,W,atan2$2(L.y11,L.x11),atan2$2(L.y01,L.x01),!R))):h.arc(0,0,m,F,q,R)}if(h.closePath(),d)return h=null,d+""||null}return f.centroid=function(){var d=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,p=(+o.apply(this,arguments)+ +l.apply(this,arguments))/2-pi$5/2;return[cos$3(p)*d,sin$3(p)*d]},f.innerRadius=function(d){return arguments.length?(e=typeof d=="function"?d:constant$e(+d),f):e},f.outerRadius=function(d){return arguments.length?(t=typeof d=="function"?d:constant$e(+d),f):t},f.cornerRadius=function(d){return arguments.length?(r=typeof d=="function"?d:constant$e(+d),f):r},f.padRadius=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:constant$e(+d),f):n},f.startAngle=function(d){return arguments.length?(o=typeof d=="function"?d:constant$e(+d),f):o},f.endAngle=function(d){return arguments.length?(l=typeof d=="function"?d:constant$e(+d),f):l},f.padAngle=function(d){return arguments.length?(u=typeof d=="function"?d:constant$e(+d),f):u},f.context=function(d){return arguments.length?(h=d==null?null:d,f):h},f}function array$4(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Linear$1(e){this._context=e}Linear$1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function curveLinear$1(e){return new Linear$1(e)}function x$5(e){return e[0]}function y$5(e){return e[1]}function line$2(e,t){var r=constant$e(!0),n=null,o=curveLinear$1,l=null;e=typeof e=="function"?e:e===void 0?x$5:constant$e(e),t=typeof t=="function"?t:t===void 0?y$5:constant$e(t);function u(h){var f,d=(h=array$4(h)).length,p,m=!1,g;for(n==null&&(l=o(g=path$1())),f=0;f<=d;++f)!(f<d&&r(p=h[f],f,h))===m&&((m=!m)?l.lineStart():l.lineEnd()),m&&l.point(+e(p,f,h),+t(p,f,h));if(g)return l=null,g+""||null}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:constant$e(+h),u):e},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:constant$e(+h),u):t},u.defined=function(h){return arguments.length?(r=typeof h=="function"?h:constant$e(!!h),u):r},u.curve=function(h){return arguments.length?(o=h,n!=null&&(l=o(n)),u):o},u.context=function(h){return arguments.length?(h==null?n=l=null:l=o(n=h),u):n},u}function descending$3(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function identity$a(e){return e}function pie$1(){var e=identity$a,t=descending$3,r=null,n=constant$e(0),o=constant$e(tau$5),l=constant$e(0);function u(h){var f,d=(h=array$4(h)).length,p,m,g=0,b=new Array(d),v=new Array(d),T=+n.apply(this,arguments),R=Math.min(tau$5,Math.max(-tau$5,o.apply(this,arguments)-T)),I,N=Math.min(Math.abs(R)/d,l.apply(this,arguments)),q=N*(R<0?-1:1),F;for(f=0;f<d;++f)(F=v[b[f]=f]=+e(h[f],f,h))>0&&(g+=F);for(t!=null?b.sort(function(H,V){return t(v[H],v[V])}):r!=null&&b.sort(function(H,V){return r(h[H],h[V])}),f=0,m=g?(R-d*q)/g:0;f<d;++f,T=I)p=b[f],F=v[p],I=T+(F>0?F*m:0)+q,v[p]={data:h[p],index:f,value:F,startAngle:T,endAngle:I,padAngle:N};return v}return u.value=function(h){return arguments.length?(e=typeof h=="function"?h:constant$e(+h),u):e},u.sortValues=function(h){return arguments.length?(t=h,r=null,u):t},u.sort=function(h){return arguments.length?(r=h,t=null,u):r},u.startAngle=function(h){return arguments.length?(n=typeof h=="function"?h:constant$e(+h),u):n},u.endAngle=function(h){return arguments.length?(o=typeof h=="function"?h:constant$e(+h),u):o},u.padAngle=function(h){return arguments.length?(l=typeof h=="function"?h:constant$e(+h),u):l},u}function noop$4(){}function point$8(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Basis$1(e){this._context=e}Basis$1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$8(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$8(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function curveBasis(e){return new Basis$1(e)}function BasisClosed$1(e){this._context=e}BasisClosed$1.prototype={areaStart:noop$4,areaEnd:noop$4,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:point$8(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function curveBasisClosed(e){return new BasisClosed$1(e)}function BasisOpen$1(e){this._context=e}BasisOpen$1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:point$8(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function curveBasisOpen(e){return new BasisOpen$1(e)}function LinearClosed$1(e){this._context=e}LinearClosed$1.prototype={areaStart:noop$4,areaEnd:noop$4,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function curveLinearClosed(e){return new LinearClosed$1(e)}function sign$2(e){return e<0?-1:1}function slope3$1(e,t,r){var n=e._x1-e._x0,o=t-e._x1,l=(e._y1-e._y0)/(n||o<0&&-0),u=(r-e._y1)/(o||n<0&&-0),h=(l*o+u*n)/(n+o);return(sign$2(l)+sign$2(u))*Math.min(Math.abs(l),Math.abs(u),.5*Math.abs(h))||0}function slope2$1(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function point$7(e,t,r){var n=e._x0,o=e._y0,l=e._x1,u=e._y1,h=(l-n)/3;e._context.bezierCurveTo(n+h,o+h*t,l-h,u-h*r,l,u)}function MonotoneX$1(e){this._context=e}MonotoneX$1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$7(this,this._t0,slope2$1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,point$7(this,slope2$1(this,r=slope3$1(this,e,t)),r);break;default:point$7(this,this._t0,r=slope3$1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function MonotoneY$1(e){this._context=new ReflectContext$1(e)}(MonotoneY$1.prototype=Object.create(MonotoneX$1.prototype)).point=function(e,t){MonotoneX$1.prototype.point.call(this,t,e)};function ReflectContext$1(e){this._context=e}ReflectContext$1.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,o,l){this._context.bezierCurveTo(t,e,n,r,l,o)}};function monotoneX$1(e){return new MonotoneX$1(e)}function monotoneY$1(e){return new MonotoneY$1(e)}function Natural$1(e){this._context=e}Natural$1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=controlPoints$1(e),o=controlPoints$1(t),l=0,u=1;u<r;++l,++u)this._context.bezierCurveTo(n[0][l],o[0][l],n[1][l],o[1][l],e[u],t[u]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function controlPoints$1(e){var t,r=e.length-1,n,o=new Array(r),l=new Array(r),u=new Array(r);for(o[0]=0,l[0]=2,u[0]=e[0]+2*e[1],t=1;t<r-1;++t)o[t]=1,l[t]=4,u[t]=4*e[t]+2*e[t+1];for(o[r-1]=2,l[r-1]=7,u[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=o[t]/l[t-1],l[t]-=n,u[t]-=n*u[t-1];for(o[r-1]=u[r-1]/l[r-1],t=r-2;t>=0;--t)o[t]=(u[t]-o[t+1])/l[t];for(l[r-1]=(e[r]+o[r-1])/2,t=0;t<r-1;++t)l[t]=2*e[t+1]-o[t+1];return[o,l]}function curveNatural(e){return new Natural$1(e)}function Step$1(e,t){this._context=e,this._t=t}Step$1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function curveStep(e){return new Step$1(e,.5)}function stepBefore$1(e){return new Step$1(e,0)}function stepAfter$1(e){return new Step$1(e,1)}var t0$2=new Date,t1$2=new Date;function newInterval$1(e,t,r,n){function o(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return o.floor=function(l){return e(l=new Date(+l)),l},o.ceil=function(l){return e(l=new Date(l-1)),t(l,1),e(l),l},o.round=function(l){var u=o(l),h=o.ceil(l);return l-u<h-l?u:h},o.offset=function(l,u){return t(l=new Date(+l),u==null?1:Math.floor(u)),l},o.range=function(l,u,h){var f=[],d;if(l=o.ceil(l),h=h==null?1:Math.floor(h),!(l<u)||!(h>0))return f;do f.push(d=new Date(+l)),t(l,h),e(l);while(d<l&&l<u);return f},o.filter=function(l){return newInterval$1(function(u){if(u>=u)for(;e(u),!l(u);)u.setTime(u-1)},function(u,h){if(u>=u)if(h<0)for(;++h<=0;)for(;t(u,-1),!l(u););else for(;--h>=0;)for(;t(u,1),!l(u););})},r&&(o.count=function(l,u){return t0$2.setTime(+l),t1$2.setTime(+u),e(t0$2),e(t1$2),Math.floor(r(t0$2,t1$2))},o.every=function(l){return l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?o.filter(n?function(u){return n(u)%l===0}:function(u){return o.count(0,u)%l===0}):o}),o}const durationSecond$2=1e3,durationMinute$2=durationSecond$2*60,durationHour$2=durationMinute$2*60,durationDay$2=durationHour$2*24,durationWeek$2=durationDay$2*7;var day$1=newInterval$1(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*durationMinute$2)/durationDay$2,e=>e.getDate()-1);const timeDay$1=day$1;day$1.range;function weekday$1(e){return newInterval$1(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute$2)/durationWeek$2})}var sunday$1=weekday$1(0),monday$1=weekday$1(1),tuesday$1=weekday$1(2),wednesday$1=weekday$1(3),thursday$1=weekday$1(4),friday$1=weekday$1(5),saturday$1=weekday$1(6);sunday$1.range;monday$1.range;tuesday$1.range;wednesday$1.range;thursday$1.range;friday$1.range;saturday$1.range;var year$1=newInterval$1(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});year$1.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:newInterval$1(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};const timeYear$1=year$1;year$1.range;var utcDay$2=newInterval$1(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/durationDay$2},function(e){return e.getUTCDate()-1});const utcDay$3=utcDay$2;utcDay$2.range;function utcWeekday$1(e){return newInterval$1(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r*7)},function(t,r){return(r-t)/durationWeek$2})}var utcSunday$1=utcWeekday$1(0),utcMonday$1=utcWeekday$1(1),utcTuesday$1=utcWeekday$1(2),utcWednesday$1=utcWeekday$1(3),utcThursday$1=utcWeekday$1(4),utcFriday$1=utcWeekday$1(5),utcSaturday$1=utcWeekday$1(6);utcSunday$1.range;utcMonday$1.range;utcTuesday$1.range;utcWednesday$1.range;utcThursday$1.range;utcFriday$1.range;utcSaturday$1.range;var utcYear$2=newInterval$1(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});utcYear$2.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:newInterval$1(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})};const utcYear$3=utcYear$2;utcYear$2.range;function localDate$1(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function utcDate$1(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function newDate$1(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function formatLocale$2(e){var t=e.dateTime,r=e.date,n=e.time,o=e.periods,l=e.days,u=e.shortDays,h=e.months,f=e.shortMonths,d=formatRe$1(o),p=formatLookup$1(o),m=formatRe$1(l),g=formatLookup$1(l),b=formatRe$1(u),v=formatLookup$1(u),T=formatRe$1(h),R=formatLookup$1(h),I=formatRe$1(f),N=formatLookup$1(f),q={a:_e,A:ke,b:de,B:ce,c:null,d:formatDayOfMonth$1,e:formatDayOfMonth$1,f:formatMicroseconds$1,g:formatYearISO$1,G:formatFullYearISO$1,H:formatHour24$1,I:formatHour12$1,j:formatDayOfYear$1,L:formatMilliseconds$1,m:formatMonthNumber$1,M:formatMinutes$1,p:he,q:Se,Q:formatUnixTimestamp$1,s:formatUnixTimestampSeconds$1,S:formatSeconds$1,u:formatWeekdayNumberMonday$1,U:formatWeekNumberSunday$1,V:formatWeekNumberISO$1,w:formatWeekdayNumberSunday$1,W:formatWeekNumberMonday$1,x:null,X:null,y:formatYear$2,Y:formatFullYear$1,Z:formatZone$1,"%":formatLiteralPercent$1},F={a:ve,A:me,b:Ce,B:xe,c:null,d:formatUTCDayOfMonth$1,e:formatUTCDayOfMonth$1,f:formatUTCMicroseconds$1,g:formatUTCYearISO$1,G:formatUTCFullYearISO$1,H:formatUTCHour24$1,I:formatUTCHour12$1,j:formatUTCDayOfYear$1,L:formatUTCMilliseconds$1,m:formatUTCMonthNumber$1,M:formatUTCMinutes$1,p:Ne,q:pe,Q:formatUnixTimestamp$1,s:formatUnixTimestampSeconds$1,S:formatUTCSeconds$1,u:formatUTCWeekdayNumberMonday$1,U:formatUTCWeekNumberSunday$1,V:formatUTCWeekNumberISO$1,w:formatUTCWeekdayNumberSunday$1,W:formatUTCWeekNumberMonday$1,x:null,X:null,y:formatUTCYear$1,Y:formatUTCFullYear$1,Z:formatUTCZone$1,"%":formatLiteralPercent$1},H={a:W,A:S,b:U,B:L,c:ae,d:parseDayOfMonth$1,e:parseDayOfMonth$1,f:parseMicroseconds$1,g:parseYear$1,G:parseFullYear$1,H:parseHour24$1,I:parseHour24$1,j:parseDayOfYear$1,L:parseMilliseconds$1,m:parseMonthNumber$1,M:parseMinutes$1,p:P,q:parseQuarter$1,Q:parseUnixTimestamp$1,s:parseUnixTimestampSeconds$1,S:parseSeconds$1,u:parseWeekdayNumberMonday$1,U:parseWeekNumberSunday$1,V:parseWeekNumberISO$1,w:parseWeekdayNumberSunday$1,W:parseWeekNumberMonday$1,x:Q,X:ue,y:parseYear$1,Y:parseFullYear$1,Z:parseZone$1,"%":parseLiteralPercent$1};q.x=V(r,q),q.X=V(n,q),q.c=V(t,q),F.x=V(r,F),F.X=V(n,F),F.c=V(t,F);function V(J,oe){return function(ee){var Z=[],ie=-1,se=0,te=J.length,fe,we,Ye;for(ee instanceof Date||(ee=new Date(+ee));++ie<te;)J.charCodeAt(ie)===37&&(Z.push(J.slice(se,ie)),(we=pads$1[fe=J.charAt(++ie)])!=null?fe=J.charAt(++ie):we=fe==="e"?" ":"0",(Ye=oe[fe])&&(fe=Ye(ee,we)),Z.push(fe),se=ie+1);return Z.push(J.slice(se,ie)),Z.join("")}}function z(J,oe){return function(ee){var Z=newDate$1(1900,void 0,1),ie=G(Z,J,ee+="",0),se,te;if(ie!=ee.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(oe&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(se=utcDate$1(newDate$1(Z.y,0,1)),te=se.getUTCDay(),se=te>4||te===0?utcMonday$1.ceil(se):utcMonday$1(se),se=utcDay$3.offset(se,(Z.V-1)*7),Z.y=se.getUTCFullYear(),Z.m=se.getUTCMonth(),Z.d=se.getUTCDate()+(Z.w+6)%7):(se=localDate$1(newDate$1(Z.y,0,1)),te=se.getDay(),se=te>4||te===0?monday$1.ceil(se):monday$1(se),se=timeDay$1.offset(se,(Z.V-1)*7),Z.y=se.getFullYear(),Z.m=se.getMonth(),Z.d=se.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),te="Z"in Z?utcDate$1(newDate$1(Z.y,0,1)).getUTCDay():localDate$1(newDate$1(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(te+5)%7:Z.w+Z.U*7-(te+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,utcDate$1(Z)):localDate$1(Z)}}function G(J,oe,ee,Z){for(var ie=0,se=oe.length,te=ee.length,fe,we;ie<se;){if(Z>=te)return-1;if(fe=oe.charCodeAt(ie++),fe===37){if(fe=oe.charAt(ie++),we=H[fe in pads$1?oe.charAt(ie++):fe],!we||(Z=we(J,ee,Z))<0)return-1}else if(fe!=ee.charCodeAt(Z++))return-1}return Z}function P(J,oe,ee){var Z=d.exec(oe.slice(ee));return Z?(J.p=p.get(Z[0].toLowerCase()),ee+Z[0].length):-1}function W(J,oe,ee){var Z=b.exec(oe.slice(ee));return Z?(J.w=v.get(Z[0].toLowerCase()),ee+Z[0].length):-1}function S(J,oe,ee){var Z=m.exec(oe.slice(ee));return Z?(J.w=g.get(Z[0].toLowerCase()),ee+Z[0].length):-1}function U(J,oe,ee){var Z=I.exec(oe.slice(ee));return Z?(J.m=N.get(Z[0].toLowerCase()),ee+Z[0].length):-1}function L(J,oe,ee){var Z=T.exec(oe.slice(ee));return Z?(J.m=R.get(Z[0].toLowerCase()),ee+Z[0].length):-1}function ae(J,oe,ee){return G(J,t,oe,ee)}function Q(J,oe,ee){return G(J,r,oe,ee)}function ue(J,oe,ee){return G(J,n,oe,ee)}function _e(J){return u[J.getDay()]}function ke(J){return l[J.getDay()]}function de(J){return f[J.getMonth()]}function ce(J){return h[J.getMonth()]}function he(J){return o[+(J.getHours()>=12)]}function Se(J){return 1+~~(J.getMonth()/3)}function ve(J){return u[J.getUTCDay()]}function me(J){return l[J.getUTCDay()]}function Ce(J){return f[J.getUTCMonth()]}function xe(J){return h[J.getUTCMonth()]}function Ne(J){return o[+(J.getUTCHours()>=12)]}function pe(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var oe=V(J+="",q);return oe.toString=function(){return J},oe},parse:function(J){var oe=z(J+="",!1);return oe.toString=function(){return J},oe},utcFormat:function(J){var oe=V(J+="",F);return oe.toString=function(){return J},oe},utcParse:function(J){var oe=z(J+="",!0);return oe.toString=function(){return J},oe}}}var pads$1={"-":"",_:" ",0:"0"},numberRe$1=/^\s*\d+/,percentRe$1=/^%/,requoteRe$1=/[\\^$*+?|[\]().{}]/g;function pad$2(e,t,r){var n=e<0?"-":"",o=(n?-e:e)+"",l=o.length;return n+(l<r?new Array(r-l+1).join(t)+o:o)}function requote$1(e){return e.replace(requoteRe$1,"\\$&")}function formatRe$1(e){return new RegExp("^(?:"+e.map(requote$1).join("|")+")","i")}function formatLookup$1(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function parseWeekdayNumberSunday$1(e,t,r){var n=numberRe$1.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function parseWeekdayNumberMonday$1(e,t,r){var n=numberRe$1.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function parseWeekNumberSunday$1(e,t,r){var n=numberRe$1.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function parseWeekNumberISO$1(e,t,r){var n=numberRe$1.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function parseWeekNumberMonday$1(e,t,r){var n=numberRe$1.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function parseFullYear$1(e,t,r){var n=numberRe$1.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function parseYear$1(e,t,r){var n=numberRe$1.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function parseZone$1(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function parseQuarter$1(e,t,r){var n=numberRe$1.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function parseMonthNumber$1(e,t,r){var n=numberRe$1.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function parseDayOfMonth$1(e,t,r){var n=numberRe$1.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function parseDayOfYear$1(e,t,r){var n=numberRe$1.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function parseHour24$1(e,t,r){var n=numberRe$1.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function parseMinutes$1(e,t,r){var n=numberRe$1.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function parseSeconds$1(e,t,r){var n=numberRe$1.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function parseMilliseconds$1(e,t,r){var n=numberRe$1.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function parseMicroseconds$1(e,t,r){var n=numberRe$1.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function parseLiteralPercent$1(e,t,r){var n=percentRe$1.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function parseUnixTimestamp$1(e,t,r){var n=numberRe$1.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function parseUnixTimestampSeconds$1(e,t,r){var n=numberRe$1.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function formatDayOfMonth$1(e,t){return pad$2(e.getDate(),t,2)}function formatHour24$1(e,t){return pad$2(e.getHours(),t,2)}function formatHour12$1(e,t){return pad$2(e.getHours()%12||12,t,2)}function formatDayOfYear$1(e,t){return pad$2(1+timeDay$1.count(timeYear$1(e),e),t,3)}function formatMilliseconds$1(e,t){return pad$2(e.getMilliseconds(),t,3)}function formatMicroseconds$1(e,t){return formatMilliseconds$1(e,t)+"000"}function formatMonthNumber$1(e,t){return pad$2(e.getMonth()+1,t,2)}function formatMinutes$1(e,t){return pad$2(e.getMinutes(),t,2)}function formatSeconds$1(e,t){return pad$2(e.getSeconds(),t,2)}function formatWeekdayNumberMonday$1(e){var t=e.getDay();return t===0?7:t}function formatWeekNumberSunday$1(e,t){return pad$2(sunday$1.count(timeYear$1(e)-1,e),t,2)}function dISO$1(e){var t=e.getDay();return t>=4||t===0?thursday$1(e):thursday$1.ceil(e)}function formatWeekNumberISO$1(e,t){return e=dISO$1(e),pad$2(thursday$1.count(timeYear$1(e),e)+(timeYear$1(e).getDay()===4),t,2)}function formatWeekdayNumberSunday$1(e){return e.getDay()}function formatWeekNumberMonday$1(e,t){return pad$2(monday$1.count(timeYear$1(e)-1,e),t,2)}function formatYear$2(e,t){return pad$2(e.getFullYear()%100,t,2)}function formatYearISO$1(e,t){return e=dISO$1(e),pad$2(e.getFullYear()%100,t,2)}function formatFullYear$1(e,t){return pad$2(e.getFullYear()%1e4,t,4)}function formatFullYearISO$1(e,t){var r=e.getDay();return e=r>=4||r===0?thursday$1(e):thursday$1.ceil(e),pad$2(e.getFullYear()%1e4,t,4)}function formatZone$1(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pad$2(t/60|0,"0",2)+pad$2(t%60,"0",2)}function formatUTCDayOfMonth$1(e,t){return pad$2(e.getUTCDate(),t,2)}function formatUTCHour24$1(e,t){return pad$2(e.getUTCHours(),t,2)}function formatUTCHour12$1(e,t){return pad$2(e.getUTCHours()%12||12,t,2)}function formatUTCDayOfYear$1(e,t){return pad$2(1+utcDay$3.count(utcYear$3(e),e),t,3)}function formatUTCMilliseconds$1(e,t){return pad$2(e.getUTCMilliseconds(),t,3)}function formatUTCMicroseconds$1(e,t){return formatUTCMilliseconds$1(e,t)+"000"}function formatUTCMonthNumber$1(e,t){return pad$2(e.getUTCMonth()+1,t,2)}function formatUTCMinutes$1(e,t){return pad$2(e.getUTCMinutes(),t,2)}function formatUTCSeconds$1(e,t){return pad$2(e.getUTCSeconds(),t,2)}function formatUTCWeekdayNumberMonday$1(e){var t=e.getUTCDay();return t===0?7:t}function formatUTCWeekNumberSunday$1(e,t){return pad$2(utcSunday$1.count(utcYear$3(e)-1,e),t,2)}function UTCdISO$1(e){var t=e.getUTCDay();return t>=4||t===0?utcThursday$1(e):utcThursday$1.ceil(e)}function formatUTCWeekNumberISO$1(e,t){return e=UTCdISO$1(e),pad$2(utcThursday$1.count(utcYear$3(e),e)+(utcYear$3(e).getUTCDay()===4),t,2)}function formatUTCWeekdayNumberSunday$1(e){return e.getUTCDay()}function formatUTCWeekNumberMonday$1(e,t){return pad$2(utcMonday$1.count(utcYear$3(e)-1,e),t,2)}function formatUTCYear$1(e,t){return pad$2(e.getUTCFullYear()%100,t,2)}function formatUTCYearISO$1(e,t){return e=UTCdISO$1(e),pad$2(e.getUTCFullYear()%100,t,2)}function formatUTCFullYear$1(e,t){return pad$2(e.getUTCFullYear()%1e4,t,4)}function formatUTCFullYearISO$1(e,t){var r=e.getUTCDay();return e=r>=4||r===0?utcThursday$1(e):utcThursday$1.ceil(e),pad$2(e.getUTCFullYear()%1e4,t,4)}function formatUTCZone$1(){return"+0000"}function formatLiteralPercent$1(){return"%"}function formatUnixTimestamp$1(e){return+e}function formatUnixTimestampSeconds$1(e){return Math.floor(+e/1e3)}var locale$2,timeFormat$1;defaultLocale$2({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale$2(e){return locale$2=formatLocale$2(e),timeFormat$1=locale$2.format,locale$2.parse,locale$2.utcFormat,locale$2.utcParse,locale$2}var frame$1=0,timeout$3=0,interval$2=0,pokeDelay$1=1e3,taskHead$1,taskTail$1,clockLast$1=0,clockNow$1=0,clockSkew$1=0,clock$1=typeof performance=="object"&&performance.now?performance:Date,setFrame$1=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function now$1(){return clockNow$1||(setFrame$1(clearNow$1),clockNow$1=clock$1.now()+clockSkew$1)}function clearNow$1(){clockNow$1=0}function Timer$1(){this._call=this._time=this._next=null}Timer$1.prototype=timer$1.prototype={constructor:Timer$1,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?now$1():+r)+(t==null?0:+t),!this._next&&taskTail$1!==this&&(taskTail$1?taskTail$1._next=this:taskHead$1=this,taskTail$1=this),this._call=e,this._time=r,sleep$1()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep$1())}};function timer$1(e,t,r){var n=new Timer$1;return n.restart(e,t,r),n}function timerFlush$1(){now$1(),++frame$1;for(var e=taskHead$1,t;e;)(t=clockNow$1-e._time)>=0&&e._call.call(void 0,t),e=e._next;--frame$1}function wake$1(){clockNow$1=(clockLast$1=clock$1.now())+clockSkew$1,frame$1=timeout$3=0;try{timerFlush$1()}finally{frame$1=0,nap$1(),clockNow$1=0}}function poke$1(){var e=clock$1.now(),t=e-clockLast$1;t>pokeDelay$1&&(clockSkew$1-=t,clockLast$1=e)}function nap$1(){for(var e,t=taskHead$1,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:taskHead$1=r);taskTail$1=e,sleep$1(n)}function sleep$1(e){if(!frame$1){timeout$3&&(timeout$3=clearTimeout(timeout$3));var t=e-clockNow$1;t>24?(e<1/0&&(timeout$3=setTimeout(wake$1,e-clock$1.now()-clockSkew$1)),interval$2&&(interval$2=clearInterval(interval$2))):(interval$2||(clockLast$1=clock$1.now(),interval$2=setInterval(poke$1,pokeDelay$1)),frame$1=1,setFrame$1(wake$1))}}function timeout$2(e,t,r){var n=new Timer$1;return t=t==null?0:+t,n.restart(o=>{n.stop(),e(o+t)},t,r),n}var emptyOn$1=dispatch$1("start","end","cancel","interrupt"),emptyTween$1=[],CREATED$1=0,SCHEDULED$1=1,STARTING$1=2,STARTED$1=3,RUNNING$1=4,ENDING$1=5,ENDED$1=6;function schedule$1(e,t,r,n,o,l){var u=e.__transition;if(!u)e.__transition={};else if(r in u)return;create$3(e,r,{name:t,index:n,group:o,on:emptyOn$1,tween:emptyTween$1,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:CREATED$1})}function init$3(e,t){var r=get$2(e,t);if(r.state>CREATED$1)throw new Error("too late; already scheduled");return r}function set$3(e,t){var r=get$2(e,t);if(r.state>STARTED$1)throw new Error("too late; already running");return r}function get$2(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function create$3(e,t,r){var n=e.__transition,o;n[t]=r,r.timer=timer$1(l,0,r.time);function l(d){r.state=SCHEDULED$1,r.timer.restart(u,r.delay,r.time),r.delay<=d&&u(d-r.delay)}function u(d){var p,m,g,b;if(r.state!==SCHEDULED$1)return f();for(p in n)if(b=n[p],b.name===r.name){if(b.state===STARTED$1)return timeout$2(u);b.state===RUNNING$1?(b.state=ENDED$1,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete n[p]):+p<t&&(b.state=ENDED$1,b.timer.stop(),b.on.call("cancel",e,e.__data__,b.index,b.group),delete n[p])}if(timeout$2(function(){r.state===STARTED$1&&(r.state=RUNNING$1,r.timer.restart(h,r.delay,r.time),h(d))}),r.state=STARTING$1,r.on.call("start",e,e.__data__,r.index,r.group),r.state===STARTING$1){for(r.state=STARTED$1,o=new Array(g=r.tween.length),p=0,m=-1;p<g;++p)(b=r.tween[p].value.call(e,e.__data__,r.index,r.group))&&(o[++m]=b);o.length=m+1}}function h(d){for(var p=d<r.duration?r.ease.call(null,d/r.duration):(r.timer.restart(f),r.state=ENDING$1,1),m=-1,g=o.length;++m<g;)o[m].call(e,p);r.state===ENDING$1&&(r.on.call("end",e,e.__data__,r.index,r.group),f())}function f(){r.state=ENDED$1,r.timer.stop(),delete n[t];for(var d in n)return;delete e.__transition}}function interrupt$1(e,t){var r=e.__transition,n,o,l=!0,u;if(!!r){t=t==null?null:t+"";for(u in r){if((n=r[u]).name!==t){l=!1;continue}o=n.state>STARTING$1&&n.state<ENDING$1,n.state=ENDED$1,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[u]}l&&delete e.__transition}}function selection_interrupt$1(e){return this.each(function(){interrupt$1(this,e)})}function tweenRemove$1(e,t){var r,n;return function(){var o=set$3(this,e),l=o.tween;if(l!==r){n=r=l;for(var u=0,h=n.length;u<h;++u)if(n[u].name===t){n=n.slice(),n.splice(u,1);break}}o.tween=n}}function tweenFunction$1(e,t,r){var n,o;if(typeof r!="function")throw new Error;return function(){var l=set$3(this,e),u=l.tween;if(u!==n){o=(n=u).slice();for(var h={name:t,value:r},f=0,d=o.length;f<d;++f)if(o[f].name===t){o[f]=h;break}f===d&&o.push(h)}l.tween=o}}function transition_tween$1(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=get$2(this.node(),r).tween,o=0,l=n.length,u;o<l;++o)if((u=n[o]).name===e)return u.value;return null}return this.each((t==null?tweenRemove$1:tweenFunction$1)(r,e,t))}function tweenValue$1(e,t,r){var n=e._id;return e.each(function(){var o=set$3(this,n);(o.value||(o.value={}))[t]=r.apply(this,arguments)}),function(o){return get$2(o,n).value[t]}}function interpolate$2(e,t){var r;return(typeof t=="number"?interpolateNumber$2:t instanceof color$2?interpolateRgb$1:(r=color$2(t))?(t=r,interpolateRgb$1):interpolateString$1)(e,t)}function attrRemove$2(e){return function(){this.removeAttribute(e)}}function attrRemoveNS$2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function attrConstant$2(e,t,r){var n,o=r+"",l;return function(){var u=this.getAttribute(e);return u===o?null:u===n?l:l=t(n=u,r)}}function attrConstantNS$2(e,t,r){var n,o=r+"",l;return function(){var u=this.getAttributeNS(e.space,e.local);return u===o?null:u===n?l:l=t(n=u,r)}}function attrFunction$2(e,t,r){var n,o,l;return function(){var u,h=r(this),f;return h==null?void this.removeAttribute(e):(u=this.getAttribute(e),f=h+"",u===f?null:u===n&&f===o?l:(o=f,l=t(n=u,h)))}}function attrFunctionNS$2(e,t,r){var n,o,l;return function(){var u,h=r(this),f;return h==null?void this.removeAttributeNS(e.space,e.local):(u=this.getAttributeNS(e.space,e.local),f=h+"",u===f?null:u===n&&f===o?l:(o=f,l=t(n=u,h)))}}function transition_attr$1(e,t){var r=namespace$1(e),n=r==="transform"?interpolateTransformSvg$1:interpolate$2;return this.attrTween(e,typeof t=="function"?(r.local?attrFunctionNS$2:attrFunction$2)(r,n,tweenValue$1(this,"attr."+e,t)):t==null?(r.local?attrRemoveNS$2:attrRemove$2)(r):(r.local?attrConstantNS$2:attrConstant$2)(r,n,t))}function attrInterpolate$1(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function attrInterpolateNS$1(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function attrTweenNS$1(e,t){var r,n;function o(){var l=t.apply(this,arguments);return l!==n&&(r=(n=l)&&attrInterpolateNS$1(e,l)),r}return o._value=t,o}function attrTween$1(e,t){var r,n;function o(){var l=t.apply(this,arguments);return l!==n&&(r=(n=l)&&attrInterpolate$1(e,l)),r}return o._value=t,o}function transition_attrTween$1(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=namespace$1(e);return this.tween(r,(n.local?attrTweenNS$1:attrTween$1)(n,t))}function delayFunction$1(e,t){return function(){init$3(this,e).delay=+t.apply(this,arguments)}}function delayConstant$1(e,t){return t=+t,function(){init$3(this,e).delay=t}}function transition_delay$1(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?delayFunction$1:delayConstant$1)(t,e)):get$2(this.node(),t).delay}function durationFunction$1(e,t){return function(){set$3(this,e).duration=+t.apply(this,arguments)}}function durationConstant$1(e,t){return t=+t,function(){set$3(this,e).duration=t}}function transition_duration$1(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?durationFunction$1:durationConstant$1)(t,e)):get$2(this.node(),t).duration}function easeConstant$1(e,t){if(typeof t!="function")throw new Error;return function(){set$3(this,e).ease=t}}function transition_ease$1(e){var t=this._id;return arguments.length?this.each(easeConstant$1(t,e)):get$2(this.node(),t).ease}function easeVarying(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;set$3(this,e).ease=r}}function transition_easeVarying(e){if(typeof e!="function")throw new Error;return this.each(easeVarying(this._id,e))}function transition_filter$1(e){typeof e!="function"&&(e=matcher$1(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var l=t[o],u=l.length,h=n[o]=[],f,d=0;d<u;++d)(f=l[d])&&e.call(f,f.__data__,d,l)&&h.push(f);return new Transition$1(n,this._parents,this._name,this._id)}function transition_merge$1(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,o=r.length,l=Math.min(n,o),u=new Array(n),h=0;h<l;++h)for(var f=t[h],d=r[h],p=f.length,m=u[h]=new Array(p),g,b=0;b<p;++b)(g=f[b]||d[b])&&(m[b]=g);for(;h<n;++h)u[h]=t[h];return new Transition$1(u,this._parents,this._name,this._id)}function start$2(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function onFunction$1(e,t,r){var n,o,l=start$2(t)?init$3:set$3;return function(){var u=l(this,e),h=u.on;h!==n&&(o=(n=h).copy()).on(t,r),u.on=o}}function transition_on$1(e,t){var r=this._id;return arguments.length<2?get$2(this.node(),r).on.on(e):this.each(onFunction$1(r,e,t))}function removeFunction$1(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function transition_remove$1(){return this.on("end.remove",removeFunction$1(this._id))}function transition_select$1(e){var t=this._name,r=this._id;typeof e!="function"&&(e=selector$1(e));for(var n=this._groups,o=n.length,l=new Array(o),u=0;u<o;++u)for(var h=n[u],f=h.length,d=l[u]=new Array(f),p,m,g=0;g<f;++g)(p=h[g])&&(m=e.call(p,p.__data__,g,h))&&("__data__"in p&&(m.__data__=p.__data__),d[g]=m,schedule$1(d[g],t,r,g,d,get$2(p,r)));return new Transition$1(l,this._parents,t,r)}function transition_selectAll$1(e){var t=this._name,r=this._id;typeof e!="function"&&(e=selectorAll$1(e));for(var n=this._groups,o=n.length,l=[],u=[],h=0;h<o;++h)for(var f=n[h],d=f.length,p,m=0;m<d;++m)if(p=f[m]){for(var g=e.call(p,p.__data__,m,f),b,v=get$2(p,r),T=0,R=g.length;T<R;++T)(b=g[T])&&schedule$1(b,t,r,T,g,v);l.push(g),u.push(p)}return new Transition$1(l,u,t,r)}var Selection$2=selection$1.prototype.constructor;function transition_selection$1(){return new Selection$2(this._groups,this._parents)}function styleNull$1(e,t){var r,n,o;return function(){var l=styleValue$1(this,e),u=(this.style.removeProperty(e),styleValue$1(this,e));return l===u?null:l===r&&u===n?o:o=t(r=l,n=u)}}function styleRemove$2(e){return function(){this.style.removeProperty(e)}}function styleConstant$2(e,t,r){var n,o=r+"",l;return function(){var u=styleValue$1(this,e);return u===o?null:u===n?l:l=t(n=u,r)}}function styleFunction$2(e,t,r){var n,o,l;return function(){var u=styleValue$1(this,e),h=r(this),f=h+"";return h==null&&(f=h=(this.style.removeProperty(e),styleValue$1(this,e))),u===f?null:u===n&&f===o?l:(o=f,l=t(n=u,h))}}function styleMaybeRemove$1(e,t){var r,n,o,l="style."+t,u="end."+l,h;return function(){var f=set$3(this,e),d=f.on,p=f.value[l]==null?h||(h=styleRemove$2(t)):void 0;(d!==r||o!==p)&&(n=(r=d).copy()).on(u,o=p),f.on=n}}function transition_style$1(e,t,r){var n=(e+="")=="transform"?interpolateTransformCss$1:interpolate$2;return t==null?this.styleTween(e,styleNull$1(e,n)).on("end.style."+e,styleRemove$2(e)):typeof t=="function"?this.styleTween(e,styleFunction$2(e,n,tweenValue$1(this,"style."+e,t))).each(styleMaybeRemove$1(this._id,e)):this.styleTween(e,styleConstant$2(e,n,t),r).on("end.style."+e,null)}function styleInterpolate$1(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function styleTween$1(e,t,r){var n,o;function l(){var u=t.apply(this,arguments);return u!==o&&(n=(o=u)&&styleInterpolate$1(e,u,r)),n}return l._value=t,l}function transition_styleTween$1(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,styleTween$1(e,t,r==null?"":r))}function textConstant$2(e){return function(){this.textContent=e}}function textFunction$2(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function transition_text$1(e){return this.tween("text",typeof e=="function"?textFunction$2(tweenValue$1(this,"text",e)):textConstant$2(e==null?"":e+""))}function textInterpolate$1(e){return function(t){this.textContent=e.call(this,t)}}function textTween$1(e){var t,r;function n(){var o=e.apply(this,arguments);return o!==r&&(t=(r=o)&&textInterpolate$1(o)),t}return n._value=e,n}function transition_textTween$1(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,textTween$1(e))}function transition_transition$1(){for(var e=this._name,t=this._id,r=newId$1(),n=this._groups,o=n.length,l=0;l<o;++l)for(var u=n[l],h=u.length,f,d=0;d<h;++d)if(f=u[d]){var p=get$2(f,t);schedule$1(f,e,r,d,u,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Transition$1(n,this._parents,e,r)}function transition_end$1(){var e,t,r=this,n=r._id,o=r.size();return new Promise(function(l,u){var h={value:u},f={value:function(){--o===0&&l()}};r.each(function(){var d=set$3(this,n),p=d.on;p!==e&&(t=(e=p).copy(),t._.cancel.push(h),t._.interrupt.push(h),t._.end.push(f)),d.on=t}),o===0&&l()})}var id$2=0;function Transition$1(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function newId$1(){return++id$2}var selection_prototype$1=selection$1.prototype;Transition$1.prototype={constructor:Transition$1,select:transition_select$1,selectAll:transition_selectAll$1,selectChild:selection_prototype$1.selectChild,selectChildren:selection_prototype$1.selectChildren,filter:transition_filter$1,merge:transition_merge$1,selection:transition_selection$1,transition:transition_transition$1,call:selection_prototype$1.call,nodes:selection_prototype$1.nodes,node:selection_prototype$1.node,size:selection_prototype$1.size,empty:selection_prototype$1.empty,each:selection_prototype$1.each,on:transition_on$1,attr:transition_attr$1,attrTween:transition_attrTween$1,style:transition_style$1,styleTween:transition_styleTween$1,text:transition_text$1,textTween:transition_textTween$1,remove:transition_remove$1,tween:transition_tween$1,delay:transition_delay$1,duration:transition_duration$1,ease:transition_ease$1,easeVarying:transition_easeVarying,end:transition_end$1,[Symbol.iterator]:selection_prototype$1[Symbol.iterator]};var defaultTiming$1={time:null,delay:0,duration:250,ease:cubicInOut$1};function inherit$1(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function selection_transition$1(e){var t,r;e instanceof Transition$1?(t=e._id,e=e._name):(t=newId$1(),(r=defaultTiming$1).time=now$1(),e=e==null?null:e+"");for(var n=this._groups,o=n.length,l=0;l<o;++l)for(var u=n[l],h=u.length,f,d=0;d<h;++d)(f=u[d])&&schedule$1(f,e,t,d,u,r||inherit$1(f,t));return new Transition$1(n,this._parents,e,t)}selection$1.prototype.interrupt=selection_interrupt$1;selection$1.prototype.transition=selection_transition$1;function Transform$1(e,t,r){this.k=e,this.x=t,this.y=r}Transform$1.prototype={constructor:Transform$1,scale:function(e){return e===1?this:new Transform$1(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Transform$1(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Transform$1(1,0,0);Transform$1.prototype;/*! @license DOMPurify 2.4.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.0/LICENSE */function _typeof(e){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(e)}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},_setPrototypeOf(e,t)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _construct(e,t,r){return _isNativeReflectConstruct()?_construct=Reflect.construct:_construct=function(o,l,u){var h=[null];h.push.apply(h,l);var f=Function.bind.apply(o,h),d=new f;return u&&_setPrototypeOf(d,u.prototype),d},_construct.apply(null,arguments)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _iterableToArray(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _unsupportedIterableToArray(e,t){if(!!e){if(typeof e=="string")return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(e,t)}}function _arrayLikeToArray(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var hasOwnProperty$2=Object.hasOwnProperty,setPrototypeOf=Object.setPrototypeOf,isFrozen=Object.isFrozen,getPrototypeOf=Object.getPrototypeOf,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,freeze=Object.freeze,seal=Object.seal,create$2=Object.create,_ref=typeof Reflect<"u"&&Reflect,apply$1=_ref.apply,construct=_ref.construct;apply$1||(apply$1=function(t,r,n){return t.apply(r,n)});freeze||(freeze=function(t){return t});seal||(seal=function(t){return t});construct||(construct=function(t,r){return _construct(t,_toConsumableArray(r))});var arrayForEach=unapply(Array.prototype.forEach),arrayPop=unapply(Array.prototype.pop),arrayPush=unapply(Array.prototype.push),stringToLowerCase=unapply(String.prototype.toLowerCase),stringMatch=unapply(String.prototype.match),stringReplace=unapply(String.prototype.replace),stringIndexOf=unapply(String.prototype.indexOf),stringTrim=unapply(String.prototype.trim),regExpTest=unapply(RegExp.prototype.test),typeErrorCreate=unconstruct(TypeError);function unapply(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return apply$1(e,t,n)}}function unconstruct(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return construct(e,r)}}function addToSet(e,t,r){r=r||stringToLowerCase,setPrototypeOf&&setPrototypeOf(e,null);for(var n=t.length;n--;){var o=t[n];if(typeof o=="string"){var l=r(o);l!==o&&(isFrozen(t)||(t[n]=l),o=l)}e[o]=!0}return e}function clone$1(e){var t=create$2(null),r;for(r in e)apply$1(hasOwnProperty$2,e,[r])&&(t[r]=e[r]);return t}function lookupGetter(e,t){for(;e!==null;){var r=getOwnPropertyDescriptor(e,t);if(r){if(r.get)return unapply(r.get);if(typeof r.value=="function")return unapply(r.value)}e=getPrototypeOf(e)}function n(o){return console.warn("fallback value for",o),null}return n}var html$1=freeze(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg$1=freeze(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),svgFilters=freeze(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),svgDisallowed=freeze(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mathMl$1=freeze(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),mathMlDisallowed=freeze(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),text$1=freeze(["#text"]),html$2=freeze(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),svg$2=freeze(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mathMl=freeze(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xml$1=freeze(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MUSTACHE_EXPR=seal(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ERB_EXPR=seal(/<%[\w\W]*|[\w\W]*%>/gm),DATA_ATTR=seal(/^data-[\-\w.\u00B7-\uFFFF]/),ARIA_ATTR=seal(/^aria-[\-\w]+$/),IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IS_SCRIPT_OR_DATA=seal(/^(?:\w+script|data):/i),ATTR_WHITESPACE=seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),DOCTYPE_NAME=seal(/^html$/i),getGlobal=function e(){return typeof window>"u"?null:window},_createTrustedTypesPolicy=function e(t,r){if(_typeof(t)!=="object"||typeof t.createPolicy!="function")return null;var n=null,o="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(o)&&(n=r.currentScript.getAttribute(o));var l="dompurify"+(n?"#"+n:"");try{return t.createPolicy(l,{createHTML:function(h){return h},createScriptURL:function(h){return h}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}};function createDOMPurify(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:getGlobal(),t=function(ye){return createDOMPurify(ye)};if(t.version="2.4.0",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;var r=e.document,n=e.document,o=e.DocumentFragment,l=e.HTMLTemplateElement,u=e.Node,h=e.Element,f=e.NodeFilter,d=e.NamedNodeMap,p=d===void 0?e.NamedNodeMap||e.MozNamedAttrMap:d,m=e.HTMLFormElement,g=e.DOMParser,b=e.trustedTypes,v=h.prototype,T=lookupGetter(v,"cloneNode"),R=lookupGetter(v,"nextSibling"),I=lookupGetter(v,"childNodes"),N=lookupGetter(v,"parentNode");if(typeof l=="function"){var q=n.createElement("template");q.content&&q.content.ownerDocument&&(n=q.content.ownerDocument)}var F=_createTrustedTypesPolicy(b,r),H=F?F.createHTML(""):"",V=n,z=V.implementation,G=V.createNodeIterator,P=V.createDocumentFragment,W=V.getElementsByTagName,S=r.importNode,U={};try{U=clone$1(n).documentMode?n.documentMode:{}}catch{}var L={};t.isSupported=typeof N=="function"&&z&&typeof z.createHTMLDocument<"u"&&U!==9;var ae=MUSTACHE_EXPR,Q=ERB_EXPR,ue=DATA_ATTR,_e=ARIA_ATTR,ke=IS_SCRIPT_OR_DATA,de=ATTR_WHITESPACE,ce=IS_ALLOWED_URI,he=null,Se=addToSet({},[].concat(_toConsumableArray(html$1),_toConsumableArray(svg$1),_toConsumableArray(svgFilters),_toConsumableArray(mathMl$1),_toConsumableArray(text$1))),ve=null,me=addToSet({},[].concat(_toConsumableArray(html$2),_toConsumableArray(svg$2),_toConsumableArray(mathMl),_toConsumableArray(xml$1))),Ce=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),xe=null,Ne=null,pe=!0,J=!0,oe=!1,ee=!1,Z=!1,ie=!1,se=!1,te=!1,fe=!1,we=!1,Ye=!0,He=!1,je="user-content-",Pe=!0,Ee=!1,Ie={},Le=null,Be=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Te=null,dt=addToSet({},["audio","video","img","source","image","track"]),Ge=null,rt=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),it="http://www.w3.org/1998/Math/MathML",st="http://www.w3.org/2000/svg",wt="http://www.w3.org/1999/xhtml",nt=wt,Ke=!1,Je,Oe=["application/xhtml+xml","text/html"],Me="text/html",Fe,qe=null,et=n.createElement("form"),Ae=function(ye){return ye instanceof RegExp||ye instanceof Function},_t=function(ye){qe&&qe===ye||((!ye||_typeof(ye)!=="object")&&(ye={}),ye=clone$1(ye),Je=Oe.indexOf(ye.PARSER_MEDIA_TYPE)===-1?Je=Me:Je=ye.PARSER_MEDIA_TYPE,Fe=Je==="application/xhtml+xml"?function(Ue){return Ue}:stringToLowerCase,he="ALLOWED_TAGS"in ye?addToSet({},ye.ALLOWED_TAGS,Fe):Se,ve="ALLOWED_ATTR"in ye?addToSet({},ye.ALLOWED_ATTR,Fe):me,Ge="ADD_URI_SAFE_ATTR"in ye?addToSet(clone$1(rt),ye.ADD_URI_SAFE_ATTR,Fe):rt,Te="ADD_DATA_URI_TAGS"in ye?addToSet(clone$1(dt),ye.ADD_DATA_URI_TAGS,Fe):dt,Le="FORBID_CONTENTS"in ye?addToSet({},ye.FORBID_CONTENTS,Fe):Be,xe="FORBID_TAGS"in ye?addToSet({},ye.FORBID_TAGS,Fe):{},Ne="FORBID_ATTR"in ye?addToSet({},ye.FORBID_ATTR,Fe):{},Ie="USE_PROFILES"in ye?ye.USE_PROFILES:!1,pe=ye.ALLOW_ARIA_ATTR!==!1,J=ye.ALLOW_DATA_ATTR!==!1,oe=ye.ALLOW_UNKNOWN_PROTOCOLS||!1,ee=ye.SAFE_FOR_TEMPLATES||!1,Z=ye.WHOLE_DOCUMENT||!1,te=ye.RETURN_DOM||!1,fe=ye.RETURN_DOM_FRAGMENT||!1,we=ye.RETURN_TRUSTED_TYPE||!1,se=ye.FORCE_BODY||!1,Ye=ye.SANITIZE_DOM!==!1,He=ye.SANITIZE_NAMED_PROPS||!1,Pe=ye.KEEP_CONTENT!==!1,Ee=ye.IN_PLACE||!1,ce=ye.ALLOWED_URI_REGEXP||ce,nt=ye.NAMESPACE||wt,ye.CUSTOM_ELEMENT_HANDLING&&Ae(ye.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ce.tagNameCheck=ye.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ye.CUSTOM_ELEMENT_HANDLING&&Ae(ye.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ce.attributeNameCheck=ye.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ye.CUSTOM_ELEMENT_HANDLING&&typeof ye.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ce.allowCustomizedBuiltInElements=ye.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ee&&(J=!1),fe&&(te=!0),Ie&&(he=addToSet({},_toConsumableArray(text$1)),ve=[],Ie.html===!0&&(addToSet(he,html$1),addToSet(ve,html$2)),Ie.svg===!0&&(addToSet(he,svg$1),addToSet(ve,svg$2),addToSet(ve,xml$1)),Ie.svgFilters===!0&&(addToSet(he,svgFilters),addToSet(ve,svg$2),addToSet(ve,xml$1)),Ie.mathMl===!0&&(addToSet(he,mathMl$1),addToSet(ve,mathMl),addToSet(ve,xml$1))),ye.ADD_TAGS&&(he===Se&&(he=clone$1(he)),addToSet(he,ye.ADD_TAGS,Fe)),ye.ADD_ATTR&&(ve===me&&(ve=clone$1(ve)),addToSet(ve,ye.ADD_ATTR,Fe)),ye.ADD_URI_SAFE_ATTR&&addToSet(Ge,ye.ADD_URI_SAFE_ATTR,Fe),ye.FORBID_CONTENTS&&(Le===Be&&(Le=clone$1(Le)),addToSet(Le,ye.FORBID_CONTENTS,Fe)),Pe&&(he["#text"]=!0),Z&&addToSet(he,["html","head","body"]),he.table&&(addToSet(he,["tbody"]),delete xe.tbody),freeze&&freeze(ye),qe=ye)},Re=addToSet({},["mi","mo","mn","ms","mtext"]),lt=addToSet({},["foreignobject","desc","title","annotation-xml"]),xt=addToSet({},["title","style","font","a","script"]),bt=addToSet({},svg$1);addToSet(bt,svgFilters),addToSet(bt,svgDisallowed);var $t=addToSet({},mathMl$1);addToSet($t,mathMlDisallowed);var kt=function(ye){var Ue=N(ye);(!Ue||!Ue.tagName)&&(Ue={namespaceURI:wt,tagName:"template"});var Ve=stringToLowerCase(ye.tagName),ot=stringToLowerCase(Ue.tagName);return ye.namespaceURI===st?Ue.namespaceURI===wt?Ve==="svg":Ue.namespaceURI===it?Ve==="svg"&&(ot==="annotation-xml"||Re[ot]):Boolean(bt[Ve]):ye.namespaceURI===it?Ue.namespaceURI===wt?Ve==="math":Ue.namespaceURI===st?Ve==="math"&&lt[ot]:Boolean($t[Ve]):ye.namespaceURI===wt?Ue.namespaceURI===st&&!lt[ot]||Ue.namespaceURI===it&&!Re[ot]?!1:!$t[Ve]&&(xt[Ve]||!bt[Ve]):!1},tt=function(ye){arrayPush(t.removed,{element:ye});try{ye.parentNode.removeChild(ye)}catch{try{ye.outerHTML=H}catch{ye.remove()}}},ht=function(ye,Ue){try{arrayPush(t.removed,{attribute:Ue.getAttributeNode(ye),from:Ue})}catch{arrayPush(t.removed,{attribute:null,from:Ue})}if(Ue.removeAttribute(ye),ye==="is"&&!ve[ye])if(te||fe)try{tt(Ue)}catch{}else try{Ue.setAttribute(ye,"")}catch{}},vt=function(ye){var Ue,Ve;if(se)ye="<remove></remove>"+ye;else{var ot=stringMatch(ye,/^[\r\n\t ]+/);Ve=ot&&ot[0]}Je==="application/xhtml+xml"&&(ye='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ye+"</body></html>");var Mt=F?F.createHTML(ye):ye;if(nt===wt)try{Ue=new g().parseFromString(Mt,Je)}catch{}if(!Ue||!Ue.documentElement){Ue=z.createDocument(nt,"template",null);try{Ue.documentElement.innerHTML=Ke?"":Mt}catch{}}var At=Ue.body||Ue.documentElement;return ye&&Ve&&At.insertBefore(n.createTextNode(Ve),At.childNodes[0]||null),nt===wt?W.call(Ue,Z?"html":"body")[0]:Z?Ue.documentElement:At},gt=function(ye){return G.call(ye.ownerDocument||ye,ye,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT,null,!1)},tr=function(ye){return ye instanceof m&&(typeof ye.nodeName!="string"||typeof ye.textContent!="string"||typeof ye.removeChild!="function"||!(ye.attributes instanceof p)||typeof ye.removeAttribute!="function"||typeof ye.setAttribute!="function"||typeof ye.namespaceURI!="string"||typeof ye.insertBefore!="function")},Ht=function(ye){return _typeof(u)==="object"?ye instanceof u:ye&&_typeof(ye)==="object"&&typeof ye.nodeType=="number"&&typeof ye.nodeName=="string"},St=function(ye,Ue,Ve){!L[ye]||arrayForEach(L[ye],function(ot){ot.call(t,Ue,Ve,qe)})},ft=function(ye){var Ue;if(St("beforeSanitizeElements",ye,null),tr(ye)||regExpTest(/[\u0080-\uFFFF]/,ye.nodeName))return tt(ye),!0;var Ve=Fe(ye.nodeName);if(St("uponSanitizeElement",ye,{tagName:Ve,allowedTags:he}),ye.hasChildNodes()&&!Ht(ye.firstElementChild)&&(!Ht(ye.content)||!Ht(ye.content.firstElementChild))&&regExpTest(/<[/\w]/g,ye.innerHTML)&&regExpTest(/<[/\w]/g,ye.textContent)||Ve==="select"&&regExpTest(/<template/i,ye.innerHTML))return tt(ye),!0;if(!he[Ve]||xe[Ve]){if(!xe[Ve]&&Pt(Ve)&&(Ce.tagNameCheck instanceof RegExp&&regExpTest(Ce.tagNameCheck,Ve)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(Ve)))return!1;if(Pe&&!Le[Ve]){var ot=N(ye)||ye.parentNode,Mt=I(ye)||ye.childNodes;if(Mt&&ot)for(var At=Mt.length,Rt=At-1;Rt>=0;--Rt)ot.insertBefore(T(Mt[Rt],!0),R(ye))}return tt(ye),!0}return ye instanceof h&&!kt(ye)||(Ve==="noscript"||Ve==="noembed")&&regExpTest(/<\/no(script|embed)/i,ye.innerHTML)?(tt(ye),!0):(ee&&ye.nodeType===3&&(Ue=ye.textContent,Ue=stringReplace(Ue,ae," "),Ue=stringReplace(Ue,Q," "),ye.textContent!==Ue&&(arrayPush(t.removed,{element:ye.cloneNode()}),ye.textContent=Ue)),St("afterSanitizeElements",ye,null),!1)},Nt=function(ye,Ue,Ve){if(Ye&&(Ue==="id"||Ue==="name")&&(Ve in n||Ve in et))return!1;if(!(J&&!Ne[Ue]&&regExpTest(ue,Ue))){if(!(pe&&regExpTest(_e,Ue))){if(!ve[Ue]||Ne[Ue]){if(!(Pt(ye)&&(Ce.tagNameCheck instanceof RegExp&&regExpTest(Ce.tagNameCheck,ye)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(ye))&&(Ce.attributeNameCheck instanceof RegExp&&regExpTest(Ce.attributeNameCheck,Ue)||Ce.attributeNameCheck instanceof Function&&Ce.attributeNameCheck(Ue))||Ue==="is"&&Ce.allowCustomizedBuiltInElements&&(Ce.tagNameCheck instanceof RegExp&&regExpTest(Ce.tagNameCheck,Ve)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(Ve))))return!1}else if(!Ge[Ue]){if(!regExpTest(ce,stringReplace(Ve,de,""))){if(!((Ue==="src"||Ue==="xlink:href"||Ue==="href")&&ye!=="script"&&stringIndexOf(Ve,"data:")===0&&Te[ye])){if(!(oe&&!regExpTest(ke,stringReplace(Ve,de,"")))){if(Ve)return!1}}}}}}return!0},Pt=function(ye){return ye.indexOf("-")>0},Lt=function(ye){var Ue,Ve,ot,Mt;St("beforeSanitizeAttributes",ye,null);var At=ye.attributes;if(!!At){var Rt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ve};for(Mt=At.length;Mt--;){Ue=At[Mt];var Ut=Ue,It=Ut.name,rr=Ut.namespaceURI;if(Ve=It==="value"?Ue.value:stringTrim(Ue.value),ot=Fe(It),Rt.attrName=ot,Rt.attrValue=Ve,Rt.keepAttr=!0,Rt.forceKeepAttr=void 0,St("uponSanitizeAttribute",ye,Rt),Ve=Rt.attrValue,!Rt.forceKeepAttr&&(ht(It,ye),!!Rt.keepAttr)){if(regExpTest(/\/>/i,Ve)){ht(It,ye);continue}ee&&(Ve=stringReplace(Ve,ae," "),Ve=stringReplace(Ve,Q," "));var Tt=Fe(ye.nodeName);if(!!Nt(Tt,ot,Ve)){if(He&&(ot==="id"||ot==="name")&&(ht(It,ye),Ve=je+Ve),F&&_typeof(b)==="object"&&typeof b.getAttributeType=="function"&&!rr)switch(b.getAttributeType(Tt,ot)){case"TrustedHTML":Ve=F.createHTML(Ve);break;case"TrustedScriptURL":Ve=F.createScriptURL(Ve);break}try{rr?ye.setAttributeNS(rr,It,Ve):ye.setAttribute(It,Ve),arrayPop(t.removed)}catch{}}}}St("afterSanitizeAttributes",ye,null)}},qt=function Xe(ye){var Ue,Ve=gt(ye);for(St("beforeSanitizeShadowDOM",ye,null);Ue=Ve.nextNode();)St("uponSanitizeShadowNode",Ue,null),!ft(Ue)&&(Ue.content instanceof o&&Xe(Ue.content),Lt(Ue));St("afterSanitizeShadowDOM",ye,null)};return t.sanitize=function(Xe){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ue,Ve,ot,Mt,At;if(Ke=!Xe,Ke&&(Xe="<!-->"),typeof Xe!="string"&&!Ht(Xe)){if(typeof Xe.toString!="function")throw typeErrorCreate("toString is not a function");if(Xe=Xe.toString(),typeof Xe!="string")throw typeErrorCreate("dirty is not a string, aborting")}if(!t.isSupported){if(_typeof(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof Xe=="string")return e.toStaticHTML(Xe);if(Ht(Xe))return e.toStaticHTML(Xe.outerHTML)}return Xe}if(ie||_t(ye),t.removed=[],typeof Xe=="string"&&(Ee=!1),Ee){if(Xe.nodeName){var Rt=Fe(Xe.nodeName);if(!he[Rt]||xe[Rt])throw typeErrorCreate("root node is forbidden and cannot be sanitized in-place")}}else if(Xe instanceof u)Ue=vt("<!---->"),Ve=Ue.ownerDocument.importNode(Xe,!0),Ve.nodeType===1&&Ve.nodeName==="BODY"||Ve.nodeName==="HTML"?Ue=Ve:Ue.appendChild(Ve);else{if(!te&&!ee&&!Z&&Xe.indexOf("<")===-1)return F&&we?F.createHTML(Xe):Xe;if(Ue=vt(Xe),!Ue)return te?null:we?H:""}Ue&&se&&tt(Ue.firstChild);for(var Ut=gt(Ee?Xe:Ue);ot=Ut.nextNode();)ot.nodeType===3&&ot===Mt||ft(ot)||(ot.content instanceof o&&qt(ot.content),Lt(ot),Mt=ot);if(Mt=null,Ee)return Xe;if(te){if(fe)for(At=P.call(Ue.ownerDocument);Ue.firstChild;)At.appendChild(Ue.firstChild);else At=Ue;return ve.shadowroot&&(At=S.call(r,At,!0)),At}var It=Z?Ue.outerHTML:Ue.innerHTML;return Z&&he["!doctype"]&&Ue.ownerDocument&&Ue.ownerDocument.doctype&&Ue.ownerDocument.doctype.name&&regExpTest(DOCTYPE_NAME,Ue.ownerDocument.doctype.name)&&(It="<!DOCTYPE "+Ue.ownerDocument.doctype.name+`>
`+It),ee&&(It=stringReplace(It,ae," "),It=stringReplace(It,Q," ")),F&&we?F.createHTML(It):It},t.setConfig=function(Xe){_t(Xe),ie=!0},t.clearConfig=function(){qe=null,ie=!1},t.isValidAttribute=function(Xe,ye,Ue){qe||_t({});var Ve=Fe(Xe),ot=Fe(ye);return Nt(Ve,ot,Ue)},t.addHook=function(Xe,ye){typeof ye=="function"&&(L[Xe]=L[Xe]||[],arrayPush(L[Xe],ye))},t.removeHook=function(Xe){if(L[Xe])return arrayPop(L[Xe])},t.removeHooks=function(Xe){L[Xe]&&(L[Xe]=[])},t.removeAllHooks=function(){L={}},t}var purify=createDOMPurify();const Channel={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e),hsl2rgb:({h:e,s:t,l:r},n)=>{if(!t)return r*2.55;e/=360,t/=100,r/=100;const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;switch(n){case"r":return Channel.hue2rgb(l,o,e+1/3)*255;case"g":return Channel.hue2rgb(l,o,e)*255;case"b":return Channel.hue2rgb(l,o,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:r},n)=>{e/=255,t/=255,r/=255;const o=Math.max(e,t,r),l=Math.min(e,t,r),u=(o+l)/2;if(n==="l")return u*100;if(o===l)return 0;const h=o-l,f=u>.5?h/(2-o-l):h/(o+l);if(n==="s")return f*100;switch(o){case e:return((t-r)/h+(t<r?6:0))*60;case t:return((r-e)/h+2)*60;case r:return((e-t)/h+4)*60;default:return-1}}},channel=Channel,Lang={clamp:(e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},lang=Lang,Unit={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},unit$1=Unit,Utils={channel,lang,unit:unit$1},_$D=Utils,DEC2HEX={};for(let e=0;e<=255;e++)DEC2HEX[e]=_$D.unit.dec2hex(e);const TYPE={ALL:0,RGB:1,HSL:2};class Type{constructor(){this.type=TYPE.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=TYPE.ALL}is(t){return this.type===t}}const Type$1=Type;class Channels{constructor(t,r){this.color=r,this.changed=!1,this.data=t,this.type=new Type$1}set(t,r){return this.color=r,this.changed=!1,this.data=t,this.type.type=TYPE.ALL,this}_ensureHSL(){const t=this.data,{h:r,s:n,l:o}=t;r===void 0&&(t.h=_$D.channel.rgb2hsl(t,"h")),n===void 0&&(t.s=_$D.channel.rgb2hsl(t,"s")),o===void 0&&(t.l=_$D.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r,g:n,b:o}=t;r===void 0&&(t.r=_$D.channel.hsl2rgb(t,"r")),n===void 0&&(t.g=_$D.channel.hsl2rgb(t,"g")),o===void 0&&(t.b=_$D.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,r=t.r;return!this.type.is(TYPE.HSL)&&r!==void 0?r:(this._ensureHSL(),_$D.channel.hsl2rgb(t,"r"))}get g(){const t=this.data,r=t.g;return!this.type.is(TYPE.HSL)&&r!==void 0?r:(this._ensureHSL(),_$D.channel.hsl2rgb(t,"g"))}get b(){const t=this.data,r=t.b;return!this.type.is(TYPE.HSL)&&r!==void 0?r:(this._ensureHSL(),_$D.channel.hsl2rgb(t,"b"))}get h(){const t=this.data,r=t.h;return!this.type.is(TYPE.RGB)&&r!==void 0?r:(this._ensureRGB(),_$D.channel.rgb2hsl(t,"h"))}get s(){const t=this.data,r=t.s;return!this.type.is(TYPE.RGB)&&r!==void 0?r:(this._ensureRGB(),_$D.channel.rgb2hsl(t,"s"))}get l(){const t=this.data,r=t.l;return!this.type.is(TYPE.RGB)&&r!==void 0?r:(this._ensureRGB(),_$D.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(TYPE.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(TYPE.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(TYPE.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(TYPE.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(TYPE.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(TYPE.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}const Channels$1=Channels,channels=new Channels$1({r:0,g:0,b:0,a:0},"transparent"),ChannelsReusable=channels,Hex={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(Hex.re);if(!t)return;const r=t[1],n=parseInt(r,16),o=r.length,l=o%4===0,u=o>4,h=u?1:17,f=u?8:4,d=l?0:-1,p=u?255:15;return ChannelsReusable.set({r:(n>>f*(d+3)&p)*h,g:(n>>f*(d+2)&p)*h,b:(n>>f*(d+1)&p)*h,a:l?(n&p)*h/255:1},e)},stringify:e=>{const{r:t,g:r,b:n,a:o}=e;return o<1?`#${DEC2HEX[Math.round(t)]}${DEC2HEX[Math.round(r)]}${DEC2HEX[Math.round(n)]}${DEC2HEX[Math.round(o*255)]}`:`#${DEC2HEX[Math.round(t)]}${DEC2HEX[Math.round(r)]}${DEC2HEX[Math.round(n)]}`}},Hex$1=Hex,HSL={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(HSL.hueRe);if(t){const[,r,n]=t;switch(n){case"grad":return _$D.channel.clamp.h(parseFloat(r)*.9);case"rad":return _$D.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return _$D.channel.clamp.h(parseFloat(r)*360)}}return _$D.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const r=e.match(HSL.re);if(!r)return;const[,n,o,l,u,h]=r;return ChannelsReusable.set({h:HSL._hue2deg(n),s:_$D.channel.clamp.s(parseFloat(o)),l:_$D.channel.clamp.l(parseFloat(l)),a:u?_$D.channel.clamp.a(h?parseFloat(u)/100:parseFloat(u)):1},e)},stringify:e=>{const{h:t,s:r,l:n,a:o}=e;return o<1?`hsla(${_$D.lang.round(t)}, ${_$D.lang.round(r)}%, ${_$D.lang.round(n)}%, ${o})`:`hsl(${_$D.lang.round(t)}, ${_$D.lang.round(r)}%, ${_$D.lang.round(n)}%)`}},HSL$1=HSL,Keyword={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=Keyword.colors[e];if(!!t)return Hex$1.parse(t)},stringify:e=>{const t=Hex$1.stringify(e);for(const r in Keyword.colors)if(Keyword.colors[r]===t)return r}},Keyword$1=Keyword,RGB={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const r=e.match(RGB.re);if(!r)return;const[,n,o,l,u,h,f,d,p]=r;return ChannelsReusable.set({r:_$D.channel.clamp.r(o?parseFloat(n)*2.55:parseFloat(n)),g:_$D.channel.clamp.g(u?parseFloat(l)*2.55:parseFloat(l)),b:_$D.channel.clamp.b(f?parseFloat(h)*2.55:parseFloat(h)),a:d?_$D.channel.clamp.a(p?parseFloat(d)/100:parseFloat(d)):1},e)},stringify:e=>{const{r:t,g:r,b:n,a:o}=e;return o<1?`rgba(${_$D.lang.round(t)}, ${_$D.lang.round(r)}, ${_$D.lang.round(n)}, ${_$D.lang.round(o)})`:`rgb(${_$D.lang.round(t)}, ${_$D.lang.round(r)}, ${_$D.lang.round(n)})`}},RGB$1=RGB,Color$1={format:{keyword:Keyword$1,hex:Hex$1,rgb:RGB$1,rgba:RGB$1,hsl:HSL$1,hsla:HSL$1},parse:e=>{if(typeof e!="string")return e;const t=Hex$1.parse(e)||RGB$1.parse(e)||HSL$1.parse(e)||Keyword$1.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(TYPE.HSL)||e.data.r===void 0?HSL$1.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?RGB$1.stringify(e):Hex$1.stringify(e)},Color$2=Color$1,change=(e,t)=>{const r=Color$2.parse(e);for(const n in t)r[n]=_$D.channel.clamp[n](t[n]);return Color$2.stringify(r)},change$1=change,rgba$1=(e,t,r=0,n=1)=>{if(typeof e!="number")return change$1(e,{a:t});const o=ChannelsReusable.set({r:_$D.channel.clamp.r(e),g:_$D.channel.clamp.g(t),b:_$D.channel.clamp.b(r),a:_$D.channel.clamp.a(n)});return Color$2.stringify(o)},rgba$2=rgba$1,adjustChannel=(e,t,r)=>{const n=Color$2.parse(e),o=n[t],l=_$D.channel.clamp[t](o+r);return o!==l&&(n[t]=l),Color$2.stringify(n)},adjustChannel$1=adjustChannel,lighten=(e,t)=>adjustChannel$1(e,"l",t),lighten$1=lighten,darken=(e,t)=>adjustChannel$1(e,"l",-t),darken$1=darken,adjust$1=(e,t)=>{const r=Color$2.parse(e),n={};for(const o in t)!t[o]||(n[o]=r[o]+t[o]);return change$1(e,n)},adjust$2=adjust$1,mix=(e,t,r=50)=>{const{r:n,g:o,b:l,a:u}=Color$2.parse(e),{r:h,g:f,b:d,a:p}=Color$2.parse(t),m=r/100,g=m*2-1,b=u-p,T=((g*b===-1?g:(g+b)/(1+g*b))+1)/2,R=1-T,I=n*T+h*R,N=o*T+f*R,q=l*T+d*R,F=u*m+p*(1-m);return rgba$2(I,N,q,F)},mix$1=mix,invert=(e,t=100)=>{const r=Color$2.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,mix$1(r,e,t)},invert$1=invert;var COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",abs$2=Math.abs,from=String.fromCharCode;function trim(e){return e.trim()}function replace(e,t,r){return e.replace(t,r)}function indexof(e,t){return e.indexOf(t)}function charat(e,t){return e.charCodeAt(t)|0}function substr(e,t,r){return e.slice(t,r)}function strlen(e){return e.length}function sizeof(e){return e.length}function append(e,t){return t.push(e),e}var line$1=1,column=1,length$3=0,position$2=0,character=0,characters="";function node(e,t,r,n,o,l,u){return{value:e,root:t,parent:r,type:n,props:o,children:l,line:line$1,column,length:u,return:""}}function char(){return character}function prev(){return character=position$2>0?charat(characters,--position$2):0,column--,character===10&&(column=1,line$1--),character}function next(){return character=position$2<length$3?charat(characters,position$2++):0,column++,character===10&&(column=1,line$1++),character}function peek(){return charat(characters,position$2)}function caret(){return position$2}function slice$7(e,t){return substr(characters,e,t)}function token(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(e){return line$1=column=1,length$3=strlen(characters=e),position$2=0,[]}function dealloc(e){return characters="",e}function delimit(e){return trim(slice$7(position$2-1,delimiter(e===91?e+2:e===40?e+1:e)))}function whitespace(e){for(;(character=peek())&&character<33;)next();return token(e)>2||token(character)>3?"":" "}function escaping(e,t){for(;--t&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice$7(e,caret()+(t<6&&peek()==32&&next()==32))}function delimiter(e){for(;next();)switch(character){case e:return position$2;case 34:case 39:e!==34&&e!==39&&delimiter(character);break;case 40:e===41&&delimiter(e);break;case 92:next();break}return position$2}function commenter(e,t){for(;next()&&e+character!==47+10;)if(e+character===42+42&&peek()===47)break;return"/*"+slice$7(t,position$2-1)+"*"+from(e===47?e:next())}function identifier(e){for(;!token(peek());)next();return slice$7(e,position$2)}function compile(e){return dealloc(parse$3("",null,null,null,[""],e=alloc(e),0,[0],e))}function parse$3(e,t,r,n,o,l,u,h,f){for(var d=0,p=0,m=u,g=0,b=0,v=0,T=1,R=1,I=1,N=0,q="",F=o,H=l,V=n,z=q;R;)switch(v=N,N=next()){case 40:if(v!=108&&charat(z,m-1)==58){indexof(z+=replace(delimit(N),"&","&\f"),"&\f")!=-1&&(I=-1);break}case 34:case 39:case 91:z+=delimit(N);break;case 9:case 10:case 13:case 32:z+=whitespace(v);break;case 92:z+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),t,r),f);break;default:z+="/"}break;case 123*T:h[d++]=strlen(z)*I;case 125*T:case 59:case 0:switch(N){case 0:case 125:R=0;case 59+p:b>0&&strlen(z)-m&&append(b>32?declaration(z+";",n,r,m-1):declaration(replace(z," ","")+";",n,r,m-2),f);break;case 59:z+=";";default:if(append(V=ruleset(z,t,r,d,p,o,h,q,F=[],H=[],m),l),N===123)if(p===0)parse$3(z,t,V,V,F,l,m,h,H);else switch(g){case 100:case 109:case 115:parse$3(e,V,V,n&&append(ruleset(e,V,V,0,0,o,h,q,o,F=[],m),H),o,H,m,h,n?F:H);break;default:parse$3(z,V,V,V,[""],H,0,h,H)}}d=p=b=0,T=I=1,q=z="",m=u;break;case 58:m=1+strlen(z),b=v;default:if(T<1){if(N==123)--T;else if(N==125&&T++==0&&prev()==125)continue}switch(z+=from(N),N*T){case 38:I=p>0?1:(z+="\f",-1);break;case 44:h[d++]=(strlen(z)-1)*I,I=1;break;case 64:peek()===45&&(z+=delimit(next())),g=peek(),p=m=strlen(q=z+=identifier(caret())),N++;break;case 45:v===45&&strlen(z)==2&&(T=0)}}return l}function ruleset(e,t,r,n,o,l,u,h,f,d,p){for(var m=o-1,g=o===0?l:[""],b=sizeof(g),v=0,T=0,R=0;v<n;++v)for(var I=0,N=substr(e,m+1,m=abs$2(T=u[v])),q=e;I<b;++I)(q=trim(T>0?g[I]+" "+N:replace(N,/&\f/g,g[I])))&&(f[R++]=q);return node(e,t,r,o===0?RULESET:h,f,d,p)}function comment(e,t,r){return node(e,t,r,COMMENT,from(char()),substr(e,2,-2),0)}function declaration(e,t,r,n){return node(e,t,r,DECLARATION,substr(e,0,n),substr(e,n+1,-1),n)}function serialize(e,t){for(var r="",n=sizeof(e),o=0;o<n;o++)r+=t(e[o],o,e,t)||"";return r}function stringify(e,t,r,n){switch(e.type){case IMPORT:case DECLARATION:return e.return=e.return||e.value;case COMMENT:return"";case KEYFRAMES:return e.return=e.value+"{"+serialize(e.children,n)+"}";case RULESET:e.value=e.props.join(",")}return strlen(r=serialize(e.children,n))?e.return=e.value+"{"+r+"}":""}var _listCacheClear$1,hasRequired_listCacheClear;function require_listCacheClear(){if(hasRequired_listCacheClear)return _listCacheClear$1;hasRequired_listCacheClear=1;function e(){this.__data__=[],this.size=0}return _listCacheClear$1=e,_listCacheClear$1}var eq_1$1,hasRequiredEq$1;function requireEq$1(){if(hasRequiredEq$1)return eq_1$1;hasRequiredEq$1=1;function e(t,r){return t===r||t!==t&&r!==r}return eq_1$1=e,eq_1$1}var _assocIndexOf$1,hasRequired_assocIndexOf;function require_assocIndexOf(){if(hasRequired_assocIndexOf)return _assocIndexOf$1;hasRequired_assocIndexOf=1;var e=requireEq$1();function t(r,n){for(var o=r.length;o--;)if(e(r[o][0],n))return o;return-1}return _assocIndexOf$1=t,_assocIndexOf$1}var _listCacheDelete$1,hasRequired_listCacheDelete;function require_listCacheDelete(){if(hasRequired_listCacheDelete)return _listCacheDelete$1;hasRequired_listCacheDelete=1;var e=require_assocIndexOf(),t=Array.prototype,r=t.splice;function n(o){var l=this.__data__,u=e(l,o);if(u<0)return!1;var h=l.length-1;return u==h?l.pop():r.call(l,u,1),--this.size,!0}return _listCacheDelete$1=n,_listCacheDelete$1}var _listCacheGet$1,hasRequired_listCacheGet;function require_listCacheGet(){if(hasRequired_listCacheGet)return _listCacheGet$1;hasRequired_listCacheGet=1;var e=require_assocIndexOf();function t(r){var n=this.__data__,o=e(n,r);return o<0?void 0:n[o][1]}return _listCacheGet$1=t,_listCacheGet$1}var _listCacheHas$1,hasRequired_listCacheHas;function require_listCacheHas(){if(hasRequired_listCacheHas)return _listCacheHas$1;hasRequired_listCacheHas=1;var e=require_assocIndexOf();function t(r){return e(this.__data__,r)>-1}return _listCacheHas$1=t,_listCacheHas$1}var _listCacheSet$1,hasRequired_listCacheSet;function require_listCacheSet(){if(hasRequired_listCacheSet)return _listCacheSet$1;hasRequired_listCacheSet=1;var e=require_assocIndexOf();function t(r,n){var o=this.__data__,l=e(o,r);return l<0?(++this.size,o.push([r,n])):o[l][1]=n,this}return _listCacheSet$1=t,_listCacheSet$1}var _ListCache$1,hasRequired_ListCache;function require_ListCache(){if(hasRequired_ListCache)return _ListCache$1;hasRequired_ListCache=1;var e=require_listCacheClear(),t=require_listCacheDelete(),r=require_listCacheGet(),n=require_listCacheHas(),o=require_listCacheSet();function l(u){var h=-1,f=u==null?0:u.length;for(this.clear();++h<f;){var d=u[h];this.set(d[0],d[1])}}return l.prototype.clear=e,l.prototype.delete=t,l.prototype.get=r,l.prototype.has=n,l.prototype.set=o,_ListCache$1=l,_ListCache$1}var _stackClear,hasRequired_stackClear;function require_stackClear(){if(hasRequired_stackClear)return _stackClear;hasRequired_stackClear=1;var e=require_ListCache();function t(){this.__data__=new e,this.size=0}return _stackClear=t,_stackClear}var _stackDelete,hasRequired_stackDelete;function require_stackDelete(){if(hasRequired_stackDelete)return _stackDelete;hasRequired_stackDelete=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return _stackDelete=e,_stackDelete}var _stackGet,hasRequired_stackGet;function require_stackGet(){if(hasRequired_stackGet)return _stackGet;hasRequired_stackGet=1;function e(t){return this.__data__.get(t)}return _stackGet=e,_stackGet}var _stackHas,hasRequired_stackHas;function require_stackHas(){if(hasRequired_stackHas)return _stackHas;hasRequired_stackHas=1;function e(t){return this.__data__.has(t)}return _stackHas=e,_stackHas}var _freeGlobal$1,hasRequired_freeGlobal$1;function require_freeGlobal$1(){if(hasRequired_freeGlobal$1)return _freeGlobal$1;hasRequired_freeGlobal$1=1;var e=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1;return _freeGlobal$1=e,_freeGlobal$1}var _root$1,hasRequired_root$1;function require_root$1(){if(hasRequired_root$1)return _root$1;hasRequired_root$1=1;var e=require_freeGlobal$1(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return _root$1=r,_root$1}var _Symbol$1,hasRequired_Symbol$1;function require_Symbol$1(){if(hasRequired_Symbol$1)return _Symbol$1;hasRequired_Symbol$1=1;var e=require_root$1(),t=e.Symbol;return _Symbol$1=t,_Symbol$1}var _getRawTag$1,hasRequired_getRawTag$1;function require_getRawTag$1(){if(hasRequired_getRawTag$1)return _getRawTag$1;hasRequired_getRawTag$1=1;var e=require_Symbol$1(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,o=e?e.toStringTag:void 0;function l(u){var h=r.call(u,o),f=u[o];try{u[o]=void 0;var d=!0}catch{}var p=n.call(u);return d&&(h?u[o]=f:delete u[o]),p}return _getRawTag$1=l,_getRawTag$1}var _objectToString$1,hasRequired_objectToString$1;function require_objectToString$1(){if(hasRequired_objectToString$1)return _objectToString$1;hasRequired_objectToString$1=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return _objectToString$1=r,_objectToString$1}var _baseGetTag$1,hasRequired_baseGetTag$1;function require_baseGetTag$1(){if(hasRequired_baseGetTag$1)return _baseGetTag$1;hasRequired_baseGetTag$1=1;var e=require_Symbol$1(),t=require_getRawTag$1(),r=require_objectToString$1(),n="[object Null]",o="[object Undefined]",l=e?e.toStringTag:void 0;function u(h){return h==null?h===void 0?o:n:l&&l in Object(h)?t(h):r(h)}return _baseGetTag$1=u,_baseGetTag$1}var isObject_1$1,hasRequiredIsObject$1;function requireIsObject$1(){if(hasRequiredIsObject$1)return isObject_1$1;hasRequiredIsObject$1=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return isObject_1$1=e,isObject_1$1}var isFunction_1$1,hasRequiredIsFunction$1;function requireIsFunction$1(){if(hasRequiredIsFunction$1)return isFunction_1$1;hasRequiredIsFunction$1=1;var e=require_baseGetTag$1(),t=requireIsObject$1(),r="[object AsyncFunction]",n="[object Function]",o="[object GeneratorFunction]",l="[object Proxy]";function u(h){if(!t(h))return!1;var f=e(h);return f==n||f==o||f==r||f==l}return isFunction_1$1=u,isFunction_1$1}var _coreJsData$1,hasRequired_coreJsData$1;function require_coreJsData$1(){if(hasRequired_coreJsData$1)return _coreJsData$1;hasRequired_coreJsData$1=1;var e=require_root$1(),t=e["__core-js_shared__"];return _coreJsData$1=t,_coreJsData$1}var _isMasked$1,hasRequired_isMasked$1;function require_isMasked$1(){if(hasRequired_isMasked$1)return _isMasked$1;hasRequired_isMasked$1=1;var e=require_coreJsData$1(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!t&&t in n}return _isMasked$1=r,_isMasked$1}var _toSource$1,hasRequired_toSource$1;function require_toSource$1(){if(hasRequired_toSource$1)return _toSource$1;hasRequired_toSource$1=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return _toSource$1=r,_toSource$1}var _baseIsNative$1,hasRequired_baseIsNative$1;function require_baseIsNative$1(){if(hasRequired_baseIsNative$1)return _baseIsNative$1;hasRequired_baseIsNative$1=1;var e=requireIsFunction$1(),t=require_isMasked$1(),r=requireIsObject$1(),n=require_toSource$1(),o=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,u=Function.prototype,h=Object.prototype,f=u.toString,d=h.hasOwnProperty,p=RegExp("^"+f.call(d).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!r(g)||t(g))return!1;var b=e(g)?p:l;return b.test(n(g))}return _baseIsNative$1=m,_baseIsNative$1}var _getValue$1,hasRequired_getValue$1;function require_getValue$1(){if(hasRequired_getValue$1)return _getValue$1;hasRequired_getValue$1=1;function e(t,r){return t==null?void 0:t[r]}return _getValue$1=e,_getValue$1}var _getNative$1,hasRequired_getNative$1;function require_getNative$1(){if(hasRequired_getNative$1)return _getNative$1;hasRequired_getNative$1=1;var e=require_baseIsNative$1(),t=require_getValue$1();function r(n,o){var l=t(n,o);return e(l)?l:void 0}return _getNative$1=r,_getNative$1}var _Map$1,hasRequired_Map;function require_Map(){if(hasRequired_Map)return _Map$1;hasRequired_Map=1;var e=require_getNative$1(),t=require_root$1(),r=e(t,"Map");return _Map$1=r,_Map$1}var _nativeCreate$1,hasRequired_nativeCreate;function require_nativeCreate(){if(hasRequired_nativeCreate)return _nativeCreate$1;hasRequired_nativeCreate=1;var e=require_getNative$1(),t=e(Object,"create");return _nativeCreate$1=t,_nativeCreate$1}var _hashClear$1,hasRequired_hashClear;function require_hashClear(){if(hasRequired_hashClear)return _hashClear$1;hasRequired_hashClear=1;var e=require_nativeCreate();function t(){this.__data__=e?e(null):{},this.size=0}return _hashClear$1=t,_hashClear$1}var _hashDelete$1,hasRequired_hashDelete;function require_hashDelete(){if(hasRequired_hashDelete)return _hashDelete$1;hasRequired_hashDelete=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return _hashDelete$1=e,_hashDelete$1}var _hashGet$1,hasRequired_hashGet;function require_hashGet(){if(hasRequired_hashGet)return _hashGet$1;hasRequired_hashGet=1;var e=require_nativeCreate(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function o(l){var u=this.__data__;if(e){var h=u[l];return h===t?void 0:h}return n.call(u,l)?u[l]:void 0}return _hashGet$1=o,_hashGet$1}var _hashHas$1,hasRequired_hashHas;function require_hashHas(){if(hasRequired_hashHas)return _hashHas$1;hasRequired_hashHas=1;var e=require_nativeCreate(),t=Object.prototype,r=t.hasOwnProperty;function n(o){var l=this.__data__;return e?l[o]!==void 0:r.call(l,o)}return _hashHas$1=n,_hashHas$1}var _hashSet$1,hasRequired_hashSet;function require_hashSet(){if(hasRequired_hashSet)return _hashSet$1;hasRequired_hashSet=1;var e=require_nativeCreate(),t="__lodash_hash_undefined__";function r(n,o){var l=this.__data__;return this.size+=this.has(n)?0:1,l[n]=e&&o===void 0?t:o,this}return _hashSet$1=r,_hashSet$1}var _Hash$1,hasRequired_Hash;function require_Hash(){if(hasRequired_Hash)return _Hash$1;hasRequired_Hash=1;var e=require_hashClear(),t=require_hashDelete(),r=require_hashGet(),n=require_hashHas(),o=require_hashSet();function l(u){var h=-1,f=u==null?0:u.length;for(this.clear();++h<f;){var d=u[h];this.set(d[0],d[1])}}return l.prototype.clear=e,l.prototype.delete=t,l.prototype.get=r,l.prototype.has=n,l.prototype.set=o,_Hash$1=l,_Hash$1}var _mapCacheClear$1,hasRequired_mapCacheClear;function require_mapCacheClear(){if(hasRequired_mapCacheClear)return _mapCacheClear$1;hasRequired_mapCacheClear=1;var e=require_Hash(),t=require_ListCache(),r=require_Map();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return _mapCacheClear$1=n,_mapCacheClear$1}var _isKeyable$1,hasRequired_isKeyable;function require_isKeyable(){if(hasRequired_isKeyable)return _isKeyable$1;hasRequired_isKeyable=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return _isKeyable$1=e,_isKeyable$1}var _getMapData$1,hasRequired_getMapData;function require_getMapData(){if(hasRequired_getMapData)return _getMapData$1;hasRequired_getMapData=1;var e=require_isKeyable();function t(r,n){var o=r.__data__;return e(n)?o[typeof n=="string"?"string":"hash"]:o.map}return _getMapData$1=t,_getMapData$1}var _mapCacheDelete$1,hasRequired_mapCacheDelete;function require_mapCacheDelete(){if(hasRequired_mapCacheDelete)return _mapCacheDelete$1;hasRequired_mapCacheDelete=1;var e=require_getMapData();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return _mapCacheDelete$1=t,_mapCacheDelete$1}var _mapCacheGet$1,hasRequired_mapCacheGet;function require_mapCacheGet(){if(hasRequired_mapCacheGet)return _mapCacheGet$1;hasRequired_mapCacheGet=1;var e=require_getMapData();function t(r){return e(this,r).get(r)}return _mapCacheGet$1=t,_mapCacheGet$1}var _mapCacheHas$1,hasRequired_mapCacheHas;function require_mapCacheHas(){if(hasRequired_mapCacheHas)return _mapCacheHas$1;hasRequired_mapCacheHas=1;var e=require_getMapData();function t(r){return e(this,r).has(r)}return _mapCacheHas$1=t,_mapCacheHas$1}var _mapCacheSet$1,hasRequired_mapCacheSet;function require_mapCacheSet(){if(hasRequired_mapCacheSet)return _mapCacheSet$1;hasRequired_mapCacheSet=1;var e=require_getMapData();function t(r,n){var o=e(this,r),l=o.size;return o.set(r,n),this.size+=o.size==l?0:1,this}return _mapCacheSet$1=t,_mapCacheSet$1}var _MapCache$1,hasRequired_MapCache;function require_MapCache(){if(hasRequired_MapCache)return _MapCache$1;hasRequired_MapCache=1;var e=require_mapCacheClear(),t=require_mapCacheDelete(),r=require_mapCacheGet(),n=require_mapCacheHas(),o=require_mapCacheSet();function l(u){var h=-1,f=u==null?0:u.length;for(this.clear();++h<f;){var d=u[h];this.set(d[0],d[1])}}return l.prototype.clear=e,l.prototype.delete=t,l.prototype.get=r,l.prototype.has=n,l.prototype.set=o,_MapCache$1=l,_MapCache$1}var _stackSet,hasRequired_stackSet;function require_stackSet(){if(hasRequired_stackSet)return _stackSet;hasRequired_stackSet=1;var e=require_ListCache(),t=require_Map(),r=require_MapCache(),n=200;function o(l,u){var h=this.__data__;if(h instanceof e){var f=h.__data__;if(!t||f.length<n-1)return f.push([l,u]),this.size=++h.size,this;h=this.__data__=new r(f)}return h.set(l,u),this.size=h.size,this}return _stackSet=o,_stackSet}var _Stack,hasRequired_Stack;function require_Stack(){if(hasRequired_Stack)return _Stack;hasRequired_Stack=1;var e=require_ListCache(),t=require_stackClear(),r=require_stackDelete(),n=require_stackGet(),o=require_stackHas(),l=require_stackSet();function u(h){var f=this.__data__=new e(h);this.size=f.size}return u.prototype.clear=t,u.prototype.delete=r,u.prototype.get=n,u.prototype.has=o,u.prototype.set=l,_Stack=u,_Stack}var _arrayEach$1,hasRequired_arrayEach$1;function require_arrayEach$1(){if(hasRequired_arrayEach$1)return _arrayEach$1;hasRequired_arrayEach$1=1;function e(t,r){for(var n=-1,o=t==null?0:t.length;++n<o&&r(t[n],n,t)!==!1;);return t}return _arrayEach$1=e,_arrayEach$1}var _defineProperty$1,hasRequired_defineProperty$1;function require_defineProperty$1(){if(hasRequired_defineProperty$1)return _defineProperty$1;hasRequired_defineProperty$1=1;var e=require_getNative$1(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return _defineProperty$1=t,_defineProperty$1}var _baseAssignValue$1,hasRequired_baseAssignValue$1;function require_baseAssignValue$1(){if(hasRequired_baseAssignValue$1)return _baseAssignValue$1;hasRequired_baseAssignValue$1=1;var e=require_defineProperty$1();function t(r,n,o){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:o,writable:!0}):r[n]=o}return _baseAssignValue$1=t,_baseAssignValue$1}var _assignValue$1,hasRequired_assignValue$1;function require_assignValue$1(){if(hasRequired_assignValue$1)return _assignValue$1;hasRequired_assignValue$1=1;var e=require_baseAssignValue$1(),t=requireEq$1(),r=Object.prototype,n=r.hasOwnProperty;function o(l,u,h){var f=l[u];(!(n.call(l,u)&&t(f,h))||h===void 0&&!(u in l))&&e(l,u,h)}return _assignValue$1=o,_assignValue$1}var _copyObject,hasRequired_copyObject;function require_copyObject(){if(hasRequired_copyObject)return _copyObject;hasRequired_copyObject=1;var e=require_assignValue$1(),t=require_baseAssignValue$1();function r(n,o,l,u){var h=!l;l||(l={});for(var f=-1,d=o.length;++f<d;){var p=o[f],m=u?u(l[p],n[p],p,l,n):void 0;m===void 0&&(m=n[p]),h?t(l,p,m):e(l,p,m)}return l}return _copyObject=r,_copyObject}var _baseTimes$1,hasRequired_baseTimes$1;function require_baseTimes$1(){if(hasRequired_baseTimes$1)return _baseTimes$1;hasRequired_baseTimes$1=1;function e(t,r){for(var n=-1,o=Array(t);++n<t;)o[n]=r(n);return o}return _baseTimes$1=e,_baseTimes$1}var isObjectLike_1$1,hasRequiredIsObjectLike$1;function requireIsObjectLike$1(){if(hasRequiredIsObjectLike$1)return isObjectLike_1$1;hasRequiredIsObjectLike$1=1;function e(t){return t!=null&&typeof t=="object"}return isObjectLike_1$1=e,isObjectLike_1$1}var _baseIsArguments$1,hasRequired_baseIsArguments$1;function require_baseIsArguments$1(){if(hasRequired_baseIsArguments$1)return _baseIsArguments$1;hasRequired_baseIsArguments$1=1;var e=require_baseGetTag$1(),t=requireIsObjectLike$1(),r="[object Arguments]";function n(o){return t(o)&&e(o)==r}return _baseIsArguments$1=n,_baseIsArguments$1}var isArguments_1$1,hasRequiredIsArguments$1;function requireIsArguments$1(){if(hasRequiredIsArguments$1)return isArguments_1$1;hasRequiredIsArguments$1=1;var e=require_baseIsArguments$1(),t=requireIsObjectLike$1(),r=Object.prototype,n=r.hasOwnProperty,o=r.propertyIsEnumerable,l=e(function(){return arguments}())?e:function(u){return t(u)&&n.call(u,"callee")&&!o.call(u,"callee")};return isArguments_1$1=l,isArguments_1$1}var isArray_1$1,hasRequiredIsArray$1;function requireIsArray$1(){if(hasRequiredIsArray$1)return isArray_1$1;hasRequiredIsArray$1=1;var e=Array.isArray;return isArray_1$1=e,isArray_1$1}var isBuffer$1={exports:{}},stubFalse_1$1,hasRequiredStubFalse$1;function requireStubFalse$1(){if(hasRequiredStubFalse$1)return stubFalse_1$1;hasRequiredStubFalse$1=1;function e(){return!1}return stubFalse_1$1=e,stubFalse_1$1}var hasRequiredIsBuffer$1;function requireIsBuffer$1(){return hasRequiredIsBuffer$1||(hasRequiredIsBuffer$1=1,function(e,t){var r=require_root$1(),n=requireStubFalse$1(),o=t&&!t.nodeType&&t,l=o&&!0&&e&&!e.nodeType&&e,u=l&&l.exports===o,h=u?r.Buffer:void 0,f=h?h.isBuffer:void 0,d=f||n;e.exports=d}(isBuffer$1,isBuffer$1.exports)),isBuffer$1.exports}var _isIndex$1,hasRequired_isIndex$1;function require_isIndex$1(){if(hasRequired_isIndex$1)return _isIndex$1;hasRequired_isIndex$1=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,o){var l=typeof n;return o=o==null?e:o,!!o&&(l=="number"||l!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<o}return _isIndex$1=r,_isIndex$1}var isLength_1$1,hasRequiredIsLength$1;function requireIsLength$1(){if(hasRequiredIsLength$1)return isLength_1$1;hasRequiredIsLength$1=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return isLength_1$1=t,isLength_1$1}var _baseIsTypedArray$1,hasRequired_baseIsTypedArray$1;function require_baseIsTypedArray$1(){if(hasRequired_baseIsTypedArray$1)return _baseIsTypedArray$1;hasRequired_baseIsTypedArray$1=1;var e=require_baseGetTag$1(),t=requireIsLength$1(),r=requireIsObjectLike$1(),n="[object Arguments]",o="[object Array]",l="[object Boolean]",u="[object Date]",h="[object Error]",f="[object Function]",d="[object Map]",p="[object Number]",m="[object Object]",g="[object RegExp]",b="[object Set]",v="[object String]",T="[object WeakMap]",R="[object ArrayBuffer]",I="[object DataView]",N="[object Float32Array]",q="[object Float64Array]",F="[object Int8Array]",H="[object Int16Array]",V="[object Int32Array]",z="[object Uint8Array]",G="[object Uint8ClampedArray]",P="[object Uint16Array]",W="[object Uint32Array]",S={};S[N]=S[q]=S[F]=S[H]=S[V]=S[z]=S[G]=S[P]=S[W]=!0,S[n]=S[o]=S[R]=S[l]=S[I]=S[u]=S[h]=S[f]=S[d]=S[p]=S[m]=S[g]=S[b]=S[v]=S[T]=!1;function U(L){return r(L)&&t(L.length)&&!!S[e(L)]}return _baseIsTypedArray$1=U,_baseIsTypedArray$1}var _baseUnary$1,hasRequired_baseUnary$1;function require_baseUnary$1(){if(hasRequired_baseUnary$1)return _baseUnary$1;hasRequired_baseUnary$1=1;function e(t){return function(r){return t(r)}}return _baseUnary$1=e,_baseUnary$1}var _nodeUtil$1={exports:{}},hasRequired_nodeUtil$1;function require_nodeUtil$1(){return hasRequired_nodeUtil$1||(hasRequired_nodeUtil$1=1,function(e,t){var r=require_freeGlobal$1(),n=t&&!t.nodeType&&t,o=n&&!0&&e&&!e.nodeType&&e,l=o&&o.exports===n,u=l&&r.process,h=function(){try{var f=o&&o.require&&o.require("util").types;return f||u&&u.binding&&u.binding("util")}catch{}}();e.exports=h}(_nodeUtil$1,_nodeUtil$1.exports)),_nodeUtil$1.exports}var isTypedArray_1$1,hasRequiredIsTypedArray$1;function requireIsTypedArray$1(){if(hasRequiredIsTypedArray$1)return isTypedArray_1$1;hasRequiredIsTypedArray$1=1;var e=require_baseIsTypedArray$1(),t=require_baseUnary$1(),r=require_nodeUtil$1(),n=r&&r.isTypedArray,o=n?t(n):e;return isTypedArray_1$1=o,isTypedArray_1$1}var _arrayLikeKeys$1,hasRequired_arrayLikeKeys$1;function require_arrayLikeKeys$1(){if(hasRequired_arrayLikeKeys$1)return _arrayLikeKeys$1;hasRequired_arrayLikeKeys$1=1;var e=require_baseTimes$1(),t=requireIsArguments$1(),r=requireIsArray$1(),n=requireIsBuffer$1(),o=require_isIndex$1(),l=requireIsTypedArray$1(),u=Object.prototype,h=u.hasOwnProperty;function f(d,p){var m=r(d),g=!m&&t(d),b=!m&&!g&&n(d),v=!m&&!g&&!b&&l(d),T=m||g||b||v,R=T?e(d.length,String):[],I=R.length;for(var N in d)(p||h.call(d,N))&&!(T&&(N=="length"||b&&(N=="offset"||N=="parent")||v&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||o(N,I)))&&R.push(N);return R}return _arrayLikeKeys$1=f,_arrayLikeKeys$1}var _isPrototype$1,hasRequired_isPrototype$1;function require_isPrototype$1(){if(hasRequired_isPrototype$1)return _isPrototype$1;hasRequired_isPrototype$1=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,o=typeof n=="function"&&n.prototype||e;return r===o}return _isPrototype$1=t,_isPrototype$1}var _overArg$1,hasRequired_overArg$1;function require_overArg$1(){if(hasRequired_overArg$1)return _overArg$1;hasRequired_overArg$1=1;function e(t,r){return function(n){return t(r(n))}}return _overArg$1=e,_overArg$1}var _nativeKeys$1,hasRequired_nativeKeys$1;function require_nativeKeys$1(){if(hasRequired_nativeKeys$1)return _nativeKeys$1;hasRequired_nativeKeys$1=1;var e=require_overArg$1(),t=e(Object.keys,Object);return _nativeKeys$1=t,_nativeKeys$1}var _baseKeys$1,hasRequired_baseKeys$1;function require_baseKeys$1(){if(hasRequired_baseKeys$1)return _baseKeys$1;hasRequired_baseKeys$1=1;var e=require_isPrototype$1(),t=require_nativeKeys$1(),r=Object.prototype,n=r.hasOwnProperty;function o(l){if(!e(l))return t(l);var u=[];for(var h in Object(l))n.call(l,h)&&h!="constructor"&&u.push(h);return u}return _baseKeys$1=o,_baseKeys$1}var isArrayLike_1$1,hasRequiredIsArrayLike$1;function requireIsArrayLike$1(){if(hasRequiredIsArrayLike$1)return isArrayLike_1$1;hasRequiredIsArrayLike$1=1;var e=requireIsFunction$1(),t=requireIsLength$1();function r(n){return n!=null&&t(n.length)&&!e(n)}return isArrayLike_1$1=r,isArrayLike_1$1}var keys_1$1,hasRequiredKeys$1;function requireKeys$1(){if(hasRequiredKeys$1)return keys_1$1;hasRequiredKeys$1=1;var e=require_arrayLikeKeys$1(),t=require_baseKeys$1(),r=requireIsArrayLike$1();function n(o){return r(o)?e(o):t(o)}return keys_1$1=n,keys_1$1}var _baseAssign,hasRequired_baseAssign;function require_baseAssign(){if(hasRequired_baseAssign)return _baseAssign;hasRequired_baseAssign=1;var e=require_copyObject(),t=requireKeys$1();function r(n,o){return n&&e(o,t(o),n)}return _baseAssign=r,_baseAssign}var _nativeKeysIn$1,hasRequired_nativeKeysIn$1;function require_nativeKeysIn$1(){if(hasRequired_nativeKeysIn$1)return _nativeKeysIn$1;hasRequired_nativeKeysIn$1=1;function e(t){var r=[];if(t!=null)for(var n in Object(t))r.push(n);return r}return _nativeKeysIn$1=e,_nativeKeysIn$1}var _baseKeysIn$1,hasRequired_baseKeysIn$1;function require_baseKeysIn$1(){if(hasRequired_baseKeysIn$1)return _baseKeysIn$1;hasRequired_baseKeysIn$1=1;var e=requireIsObject$1(),t=require_isPrototype$1(),r=require_nativeKeysIn$1(),n=Object.prototype,o=n.hasOwnProperty;function l(u){if(!e(u))return r(u);var h=t(u),f=[];for(var d in u)d=="constructor"&&(h||!o.call(u,d))||f.push(d);return f}return _baseKeysIn$1=l,_baseKeysIn$1}var keysIn_1$1,hasRequiredKeysIn$1;function requireKeysIn$1(){if(hasRequiredKeysIn$1)return keysIn_1$1;hasRequiredKeysIn$1=1;var e=require_arrayLikeKeys$1(),t=require_baseKeysIn$1(),r=requireIsArrayLike$1();function n(o){return r(o)?e(o,!0):t(o)}return keysIn_1$1=n,keysIn_1$1}var _baseAssignIn,hasRequired_baseAssignIn;function require_baseAssignIn(){if(hasRequired_baseAssignIn)return _baseAssignIn;hasRequired_baseAssignIn=1;var e=require_copyObject(),t=requireKeysIn$1();function r(n,o){return n&&e(o,t(o),n)}return _baseAssignIn=r,_baseAssignIn}var _cloneBuffer={exports:{}},hasRequired_cloneBuffer;function require_cloneBuffer(){return hasRequired_cloneBuffer||(hasRequired_cloneBuffer=1,function(e,t){var r=require_root$1(),n=t&&!t.nodeType&&t,o=n&&!0&&e&&!e.nodeType&&e,l=o&&o.exports===n,u=l?r.Buffer:void 0,h=u?u.allocUnsafe:void 0;function f(d,p){if(p)return d.slice();var m=d.length,g=h?h(m):new d.constructor(m);return d.copy(g),g}e.exports=f}(_cloneBuffer,_cloneBuffer.exports)),_cloneBuffer.exports}var _copyArray,hasRequired_copyArray;function require_copyArray(){if(hasRequired_copyArray)return _copyArray;hasRequired_copyArray=1;function e(t,r){var n=-1,o=t.length;for(r||(r=Array(o));++n<o;)r[n]=t[n];return r}return _copyArray=e,_copyArray}var _arrayFilter,hasRequired_arrayFilter;function require_arrayFilter(){if(hasRequired_arrayFilter)return _arrayFilter;hasRequired_arrayFilter=1;function e(t,r){for(var n=-1,o=t==null?0:t.length,l=0,u=[];++n<o;){var h=t[n];r(h,n,t)&&(u[l++]=h)}return u}return _arrayFilter=e,_arrayFilter}var stubArray_1,hasRequiredStubArray;function requireStubArray(){if(hasRequiredStubArray)return stubArray_1;hasRequiredStubArray=1;function e(){return[]}return stubArray_1=e,stubArray_1}var _getSymbols,hasRequired_getSymbols;function require_getSymbols(){if(hasRequired_getSymbols)return _getSymbols;hasRequired_getSymbols=1;var e=require_arrayFilter(),t=requireStubArray(),r=Object.prototype,n=r.propertyIsEnumerable,o=Object.getOwnPropertySymbols,l=o?function(u){return u==null?[]:(u=Object(u),e(o(u),function(h){return n.call(u,h)}))}:t;return _getSymbols=l,_getSymbols}var _copySymbols,hasRequired_copySymbols;function require_copySymbols(){if(hasRequired_copySymbols)return _copySymbols;hasRequired_copySymbols=1;var e=require_copyObject(),t=require_getSymbols();function r(n,o){return e(n,t(n),o)}return _copySymbols=r,_copySymbols}var _arrayPush$1,hasRequired_arrayPush$1;function require_arrayPush$1(){if(hasRequired_arrayPush$1)return _arrayPush$1;hasRequired_arrayPush$1=1;function e(t,r){for(var n=-1,o=r.length,l=t.length;++n<o;)t[l+n]=r[n];return t}return _arrayPush$1=e,_arrayPush$1}var _getPrototype$1,hasRequired_getPrototype$1;function require_getPrototype$1(){if(hasRequired_getPrototype$1)return _getPrototype$1;hasRequired_getPrototype$1=1;var e=require_overArg$1(),t=e(Object.getPrototypeOf,Object);return _getPrototype$1=t,_getPrototype$1}var _getSymbolsIn,hasRequired_getSymbolsIn;function require_getSymbolsIn(){if(hasRequired_getSymbolsIn)return _getSymbolsIn;hasRequired_getSymbolsIn=1;var e=require_arrayPush$1(),t=require_getPrototype$1(),r=require_getSymbols(),n=requireStubArray(),o=Object.getOwnPropertySymbols,l=o?function(u){for(var h=[];u;)e(h,r(u)),u=t(u);return h}:n;return _getSymbolsIn=l,_getSymbolsIn}var _copySymbolsIn,hasRequired_copySymbolsIn;function require_copySymbolsIn(){if(hasRequired_copySymbolsIn)return _copySymbolsIn;hasRequired_copySymbolsIn=1;var e=require_copyObject(),t=require_getSymbolsIn();function r(n,o){return e(n,t(n),o)}return _copySymbolsIn=r,_copySymbolsIn}var _baseGetAllKeys,hasRequired_baseGetAllKeys;function require_baseGetAllKeys(){if(hasRequired_baseGetAllKeys)return _baseGetAllKeys;hasRequired_baseGetAllKeys=1;var e=require_arrayPush$1(),t=requireIsArray$1();function r(n,o,l){var u=o(n);return t(n)?u:e(u,l(n))}return _baseGetAllKeys=r,_baseGetAllKeys}var _getAllKeys,hasRequired_getAllKeys;function require_getAllKeys(){if(hasRequired_getAllKeys)return _getAllKeys;hasRequired_getAllKeys=1;var e=require_baseGetAllKeys(),t=require_getSymbols(),r=requireKeys$1();function n(o){return e(o,r,t)}return _getAllKeys=n,_getAllKeys}var _getAllKeysIn,hasRequired_getAllKeysIn;function require_getAllKeysIn(){if(hasRequired_getAllKeysIn)return _getAllKeysIn;hasRequired_getAllKeysIn=1;var e=require_baseGetAllKeys(),t=require_getSymbolsIn(),r=requireKeysIn$1();function n(o){return e(o,r,t)}return _getAllKeysIn=n,_getAllKeysIn}var _DataView,hasRequired_DataView;function require_DataView(){if(hasRequired_DataView)return _DataView;hasRequired_DataView=1;var e=require_getNative$1(),t=require_root$1(),r=e(t,"DataView");return _DataView=r,_DataView}var _Promise,hasRequired_Promise;function require_Promise(){if(hasRequired_Promise)return _Promise;hasRequired_Promise=1;var e=require_getNative$1(),t=require_root$1(),r=e(t,"Promise");return _Promise=r,_Promise}var _Set,hasRequired_Set;function require_Set(){if(hasRequired_Set)return _Set;hasRequired_Set=1;var e=require_getNative$1(),t=require_root$1(),r=e(t,"Set");return _Set=r,_Set}var _WeakMap,hasRequired_WeakMap;function require_WeakMap(){if(hasRequired_WeakMap)return _WeakMap;hasRequired_WeakMap=1;var e=require_getNative$1(),t=require_root$1(),r=e(t,"WeakMap");return _WeakMap=r,_WeakMap}var _getTag,hasRequired_getTag;function require_getTag(){if(hasRequired_getTag)return _getTag;hasRequired_getTag=1;var e=require_DataView(),t=require_Map(),r=require_Promise(),n=require_Set(),o=require_WeakMap(),l=require_baseGetTag$1(),u=require_toSource$1(),h="[object Map]",f="[object Object]",d="[object Promise]",p="[object Set]",m="[object WeakMap]",g="[object DataView]",b=u(e),v=u(t),T=u(r),R=u(n),I=u(o),N=l;return(e&&N(new e(new ArrayBuffer(1)))!=g||t&&N(new t)!=h||r&&N(r.resolve())!=d||n&&N(new n)!=p||o&&N(new o)!=m)&&(N=function(q){var F=l(q),H=F==f?q.constructor:void 0,V=H?u(H):"";if(V)switch(V){case b:return g;case v:return h;case T:return d;case R:return p;case I:return m}return F}),_getTag=N,_getTag}var _initCloneArray,hasRequired_initCloneArray;function require_initCloneArray(){if(hasRequired_initCloneArray)return _initCloneArray;hasRequired_initCloneArray=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n){var o=n.length,l=new n.constructor(o);return o&&typeof n[0]=="string"&&t.call(n,"index")&&(l.index=n.index,l.input=n.input),l}return _initCloneArray=r,_initCloneArray}var _Uint8Array,hasRequired_Uint8Array;function require_Uint8Array(){if(hasRequired_Uint8Array)return _Uint8Array;hasRequired_Uint8Array=1;var e=require_root$1(),t=e.Uint8Array;return _Uint8Array=t,_Uint8Array}var _cloneArrayBuffer,hasRequired_cloneArrayBuffer;function require_cloneArrayBuffer(){if(hasRequired_cloneArrayBuffer)return _cloneArrayBuffer;hasRequired_cloneArrayBuffer=1;var e=require_Uint8Array();function t(r){var n=new r.constructor(r.byteLength);return new e(n).set(new e(r)),n}return _cloneArrayBuffer=t,_cloneArrayBuffer}var _cloneDataView,hasRequired_cloneDataView;function require_cloneDataView(){if(hasRequired_cloneDataView)return _cloneDataView;hasRequired_cloneDataView=1;var e=require_cloneArrayBuffer();function t(r,n){var o=n?e(r.buffer):r.buffer;return new r.constructor(o,r.byteOffset,r.byteLength)}return _cloneDataView=t,_cloneDataView}var _cloneRegExp,hasRequired_cloneRegExp;function require_cloneRegExp(){if(hasRequired_cloneRegExp)return _cloneRegExp;hasRequired_cloneRegExp=1;var e=/\w*$/;function t(r){var n=new r.constructor(r.source,e.exec(r));return n.lastIndex=r.lastIndex,n}return _cloneRegExp=t,_cloneRegExp}var _cloneSymbol,hasRequired_cloneSymbol;function require_cloneSymbol(){if(hasRequired_cloneSymbol)return _cloneSymbol;hasRequired_cloneSymbol=1;var e=require_Symbol$1(),t=e?e.prototype:void 0,r=t?t.valueOf:void 0;function n(o){return r?Object(r.call(o)):{}}return _cloneSymbol=n,_cloneSymbol}var _cloneTypedArray,hasRequired_cloneTypedArray;function require_cloneTypedArray(){if(hasRequired_cloneTypedArray)return _cloneTypedArray;hasRequired_cloneTypedArray=1;var e=require_cloneArrayBuffer();function t(r,n){var o=n?e(r.buffer):r.buffer;return new r.constructor(o,r.byteOffset,r.length)}return _cloneTypedArray=t,_cloneTypedArray}var _initCloneByTag,hasRequired_initCloneByTag;function require_initCloneByTag(){if(hasRequired_initCloneByTag)return _initCloneByTag;hasRequired_initCloneByTag=1;var e=require_cloneArrayBuffer(),t=require_cloneDataView(),r=require_cloneRegExp(),n=require_cloneSymbol(),o=require_cloneTypedArray(),l="[object Boolean]",u="[object Date]",h="[object Map]",f="[object Number]",d="[object RegExp]",p="[object Set]",m="[object String]",g="[object Symbol]",b="[object ArrayBuffer]",v="[object DataView]",T="[object Float32Array]",R="[object Float64Array]",I="[object Int8Array]",N="[object Int16Array]",q="[object Int32Array]",F="[object Uint8Array]",H="[object Uint8ClampedArray]",V="[object Uint16Array]",z="[object Uint32Array]";function G(P,W,S){var U=P.constructor;switch(W){case b:return e(P);case l:case u:return new U(+P);case v:return t(P,S);case T:case R:case I:case N:case q:case F:case H:case V:case z:return o(P,S);case h:return new U;case f:case m:return new U(P);case d:return r(P);case p:return new U;case g:return n(P)}}return _initCloneByTag=G,_initCloneByTag}var _baseCreate,hasRequired_baseCreate;function require_baseCreate(){if(hasRequired_baseCreate)return _baseCreate;hasRequired_baseCreate=1;var e=requireIsObject$1(),t=Object.create,r=function(){function n(){}return function(o){if(!e(o))return{};if(t)return t(o);n.prototype=o;var l=new n;return n.prototype=void 0,l}}();return _baseCreate=r,_baseCreate}var _initCloneObject,hasRequired_initCloneObject;function require_initCloneObject(){if(hasRequired_initCloneObject)return _initCloneObject;hasRequired_initCloneObject=1;var e=require_baseCreate(),t=require_getPrototype$1(),r=require_isPrototype$1();function n(o){return typeof o.constructor=="function"&&!r(o)?e(t(o)):{}}return _initCloneObject=n,_initCloneObject}var _baseIsMap,hasRequired_baseIsMap;function require_baseIsMap(){if(hasRequired_baseIsMap)return _baseIsMap;hasRequired_baseIsMap=1;var e=require_getTag(),t=requireIsObjectLike$1(),r="[object Map]";function n(o){return t(o)&&e(o)==r}return _baseIsMap=n,_baseIsMap}var isMap_1,hasRequiredIsMap;function requireIsMap(){if(hasRequiredIsMap)return isMap_1;hasRequiredIsMap=1;var e=require_baseIsMap(),t=require_baseUnary$1(),r=require_nodeUtil$1(),n=r&&r.isMap,o=n?t(n):e;return isMap_1=o,isMap_1}var _baseIsSet,hasRequired_baseIsSet;function require_baseIsSet(){if(hasRequired_baseIsSet)return _baseIsSet;hasRequired_baseIsSet=1;var e=require_getTag(),t=requireIsObjectLike$1(),r="[object Set]";function n(o){return t(o)&&e(o)==r}return _baseIsSet=n,_baseIsSet}var isSet_1,hasRequiredIsSet;function requireIsSet(){if(hasRequiredIsSet)return isSet_1;hasRequiredIsSet=1;var e=require_baseIsSet(),t=require_baseUnary$1(),r=require_nodeUtil$1(),n=r&&r.isSet,o=n?t(n):e;return isSet_1=o,isSet_1}var _baseClone,hasRequired_baseClone;function require_baseClone(){if(hasRequired_baseClone)return _baseClone;hasRequired_baseClone=1;var e=require_Stack(),t=require_arrayEach$1(),r=require_assignValue$1(),n=require_baseAssign(),o=require_baseAssignIn(),l=require_cloneBuffer(),u=require_copyArray(),h=require_copySymbols(),f=require_copySymbolsIn(),d=require_getAllKeys(),p=require_getAllKeysIn(),m=require_getTag(),g=require_initCloneArray(),b=require_initCloneByTag(),v=require_initCloneObject(),T=requireIsArray$1(),R=requireIsBuffer$1(),I=requireIsMap(),N=requireIsObject$1(),q=requireIsSet(),F=requireKeys$1(),H=requireKeysIn$1(),V=1,z=2,G=4,P="[object Arguments]",W="[object Array]",S="[object Boolean]",U="[object Date]",L="[object Error]",ae="[object Function]",Q="[object GeneratorFunction]",ue="[object Map]",_e="[object Number]",ke="[object Object]",de="[object RegExp]",ce="[object Set]",he="[object String]",Se="[object Symbol]",ve="[object WeakMap]",me="[object ArrayBuffer]",Ce="[object DataView]",xe="[object Float32Array]",Ne="[object Float64Array]",pe="[object Int8Array]",J="[object Int16Array]",oe="[object Int32Array]",ee="[object Uint8Array]",Z="[object Uint8ClampedArray]",ie="[object Uint16Array]",se="[object Uint32Array]",te={};te[P]=te[W]=te[me]=te[Ce]=te[S]=te[U]=te[xe]=te[Ne]=te[pe]=te[J]=te[oe]=te[ue]=te[_e]=te[ke]=te[de]=te[ce]=te[he]=te[Se]=te[ee]=te[Z]=te[ie]=te[se]=!0,te[L]=te[ae]=te[ve]=!1;function fe(we,Ye,He,je,Pe,Ee){var Ie,Le=Ye&V,Be=Ye&z,Te=Ye&G;if(He&&(Ie=Pe?He(we,je,Pe,Ee):He(we)),Ie!==void 0)return Ie;if(!N(we))return we;var dt=T(we);if(dt){if(Ie=g(we),!Le)return u(we,Ie)}else{var Ge=m(we),rt=Ge==ae||Ge==Q;if(R(we))return l(we,Le);if(Ge==ke||Ge==P||rt&&!Pe){if(Ie=Be||rt?{}:v(we),!Le)return Be?f(we,o(Ie,we)):h(we,n(Ie,we))}else{if(!te[Ge])return Pe?we:{};Ie=b(we,Ge,Le)}}Ee||(Ee=new e);var it=Ee.get(we);if(it)return it;Ee.set(we,Ie),q(we)?we.forEach(function(nt){Ie.add(fe(nt,Ye,He,nt,we,Ee))}):I(we)&&we.forEach(function(nt,Ke){Ie.set(Ke,fe(nt,Ye,He,Ke,we,Ee))});var st=Te?Be?p:d:Be?H:F,wt=dt?void 0:st(we);return t(wt||we,function(nt,Ke){wt&&(Ke=nt,nt=we[Ke]),r(Ie,Ke,fe(nt,Ye,He,Ke,we,Ee))}),Ie}return _baseClone=fe,_baseClone}var clone_1,hasRequiredClone;function requireClone(){if(hasRequiredClone)return clone_1;hasRequiredClone=1;var e=require_baseClone(),t=4;function r(n){return e(n,t)}return clone_1=r,clone_1}var constant_1$1,hasRequiredConstant$1;function requireConstant$1(){if(hasRequiredConstant$1)return constant_1$1;hasRequiredConstant$1=1;function e(t){return function(){return t}}return constant_1$1=e,constant_1$1}var each$1={exports:{}},_createBaseFor$1,hasRequired_createBaseFor$1;function require_createBaseFor$1(){if(hasRequired_createBaseFor$1)return _createBaseFor$1;hasRequired_createBaseFor$1=1;function e(t){return function(r,n,o){for(var l=-1,u=Object(r),h=o(r),f=h.length;f--;){var d=h[t?f:++l];if(n(u[d],d,u)===!1)break}return r}}return _createBaseFor$1=e,_createBaseFor$1}var _baseFor$1,hasRequired_baseFor$1;function require_baseFor$1(){if(hasRequired_baseFor$1)return _baseFor$1;hasRequired_baseFor$1=1;var e=require_createBaseFor$1(),t=e();return _baseFor$1=t,_baseFor$1}var _baseForOwn$1,hasRequired_baseForOwn$1;function require_baseForOwn$1(){if(hasRequired_baseForOwn$1)return _baseForOwn$1;hasRequired_baseForOwn$1=1;var e=require_baseFor$1(),t=requireKeys$1();function r(n,o){return n&&e(n,o,t)}return _baseForOwn$1=r,_baseForOwn$1}var _createBaseEach$1,hasRequired_createBaseEach$1;function require_createBaseEach$1(){if(hasRequired_createBaseEach$1)return _createBaseEach$1;hasRequired_createBaseEach$1=1;var e=requireIsArrayLike$1();function t(r,n){return function(o,l){if(o==null)return o;if(!e(o))return r(o,l);for(var u=o.length,h=n?u:-1,f=Object(o);(n?h--:++h<u)&&l(f[h],h,f)!==!1;);return o}}return _createBaseEach$1=t,_createBaseEach$1}var _baseEach$1,hasRequired_baseEach$1;function require_baseEach$1(){if(hasRequired_baseEach$1)return _baseEach$1;hasRequired_baseEach$1=1;var e=require_baseForOwn$1(),t=require_createBaseEach$1(),r=t(e);return _baseEach$1=r,_baseEach$1}var identity_1$1,hasRequiredIdentity$1;function requireIdentity$1(){if(hasRequiredIdentity$1)return identity_1$1;hasRequiredIdentity$1=1;function e(t){return t}return identity_1$1=e,identity_1$1}var _castFunction$1,hasRequired_castFunction$1;function require_castFunction$1(){if(hasRequired_castFunction$1)return _castFunction$1;hasRequired_castFunction$1=1;var e=requireIdentity$1();function t(r){return typeof r=="function"?r:e}return _castFunction$1=t,_castFunction$1}var forEach_1$1,hasRequiredForEach$1;function requireForEach$1(){if(hasRequiredForEach$1)return forEach_1$1;hasRequiredForEach$1=1;var e=require_arrayEach$1(),t=require_baseEach$1(),r=require_castFunction$1(),n=requireIsArray$1();function o(l,u){var h=n(l)?e:t;return h(l,r(u))}return forEach_1$1=o,forEach_1$1}var hasRequiredEach$1;function requireEach$1(){return hasRequiredEach$1||(hasRequiredEach$1=1,function(e){e.exports=requireForEach$1()}(each$1)),each$1.exports}var _baseFilter,hasRequired_baseFilter;function require_baseFilter(){if(hasRequired_baseFilter)return _baseFilter;hasRequired_baseFilter=1;var e=require_baseEach$1();function t(r,n){var o=[];return e(r,function(l,u,h){n(l,u,h)&&o.push(l)}),o}return _baseFilter=t,_baseFilter}var _setCacheAdd,hasRequired_setCacheAdd;function require_setCacheAdd(){if(hasRequired_setCacheAdd)return _setCacheAdd;hasRequired_setCacheAdd=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return _setCacheAdd=t,_setCacheAdd}var _setCacheHas,hasRequired_setCacheHas;function require_setCacheHas(){if(hasRequired_setCacheHas)return _setCacheHas;hasRequired_setCacheHas=1;function e(t){return this.__data__.has(t)}return _setCacheHas=e,_setCacheHas}var _SetCache,hasRequired_SetCache;function require_SetCache(){if(hasRequired_SetCache)return _SetCache;hasRequired_SetCache=1;var e=require_MapCache(),t=require_setCacheAdd(),r=require_setCacheHas();function n(o){var l=-1,u=o==null?0:o.length;for(this.__data__=new e;++l<u;)this.add(o[l])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,_SetCache=n,_SetCache}var _arraySome,hasRequired_arraySome;function require_arraySome(){if(hasRequired_arraySome)return _arraySome;hasRequired_arraySome=1;function e(t,r){for(var n=-1,o=t==null?0:t.length;++n<o;)if(r(t[n],n,t))return!0;return!1}return _arraySome=e,_arraySome}var _cacheHas,hasRequired_cacheHas;function require_cacheHas(){if(hasRequired_cacheHas)return _cacheHas;hasRequired_cacheHas=1;function e(t,r){return t.has(r)}return _cacheHas=e,_cacheHas}var _equalArrays,hasRequired_equalArrays;function require_equalArrays(){if(hasRequired_equalArrays)return _equalArrays;hasRequired_equalArrays=1;var e=require_SetCache(),t=require_arraySome(),r=require_cacheHas(),n=1,o=2;function l(u,h,f,d,p,m){var g=f&n,b=u.length,v=h.length;if(b!=v&&!(g&&v>b))return!1;var T=m.get(u),R=m.get(h);if(T&&R)return T==h&&R==u;var I=-1,N=!0,q=f&o?new e:void 0;for(m.set(u,h),m.set(h,u);++I<b;){var F=u[I],H=h[I];if(d)var V=g?d(H,F,I,h,u,m):d(F,H,I,u,h,m);if(V!==void 0){if(V)continue;N=!1;break}if(q){if(!t(h,function(z,G){if(!r(q,G)&&(F===z||p(F,z,f,d,m)))return q.push(G)})){N=!1;break}}else if(!(F===H||p(F,H,f,d,m))){N=!1;break}}return m.delete(u),m.delete(h),N}return _equalArrays=l,_equalArrays}var _mapToArray,hasRequired_mapToArray;function require_mapToArray(){if(hasRequired_mapToArray)return _mapToArray;hasRequired_mapToArray=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(o,l){n[++r]=[l,o]}),n}return _mapToArray=e,_mapToArray}var _setToArray,hasRequired_setToArray;function require_setToArray(){if(hasRequired_setToArray)return _setToArray;hasRequired_setToArray=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(o){n[++r]=o}),n}return _setToArray=e,_setToArray}var _equalByTag,hasRequired_equalByTag;function require_equalByTag(){if(hasRequired_equalByTag)return _equalByTag;hasRequired_equalByTag=1;var e=require_Symbol$1(),t=require_Uint8Array(),r=requireEq$1(),n=require_equalArrays(),o=require_mapToArray(),l=require_setToArray(),u=1,h=2,f="[object Boolean]",d="[object Date]",p="[object Error]",m="[object Map]",g="[object Number]",b="[object RegExp]",v="[object Set]",T="[object String]",R="[object Symbol]",I="[object ArrayBuffer]",N="[object DataView]",q=e?e.prototype:void 0,F=q?q.valueOf:void 0;function H(V,z,G,P,W,S,U){switch(G){case N:if(V.byteLength!=z.byteLength||V.byteOffset!=z.byteOffset)return!1;V=V.buffer,z=z.buffer;case I:return!(V.byteLength!=z.byteLength||!S(new t(V),new t(z)));case f:case d:case g:return r(+V,+z);case p:return V.name==z.name&&V.message==z.message;case b:case T:return V==z+"";case m:var L=o;case v:var ae=P&u;if(L||(L=l),V.size!=z.size&&!ae)return!1;var Q=U.get(V);if(Q)return Q==z;P|=h,U.set(V,z);var ue=n(L(V),L(z),P,W,S,U);return U.delete(V),ue;case R:if(F)return F.call(V)==F.call(z)}return!1}return _equalByTag=H,_equalByTag}var _equalObjects,hasRequired_equalObjects;function require_equalObjects(){if(hasRequired_equalObjects)return _equalObjects;hasRequired_equalObjects=1;var e=require_getAllKeys(),t=1,r=Object.prototype,n=r.hasOwnProperty;function o(l,u,h,f,d,p){var m=h&t,g=e(l),b=g.length,v=e(u),T=v.length;if(b!=T&&!m)return!1;for(var R=b;R--;){var I=g[R];if(!(m?I in u:n.call(u,I)))return!1}var N=p.get(l),q=p.get(u);if(N&&q)return N==u&&q==l;var F=!0;p.set(l,u),p.set(u,l);for(var H=m;++R<b;){I=g[R];var V=l[I],z=u[I];if(f)var G=m?f(z,V,I,u,l,p):f(V,z,I,l,u,p);if(!(G===void 0?V===z||d(V,z,h,f,p):G)){F=!1;break}H||(H=I=="constructor")}if(F&&!H){var P=l.constructor,W=u.constructor;P!=W&&"constructor"in l&&"constructor"in u&&!(typeof P=="function"&&P instanceof P&&typeof W=="function"&&W instanceof W)&&(F=!1)}return p.delete(l),p.delete(u),F}return _equalObjects=o,_equalObjects}var _baseIsEqualDeep,hasRequired_baseIsEqualDeep;function require_baseIsEqualDeep(){if(hasRequired_baseIsEqualDeep)return _baseIsEqualDeep;hasRequired_baseIsEqualDeep=1;var e=require_Stack(),t=require_equalArrays(),r=require_equalByTag(),n=require_equalObjects(),o=require_getTag(),l=requireIsArray$1(),u=requireIsBuffer$1(),h=requireIsTypedArray$1(),f=1,d="[object Arguments]",p="[object Array]",m="[object Object]",g=Object.prototype,b=g.hasOwnProperty;function v(T,R,I,N,q,F){var H=l(T),V=l(R),z=H?p:o(T),G=V?p:o(R);z=z==d?m:z,G=G==d?m:G;var P=z==m,W=G==m,S=z==G;if(S&&u(T)){if(!u(R))return!1;H=!0,P=!1}if(S&&!P)return F||(F=new e),H||h(T)?t(T,R,I,N,q,F):r(T,R,z,I,N,q,F);if(!(I&f)){var U=P&&b.call(T,"__wrapped__"),L=W&&b.call(R,"__wrapped__");if(U||L){var ae=U?T.value():T,Q=L?R.value():R;return F||(F=new e),q(ae,Q,I,N,F)}}return S?(F||(F=new e),n(T,R,I,N,q,F)):!1}return _baseIsEqualDeep=v,_baseIsEqualDeep}var _baseIsEqual,hasRequired_baseIsEqual;function require_baseIsEqual(){if(hasRequired_baseIsEqual)return _baseIsEqual;hasRequired_baseIsEqual=1;var e=require_baseIsEqualDeep(),t=requireIsObjectLike$1();function r(n,o,l,u,h){return n===o?!0:n==null||o==null||!t(n)&&!t(o)?n!==n&&o!==o:e(n,o,l,u,r,h)}return _baseIsEqual=r,_baseIsEqual}var _baseIsMatch,hasRequired_baseIsMatch;function require_baseIsMatch(){if(hasRequired_baseIsMatch)return _baseIsMatch;hasRequired_baseIsMatch=1;var e=require_Stack(),t=require_baseIsEqual(),r=1,n=2;function o(l,u,h,f){var d=h.length,p=d,m=!f;if(l==null)return!p;for(l=Object(l);d--;){var g=h[d];if(m&&g[2]?g[1]!==l[g[0]]:!(g[0]in l))return!1}for(;++d<p;){g=h[d];var b=g[0],v=l[b],T=g[1];if(m&&g[2]){if(v===void 0&&!(b in l))return!1}else{var R=new e;if(f)var I=f(v,T,b,l,u,R);if(!(I===void 0?t(T,v,r|n,f,R):I))return!1}}return!0}return _baseIsMatch=o,_baseIsMatch}var _isStrictComparable,hasRequired_isStrictComparable;function require_isStrictComparable(){if(hasRequired_isStrictComparable)return _isStrictComparable;hasRequired_isStrictComparable=1;var e=requireIsObject$1();function t(r){return r===r&&!e(r)}return _isStrictComparable=t,_isStrictComparable}var _getMatchData,hasRequired_getMatchData;function require_getMatchData(){if(hasRequired_getMatchData)return _getMatchData;hasRequired_getMatchData=1;var e=require_isStrictComparable(),t=requireKeys$1();function r(n){for(var o=t(n),l=o.length;l--;){var u=o[l],h=n[u];o[l]=[u,h,e(h)]}return o}return _getMatchData=r,_getMatchData}var _matchesStrictComparable,hasRequired_matchesStrictComparable;function require_matchesStrictComparable(){if(hasRequired_matchesStrictComparable)return _matchesStrictComparable;hasRequired_matchesStrictComparable=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return _matchesStrictComparable=e,_matchesStrictComparable}var _baseMatches,hasRequired_baseMatches;function require_baseMatches(){if(hasRequired_baseMatches)return _baseMatches;hasRequired_baseMatches=1;var e=require_baseIsMatch(),t=require_getMatchData(),r=require_matchesStrictComparable();function n(o){var l=t(o);return l.length==1&&l[0][2]?r(l[0][0],l[0][1]):function(u){return u===o||e(u,o,l)}}return _baseMatches=n,_baseMatches}var isSymbol_1$1,hasRequiredIsSymbol$1;function requireIsSymbol$1(){if(hasRequiredIsSymbol$1)return isSymbol_1$1;hasRequiredIsSymbol$1=1;var e=require_baseGetTag$1(),t=requireIsObjectLike$1(),r="[object Symbol]";function n(o){return typeof o=="symbol"||t(o)&&e(o)==r}return isSymbol_1$1=n,isSymbol_1$1}var _isKey$1,hasRequired_isKey$1;function require_isKey$1(){if(hasRequired_isKey$1)return _isKey$1;hasRequired_isKey$1=1;var e=requireIsArray$1(),t=requireIsSymbol$1(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function o(l,u){if(e(l))return!1;var h=typeof l;return h=="number"||h=="symbol"||h=="boolean"||l==null||t(l)?!0:n.test(l)||!r.test(l)||u!=null&&l in Object(u)}return _isKey$1=o,_isKey$1}var memoize_1$1,hasRequiredMemoize;function requireMemoize(){if(hasRequiredMemoize)return memoize_1$1;hasRequiredMemoize=1;var e=require_MapCache(),t="Expected a function";function r(n,o){if(typeof n!="function"||o!=null&&typeof o!="function")throw new TypeError(t);var l=function(){var u=arguments,h=o?o.apply(this,u):u[0],f=l.cache;if(f.has(h))return f.get(h);var d=n.apply(this,u);return l.cache=f.set(h,d)||f,d};return l.cache=new(r.Cache||e),l}return r.Cache=e,memoize_1$1=r,memoize_1$1}var _memoizeCapped$1,hasRequired_memoizeCapped$1;function require_memoizeCapped$1(){if(hasRequired_memoizeCapped$1)return _memoizeCapped$1;hasRequired_memoizeCapped$1=1;var e=requireMemoize(),t=500;function r(n){var o=e(n,function(u){return l.size===t&&l.clear(),u}),l=o.cache;return o}return _memoizeCapped$1=r,_memoizeCapped$1}var _stringToPath$1,hasRequired_stringToPath$1;function require_stringToPath$1(){if(hasRequired_stringToPath$1)return _stringToPath$1;hasRequired_stringToPath$1=1;var e=require_memoizeCapped$1(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(o){var l=[];return o.charCodeAt(0)===46&&l.push(""),o.replace(t,function(u,h,f,d){l.push(f?d.replace(r,"$1"):h||u)}),l});return _stringToPath$1=n,_stringToPath$1}var _arrayMap$1,hasRequired_arrayMap$1;function require_arrayMap$1(){if(hasRequired_arrayMap$1)return _arrayMap$1;hasRequired_arrayMap$1=1;function e(t,r){for(var n=-1,o=t==null?0:t.length,l=Array(o);++n<o;)l[n]=r(t[n],n,t);return l}return _arrayMap$1=e,_arrayMap$1}var _baseToString$1,hasRequired_baseToString$1;function require_baseToString$1(){if(hasRequired_baseToString$1)return _baseToString$1;hasRequired_baseToString$1=1;var e=require_Symbol$1(),t=require_arrayMap$1(),r=requireIsArray$1(),n=requireIsSymbol$1(),o=1/0,l=e?e.prototype:void 0,u=l?l.toString:void 0;function h(f){if(typeof f=="string")return f;if(r(f))return t(f,h)+"";if(n(f))return u?u.call(f):"";var d=f+"";return d=="0"&&1/f==-o?"-0":d}return _baseToString$1=h,_baseToString$1}var toString_1$1,hasRequiredToString$1;function requireToString$1(){if(hasRequiredToString$1)return toString_1$1;hasRequiredToString$1=1;var e=require_baseToString$1();function t(r){return r==null?"":e(r)}return toString_1$1=t,toString_1$1}var _castPath$1,hasRequired_castPath$1;function require_castPath$1(){if(hasRequired_castPath$1)return _castPath$1;hasRequired_castPath$1=1;var e=requireIsArray$1(),t=require_isKey$1(),r=require_stringToPath$1(),n=requireToString$1();function o(l,u){return e(l)?l:t(l,u)?[l]:r(n(l))}return _castPath$1=o,_castPath$1}var _toKey$1,hasRequired_toKey$1;function require_toKey$1(){if(hasRequired_toKey$1)return _toKey$1;hasRequired_toKey$1=1;var e=requireIsSymbol$1(),t=1/0;function r(n){if(typeof n=="string"||e(n))return n;var o=n+"";return o=="0"&&1/n==-t?"-0":o}return _toKey$1=r,_toKey$1}var _baseGet$1,hasRequired_baseGet$1;function require_baseGet$1(){if(hasRequired_baseGet$1)return _baseGet$1;hasRequired_baseGet$1=1;var e=require_castPath$1(),t=require_toKey$1();function r(n,o){o=e(o,n);for(var l=0,u=o.length;n!=null&&l<u;)n=n[t(o[l++])];return l&&l==u?n:void 0}return _baseGet$1=r,_baseGet$1}var get_1,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get_1;hasRequiredGet=1;var e=require_baseGet$1();function t(r,n,o){var l=r==null?void 0:e(r,n);return l===void 0?o:l}return get_1=t,get_1}var _baseHasIn$1,hasRequired_baseHasIn$1;function require_baseHasIn$1(){if(hasRequired_baseHasIn$1)return _baseHasIn$1;hasRequired_baseHasIn$1=1;function e(t,r){return t!=null&&r in Object(t)}return _baseHasIn$1=e,_baseHasIn$1}var _hasPath$1,hasRequired_hasPath$1;function require_hasPath$1(){if(hasRequired_hasPath$1)return _hasPath$1;hasRequired_hasPath$1=1;var e=require_castPath$1(),t=requireIsArguments$1(),r=requireIsArray$1(),n=require_isIndex$1(),o=requireIsLength$1(),l=require_toKey$1();function u(h,f,d){f=e(f,h);for(var p=-1,m=f.length,g=!1;++p<m;){var b=l(f[p]);if(!(g=h!=null&&d(h,b)))break;h=h[b]}return g||++p!=m?g:(m=h==null?0:h.length,!!m&&o(m)&&n(b,m)&&(r(h)||t(h)))}return _hasPath$1=u,_hasPath$1}var hasIn_1$1,hasRequiredHasIn$1;function requireHasIn$1(){if(hasRequiredHasIn$1)return hasIn_1$1;hasRequiredHasIn$1=1;var e=require_baseHasIn$1(),t=require_hasPath$1();function r(n,o){return n!=null&&t(n,o,e)}return hasIn_1$1=r,hasIn_1$1}var _baseMatchesProperty,hasRequired_baseMatchesProperty;function require_baseMatchesProperty(){if(hasRequired_baseMatchesProperty)return _baseMatchesProperty;hasRequired_baseMatchesProperty=1;var e=require_baseIsEqual(),t=requireGet(),r=requireHasIn$1(),n=require_isKey$1(),o=require_isStrictComparable(),l=require_matchesStrictComparable(),u=require_toKey$1(),h=1,f=2;function d(p,m){return n(p)&&o(m)?l(u(p),m):function(g){var b=t(g,p);return b===void 0&&b===m?r(g,p):e(m,b,h|f)}}return _baseMatchesProperty=d,_baseMatchesProperty}var _baseProperty,hasRequired_baseProperty;function require_baseProperty(){if(hasRequired_baseProperty)return _baseProperty;hasRequired_baseProperty=1;function e(t){return function(r){return r==null?void 0:r[t]}}return _baseProperty=e,_baseProperty}var _basePropertyDeep,hasRequired_basePropertyDeep;function require_basePropertyDeep(){if(hasRequired_basePropertyDeep)return _basePropertyDeep;hasRequired_basePropertyDeep=1;var e=require_baseGet$1();function t(r){return function(n){return e(n,r)}}return _basePropertyDeep=t,_basePropertyDeep}var property_1,hasRequiredProperty;function requireProperty(){if(hasRequiredProperty)return property_1;hasRequiredProperty=1;var e=require_baseProperty(),t=require_basePropertyDeep(),r=require_isKey$1(),n=require_toKey$1();function o(l){return r(l)?e(n(l)):t(l)}return property_1=o,property_1}var _baseIteratee,hasRequired_baseIteratee;function require_baseIteratee(){if(hasRequired_baseIteratee)return _baseIteratee;hasRequired_baseIteratee=1;var e=require_baseMatches(),t=require_baseMatchesProperty(),r=requireIdentity$1(),n=requireIsArray$1(),o=requireProperty();function l(u){return typeof u=="function"?u:u==null?r:typeof u=="object"?n(u)?t(u[0],u[1]):e(u):o(u)}return _baseIteratee=l,_baseIteratee}var filter_1,hasRequiredFilter;function requireFilter(){if(hasRequiredFilter)return filter_1;hasRequiredFilter=1;var e=require_arrayFilter(),t=require_baseFilter(),r=require_baseIteratee(),n=requireIsArray$1();function o(l,u){var h=n(l)?e:t;return h(l,r(u,3))}return filter_1=o,filter_1}var _baseHas$1,hasRequired_baseHas$1;function require_baseHas$1(){if(hasRequired_baseHas$1)return _baseHas$1;hasRequired_baseHas$1=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n,o){return n!=null&&t.call(n,o)}return _baseHas$1=r,_baseHas$1}var has_1$1,hasRequiredHas$1;function requireHas$1(){if(hasRequiredHas$1)return has_1$1;hasRequiredHas$1=1;var e=require_baseHas$1(),t=require_hasPath$1();function r(n,o){return n!=null&&t(n,o,e)}return has_1$1=r,has_1$1}var isEmpty_1,hasRequiredIsEmpty;function requireIsEmpty(){if(hasRequiredIsEmpty)return isEmpty_1;hasRequiredIsEmpty=1;var e=require_baseKeys$1(),t=require_getTag(),r=requireIsArguments$1(),n=requireIsArray$1(),o=requireIsArrayLike$1(),l=requireIsBuffer$1(),u=require_isPrototype$1(),h=requireIsTypedArray$1(),f="[object Map]",d="[object Set]",p=Object.prototype,m=p.hasOwnProperty;function g(b){if(b==null)return!0;if(o(b)&&(n(b)||typeof b=="string"||typeof b.splice=="function"||l(b)||h(b)||r(b)))return!b.length;var v=t(b);if(v==f||v==d)return!b.size;if(u(b))return!e(b).length;for(var T in b)if(m.call(b,T))return!1;return!0}return isEmpty_1=g,isEmpty_1}var isUndefined_1,hasRequiredIsUndefined;function requireIsUndefined(){if(hasRequiredIsUndefined)return isUndefined_1;hasRequiredIsUndefined=1;function e(t){return t===void 0}return isUndefined_1=e,isUndefined_1}var _baseMap,hasRequired_baseMap;function require_baseMap(){if(hasRequired_baseMap)return _baseMap;hasRequired_baseMap=1;var e=require_baseEach$1(),t=requireIsArrayLike$1();function r(n,o){var l=-1,u=t(n)?Array(n.length):[];return e(n,function(h,f,d){u[++l]=o(h,f,d)}),u}return _baseMap=r,_baseMap}var map_1,hasRequiredMap;function requireMap(){if(hasRequiredMap)return map_1;hasRequiredMap=1;var e=require_arrayMap$1(),t=require_baseIteratee(),r=require_baseMap(),n=requireIsArray$1();function o(l,u){var h=n(l)?e:r;return h(l,t(u,3))}return map_1=o,map_1}var _arrayReduce,hasRequired_arrayReduce;function require_arrayReduce(){if(hasRequired_arrayReduce)return _arrayReduce;hasRequired_arrayReduce=1;function e(t,r,n,o){var l=-1,u=t==null?0:t.length;for(o&&u&&(n=t[++l]);++l<u;)n=r(n,t[l],l,t);return n}return _arrayReduce=e,_arrayReduce}var _baseReduce,hasRequired_baseReduce;function require_baseReduce(){if(hasRequired_baseReduce)return _baseReduce;hasRequired_baseReduce=1;function e(t,r,n,o,l){return l(t,function(u,h,f){n=o?(o=!1,u):r(n,u,h,f)}),n}return _baseReduce=e,_baseReduce}var reduce_1,hasRequiredReduce;function requireReduce(){if(hasRequiredReduce)return reduce_1;hasRequiredReduce=1;var e=require_arrayReduce(),t=require_baseEach$1(),r=require_baseIteratee(),n=require_baseReduce(),o=requireIsArray$1();function l(u,h,f){var d=o(u)?e:n,p=arguments.length<3;return d(u,r(h,4),f,p,t)}return reduce_1=l,reduce_1}var isString_1,hasRequiredIsString;function requireIsString(){if(hasRequiredIsString)return isString_1;hasRequiredIsString=1;var e=require_baseGetTag$1(),t=requireIsArray$1(),r=requireIsObjectLike$1(),n="[object String]";function o(l){return typeof l=="string"||!t(l)&&r(l)&&e(l)==n}return isString_1=o,isString_1}var _asciiSize,hasRequired_asciiSize;function require_asciiSize(){if(hasRequired_asciiSize)return _asciiSize;hasRequired_asciiSize=1;var e=require_baseProperty(),t=e("length");return _asciiSize=t,_asciiSize}var _hasUnicode,hasRequired_hasUnicode;function require_hasUnicode(){if(hasRequired_hasUnicode)return _hasUnicode;hasRequired_hasUnicode=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",o=t+r+n,l="\\ufe0e\\ufe0f",u="\\u200d",h=RegExp("["+u+e+o+l+"]");function f(d){return h.test(d)}return _hasUnicode=f,_hasUnicode}var _unicodeSize,hasRequired_unicodeSize;function require_unicodeSize(){if(hasRequired_unicodeSize)return _unicodeSize;hasRequired_unicodeSize=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",o=t+r+n,l="\\ufe0e\\ufe0f",u="["+e+"]",h="["+o+"]",f="\\ud83c[\\udffb-\\udfff]",d="(?:"+h+"|"+f+")",p="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",v=d+"?",T="["+l+"]?",R="(?:"+b+"(?:"+[p,m,g].join("|")+")"+T+v+")*",I=T+v+R,N="(?:"+[p+h+"?",h,m,g,u].join("|")+")",q=RegExp(f+"(?="+f+")|"+N+I,"g");function F(H){for(var V=q.lastIndex=0;q.test(H);)++V;return V}return _unicodeSize=F,_unicodeSize}var _stringSize,hasRequired_stringSize;function require_stringSize(){if(hasRequired_stringSize)return _stringSize;hasRequired_stringSize=1;var e=require_asciiSize(),t=require_hasUnicode(),r=require_unicodeSize();function n(o){return t(o)?r(o):e(o)}return _stringSize=n,_stringSize}var size_1,hasRequiredSize;function requireSize(){if(hasRequiredSize)return size_1;hasRequiredSize=1;var e=require_baseKeys$1(),t=require_getTag(),r=requireIsArrayLike$1(),n=requireIsString(),o=require_stringSize(),l="[object Map]",u="[object Set]";function h(f){if(f==null)return 0;if(r(f))return n(f)?o(f):f.length;var d=t(f);return d==l||d==u?f.size:e(f).length}return size_1=h,size_1}var transform_1,hasRequiredTransform;function requireTransform(){if(hasRequiredTransform)return transform_1;hasRequiredTransform=1;var e=require_arrayEach$1(),t=require_baseCreate(),r=require_baseForOwn$1(),n=require_baseIteratee(),o=require_getPrototype$1(),l=requireIsArray$1(),u=requireIsBuffer$1(),h=requireIsFunction$1(),f=requireIsObject$1(),d=requireIsTypedArray$1();function p(m,g,b){var v=l(m),T=v||u(m)||d(m);if(g=n(g,4),b==null){var R=m&&m.constructor;T?b=v?new R:[]:f(m)?b=h(R)?t(o(m)):{}:b={}}return(T?e:r)(m,function(I,N,q){return g(b,I,N,q)}),b}return transform_1=p,transform_1}var _isFlattenable$1,hasRequired_isFlattenable$1;function require_isFlattenable$1(){if(hasRequired_isFlattenable$1)return _isFlattenable$1;hasRequired_isFlattenable$1=1;var e=require_Symbol$1(),t=requireIsArguments$1(),r=requireIsArray$1(),n=e?e.isConcatSpreadable:void 0;function o(l){return r(l)||t(l)||!!(n&&l&&l[n])}return _isFlattenable$1=o,_isFlattenable$1}var _baseFlatten$1,hasRequired_baseFlatten$1;function require_baseFlatten$1(){if(hasRequired_baseFlatten$1)return _baseFlatten$1;hasRequired_baseFlatten$1=1;var e=require_arrayPush$1(),t=require_isFlattenable$1();function r(n,o,l,u,h){var f=-1,d=n.length;for(l||(l=t),h||(h=[]);++f<d;){var p=n[f];o>0&&l(p)?o>1?r(p,o-1,l,u,h):e(h,p):u||(h[h.length]=p)}return h}return _baseFlatten$1=r,_baseFlatten$1}var _apply$1,hasRequired_apply$1;function require_apply$1(){if(hasRequired_apply$1)return _apply$1;hasRequired_apply$1=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return _apply$1=e,_apply$1}var _overRest$1,hasRequired_overRest$1;function require_overRest$1(){if(hasRequired_overRest$1)return _overRest$1;hasRequired_overRest$1=1;var e=require_apply$1(),t=Math.max;function r(n,o,l){return o=t(o===void 0?n.length-1:o,0),function(){for(var u=arguments,h=-1,f=t(u.length-o,0),d=Array(f);++h<f;)d[h]=u[o+h];h=-1;for(var p=Array(o+1);++h<o;)p[h]=u[h];return p[o]=l(d),e(n,this,p)}}return _overRest$1=r,_overRest$1}var _baseSetToString$1,hasRequired_baseSetToString$1;function require_baseSetToString$1(){if(hasRequired_baseSetToString$1)return _baseSetToString$1;hasRequired_baseSetToString$1=1;var e=requireConstant$1(),t=require_defineProperty$1(),r=requireIdentity$1(),n=t?function(o,l){return t(o,"toString",{configurable:!0,enumerable:!1,value:e(l),writable:!0})}:r;return _baseSetToString$1=n,_baseSetToString$1}var _shortOut$1,hasRequired_shortOut$1;function require_shortOut$1(){if(hasRequired_shortOut$1)return _shortOut$1;hasRequired_shortOut$1=1;var e=800,t=16,r=Date.now;function n(o){var l=0,u=0;return function(){var h=r(),f=t-(h-u);if(u=h,f>0){if(++l>=e)return arguments[0]}else l=0;return o.apply(void 0,arguments)}}return _shortOut$1=n,_shortOut$1}var _setToString$1,hasRequired_setToString$1;function require_setToString$1(){if(hasRequired_setToString$1)return _setToString$1;hasRequired_setToString$1=1;var e=require_baseSetToString$1(),t=require_shortOut$1(),r=t(e);return _setToString$1=r,_setToString$1}var _baseRest$1,hasRequired_baseRest$1;function require_baseRest$1(){if(hasRequired_baseRest$1)return _baseRest$1;hasRequired_baseRest$1=1;var e=requireIdentity$1(),t=require_overRest$1(),r=require_setToString$1();function n(o,l){return r(t(o,l,e),o+"")}return _baseRest$1=n,_baseRest$1}var _baseFindIndex,hasRequired_baseFindIndex;function require_baseFindIndex(){if(hasRequired_baseFindIndex)return _baseFindIndex;hasRequired_baseFindIndex=1;function e(t,r,n,o){for(var l=t.length,u=n+(o?1:-1);o?u--:++u<l;)if(r(t[u],u,t))return u;return-1}return _baseFindIndex=e,_baseFindIndex}var _baseIsNaN,hasRequired_baseIsNaN;function require_baseIsNaN(){if(hasRequired_baseIsNaN)return _baseIsNaN;hasRequired_baseIsNaN=1;function e(t){return t!==t}return _baseIsNaN=e,_baseIsNaN}var _strictIndexOf,hasRequired_strictIndexOf;function require_strictIndexOf(){if(hasRequired_strictIndexOf)return _strictIndexOf;hasRequired_strictIndexOf=1;function e(t,r,n){for(var o=n-1,l=t.length;++o<l;)if(t[o]===r)return o;return-1}return _strictIndexOf=e,_strictIndexOf}var _baseIndexOf,hasRequired_baseIndexOf;function require_baseIndexOf(){if(hasRequired_baseIndexOf)return _baseIndexOf;hasRequired_baseIndexOf=1;var e=require_baseFindIndex(),t=require_baseIsNaN(),r=require_strictIndexOf();function n(o,l,u){return l===l?r(o,l,u):e(o,t,u)}return _baseIndexOf=n,_baseIndexOf}var _arrayIncludes,hasRequired_arrayIncludes;function require_arrayIncludes(){if(hasRequired_arrayIncludes)return _arrayIncludes;hasRequired_arrayIncludes=1;var e=require_baseIndexOf();function t(r,n){var o=r==null?0:r.length;return!!o&&e(r,n,0)>-1}return _arrayIncludes=t,_arrayIncludes}var _arrayIncludesWith,hasRequired_arrayIncludesWith;function require_arrayIncludesWith(){if(hasRequired_arrayIncludesWith)return _arrayIncludesWith;hasRequired_arrayIncludesWith=1;function e(t,r,n){for(var o=-1,l=t==null?0:t.length;++o<l;)if(n(r,t[o]))return!0;return!1}return _arrayIncludesWith=e,_arrayIncludesWith}var noop_1,hasRequiredNoop;function requireNoop(){if(hasRequiredNoop)return noop_1;hasRequiredNoop=1;function e(){}return noop_1=e,noop_1}var _createSet,hasRequired_createSet;function require_createSet(){if(hasRequired_createSet)return _createSet;hasRequired_createSet=1;var e=require_Set(),t=requireNoop(),r=require_setToArray(),n=1/0,o=e&&1/r(new e([,-0]))[1]==n?function(l){return new e(l)}:t;return _createSet=o,_createSet}var _baseUniq,hasRequired_baseUniq;function require_baseUniq(){if(hasRequired_baseUniq)return _baseUniq;hasRequired_baseUniq=1;var e=require_SetCache(),t=require_arrayIncludes(),r=require_arrayIncludesWith(),n=require_cacheHas(),o=require_createSet(),l=require_setToArray(),u=200;function h(f,d,p){var m=-1,g=t,b=f.length,v=!0,T=[],R=T;if(p)v=!1,g=r;else if(b>=u){var I=d?null:o(f);if(I)return l(I);v=!1,g=n,R=new e}else R=d?[]:T;e:for(;++m<b;){var N=f[m],q=d?d(N):N;if(N=p||N!==0?N:0,v&&q===q){for(var F=R.length;F--;)if(R[F]===q)continue e;d&&R.push(q),T.push(N)}else g(R,q,p)||(R!==T&&R.push(q),T.push(N))}return T}return _baseUniq=h,_baseUniq}var isArrayLikeObject_1,hasRequiredIsArrayLikeObject;function requireIsArrayLikeObject(){if(hasRequiredIsArrayLikeObject)return isArrayLikeObject_1;hasRequiredIsArrayLikeObject=1;var e=requireIsArrayLike$1(),t=requireIsObjectLike$1();function r(n){return t(n)&&e(n)}return isArrayLikeObject_1=r,isArrayLikeObject_1}var union_1,hasRequiredUnion;function requireUnion(){if(hasRequiredUnion)return union_1;hasRequiredUnion=1;var e=require_baseFlatten$1(),t=require_baseRest$1(),r=require_baseUniq(),n=requireIsArrayLikeObject(),o=t(function(l){return r(e(l,1,n,!0))});return union_1=o,union_1}var _baseValues,hasRequired_baseValues;function require_baseValues(){if(hasRequired_baseValues)return _baseValues;hasRequired_baseValues=1;var e=require_arrayMap$1();function t(r,n){return e(n,function(o){return r[o]})}return _baseValues=t,_baseValues}var values_1,hasRequiredValues;function requireValues(){if(hasRequiredValues)return values_1;hasRequiredValues=1;var e=require_baseValues(),t=requireKeys$1();function r(n){return n==null?[]:e(n,t(n))}return values_1=r,values_1}var lodash$3;if(typeof commonjsRequire$1=="function")try{lodash$3={clone:requireClone(),constant:requireConstant$1(),each:requireEach$1(),filter:requireFilter(),has:requireHas$1(),isArray:requireIsArray$1(),isEmpty:requireIsEmpty(),isFunction:requireIsFunction$1(),isUndefined:requireIsUndefined(),keys:requireKeys$1(),map:requireMap(),reduce:requireReduce(),size:requireSize(),transform:requireTransform(),union:requireUnion(),values:requireValues()}}catch{}lodash$3||(lodash$3=window._);var lodash_1$3=lodash$3,_$C=lodash_1$3,graph=Graph$a,DEFAULT_EDGE_NAME="\0",GRAPH_NODE="\0",EDGE_KEY_DELIM="";function Graph$a(e){this._isDirected=_$C.has(e,"directed")?e.directed:!0,this._isMultigraph=_$C.has(e,"multigraph")?e.multigraph:!1,this._isCompound=_$C.has(e,"compound")?e.compound:!1,this._label=void 0,this._defaultNodeLabelFn=_$C.constant(void 0),this._defaultEdgeLabelFn=_$C.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[GRAPH_NODE]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}Graph$a.prototype._nodeCount=0;Graph$a.prototype._edgeCount=0;Graph$a.prototype.isDirected=function(){return this._isDirected};Graph$a.prototype.isMultigraph=function(){return this._isMultigraph};Graph$a.prototype.isCompound=function(){return this._isCompound};Graph$a.prototype.setGraph=function(e){return this._label=e,this};Graph$a.prototype.graph=function(){return this._label};Graph$a.prototype.setDefaultNodeLabel=function(e){return _$C.isFunction(e)||(e=_$C.constant(e)),this._defaultNodeLabelFn=e,this};Graph$a.prototype.nodeCount=function(){return this._nodeCount};Graph$a.prototype.nodes=function(){return _$C.keys(this._nodes)};Graph$a.prototype.sources=function(){var e=this;return _$C.filter(this.nodes(),function(t){return _$C.isEmpty(e._in[t])})};Graph$a.prototype.sinks=function(){var e=this;return _$C.filter(this.nodes(),function(t){return _$C.isEmpty(e._out[t])})};Graph$a.prototype.setNodes=function(e,t){var r=arguments,n=this;return _$C.each(e,function(o){r.length>1?n.setNode(o,t):n.setNode(o)}),this};Graph$a.prototype.setNode=function(e,t){return _$C.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=GRAPH_NODE,this._children[e]={},this._children[GRAPH_NODE][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)};Graph$a.prototype.node=function(e){return this._nodes[e]};Graph$a.prototype.hasNode=function(e){return _$C.has(this._nodes,e)};Graph$a.prototype.removeNode=function(e){var t=this;if(_$C.has(this._nodes,e)){var r=function(n){t.removeEdge(t._edgeObjs[n])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],_$C.each(this.children(e),function(n){t.setParent(n)}),delete this._children[e]),_$C.each(_$C.keys(this._in[e]),r),delete this._in[e],delete this._preds[e],_$C.each(_$C.keys(this._out[e]),r),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this};Graph$a.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(_$C.isUndefined(t))t=GRAPH_NODE;else{t+="";for(var r=t;!_$C.isUndefined(r);r=this.parent(r))if(r===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this};Graph$a.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]};Graph$a.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==GRAPH_NODE)return t}};Graph$a.prototype.children=function(e){if(_$C.isUndefined(e)&&(e=GRAPH_NODE),this._isCompound){var t=this._children[e];if(t)return _$C.keys(t)}else{if(e===GRAPH_NODE)return this.nodes();if(this.hasNode(e))return[]}};Graph$a.prototype.predecessors=function(e){var t=this._preds[e];if(t)return _$C.keys(t)};Graph$a.prototype.successors=function(e){var t=this._sucs[e];if(t)return _$C.keys(t)};Graph$a.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return _$C.union(t,this.successors(e))};Graph$a.prototype.isLeaf=function(e){var t;return this.isDirected()?t=this.successors(e):t=this.neighbors(e),t.length===0};Graph$a.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var r=this;_$C.each(this._nodes,function(l,u){e(u)&&t.setNode(u,l)}),_$C.each(this._edgeObjs,function(l){t.hasNode(l.v)&&t.hasNode(l.w)&&t.setEdge(l,r.edge(l))});var n={};function o(l){var u=r.parent(l);return u===void 0||t.hasNode(u)?(n[l]=u,u):u in n?n[u]:o(u)}return this._isCompound&&_$C.each(t.nodes(),function(l){t.setParent(l,o(l))}),t};Graph$a.prototype.setDefaultEdgeLabel=function(e){return _$C.isFunction(e)||(e=_$C.constant(e)),this._defaultEdgeLabelFn=e,this};Graph$a.prototype.edgeCount=function(){return this._edgeCount};Graph$a.prototype.edges=function(){return _$C.values(this._edgeObjs)};Graph$a.prototype.setPath=function(e,t){var r=this,n=arguments;return _$C.reduce(e,function(o,l){return n.length>1?r.setEdge(o,l,t):r.setEdge(o,l),l}),this};Graph$a.prototype.setEdge=function(){var e,t,r,n,o=!1,l=arguments[0];typeof l=="object"&&l!==null&&"v"in l?(e=l.v,t=l.w,r=l.name,arguments.length===2&&(n=arguments[1],o=!0)):(e=l,t=arguments[1],r=arguments[3],arguments.length>2&&(n=arguments[2],o=!0)),e=""+e,t=""+t,_$C.isUndefined(r)||(r=""+r);var u=edgeArgsToId(this._isDirected,e,t,r);if(_$C.has(this._edgeLabels,u))return o&&(this._edgeLabels[u]=n),this;if(!_$C.isUndefined(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[u]=o?n:this._defaultEdgeLabelFn(e,t,r);var h=edgeArgsToObj(this._isDirected,e,t,r);return e=h.v,t=h.w,Object.freeze(h),this._edgeObjs[u]=h,incrementOrInitEntry(this._preds[t],e),incrementOrInitEntry(this._sucs[e],t),this._in[t][u]=h,this._out[e][u]=h,this._edgeCount++,this};Graph$a.prototype.edge=function(e,t,r){var n=arguments.length===1?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,e,t,r);return this._edgeLabels[n]};Graph$a.prototype.hasEdge=function(e,t,r){var n=arguments.length===1?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,e,t,r);return _$C.has(this._edgeLabels,n)};Graph$a.prototype.removeEdge=function(e,t,r){var n=arguments.length===1?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,e,t,r),o=this._edgeObjs[n];return o&&(e=o.v,t=o.w,delete this._edgeLabels[n],delete this._edgeObjs[n],decrementOrRemoveEntry(this._preds[t],e),decrementOrRemoveEntry(this._sucs[e],t),delete this._in[t][n],delete this._out[e][n],this._edgeCount--),this};Graph$a.prototype.inEdges=function(e,t){var r=this._in[e];if(r){var n=_$C.values(r);return t?_$C.filter(n,function(o){return o.v===t}):n}};Graph$a.prototype.outEdges=function(e,t){var r=this._out[e];if(r){var n=_$C.values(r);return t?_$C.filter(n,function(o){return o.w===t}):n}};Graph$a.prototype.nodeEdges=function(e,t){var r=this.inEdges(e,t);if(r)return r.concat(this.outEdges(e,t))};function incrementOrInitEntry(e,t){e[t]?e[t]++:e[t]=1}function decrementOrRemoveEntry(e,t){--e[t]||delete e[t]}function edgeArgsToId(e,t,r,n){var o=""+t,l=""+r;if(!e&&o>l){var u=o;o=l,l=u}return o+EDGE_KEY_DELIM+l+EDGE_KEY_DELIM+(_$C.isUndefined(n)?DEFAULT_EDGE_NAME:n)}function edgeArgsToObj(e,t,r,n){var o=""+t,l=""+r;if(!e&&o>l){var u=o;o=l,l=u}var h={v:o,w:l};return n&&(h.name=n),h}function edgeObjToId(e,t){return edgeArgsToId(e,t.v,t.w,t.name)}var version$5="2.1.8",lib$1={Graph:graph,version:version$5},_$B=lodash_1$3,Graph$9=graph,json$1={write,read};function write(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:writeNodes(e),edges:writeEdges(e)};return _$B.isUndefined(e.graph())||(t.value=_$B.clone(e.graph())),t}function writeNodes(e){return _$B.map(e.nodes(),function(t){var r=e.node(t),n=e.parent(t),o={v:t};return _$B.isUndefined(r)||(o.value=r),_$B.isUndefined(n)||(o.parent=n),o})}function writeEdges(e){return _$B.map(e.edges(),function(t){var r=e.edge(t),n={v:t.v,w:t.w};return _$B.isUndefined(t.name)||(n.name=t.name),_$B.isUndefined(r)||(n.value=r),n})}function read(e){var t=new Graph$9(e.options).setGraph(e.value);return _$B.each(e.nodes,function(r){t.setNode(r.v,r.value),r.parent&&t.setParent(r.v,r.parent)}),_$B.each(e.edges,function(r){t.setEdge({v:r.v,w:r.w,name:r.name},r.value)}),t}var _$A=lodash_1$3,components_1=components;function components(e){var t={},r=[],n;function o(l){_$A.has(t,l)||(t[l]=!0,n.push(l),_$A.each(e.successors(l),o),_$A.each(e.predecessors(l),o))}return _$A.each(e.nodes(),function(l){n=[],o(l),n.length&&r.push(n)}),r}var _$z=lodash_1$3,priorityQueue=PriorityQueue$2;function PriorityQueue$2(){this._arr=[],this._keyIndices={}}PriorityQueue$2.prototype.size=function(){return this._arr.length};PriorityQueue$2.prototype.keys=function(){return this._arr.map(function(e){return e.key})};PriorityQueue$2.prototype.has=function(e){return _$z.has(this._keyIndices,e)};PriorityQueue$2.prototype.priority=function(e){var t=this._keyIndices[e];if(t!==void 0)return this._arr[t].priority};PriorityQueue$2.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key};PriorityQueue$2.prototype.add=function(e,t){var r=this._keyIndices;if(e=String(e),!_$z.has(r,e)){var n=this._arr,o=n.length;return r[e]=o,n.push({key:e,priority:t}),this._decrease(o),!0}return!1};PriorityQueue$2.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key};PriorityQueue$2.prototype.decrease=function(e,t){var r=this._keyIndices[e];if(t>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[r].priority+" New: "+t);this._arr[r].priority=t,this._decrease(r)};PriorityQueue$2.prototype._heapify=function(e){var t=this._arr,r=2*e,n=r+1,o=e;r<t.length&&(o=t[r].priority<t[o].priority?r:o,n<t.length&&(o=t[n].priority<t[o].priority?n:o),o!==e&&(this._swap(e,o),this._heapify(o)))};PriorityQueue$2.prototype._decrease=function(e){for(var t=this._arr,r=t[e].priority,n;e!==0&&(n=e>>1,!(t[n].priority<r));)this._swap(e,n),e=n};PriorityQueue$2.prototype._swap=function(e,t){var r=this._arr,n=this._keyIndices,o=r[e],l=r[t];r[e]=l,r[t]=o,n[l.key]=e,n[o.key]=t};var _$y=lodash_1$3,PriorityQueue$1=priorityQueue,dijkstra_1=dijkstra$1,DEFAULT_WEIGHT_FUNC$1=_$y.constant(1);function dijkstra$1(e,t,r,n){return runDijkstra(e,String(t),r||DEFAULT_WEIGHT_FUNC$1,n||function(o){return e.outEdges(o)})}function runDijkstra(e,t,r,n){var o={},l=new PriorityQueue$1,u,h,f=function(d){var p=d.v!==u?d.v:d.w,m=o[p],g=r(d),b=h.distance+g;if(g<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+d+" Weight: "+g);b<m.distance&&(m.distance=b,m.predecessor=u,l.decrease(p,b))};for(e.nodes().forEach(function(d){var p=d===t?0:Number.POSITIVE_INFINITY;o[d]={distance:p},l.add(d,p)});l.size()>0&&(u=l.removeMin(),h=o[u],h.distance!==Number.POSITIVE_INFINITY);)n(u).forEach(f);return o}var dijkstra=dijkstra_1,_$x=lodash_1$3,dijkstraAll_1=dijkstraAll;function dijkstraAll(e,t,r){return _$x.transform(e.nodes(),function(n,o){n[o]=dijkstra(e,o,t,r)},{})}var _$w=lodash_1$3,tarjan_1=tarjan$1;function tarjan$1(e){var t=0,r=[],n={},o=[];function l(u){var h=n[u]={onStack:!0,lowlink:t,index:t++};if(r.push(u),e.successors(u).forEach(function(p){_$w.has(n,p)?n[p].onStack&&(h.lowlink=Math.min(h.lowlink,n[p].index)):(l(p),h.lowlink=Math.min(h.lowlink,n[p].lowlink))}),h.lowlink===h.index){var f=[],d;do d=r.pop(),n[d].onStack=!1,f.push(d);while(u!==d);o.push(f)}}return e.nodes().forEach(function(u){_$w.has(n,u)||l(u)}),o}var _$v=lodash_1$3,tarjan=tarjan_1,findCycles_1=findCycles;function findCycles(e){return _$v.filter(tarjan(e),function(t){return t.length>1||t.length===1&&e.hasEdge(t[0],t[0])})}var _$u=lodash_1$3,floydWarshall_1=floydWarshall,DEFAULT_WEIGHT_FUNC=_$u.constant(1);function floydWarshall(e,t,r){return runFloydWarshall(e,t||DEFAULT_WEIGHT_FUNC,r||function(n){return e.outEdges(n)})}function runFloydWarshall(e,t,r){var n={},o=e.nodes();return o.forEach(function(l){n[l]={},n[l][l]={distance:0},o.forEach(function(u){l!==u&&(n[l][u]={distance:Number.POSITIVE_INFINITY})}),r(l).forEach(function(u){var h=u.v===l?u.w:u.v,f=t(u);n[l][h]={distance:f,predecessor:l}})}),o.forEach(function(l){var u=n[l];o.forEach(function(h){var f=n[h];o.forEach(function(d){var p=f[l],m=u[d],g=f[d],b=p.distance+m.distance;b<g.distance&&(g.distance=b,g.predecessor=m.predecessor)})})}),n}var _$t=lodash_1$3,topsort_1=topsort$1;topsort$1.CycleException=CycleException;function topsort$1(e){var t={},r={},n=[];function o(l){if(_$t.has(r,l))throw new CycleException;_$t.has(t,l)||(r[l]=!0,t[l]=!0,_$t.each(e.predecessors(l),o),delete r[l],n.push(l))}if(_$t.each(e.sinks(),o),_$t.size(t)!==e.nodeCount())throw new CycleException;return n}function CycleException(){}CycleException.prototype=new Error;var topsort=topsort_1,isAcyclic_1=isAcyclic;function isAcyclic(e){try{topsort(e)}catch(t){if(t instanceof topsort.CycleException)return!1;throw t}return!0}var _$s=lodash_1$3,dfs_1=dfs$3;function dfs$3(e,t,r){_$s.isArray(t)||(t=[t]);var n=(e.isDirected()?e.successors:e.neighbors).bind(e),o=[],l={};return _$s.each(t,function(u){if(!e.hasNode(u))throw new Error("Graph does not have node: "+u);doDfs(e,u,r==="post",l,n,o)}),o}function doDfs(e,t,r,n,o,l){_$s.has(n,t)||(n[t]=!0,r||l.push(t),_$s.each(o(t),function(u){doDfs(e,u,r,n,o,l)}),r&&l.push(t))}var dfs$2=dfs_1,postorder_1=postorder$2;function postorder$2(e,t){return dfs$2(e,t,"post")}var dfs$1=dfs_1,preorder_1=preorder$1;function preorder$1(e,t){return dfs$1(e,t,"pre")}var _$r=lodash_1$3,Graph$8=graph,PriorityQueue=priorityQueue,prim_1=prim;function prim(e,t){var r=new Graph$8,n={},o=new PriorityQueue,l;function u(f){var d=f.v===l?f.w:f.v,p=o.priority(d);if(p!==void 0){var m=t(f);m<p&&(n[d]=l,o.decrease(d,m))}}if(e.nodeCount()===0)return r;_$r.each(e.nodes(),function(f){o.add(f,Number.POSITIVE_INFINITY),r.setNode(f)}),o.decrease(e.nodes()[0],0);for(var h=!1;o.size()>0;){if(l=o.removeMin(),_$r.has(n,l))r.setEdge(l,n[l]);else{if(h)throw new Error("Input graph is not connected: "+e);h=!0}e.nodeEdges(l).forEach(u)}return r}var alg={components:components_1,dijkstra:dijkstra_1,dijkstraAll:dijkstraAll_1,findCycles:findCycles_1,floydWarshall:floydWarshall_1,isAcyclic:isAcyclic_1,postorder:postorder_1,preorder:preorder_1,prim:prim_1,tarjan:tarjan_1,topsort:topsort_1},lib=lib$1,graphlib$2={Graph:lib.Graph,json:json$1,alg,version:lib.version},graphlib$1;if(typeof commonjsRequire$1=="function")try{graphlib$1=graphlib$2}catch{}graphlib$1||(graphlib$1=window.graphlib);var graphlib_1$1=graphlib$1,cloneDeep_1,hasRequiredCloneDeep;function requireCloneDeep(){if(hasRequiredCloneDeep)return cloneDeep_1;hasRequiredCloneDeep=1;var e=require_baseClone(),t=1,r=4;function n(o){return e(o,t|r)}return cloneDeep_1=n,cloneDeep_1}var _isIterateeCall$1,hasRequired_isIterateeCall$1;function require_isIterateeCall$1(){if(hasRequired_isIterateeCall$1)return _isIterateeCall$1;hasRequired_isIterateeCall$1=1;var e=requireEq$1(),t=requireIsArrayLike$1(),r=require_isIndex$1(),n=requireIsObject$1();function o(l,u,h){if(!n(h))return!1;var f=typeof u;return(f=="number"?t(h)&&r(u,h.length):f=="string"&&u in h)?e(h[u],l):!1}return _isIterateeCall$1=o,_isIterateeCall$1}var defaults_1$1,hasRequiredDefaults$1;function requireDefaults$1(){if(hasRequiredDefaults$1)return defaults_1$1;hasRequiredDefaults$1=1;var e=require_baseRest$1(),t=requireEq$1(),r=require_isIterateeCall$1(),n=requireKeysIn$1(),o=Object.prototype,l=o.hasOwnProperty,u=e(function(h,f){h=Object(h);var d=-1,p=f.length,m=p>2?f[2]:void 0;for(m&&r(f[0],f[1],m)&&(p=1);++d<p;)for(var g=f[d],b=n(g),v=-1,T=b.length;++v<T;){var R=b[v],I=h[R];(I===void 0||t(I,o[R])&&!l.call(h,R))&&(h[R]=g[R])}return h});return defaults_1$1=u,defaults_1$1}var _createFind,hasRequired_createFind;function require_createFind(){if(hasRequired_createFind)return _createFind;hasRequired_createFind=1;var e=require_baseIteratee(),t=requireIsArrayLike$1(),r=requireKeys$1();function n(o){return function(l,u,h){var f=Object(l);if(!t(l)){var d=e(u,3);l=r(l),u=function(m){return d(f[m],m,f)}}var p=o(l,u,h);return p>-1?f[d?l[p]:p]:void 0}}return _createFind=n,_createFind}var _trimmedEndIndex$1,hasRequired_trimmedEndIndex$1;function require_trimmedEndIndex$1(){if(hasRequired_trimmedEndIndex$1)return _trimmedEndIndex$1;hasRequired_trimmedEndIndex$1=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return _trimmedEndIndex$1=t,_trimmedEndIndex$1}var _baseTrim$1,hasRequired_baseTrim$1;function require_baseTrim$1(){if(hasRequired_baseTrim$1)return _baseTrim$1;hasRequired_baseTrim$1=1;var e=require_trimmedEndIndex$1(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return _baseTrim$1=r,_baseTrim$1}var toNumber_1$1,hasRequiredToNumber$1;function requireToNumber$1(){if(hasRequiredToNumber$1)return toNumber_1$1;hasRequiredToNumber$1=1;var e=require_baseTrim$1(),t=requireIsObject$1(),r=requireIsSymbol$1(),n=0/0,o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,h=parseInt;function f(d){if(typeof d=="number")return d;if(r(d))return n;if(t(d)){var p=typeof d.valueOf=="function"?d.valueOf():d;d=t(p)?p+"":p}if(typeof d!="string")return d===0?d:+d;d=e(d);var m=l.test(d);return m||u.test(d)?h(d.slice(2),m?2:8):o.test(d)?n:+d}return toNumber_1$1=f,toNumber_1$1}var toFinite_1$1,hasRequiredToFinite$1;function requireToFinite$1(){if(hasRequiredToFinite$1)return toFinite_1$1;hasRequiredToFinite$1=1;var e=requireToNumber$1(),t=1/0,r=17976931348623157e292;function n(o){if(!o)return o===0?o:0;if(o=e(o),o===t||o===-t){var l=o<0?-1:1;return l*r}return o===o?o:0}return toFinite_1$1=n,toFinite_1$1}var toInteger_1,hasRequiredToInteger;function requireToInteger(){if(hasRequiredToInteger)return toInteger_1;hasRequiredToInteger=1;var e=requireToFinite$1();function t(r){var n=e(r),o=n%1;return n===n?o?n-o:n:0}return toInteger_1=t,toInteger_1}var findIndex_1,hasRequiredFindIndex;function requireFindIndex(){if(hasRequiredFindIndex)return findIndex_1;hasRequiredFindIndex=1;var e=require_baseFindIndex(),t=require_baseIteratee(),r=requireToInteger(),n=Math.max;function o(l,u,h){var f=l==null?0:l.length;if(!f)return-1;var d=h==null?0:r(h);return d<0&&(d=n(f+d,0)),e(l,t(u,3),d)}return findIndex_1=o,findIndex_1}var find_1,hasRequiredFind;function requireFind(){if(hasRequiredFind)return find_1;hasRequiredFind=1;var e=require_createFind(),t=requireFindIndex(),r=e(t);return find_1=r,find_1}var flatten_1$1,hasRequiredFlatten$1;function requireFlatten$1(){if(hasRequiredFlatten$1)return flatten_1$1;hasRequiredFlatten$1=1;var e=require_baseFlatten$1();function t(r){var n=r==null?0:r.length;return n?e(r,1):[]}return flatten_1$1=t,flatten_1$1}var forIn_1,hasRequiredForIn;function requireForIn(){if(hasRequiredForIn)return forIn_1;hasRequiredForIn=1;var e=require_baseFor$1(),t=require_castFunction$1(),r=requireKeysIn$1();function n(o,l){return o==null?o:e(o,t(l),r)}return forIn_1=n,forIn_1}var last_1,hasRequiredLast;function requireLast(){if(hasRequiredLast)return last_1;hasRequiredLast=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return last_1=e,last_1}var mapValues_1,hasRequiredMapValues;function requireMapValues(){if(hasRequiredMapValues)return mapValues_1;hasRequiredMapValues=1;var e=require_baseAssignValue$1(),t=require_baseForOwn$1(),r=require_baseIteratee();function n(o,l){var u={};return l=r(l,3),t(o,function(h,f,d){e(u,f,l(h,f,d))}),u}return mapValues_1=n,mapValues_1}var _baseExtremum,hasRequired_baseExtremum;function require_baseExtremum(){if(hasRequired_baseExtremum)return _baseExtremum;hasRequired_baseExtremum=1;var e=requireIsSymbol$1();function t(r,n,o){for(var l=-1,u=r.length;++l<u;){var h=r[l],f=n(h);if(f!=null&&(d===void 0?f===f&&!e(f):o(f,d)))var d=f,p=h}return p}return _baseExtremum=t,_baseExtremum}var _baseGt,hasRequired_baseGt;function require_baseGt(){if(hasRequired_baseGt)return _baseGt;hasRequired_baseGt=1;function e(t,r){return t>r}return _baseGt=e,_baseGt}var max_1,hasRequiredMax;function requireMax(){if(hasRequiredMax)return max_1;hasRequiredMax=1;var e=require_baseExtremum(),t=require_baseGt(),r=requireIdentity$1();function n(o){return o&&o.length?e(o,r,t):void 0}return max_1=n,max_1}var _assignMergeValue,hasRequired_assignMergeValue;function require_assignMergeValue(){if(hasRequired_assignMergeValue)return _assignMergeValue;hasRequired_assignMergeValue=1;var e=require_baseAssignValue$1(),t=requireEq$1();function r(n,o,l){(l!==void 0&&!t(n[o],l)||l===void 0&&!(o in n))&&e(n,o,l)}return _assignMergeValue=r,_assignMergeValue}var isPlainObject_1$1,hasRequiredIsPlainObject$1;function requireIsPlainObject$1(){if(hasRequiredIsPlainObject$1)return isPlainObject_1$1;hasRequiredIsPlainObject$1=1;var e=require_baseGetTag$1(),t=require_getPrototype$1(),r=requireIsObjectLike$1(),n="[object Object]",o=Function.prototype,l=Object.prototype,u=o.toString,h=l.hasOwnProperty,f=u.call(Object);function d(p){if(!r(p)||e(p)!=n)return!1;var m=t(p);if(m===null)return!0;var g=h.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&u.call(g)==f}return isPlainObject_1$1=d,isPlainObject_1$1}var _safeGet,hasRequired_safeGet;function require_safeGet(){if(hasRequired_safeGet)return _safeGet;hasRequired_safeGet=1;function e(t,r){if(!(r==="constructor"&&typeof t[r]=="function")&&r!="__proto__")return t[r]}return _safeGet=e,_safeGet}var toPlainObject_1,hasRequiredToPlainObject;function requireToPlainObject(){if(hasRequiredToPlainObject)return toPlainObject_1;hasRequiredToPlainObject=1;var e=require_copyObject(),t=requireKeysIn$1();function r(n){return e(n,t(n))}return toPlainObject_1=r,toPlainObject_1}var _baseMergeDeep,hasRequired_baseMergeDeep;function require_baseMergeDeep(){if(hasRequired_baseMergeDeep)return _baseMergeDeep;hasRequired_baseMergeDeep=1;var e=require_assignMergeValue(),t=require_cloneBuffer(),r=require_cloneTypedArray(),n=require_copyArray(),o=require_initCloneObject(),l=requireIsArguments$1(),u=requireIsArray$1(),h=requireIsArrayLikeObject(),f=requireIsBuffer$1(),d=requireIsFunction$1(),p=requireIsObject$1(),m=requireIsPlainObject$1(),g=requireIsTypedArray$1(),b=require_safeGet(),v=requireToPlainObject();function T(R,I,N,q,F,H,V){var z=b(R,N),G=b(I,N),P=V.get(G);if(P){e(R,N,P);return}var W=H?H(z,G,N+"",R,I,V):void 0,S=W===void 0;if(S){var U=u(G),L=!U&&f(G),ae=!U&&!L&&g(G);W=G,U||L||ae?u(z)?W=z:h(z)?W=n(z):L?(S=!1,W=t(G,!0)):ae?(S=!1,W=r(G,!0)):W=[]:m(G)||l(G)?(W=z,l(z)?W=v(z):(!p(z)||d(z))&&(W=o(G))):S=!1}S&&(V.set(G,W),F(W,G,q,H,V),V.delete(G)),e(R,N,W)}return _baseMergeDeep=T,_baseMergeDeep}var _baseMerge,hasRequired_baseMerge;function require_baseMerge(){if(hasRequired_baseMerge)return _baseMerge;hasRequired_baseMerge=1;var e=require_Stack(),t=require_assignMergeValue(),r=require_baseFor$1(),n=require_baseMergeDeep(),o=requireIsObject$1(),l=requireKeysIn$1(),u=require_safeGet();function h(f,d,p,m,g){f!==d&&r(d,function(b,v){if(g||(g=new e),o(b))n(f,d,v,p,h,m,g);else{var T=m?m(u(f,v),b,v+"",f,d,g):void 0;T===void 0&&(T=b),t(f,v,T)}},l)}return _baseMerge=h,_baseMerge}var _createAssigner,hasRequired_createAssigner;function require_createAssigner(){if(hasRequired_createAssigner)return _createAssigner;hasRequired_createAssigner=1;var e=require_baseRest$1(),t=require_isIterateeCall$1();function r(n){return e(function(o,l){var u=-1,h=l.length,f=h>1?l[h-1]:void 0,d=h>2?l[2]:void 0;for(f=n.length>3&&typeof f=="function"?(h--,f):void 0,d&&t(l[0],l[1],d)&&(f=h<3?void 0:f,h=1),o=Object(o);++u<h;){var p=l[u];p&&n(o,p,u,f)}return o})}return _createAssigner=r,_createAssigner}var merge_1,hasRequiredMerge;function requireMerge(){if(hasRequiredMerge)return merge_1;hasRequiredMerge=1;var e=require_baseMerge(),t=require_createAssigner(),r=t(function(n,o,l){e(n,o,l)});return merge_1=r,merge_1}var _baseLt,hasRequired_baseLt;function require_baseLt(){if(hasRequired_baseLt)return _baseLt;hasRequired_baseLt=1;function e(t,r){return t<r}return _baseLt=e,_baseLt}var min_1,hasRequiredMin;function requireMin(){if(hasRequiredMin)return min_1;hasRequiredMin=1;var e=require_baseExtremum(),t=require_baseLt(),r=requireIdentity$1();function n(o){return o&&o.length?e(o,r,t):void 0}return min_1=n,min_1}var minBy_1,hasRequiredMinBy;function requireMinBy(){if(hasRequiredMinBy)return minBy_1;hasRequiredMinBy=1;var e=require_baseExtremum(),t=require_baseIteratee(),r=require_baseLt();function n(o,l){return o&&o.length?e(o,t(l,2),r):void 0}return minBy_1=n,minBy_1}var now_1,hasRequiredNow;function requireNow(){if(hasRequiredNow)return now_1;hasRequiredNow=1;var e=require_root$1(),t=function(){return e.Date.now()};return now_1=t,now_1}var _baseSet$1,hasRequired_baseSet$1;function require_baseSet$1(){if(hasRequired_baseSet$1)return _baseSet$1;hasRequired_baseSet$1=1;var e=require_assignValue$1(),t=require_castPath$1(),r=require_isIndex$1(),n=requireIsObject$1(),o=require_toKey$1();function l(u,h,f,d){if(!n(u))return u;h=t(h,u);for(var p=-1,m=h.length,g=m-1,b=u;b!=null&&++p<m;){var v=o(h[p]),T=f;if(v==="__proto__"||v==="constructor"||v==="prototype")return u;if(p!=g){var R=b[v];T=d?d(R,v,b):void 0,T===void 0&&(T=n(R)?R:r(h[p+1])?[]:{})}e(b,v,T),b=b[v]}return u}return _baseSet$1=l,_baseSet$1}var _basePickBy$1,hasRequired_basePickBy$1;function require_basePickBy$1(){if(hasRequired_basePickBy$1)return _basePickBy$1;hasRequired_basePickBy$1=1;var e=require_baseGet$1(),t=require_baseSet$1(),r=require_castPath$1();function n(o,l,u){for(var h=-1,f=l.length,d={};++h<f;){var p=l[h],m=e(o,p);u(m,p)&&t(d,r(p,o),m)}return d}return _basePickBy$1=n,_basePickBy$1}var _basePick$1,hasRequired_basePick$1;function require_basePick$1(){if(hasRequired_basePick$1)return _basePick$1;hasRequired_basePick$1=1;var e=require_basePickBy$1(),t=requireHasIn$1();function r(n,o){return e(n,o,function(l,u){return t(n,u)})}return _basePick$1=r,_basePick$1}var _flatRest$1,hasRequired_flatRest$1;function require_flatRest$1(){if(hasRequired_flatRest$1)return _flatRest$1;hasRequired_flatRest$1=1;var e=requireFlatten$1(),t=require_overRest$1(),r=require_setToString$1();function n(o){return r(t(o,void 0,e),o+"")}return _flatRest$1=n,_flatRest$1}var pick_1$1,hasRequiredPick$1;function requirePick$1(){if(hasRequiredPick$1)return pick_1$1;hasRequiredPick$1=1;var e=require_basePick$1(),t=require_flatRest$1(),r=t(function(n,o){return n==null?{}:e(n,o)});return pick_1$1=r,pick_1$1}var _baseRange$1,hasRequired_baseRange$1;function require_baseRange$1(){if(hasRequired_baseRange$1)return _baseRange$1;hasRequired_baseRange$1=1;var e=Math.ceil,t=Math.max;function r(n,o,l,u){for(var h=-1,f=t(e((o-n)/(l||1)),0),d=Array(f);f--;)d[u?f:++h]=n,n+=l;return d}return _baseRange$1=r,_baseRange$1}var _createRange$1,hasRequired_createRange$1;function require_createRange$1(){if(hasRequired_createRange$1)return _createRange$1;hasRequired_createRange$1=1;var e=require_baseRange$1(),t=require_isIterateeCall$1(),r=requireToFinite$1();function n(o){return function(l,u,h){return h&&typeof h!="number"&&t(l,u,h)&&(u=h=void 0),l=r(l),u===void 0?(u=l,l=0):u=r(u),h=h===void 0?l<u?1:-1:r(h),e(l,u,h,o)}}return _createRange$1=n,_createRange$1}var range_1$1,hasRequiredRange$1;function requireRange$1(){if(hasRequiredRange$1)return range_1$1;hasRequiredRange$1=1;var e=require_createRange$1(),t=e();return range_1$1=t,range_1$1}var _baseSortBy,hasRequired_baseSortBy;function require_baseSortBy(){if(hasRequired_baseSortBy)return _baseSortBy;hasRequired_baseSortBy=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return _baseSortBy=e,_baseSortBy}var _compareAscending,hasRequired_compareAscending;function require_compareAscending(){if(hasRequired_compareAscending)return _compareAscending;hasRequired_compareAscending=1;var e=requireIsSymbol$1();function t(r,n){if(r!==n){var o=r!==void 0,l=r===null,u=r===r,h=e(r),f=n!==void 0,d=n===null,p=n===n,m=e(n);if(!d&&!m&&!h&&r>n||h&&f&&p&&!d&&!m||l&&f&&p||!o&&p||!u)return 1;if(!l&&!h&&!m&&r<n||m&&o&&u&&!l&&!h||d&&o&&u||!f&&u||!p)return-1}return 0}return _compareAscending=t,_compareAscending}var _compareMultiple,hasRequired_compareMultiple;function require_compareMultiple(){if(hasRequired_compareMultiple)return _compareMultiple;hasRequired_compareMultiple=1;var e=require_compareAscending();function t(r,n,o){for(var l=-1,u=r.criteria,h=n.criteria,f=u.length,d=o.length;++l<f;){var p=e(u[l],h[l]);if(p){if(l>=d)return p;var m=o[l];return p*(m=="desc"?-1:1)}}return r.index-n.index}return _compareMultiple=t,_compareMultiple}var _baseOrderBy,hasRequired_baseOrderBy;function require_baseOrderBy(){if(hasRequired_baseOrderBy)return _baseOrderBy;hasRequired_baseOrderBy=1;var e=require_arrayMap$1(),t=require_baseGet$1(),r=require_baseIteratee(),n=require_baseMap(),o=require_baseSortBy(),l=require_baseUnary$1(),u=require_compareMultiple(),h=requireIdentity$1(),f=requireIsArray$1();function d(p,m,g){m.length?m=e(m,function(T){return f(T)?function(R){return t(R,T.length===1?T[0]:T)}:T}):m=[h];var b=-1;m=e(m,l(r));var v=n(p,function(T,R,I){var N=e(m,function(q){return q(T)});return{criteria:N,index:++b,value:T}});return o(v,function(T,R){return u(T,R,g)})}return _baseOrderBy=d,_baseOrderBy}var sortBy_1,hasRequiredSortBy;function requireSortBy(){if(hasRequiredSortBy)return sortBy_1;hasRequiredSortBy=1;var e=require_baseFlatten$1(),t=require_baseOrderBy(),r=require_baseRest$1(),n=require_isIterateeCall$1(),o=r(function(l,u){if(l==null)return[];var h=u.length;return h>1&&n(l,u[0],u[1])?u=[]:h>2&&n(u[0],u[1],u[2])&&(u=[u[0]]),t(l,e(u,1),[])});return sortBy_1=o,sortBy_1}var uniqueId_1$1,hasRequiredUniqueId$1;function requireUniqueId$1(){if(hasRequiredUniqueId$1)return uniqueId_1$1;hasRequiredUniqueId$1=1;var e=requireToString$1(),t=0;function r(n){var o=++t;return e(n)+o}return uniqueId_1$1=r,uniqueId_1$1}var _baseZipObject,hasRequired_baseZipObject;function require_baseZipObject(){if(hasRequired_baseZipObject)return _baseZipObject;hasRequired_baseZipObject=1;function e(t,r,n){for(var o=-1,l=t.length,u=r.length,h={};++o<l;){var f=o<u?r[o]:void 0;n(h,t[o],f)}return h}return _baseZipObject=e,_baseZipObject}var zipObject_1,hasRequiredZipObject;function requireZipObject(){if(hasRequiredZipObject)return zipObject_1;hasRequiredZipObject=1;var e=require_assignValue$1(),t=require_baseZipObject();function r(n,o){return t(n||[],o||[],e)}return zipObject_1=r,zipObject_1}var lodash$2;if(typeof commonjsRequire$1=="function")try{lodash$2={cloneDeep:requireCloneDeep(),constant:requireConstant$1(),defaults:requireDefaults$1(),each:requireEach$1(),filter:requireFilter(),find:requireFind(),flatten:requireFlatten$1(),forEach:requireForEach$1(),forIn:requireForIn(),has:requireHas$1(),isUndefined:requireIsUndefined(),last:requireLast(),map:requireMap(),mapValues:requireMapValues(),max:requireMax(),merge:requireMerge(),min:requireMin(),minBy:requireMinBy(),now:requireNow(),pick:requirePick$1(),range:requireRange$1(),reduce:requireReduce(),sortBy:requireSortBy(),uniqueId:requireUniqueId$1(),values:requireValues(),zipObject:requireZipObject()}}catch{}lodash$2||(lodash$2=window._);var lodash_1$2=lodash$2,list=List$1;function List$1(){var e={};e._next=e._prev=e,this._sentinel=e}List$1.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return unlink(t),t};List$1.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&unlink(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};List$1.prototype.toString=function(){for(var e=[],t=this._sentinel,r=t._prev;r!==t;)e.push(JSON.stringify(r,filterOutLinks)),r=r._prev;return"["+e.join(", ")+"]"};function unlink(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function filterOutLinks(e,t){if(e!=="_next"&&e!=="_prev")return t}var _$q=lodash_1$2,Graph$7=graphlib_1$1.Graph,List=list,greedyFas=greedyFAS$1,DEFAULT_WEIGHT_FN=_$q.constant(1);function greedyFAS$1(e,t){if(e.nodeCount()<=1)return[];var r=buildState(e,t||DEFAULT_WEIGHT_FN),n=doGreedyFAS(r.graph,r.buckets,r.zeroIdx);return _$q.flatten(_$q.map(n,function(o){return e.outEdges(o.v,o.w)}),!0)}function doGreedyFAS(e,t,r){for(var n=[],o=t[t.length-1],l=t[0],u;e.nodeCount();){for(;u=l.dequeue();)removeNode(e,t,r,u);for(;u=o.dequeue();)removeNode(e,t,r,u);if(e.nodeCount()){for(var h=t.length-2;h>0;--h)if(u=t[h].dequeue(),u){n=n.concat(removeNode(e,t,r,u,!0));break}}}return n}function removeNode(e,t,r,n,o){var l=o?[]:void 0;return _$q.forEach(e.inEdges(n.v),function(u){var h=e.edge(u),f=e.node(u.v);o&&l.push({v:u.v,w:u.w}),f.out-=h,assignBucket(t,r,f)}),_$q.forEach(e.outEdges(n.v),function(u){var h=e.edge(u),f=u.w,d=e.node(f);d.in-=h,assignBucket(t,r,d)}),e.removeNode(n.v),l}function buildState(e,t){var r=new Graph$7,n=0,o=0;_$q.forEach(e.nodes(),function(h){r.setNode(h,{v:h,in:0,out:0})}),_$q.forEach(e.edges(),function(h){var f=r.edge(h.v,h.w)||0,d=t(h),p=f+d;r.setEdge(h.v,h.w,p),o=Math.max(o,r.node(h.v).out+=d),n=Math.max(n,r.node(h.w).in+=d)});var l=_$q.range(o+n+3).map(function(){return new List}),u=n+1;return _$q.forEach(r.nodes(),function(h){assignBucket(l,u,r.node(h))}),{graph:r,buckets:l,zeroIdx:u}}function assignBucket(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}var _$p=lodash_1$2,greedyFAS=greedyFas,acyclic$1={run:run$2,undo:undo$2};function run$2(e){var t=e.graph().acyclicer==="greedy"?greedyFAS(e,r(e)):dfsFAS(e);_$p.forEach(t,function(n){var o=e.edge(n);e.removeEdge(n),o.forwardName=n.name,o.reversed=!0,e.setEdge(n.w,n.v,o,_$p.uniqueId("rev"))});function r(n){return function(o){return n.edge(o).weight}}}function dfsFAS(e){var t=[],r={},n={};function o(l){_$p.has(n,l)||(n[l]=!0,r[l]=!0,_$p.forEach(e.outEdges(l),function(u){_$p.has(r,u.w)?t.push(u):o(u.w)}),delete r[l])}return _$p.forEach(e.nodes(),o),t}function undo$2(e){_$p.forEach(e.edges(),function(t){var r=e.edge(t);if(r.reversed){e.removeEdge(t);var n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n)}})}var _$o=lodash_1$2,Graph$6=graphlib_1$1.Graph,util$d={addDummyNode,simplify:simplify$1,asNonCompoundGraph,successorWeights,predecessorWeights,intersectRect:intersectRect$2,buildLayerMatrix,normalizeRanks:normalizeRanks$1,removeEmptyRanks:removeEmptyRanks$1,addBorderNode:addBorderNode$1,maxRank,partition:partition$1,time:time$1,notime};function addDummyNode(e,t,r,n){var o;do o=_$o.uniqueId(n);while(e.hasNode(o));return r.dummy=t,e.setNode(o,r),o}function simplify$1(e){var t=new Graph$6().setGraph(e.graph());return _$o.forEach(e.nodes(),function(r){t.setNode(r,e.node(r))}),_$o.forEach(e.edges(),function(r){var n=t.edge(r.v,r.w)||{weight:0,minlen:1},o=e.edge(r);t.setEdge(r.v,r.w,{weight:n.weight+o.weight,minlen:Math.max(n.minlen,o.minlen)})}),t}function asNonCompoundGraph(e){var t=new Graph$6({multigraph:e.isMultigraph()}).setGraph(e.graph());return _$o.forEach(e.nodes(),function(r){e.children(r).length||t.setNode(r,e.node(r))}),_$o.forEach(e.edges(),function(r){t.setEdge(r,e.edge(r))}),t}function successorWeights(e){var t=_$o.map(e.nodes(),function(r){var n={};return _$o.forEach(e.outEdges(r),function(o){n[o.w]=(n[o.w]||0)+e.edge(o).weight}),n});return _$o.zipObject(e.nodes(),t)}function predecessorWeights(e){var t=_$o.map(e.nodes(),function(r){var n={};return _$o.forEach(e.inEdges(r),function(o){n[o.v]=(n[o.v]||0)+e.edge(o).weight}),n});return _$o.zipObject(e.nodes(),t)}function intersectRect$2(e,t){var r=e.x,n=e.y,o=t.x-r,l=t.y-n,u=e.width/2,h=e.height/2;if(!o&&!l)throw new Error("Not possible to find intersection inside of the rectangle");var f,d;return Math.abs(l)*u>Math.abs(o)*h?(l<0&&(h=-h),f=h*o/l,d=h):(o<0&&(u=-u),f=u,d=u*l/o),{x:r+f,y:n+d}}function buildLayerMatrix(e){var t=_$o.map(_$o.range(maxRank(e)+1),function(){return[]});return _$o.forEach(e.nodes(),function(r){var n=e.node(r),o=n.rank;_$o.isUndefined(o)||(t[o][n.order]=r)}),t}function normalizeRanks$1(e){var t=_$o.min(_$o.map(e.nodes(),function(r){return e.node(r).rank}));_$o.forEach(e.nodes(),function(r){var n=e.node(r);_$o.has(n,"rank")&&(n.rank-=t)})}function removeEmptyRanks$1(e){var t=_$o.min(_$o.map(e.nodes(),function(l){return e.node(l).rank})),r=[];_$o.forEach(e.nodes(),function(l){var u=e.node(l).rank-t;r[u]||(r[u]=[]),r[u].push(l)});var n=0,o=e.graph().nodeRankFactor;_$o.forEach(r,function(l,u){_$o.isUndefined(l)&&u%o!==0?--n:n&&_$o.forEach(l,function(h){e.node(h).rank+=n})})}function addBorderNode$1(e,t,r,n){var o={width:0,height:0};return arguments.length>=4&&(o.rank=r,o.order=n),addDummyNode(e,"border",o,t)}function maxRank(e){return _$o.max(_$o.map(e.nodes(),function(t){var r=e.node(t).rank;if(!_$o.isUndefined(r))return r}))}function partition$1(e,t){var r={lhs:[],rhs:[]};return _$o.forEach(e,function(n){t(n)?r.lhs.push(n):r.rhs.push(n)}),r}function time$1(e,t){var r=_$o.now();try{return t()}finally{console.log(e+" time: "+(_$o.now()-r)+"ms")}}function notime(e,t){return t()}var _$n=lodash_1$2,util$c=util$d,normalize$2={run:run$1,undo:undo$1};function run$1(e){e.graph().dummyChains=[],_$n.forEach(e.edges(),function(t){normalizeEdge(e,t)})}function normalizeEdge(e,t){var r=t.v,n=e.node(r).rank,o=t.w,l=e.node(o).rank,u=t.name,h=e.edge(t),f=h.labelRank;if(l!==n+1){e.removeEdge(t);var d,p,m;for(m=0,++n;n<l;++m,++n)h.points=[],p={width:0,height:0,edgeLabel:h,edgeObj:t,rank:n},d=util$c.addDummyNode(e,"edge",p,"_d"),n===f&&(p.width=h.width,p.height=h.height,p.dummy="edge-label",p.labelpos=h.labelpos),e.setEdge(r,d,{weight:h.weight},u),m===0&&e.graph().dummyChains.push(d),r=d;e.setEdge(r,o,{weight:h.weight},u)}}function undo$1(e){_$n.forEach(e.graph().dummyChains,function(t){var r=e.node(t),n=r.edgeLabel,o;for(e.setEdge(r.edgeObj,n);r.dummy;)o=e.successors(t)[0],e.removeNode(t),n.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),t=o,r=e.node(t)})}var _$m=lodash_1$2,util$b={longestPath:longestPath$1,slack:slack$2};function longestPath$1(e){var t={};function r(n){var o=e.node(n);if(_$m.has(t,n))return o.rank;t[n]=!0;var l=_$m.min(_$m.map(e.outEdges(n),function(u){return r(u.w)-e.edge(u).minlen}));return(l===Number.POSITIVE_INFINITY||l===void 0||l===null)&&(l=0),o.rank=l}_$m.forEach(e.sources(),r)}function slack$2(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var _$l=lodash_1$2,Graph$5=graphlib_1$1.Graph,slack$1=util$b.slack,feasibleTree_1=feasibleTree$2;function feasibleTree$2(e){var t=new Graph$5({directed:!1}),r=e.nodes()[0],n=e.nodeCount();t.setNode(r,{});for(var o,l;tightTree(t,e)<n;)o=findMinSlackEdge(t,e),l=t.hasNode(o.v)?slack$1(e,o):-slack$1(e,o),shiftRanks(t,e,l);return t}function tightTree(e,t){function r(n){_$l.forEach(t.nodeEdges(n),function(o){var l=o.v,u=n===l?o.w:l;!e.hasNode(u)&&!slack$1(t,o)&&(e.setNode(u,{}),e.setEdge(n,u,{}),r(u))})}return _$l.forEach(e.nodes(),r),e.nodeCount()}function findMinSlackEdge(e,t){return _$l.minBy(t.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return slack$1(t,r)})}function shiftRanks(e,t,r){_$l.forEach(e.nodes(),function(n){t.node(n).rank+=r})}var _$k=lodash_1$2,feasibleTree$1=feasibleTree_1,slack=util$b.slack,initRank=util$b.longestPath,preorder=graphlib_1$1.alg.preorder,postorder$1=graphlib_1$1.alg.postorder,simplify=util$d.simplify,networkSimplex_1=networkSimplex$1;networkSimplex$1.initLowLimValues=initLowLimValues;networkSimplex$1.initCutValues=initCutValues;networkSimplex$1.calcCutValue=calcCutValue;networkSimplex$1.leaveEdge=leaveEdge;networkSimplex$1.enterEdge=enterEdge;networkSimplex$1.exchangeEdges=exchangeEdges;function networkSimplex$1(e){e=simplify(e),initRank(e);var t=feasibleTree$1(e);initLowLimValues(t),initCutValues(t,e);for(var r,n;r=leaveEdge(t);)n=enterEdge(t,e,r),exchangeEdges(t,e,r,n)}function initCutValues(e,t){var r=postorder$1(e,e.nodes());r=r.slice(0,r.length-1),_$k.forEach(r,function(n){assignCutValue(e,t,n)})}function assignCutValue(e,t,r){var n=e.node(r),o=n.parent;e.edge(r,o).cutvalue=calcCutValue(e,t,r)}function calcCutValue(e,t,r){var n=e.node(r),o=n.parent,l=!0,u=t.edge(r,o),h=0;return u||(l=!1,u=t.edge(o,r)),h=u.weight,_$k.forEach(t.nodeEdges(r),function(f){var d=f.v===r,p=d?f.w:f.v;if(p!==o){var m=d===l,g=t.edge(f).weight;if(h+=m?g:-g,isTreeEdge(e,r,p)){var b=e.edge(r,p).cutvalue;h+=m?-b:b}}}),h}function initLowLimValues(e,t){arguments.length<2&&(t=e.nodes()[0]),dfsAssignLowLim(e,{},1,t)}function dfsAssignLowLim(e,t,r,n,o){var l=r,u=e.node(n);return t[n]=!0,_$k.forEach(e.neighbors(n),function(h){_$k.has(t,h)||(r=dfsAssignLowLim(e,t,r,h,n))}),u.low=l,u.lim=r++,o?u.parent=o:delete u.parent,r}function leaveEdge(e){return _$k.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function enterEdge(e,t,r){var n=r.v,o=r.w;t.hasEdge(n,o)||(n=r.w,o=r.v);var l=e.node(n),u=e.node(o),h=l,f=!1;l.lim>u.lim&&(h=u,f=!0);var d=_$k.filter(t.edges(),function(p){return f===isDescendant(e,e.node(p.v),h)&&f!==isDescendant(e,e.node(p.w),h)});return _$k.minBy(d,function(p){return slack(t,p)})}function exchangeEdges(e,t,r,n){var o=r.v,l=r.w;e.removeEdge(o,l),e.setEdge(n.v,n.w,{}),initLowLimValues(e),initCutValues(e,t),updateRanks(e,t)}function updateRanks(e,t){var r=_$k.find(e.nodes(),function(o){return!t.node(o).parent}),n=preorder(e,r);n=n.slice(1),_$k.forEach(n,function(o){var l=e.node(o).parent,u=t.edge(o,l),h=!1;u||(u=t.edge(l,o),h=!0),t.node(o).rank=t.node(l).rank+(h?u.minlen:-u.minlen)})}function isTreeEdge(e,t,r){return e.hasEdge(t,r)}function isDescendant(e,t,r){return r.low<=t.lim&&t.lim<=r.lim}var rankUtil=util$b,longestPath=rankUtil.longestPath,feasibleTree=feasibleTree_1,networkSimplex=networkSimplex_1,rank_1=rank$1;function rank$1(e){switch(e.graph().ranker){case"network-simplex":networkSimplexRanker(e);break;case"tight-tree":tightTreeRanker(e);break;case"longest-path":longestPathRanker(e);break;default:networkSimplexRanker(e)}}var longestPathRanker=longestPath;function tightTreeRanker(e){longestPath(e),feasibleTree(e)}function networkSimplexRanker(e){networkSimplex(e)}var _$j=lodash_1$2,parentDummyChains_1=parentDummyChains$1;function parentDummyChains$1(e){var t=postorder(e);_$j.forEach(e.graph().dummyChains,function(r){for(var n=e.node(r),o=n.edgeObj,l=findPath(e,t,o.v,o.w),u=l.path,h=l.lca,f=0,d=u[f],p=!0;r!==o.w;){if(n=e.node(r),p){for(;(d=u[f])!==h&&e.node(d).maxRank<n.rank;)f++;d===h&&(p=!1)}if(!p){for(;f<u.length-1&&e.node(d=u[f+1]).minRank<=n.rank;)f++;d=u[f]}e.setParent(r,d),r=e.successors(r)[0]}})}function findPath(e,t,r,n){var o=[],l=[],u=Math.min(t[r].low,t[n].low),h=Math.max(t[r].lim,t[n].lim),f,d;f=r;do f=e.parent(f),o.push(f);while(f&&(t[f].low>u||h>t[f].lim));for(d=f,f=n;(f=e.parent(f))!==d;)l.push(f);return{path:o.concat(l.reverse()),lca:d}}function postorder(e){var t={},r=0;function n(o){var l=r;_$j.forEach(e.children(o),n),t[o]={low:l,lim:r++}}return _$j.forEach(e.children(),n),t}var _$i=lodash_1$2,util$a=util$d,nestingGraph$1={run,cleanup};function run(e){var t=util$a.addDummyNode(e,"root",{},"_root"),r=treeDepths(e),n=_$i.max(_$i.values(r))-1,o=2*n+1;e.graph().nestingRoot=t,_$i.forEach(e.edges(),function(u){e.edge(u).minlen*=o});var l=sumWeights(e)+1;_$i.forEach(e.children(),function(u){dfs(e,t,o,l,n,r,u)}),e.graph().nodeRankFactor=o}function dfs(e,t,r,n,o,l,u){var h=e.children(u);if(!h.length){u!==t&&e.setEdge(t,u,{weight:0,minlen:r});return}var f=util$a.addBorderNode(e,"_bt"),d=util$a.addBorderNode(e,"_bb"),p=e.node(u);e.setParent(f,u),p.borderTop=f,e.setParent(d,u),p.borderBottom=d,_$i.forEach(h,function(m){dfs(e,t,r,n,o,l,m);var g=e.node(m),b=g.borderTop?g.borderTop:m,v=g.borderBottom?g.borderBottom:m,T=g.borderTop?n:2*n,R=b!==v?1:o-l[u]+1;e.setEdge(f,b,{weight:T,minlen:R,nestingEdge:!0}),e.setEdge(v,d,{weight:T,minlen:R,nestingEdge:!0})}),e.parent(u)||e.setEdge(t,f,{weight:0,minlen:o+l[u]})}function treeDepths(e){var t={};function r(n,o){var l=e.children(n);l&&l.length&&_$i.forEach(l,function(u){r(u,o+1)}),t[n]=o}return _$i.forEach(e.children(),function(n){r(n,1)}),t}function sumWeights(e){return _$i.reduce(e.edges(),function(t,r){return t+e.edge(r).weight},0)}function cleanup(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,_$i.forEach(e.edges(),function(r){var n=e.edge(r);n.nestingEdge&&e.removeEdge(r)})}var _$h=lodash_1$2,util$9=util$d,addBorderSegments_1=addBorderSegments$1;function addBorderSegments$1(e){function t(r){var n=e.children(r),o=e.node(r);if(n.length&&_$h.forEach(n,t),_$h.has(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var l=o.minRank,u=o.maxRank+1;l<u;++l)addBorderNode(e,"borderLeft","_bl",r,o,l),addBorderNode(e,"borderRight","_br",r,o,l)}}_$h.forEach(e.children(),t)}function addBorderNode(e,t,r,n,o,l){var u={width:0,height:0,rank:l,borderType:t},h=o[t][l-1],f=util$9.addDummyNode(e,"border",u,r);o[t][l]=f,e.setParent(f,n),h&&e.setEdge(h,f,{weight:1})}var _$g=lodash_1$2,coordinateSystem$1={adjust,undo};function adjust(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&swapWidthHeight(e)}function undo(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&reverseY(e),(t==="lr"||t==="rl")&&(swapXY(e),swapWidthHeight(e))}function swapWidthHeight(e){_$g.forEach(e.nodes(),function(t){swapWidthHeightOne(e.node(t))}),_$g.forEach(e.edges(),function(t){swapWidthHeightOne(e.edge(t))})}function swapWidthHeightOne(e){var t=e.width;e.width=e.height,e.height=t}function reverseY(e){_$g.forEach(e.nodes(),function(t){reverseYOne(e.node(t))}),_$g.forEach(e.edges(),function(t){var r=e.edge(t);_$g.forEach(r.points,reverseYOne),_$g.has(r,"y")&&reverseYOne(r)})}function reverseYOne(e){e.y=-e.y}function swapXY(e){_$g.forEach(e.nodes(),function(t){swapXYOne(e.node(t))}),_$g.forEach(e.edges(),function(t){var r=e.edge(t);_$g.forEach(r.points,swapXYOne),_$g.has(r,"x")&&swapXYOne(r)})}function swapXYOne(e){var t=e.x;e.x=e.y,e.y=t}var _$f=lodash_1$2,initOrder_1=initOrder$1;function initOrder$1(e){var t={},r=_$f.filter(e.nodes(),function(h){return!e.children(h).length}),n=_$f.max(_$f.map(r,function(h){return e.node(h).rank})),o=_$f.map(_$f.range(n+1),function(){return[]});function l(h){if(!_$f.has(t,h)){t[h]=!0;var f=e.node(h);o[f.rank].push(h),_$f.forEach(e.successors(h),l)}}var u=_$f.sortBy(r,function(h){return e.node(h).rank});return _$f.forEach(u,l),o}var _$e=lodash_1$2,crossCount_1=crossCount$1;function crossCount$1(e,t){for(var r=0,n=1;n<t.length;++n)r+=twoLayerCrossCount(e,t[n-1],t[n]);return r}function twoLayerCrossCount(e,t,r){for(var n=_$e.zipObject(r,_$e.map(r,function(d,p){return p})),o=_$e.flatten(_$e.map(t,function(d){return _$e.sortBy(_$e.map(e.outEdges(d),function(p){return{pos:n[p.w],weight:e.edge(p).weight}}),"pos")}),!0),l=1;l<r.length;)l<<=1;var u=2*l-1;l-=1;var h=_$e.map(new Array(u),function(){return 0}),f=0;return _$e.forEach(o.forEach(function(d){var p=d.pos+l;h[p]+=d.weight;for(var m=0;p>0;)p%2&&(m+=h[p+1]),p=p-1>>1,h[p]+=d.weight;f+=d.weight*m})),f}var _$d=lodash_1$2,barycenter_1=barycenter$1;function barycenter$1(e,t){return _$d.map(t,function(r){var n=e.inEdges(r);if(n.length){var o=_$d.reduce(n,function(l,u){var h=e.edge(u),f=e.node(u.v);return{sum:l.sum+h.weight*f.order,weight:l.weight+h.weight}},{sum:0,weight:0});return{v:r,barycenter:o.sum/o.weight,weight:o.weight}}else return{v:r}})}var _$c=lodash_1$2,resolveConflicts_1=resolveConflicts$1;function resolveConflicts$1(e,t){var r={};_$c.forEach(e,function(o,l){var u=r[o.v]={indegree:0,in:[],out:[],vs:[o.v],i:l};_$c.isUndefined(o.barycenter)||(u.barycenter=o.barycenter,u.weight=o.weight)}),_$c.forEach(t.edges(),function(o){var l=r[o.v],u=r[o.w];!_$c.isUndefined(l)&&!_$c.isUndefined(u)&&(u.indegree++,l.out.push(r[o.w]))});var n=_$c.filter(r,function(o){return!o.indegree});return doResolveConflicts(n)}function doResolveConflicts(e){var t=[];function r(l){return function(u){u.merged||(_$c.isUndefined(u.barycenter)||_$c.isUndefined(l.barycenter)||u.barycenter>=l.barycenter)&&mergeEntries(l,u)}}function n(l){return function(u){u.in.push(l),--u.indegree===0&&e.push(u)}}for(;e.length;){var o=e.pop();t.push(o),_$c.forEach(o.in.reverse(),r(o)),_$c.forEach(o.out,n(o))}return _$c.map(_$c.filter(t,function(l){return!l.merged}),function(l){return _$c.pick(l,["vs","i","barycenter","weight"])})}function mergeEntries(e,t){var r=0,n=0;e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=r/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0}var _$b=lodash_1$2,util$8=util$d,sort_1=sort$1;function sort$1(e,t){var r=util$8.partition(e,function(p){return _$b.has(p,"barycenter")}),n=r.lhs,o=_$b.sortBy(r.rhs,function(p){return-p.i}),l=[],u=0,h=0,f=0;n.sort(compareWithBias(!!t)),f=consumeUnsortable(l,o,f),_$b.forEach(n,function(p){f+=p.vs.length,l.push(p.vs),u+=p.barycenter*p.weight,h+=p.weight,f=consumeUnsortable(l,o,f)});var d={vs:_$b.flatten(l,!0)};return h&&(d.barycenter=u/h,d.weight=h),d}function consumeUnsortable(e,t,r){for(var n;t.length&&(n=_$b.last(t)).i<=r;)t.pop(),e.push(n.vs),r++;return r}function compareWithBias(e){return function(t,r){return t.barycenter<r.barycenter?-1:t.barycenter>r.barycenter?1:e?r.i-t.i:t.i-r.i}}var _$a=lodash_1$2,barycenter=barycenter_1,resolveConflicts=resolveConflicts_1,sort=sort_1,sortSubgraph_1=sortSubgraph$1;function sortSubgraph$1(e,t,r,n){var o=e.children(t),l=e.node(t),u=l?l.borderLeft:void 0,h=l?l.borderRight:void 0,f={};u&&(o=_$a.filter(o,function(v){return v!==u&&v!==h}));var d=barycenter(e,o);_$a.forEach(d,function(v){if(e.children(v.v).length){var T=sortSubgraph$1(e,v.v,r,n);f[v.v]=T,_$a.has(T,"barycenter")&&mergeBarycenters(v,T)}});var p=resolveConflicts(d,r);expandSubgraphs(p,f);var m=sort(p,n);if(u&&(m.vs=_$a.flatten([u,m.vs,h],!0),e.predecessors(u).length)){var g=e.node(e.predecessors(u)[0]),b=e.node(e.predecessors(h)[0]);_$a.has(m,"barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+g.order+b.order)/(m.weight+2),m.weight+=2}return m}function expandSubgraphs(e,t){_$a.forEach(e,function(r){r.vs=_$a.flatten(r.vs.map(function(n){return t[n]?t[n].vs:n}),!0)})}function mergeBarycenters(e,t){_$a.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var _$9=lodash_1$2,Graph$4=graphlib_1$1.Graph,buildLayerGraph_1=buildLayerGraph$1;function buildLayerGraph$1(e,t,r){var n=createRootNode(e),o=new Graph$4({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(l){return e.node(l)});return _$9.forEach(e.nodes(),function(l){var u=e.node(l),h=e.parent(l);(u.rank===t||u.minRank<=t&&t<=u.maxRank)&&(o.setNode(l),o.setParent(l,h||n),_$9.forEach(e[r](l),function(f){var d=f.v===l?f.w:f.v,p=o.edge(d,l),m=_$9.isUndefined(p)?0:p.weight;o.setEdge(d,l,{weight:e.edge(f).weight+m})}),_$9.has(u,"minRank")&&o.setNode(l,{borderLeft:u.borderLeft[t],borderRight:u.borderRight[t]}))}),o}function createRootNode(e){for(var t;e.hasNode(t=_$9.uniqueId("_root")););return t}var _$8=lodash_1$2,addSubgraphConstraints_1=addSubgraphConstraints$1;function addSubgraphConstraints$1(e,t,r){var n={},o;_$8.forEach(r,function(l){for(var u=e.parent(l),h,f;u;){if(h=e.parent(u),h?(f=n[h],n[h]=u):(f=o,o=u),f&&f!==u){t.setEdge(f,u);return}u=h}})}var _$7=lodash_1$2,initOrder=initOrder_1,crossCount=crossCount_1,sortSubgraph=sortSubgraph_1,buildLayerGraph=buildLayerGraph_1,addSubgraphConstraints=addSubgraphConstraints_1,Graph$3=graphlib_1$1.Graph,util$7=util$d,order_1=order$1;function order$1(e){var t=util$7.maxRank(e),r=buildLayerGraphs(e,_$7.range(1,t+1),"inEdges"),n=buildLayerGraphs(e,_$7.range(t-1,-1,-1),"outEdges"),o=initOrder(e);assignOrder(e,o);for(var l=Number.POSITIVE_INFINITY,u,h=0,f=0;f<4;++h,++f){sweepLayerGraphs(h%2?r:n,h%4>=2),o=util$7.buildLayerMatrix(e);var d=crossCount(e,o);d<l&&(f=0,u=_$7.cloneDeep(o),l=d)}assignOrder(e,u)}function buildLayerGraphs(e,t,r){return _$7.map(t,function(n){return buildLayerGraph(e,n,r)})}function sweepLayerGraphs(e,t){var r=new Graph$3;_$7.forEach(e,function(n){var o=n.graph().root,l=sortSubgraph(n,o,r,t);_$7.forEach(l.vs,function(u,h){n.node(u).order=h}),addSubgraphConstraints(n,r,l.vs)})}function assignOrder(e,t){_$7.forEach(t,function(r){_$7.forEach(r,function(n,o){e.node(n).order=o})})}var _$6=lodash_1$2,Graph$2=graphlib_1$1.Graph,util$6=util$d,bk={positionX:positionX$1,findType1Conflicts,findType2Conflicts,addConflict,hasConflict,verticalAlignment,horizontalCompaction,alignCoordinates,findSmallestWidthAlignment,balance};function findType1Conflicts(e,t){var r={};function n(o,l){var u=0,h=0,f=o.length,d=_$6.last(l);return _$6.forEach(l,function(p,m){var g=findOtherInnerSegmentNode(e,p),b=g?e.node(g).order:f;(g||p===d)&&(_$6.forEach(l.slice(h,m+1),function(v){_$6.forEach(e.predecessors(v),function(T){var R=e.node(T),I=R.order;(I<u||b<I)&&!(R.dummy&&e.node(v).dummy)&&addConflict(r,T,v)})}),h=m+1,u=b)}),l}return _$6.reduce(t,n),r}function findType2Conflicts(e,t){var r={};function n(l,u,h,f,d){var p;_$6.forEach(_$6.range(u,h),function(m){p=l[m],e.node(p).dummy&&_$6.forEach(e.predecessors(p),function(g){var b=e.node(g);b.dummy&&(b.order<f||b.order>d)&&addConflict(r,g,p)})})}function o(l,u){var h=-1,f,d=0;return _$6.forEach(u,function(p,m){if(e.node(p).dummy==="border"){var g=e.predecessors(p);g.length&&(f=e.node(g[0]).order,n(u,d,m,h,f),d=m,h=f)}n(u,d,u.length,f,l.length)}),u}return _$6.reduce(t,o),r}function findOtherInnerSegmentNode(e,t){if(e.node(t).dummy)return _$6.find(e.predecessors(t),function(r){return e.node(r).dummy})}function addConflict(e,t,r){if(t>r){var n=t;t=r,r=n}var o=e[t];o||(e[t]=o={}),o[r]=!0}function hasConflict(e,t,r){if(t>r){var n=t;t=r,r=n}return _$6.has(e[t],r)}function verticalAlignment(e,t,r,n){var o={},l={},u={};return _$6.forEach(t,function(h){_$6.forEach(h,function(f,d){o[f]=f,l[f]=f,u[f]=d})}),_$6.forEach(t,function(h){var f=-1;_$6.forEach(h,function(d){var p=n(d);if(p.length){p=_$6.sortBy(p,function(T){return u[T]});for(var m=(p.length-1)/2,g=Math.floor(m),b=Math.ceil(m);g<=b;++g){var v=p[g];l[d]===d&&f<u[v]&&!hasConflict(r,d,v)&&(l[v]=d,l[d]=o[d]=o[v],f=u[v])}}})}),{root:o,align:l}}function horizontalCompaction(e,t,r,n,o){var l={},u=buildBlockGraph(e,t,r,o),h=o?"borderLeft":"borderRight";function f(m,g){for(var b=u.nodes(),v=b.pop(),T={};v;)T[v]?m(v):(T[v]=!0,b.push(v),b=b.concat(g(v))),v=b.pop()}function d(m){l[m]=u.inEdges(m).reduce(function(g,b){return Math.max(g,l[b.v]+u.edge(b))},0)}function p(m){var g=u.outEdges(m).reduce(function(v,T){return Math.min(v,l[T.w]-u.edge(T))},Number.POSITIVE_INFINITY),b=e.node(m);g!==Number.POSITIVE_INFINITY&&b.borderType!==h&&(l[m]=Math.max(l[m],g))}return f(d,u.predecessors.bind(u)),f(p,u.successors.bind(u)),_$6.forEach(n,function(m){l[m]=l[r[m]]}),l}function buildBlockGraph(e,t,r,n){var o=new Graph$2,l=e.graph(),u=sep(l.nodesep,l.edgesep,n);return _$6.forEach(t,function(h){var f;_$6.forEach(h,function(d){var p=r[d];if(o.setNode(p),f){var m=r[f],g=o.edge(m,p);o.setEdge(m,p,Math.max(u(e,d,f),g||0))}f=d})}),o}function findSmallestWidthAlignment(e,t){return _$6.minBy(_$6.values(t),function(r){var n=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return _$6.forIn(r,function(l,u){var h=width$1(e,u)/2;n=Math.max(l+h,n),o=Math.min(l-h,o)}),n-o})}function alignCoordinates(e,t){var r=_$6.values(t),n=_$6.min(r),o=_$6.max(r);_$6.forEach(["u","d"],function(l){_$6.forEach(["l","r"],function(u){var h=l+u,f=e[h],d;if(f!==t){var p=_$6.values(f);d=u==="l"?n-_$6.min(p):o-_$6.max(p),d&&(e[h]=_$6.mapValues(f,function(m){return m+d}))}})})}function balance(e,t){return _$6.mapValues(e.ul,function(r,n){if(t)return e[t.toLowerCase()][n];var o=_$6.sortBy(_$6.map(e,n));return(o[1]+o[2])/2})}function positionX$1(e){var t=util$6.buildLayerMatrix(e),r=_$6.merge(findType1Conflicts(e,t),findType2Conflicts(e,t)),n={},o;_$6.forEach(["u","d"],function(u){o=u==="u"?t:_$6.values(t).reverse(),_$6.forEach(["l","r"],function(h){h==="r"&&(o=_$6.map(o,function(m){return _$6.values(m).reverse()}));var f=(u==="u"?e.predecessors:e.successors).bind(e),d=verticalAlignment(e,o,r,f),p=horizontalCompaction(e,o,d.root,d.align,h==="r");h==="r"&&(p=_$6.mapValues(p,function(m){return-m})),n[u+h]=p})});var l=findSmallestWidthAlignment(e,n);return alignCoordinates(n,l),balance(n,e.graph().align)}function sep(e,t,r){return function(n,o,l){var u=n.node(o),h=n.node(l),f=0,d;if(f+=u.width/2,_$6.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":d=-u.width/2;break;case"r":d=u.width/2;break}if(d&&(f+=r?d:-d),d=0,f+=(u.dummy?t:e)/2,f+=(h.dummy?t:e)/2,f+=h.width/2,_$6.has(h,"labelpos"))switch(h.labelpos.toLowerCase()){case"l":d=h.width/2;break;case"r":d=-h.width/2;break}return d&&(f+=r?d:-d),d=0,f}}function width$1(e,t){return e.node(t).width}var _$5=lodash_1$2,util$5=util$d,positionX=bk.positionX,position_1=position$1;function position$1(e){e=util$5.asNonCompoundGraph(e),positionY(e),_$5.forEach(positionX(e),function(t,r){e.node(r).x=t})}function positionY(e){var t=util$5.buildLayerMatrix(e),r=e.graph().ranksep,n=0;_$5.forEach(t,function(o){var l=_$5.max(_$5.map(o,function(u){return e.node(u).height}));_$5.forEach(o,function(u){e.node(u).y=n+l/2}),n+=l+r})}var _$4=lodash_1$2,acyclic=acyclic$1,normalize$1=normalize$2,rank=rank_1,normalizeRanks=util$d.normalizeRanks,parentDummyChains=parentDummyChains_1,removeEmptyRanks=util$d.removeEmptyRanks,nestingGraph=nestingGraph$1,addBorderSegments=addBorderSegments_1,coordinateSystem=coordinateSystem$1,order=order_1,position=position_1,util$4=util$d,Graph$1=graphlib_1$1.Graph,layout_1=layout$1;function layout$1(e,t){var r=t&&t.debugTiming?util$4.time:util$4.notime;r("layout",function(){var n=r("  buildLayoutGraph",function(){return buildLayoutGraph(e)});r("  runLayout",function(){runLayout(n,r)}),r("  updateInputGraph",function(){updateInputGraph(e,n)})})}function runLayout(e,t){t("    makeSpaceForEdgeLabels",function(){makeSpaceForEdgeLabels(e)}),t("    removeSelfEdges",function(){removeSelfEdges(e)}),t("    acyclic",function(){acyclic.run(e)}),t("    nestingGraph.run",function(){nestingGraph.run(e)}),t("    rank",function(){rank(util$4.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){injectEdgeLabelProxies(e)}),t("    removeEmptyRanks",function(){removeEmptyRanks(e)}),t("    nestingGraph.cleanup",function(){nestingGraph.cleanup(e)}),t("    normalizeRanks",function(){normalizeRanks(e)}),t("    assignRankMinMax",function(){assignRankMinMax(e)}),t("    removeEdgeLabelProxies",function(){removeEdgeLabelProxies(e)}),t("    normalize.run",function(){normalize$1.run(e)}),t("    parentDummyChains",function(){parentDummyChains(e)}),t("    addBorderSegments",function(){addBorderSegments(e)}),t("    order",function(){order(e)}),t("    insertSelfEdges",function(){insertSelfEdges(e)}),t("    adjustCoordinateSystem",function(){coordinateSystem.adjust(e)}),t("    position",function(){position(e)}),t("    positionSelfEdges",function(){positionSelfEdges(e)}),t("    removeBorderNodes",function(){removeBorderNodes(e)}),t("    normalize.undo",function(){normalize$1.undo(e)}),t("    fixupEdgeLabelCoords",function(){fixupEdgeLabelCoords(e)}),t("    undoCoordinateSystem",function(){coordinateSystem.undo(e)}),t("    translateGraph",function(){translateGraph(e)}),t("    assignNodeIntersects",function(){assignNodeIntersects(e)}),t("    reversePoints",function(){reversePointsForReversedEdges(e)}),t("    acyclic.undo",function(){acyclic.undo(e)})}function updateInputGraph(e,t){_$4.forEach(e.nodes(),function(r){var n=e.node(r),o=t.node(r);n&&(n.x=o.x,n.y=o.y,t.children(r).length&&(n.width=o.width,n.height=o.height))}),_$4.forEach(e.edges(),function(r){var n=e.edge(r),o=t.edge(r);n.points=o.points,_$4.has(o,"x")&&(n.x=o.x,n.y=o.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var graphNumAttrs=["nodesep","edgesep","ranksep","marginx","marginy"],graphDefaults={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},graphAttrs=["acyclicer","ranker","rankdir","align"],nodeNumAttrs=["width","height"],nodeDefaults={width:0,height:0},edgeNumAttrs=["minlen","weight","width","height","labeloffset"],edgeDefaults={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},edgeAttrs=["labelpos"];function buildLayoutGraph(e){var t=new Graph$1({multigraph:!0,compound:!0}),r=canonicalize(e.graph());return t.setGraph(_$4.merge({},graphDefaults,selectNumberAttrs(r,graphNumAttrs),_$4.pick(r,graphAttrs))),_$4.forEach(e.nodes(),function(n){var o=canonicalize(e.node(n));t.setNode(n,_$4.defaults(selectNumberAttrs(o,nodeNumAttrs),nodeDefaults)),t.setParent(n,e.parent(n))}),_$4.forEach(e.edges(),function(n){var o=canonicalize(e.edge(n));t.setEdge(n,_$4.merge({},edgeDefaults,selectNumberAttrs(o,edgeNumAttrs),_$4.pick(o,edgeAttrs)))}),t}function makeSpaceForEdgeLabels(e){var t=e.graph();t.ranksep/=2,_$4.forEach(e.edges(),function(r){var n=e.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function injectEdgeLabelProxies(e){_$4.forEach(e.edges(),function(t){var r=e.edge(t);if(r.width&&r.height){var n=e.node(t.v),o=e.node(t.w),l={rank:(o.rank-n.rank)/2+n.rank,e:t};util$4.addDummyNode(e,"edge-proxy",l,"_ep")}})}function assignRankMinMax(e){var t=0;_$4.forEach(e.nodes(),function(r){var n=e.node(r);n.borderTop&&(n.minRank=e.node(n.borderTop).rank,n.maxRank=e.node(n.borderBottom).rank,t=_$4.max(t,n.maxRank))}),e.graph().maxRank=t}function removeEdgeLabelProxies(e){_$4.forEach(e.nodes(),function(t){var r=e.node(t);r.dummy==="edge-proxy"&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))})}function translateGraph(e){var t=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,o=0,l=e.graph(),u=l.marginx||0,h=l.marginy||0;function f(d){var p=d.x,m=d.y,g=d.width,b=d.height;t=Math.min(t,p-g/2),r=Math.max(r,p+g/2),n=Math.min(n,m-b/2),o=Math.max(o,m+b/2)}_$4.forEach(e.nodes(),function(d){f(e.node(d))}),_$4.forEach(e.edges(),function(d){var p=e.edge(d);_$4.has(p,"x")&&f(p)}),t-=u,n-=h,_$4.forEach(e.nodes(),function(d){var p=e.node(d);p.x-=t,p.y-=n}),_$4.forEach(e.edges(),function(d){var p=e.edge(d);_$4.forEach(p.points,function(m){m.x-=t,m.y-=n}),_$4.has(p,"x")&&(p.x-=t),_$4.has(p,"y")&&(p.y-=n)}),l.width=r-t+u,l.height=o-n+h}function assignNodeIntersects(e){_$4.forEach(e.edges(),function(t){var r=e.edge(t),n=e.node(t.v),o=e.node(t.w),l,u;r.points?(l=r.points[0],u=r.points[r.points.length-1]):(r.points=[],l=o,u=n),r.points.unshift(util$4.intersectRect(n,l)),r.points.push(util$4.intersectRect(o,u))})}function fixupEdgeLabelCoords(e){_$4.forEach(e.edges(),function(t){var r=e.edge(t);if(_$4.has(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function reversePointsForReversedEdges(e){_$4.forEach(e.edges(),function(t){var r=e.edge(t);r.reversed&&r.points.reverse()})}function removeBorderNodes(e){_$4.forEach(e.nodes(),function(t){if(e.children(t).length){var r=e.node(t),n=e.node(r.borderTop),o=e.node(r.borderBottom),l=e.node(_$4.last(r.borderLeft)),u=e.node(_$4.last(r.borderRight));r.width=Math.abs(u.x-l.x),r.height=Math.abs(o.y-n.y),r.x=l.x+r.width/2,r.y=n.y+r.height/2}}),_$4.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function removeSelfEdges(e){_$4.forEach(e.edges(),function(t){if(t.v===t.w){var r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function insertSelfEdges(e){var t=util$4.buildLayerMatrix(e);_$4.forEach(t,function(r){var n=0;_$4.forEach(r,function(o,l){var u=e.node(o);u.order=l+n,_$4.forEach(u.selfEdges,function(h){util$4.addDummyNode(e,"selfedge",{width:h.label.width,height:h.label.height,rank:u.rank,order:l+ ++n,e:h.e,label:h.label},"_se")}),delete u.selfEdges})})}function positionSelfEdges(e){_$4.forEach(e.nodes(),function(t){var r=e.node(t);if(r.dummy==="selfedge"){var n=e.node(r.e.v),o=n.x+n.width/2,l=n.y,u=r.x-o,h=n.height/2;e.setEdge(r.e,r.label),e.removeNode(t),r.label.points=[{x:o+2*u/3,y:l-h},{x:o+5*u/6,y:l-h},{x:o+u,y:l},{x:o+5*u/6,y:l+h},{x:o+2*u/3,y:l+h}],r.label.x=r.x,r.label.y=r.y}})}function selectNumberAttrs(e,t){return _$4.mapValues(_$4.pick(e,t),Number)}function canonicalize(e){var t={};return _$4.forEach(e,function(r,n){t[n.toLowerCase()]=r}),t}var _$3=lodash_1$2,util$3=util$d,Graph=graphlib_1$1.Graph,debug={debugOrdering};function debugOrdering(e){var t=util$3.buildLayerMatrix(e),r=new Graph({compound:!0,multigraph:!0}).setGraph({});return _$3.forEach(e.nodes(),function(n){r.setNode(n,{label:n}),r.setParent(n,"layer"+e.node(n).rank)}),_$3.forEach(e.edges(),function(n){r.setEdge(n.v,n.w,{},n.name)}),_$3.forEach(t,function(n,o){var l="layer"+o;r.setNode(l,{rank:"same"}),_$3.reduce(n,function(u,h){return r.setEdge(u,h,{style:"invis"}),h})}),r}var version$4="0.8.5",dagre$1={graphlib:graphlib_1$1,layout:layout_1,debug,util:{time:util$d.time,notime:util$d.notime},version:version$4},graphlib;if(typeof commonjsRequire$1=="function")try{graphlib=graphlib$2}catch{}graphlib||(graphlib=window.graphlib);var graphlib_1=graphlib,dagre;if(typeof commonjsRequire$1=="function")try{dagre=dagre$1}catch{}dagre||(dagre=window.dagre);var dagre_1=dagre,intersectNode_1=intersectNode$1;function intersectNode$1(e,t){return e.intersect(t)}var intersectEllipse_1=intersectEllipse$2;function intersectEllipse$2(e,t,r,n){var o=e.x,l=e.y,u=o-n.x,h=l-n.y,f=Math.sqrt(t*t*h*h+r*r*u*u),d=Math.abs(t*r*u/f);n.x<o&&(d=-d);var p=Math.abs(t*r*h/f);return n.y<l&&(p=-p),{x:o+d,y:l+p}}var intersectEllipse$1=intersectEllipse_1,intersectCircle_1=intersectCircle$1;function intersectCircle$1(e,t,r){return intersectEllipse$1(e,t,t,r)}var intersectLine_1=intersectLine$2;function intersectLine$2(e,t,r,n){var o,l,u,h,f,d,p,m,g,b,v,T,R,I,N;if(o=t.y-e.y,u=e.x-t.x,f=t.x*e.y-e.x*t.y,g=o*r.x+u*r.y+f,b=o*n.x+u*n.y+f,!(g!==0&&b!==0&&sameSign$1(g,b))&&(l=n.y-r.y,h=r.x-n.x,d=n.x*r.y-r.x*n.y,p=l*e.x+h*e.y+d,m=l*t.x+h*t.y+d,!(p!==0&&m!==0&&sameSign$1(p,m))&&(v=o*h-l*u,v!==0)))return T=Math.abs(v/2),R=u*d-h*f,I=R<0?(R-T)/v:(R+T)/v,R=l*f-o*d,N=R<0?(R-T)/v:(R+T)/v,{x:I,y:N}}function sameSign$1(e,t){return e*t>0}var intersectLine$1=intersectLine_1,intersectPolygon_1=intersectPolygon$1;function intersectPolygon$1(e,t,r){var n=e.x,o=e.y,l=[],u=Number.POSITIVE_INFINITY,h=Number.POSITIVE_INFINITY;t.forEach(function(v){u=Math.min(u,v.x),h=Math.min(h,v.y)});for(var f=n-e.width/2-u,d=o-e.height/2-h,p=0;p<t.length;p++){var m=t[p],g=t[p<t.length-1?p+1:0],b=intersectLine$1(e,r,{x:f+m.x,y:d+m.y},{x:f+g.x,y:d+g.y});b&&l.push(b)}return l.length?(l.length>1&&l.sort(function(v,T){var R=v.x-r.x,I=v.y-r.y,N=Math.sqrt(R*R+I*I),q=T.x-r.x,F=T.y-r.y,H=Math.sqrt(q*q+F*F);return N<H?-1:N===H?0:1}),l[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",e),e)}var intersectRect_1=intersectRect$1;function intersectRect$1(e,t){var r=e.x,n=e.y,o=t.x-r,l=t.y-n,u=e.width/2,h=e.height/2,f,d;return Math.abs(l)*u>Math.abs(o)*h?(l<0&&(h=-h),f=l===0?0:h*o/l,d=h):(o<0&&(u=-u),f=u,d=o===0?0:u*l/o),{x:r+f,y:n+d}}var intersect$2={node:intersectNode_1,circle:intersectCircle_1,ellipse:intersectEllipse_1,polygon:intersectPolygon_1,rect:intersectRect_1},lodash$1;if(typeof commonjsRequire$1=="function")try{lodash$1={defaults:requireDefaults$1(),each:requireEach$1(),isFunction:requireIsFunction$1(),isPlainObject:requireIsPlainObject$1(),pick:requirePick$1(),has:requireHas$1(),range:requireRange$1(),uniqueId:requireUniqueId$1()}}catch{}lodash$1||(lodash$1=window._);var lodash_1$1=lodash$1,version$3="5.16.0";function ascending$3(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function bisector(e){return e.length===1&&(e=ascendingComparator(e)),{left:function(t,r,n,o){for(n==null&&(n=0),o==null&&(o=t.length);n<o;){var l=n+o>>>1;e(t[l],r)<0?n=l+1:o=l}return n},right:function(t,r,n,o){for(n==null&&(n=0),o==null&&(o=t.length);n<o;){var l=n+o>>>1;e(t[l],r)>0?o=l:n=l+1}return n}}}function ascendingComparator(e){return function(t,r){return ascending$3(e(t),r)}}var ascendingBisect=bisector(ascending$3),bisectRight=ascendingBisect.right,bisectLeft=ascendingBisect.left;function pairs(e,t){t==null&&(t=pair);for(var r=0,n=e.length-1,o=e[0],l=new Array(n<0?0:n);r<n;)l[r]=t(o,o=e[++r]);return l}function pair(e,t){return[e,t]}function cross$3(e,t,r){var n=e.length,o=t.length,l=new Array(n*o),u,h,f,d;for(r==null&&(r=pair),u=f=0;u<n;++u)for(d=e[u],h=0;h<o;++h,++f)l[f]=r(d,t[h]);return l}function descending$2(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function number$3(e){return e===null?NaN:+e}function variance(e,t){var r=e.length,n=0,o=-1,l=0,u,h,f=0;if(t==null)for(;++o<r;)isNaN(u=number$3(e[o]))||(h=u-l,l+=h/++n,f+=h*(u-l));else for(;++o<r;)isNaN(u=number$3(t(e[o],o,e)))||(h=u-l,l+=h/++n,f+=h*(u-l));if(n>1)return f/(n-1)}function deviation(e,t){var r=variance(e,t);return r&&Math.sqrt(r)}function extent$1(e,t){var r=e.length,n=-1,o,l,u;if(t==null){for(;++n<r;)if((o=e[n])!=null&&o>=o)for(l=u=o;++n<r;)(o=e[n])!=null&&(l>o&&(l=o),u<o&&(u=o))}else for(;++n<r;)if((o=t(e[n],n,e))!=null&&o>=o)for(l=u=o;++n<r;)(o=t(e[n],n,e))!=null&&(l>o&&(l=o),u<o&&(u=o));return[l,u]}var array$3=Array.prototype,slice$6=array$3.slice,map$3=array$3.map;function constant$d(e){return function(){return e}}function identity$9(e){return e}function sequence(e,t,r){e=+e,t=+t,r=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+r;for(var n=-1,o=Math.max(0,Math.ceil((t-e)/r))|0,l=new Array(o);++n<o;)l[n]=e+n*r;return l}var e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function ticks(e,t,r){var n,o=-1,l,u,h;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((n=t<e)&&(l=e,e=t,t=l),(h=tickIncrement(e,t,r))===0||!isFinite(h))return[];if(h>0)for(e=Math.ceil(e/h),t=Math.floor(t/h),u=new Array(l=Math.ceil(t-e+1));++o<l;)u[o]=(e+o)*h;else for(e=Math.floor(e*h),t=Math.ceil(t*h),u=new Array(l=Math.ceil(e-t+1));++o<l;)u[o]=(e-o)/h;return n&&u.reverse(),u}function tickIncrement(e,t,r){var n=(t-e)/Math.max(0,r),o=Math.floor(Math.log(n)/Math.LN10),l=n/Math.pow(10,o);return o>=0?(l>=e10?10:l>=e5?5:l>=e2?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(l>=e10?10:l>=e5?5:l>=e2?2:1)}function tickStep(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),o=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),l=n/o;return l>=e10?o*=10:l>=e5?o*=5:l>=e2&&(o*=2),t<e?-o:o}function thresholdSturges(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}function histogram(){var e=identity$9,t=extent$1,r=thresholdSturges;function n(o){var l,u=o.length,h,f=new Array(u);for(l=0;l<u;++l)f[l]=e(o[l],l,o);var d=t(f),p=d[0],m=d[1],g=r(f,p,m);Array.isArray(g)||(g=tickStep(p,m,g),g=sequence(Math.ceil(p/g)*g,m,g));for(var b=g.length;g[0]<=p;)g.shift(),--b;for(;g[b-1]>m;)g.pop(),--b;var v=new Array(b+1),T;for(l=0;l<=b;++l)T=v[l]=[],T.x0=l>0?g[l-1]:p,T.x1=l<b?g[l]:m;for(l=0;l<u;++l)h=f[l],p<=h&&h<=m&&v[bisectRight(g,h,0,b)].push(o[l]);return v}return n.value=function(o){return arguments.length?(e=typeof o=="function"?o:constant$d(o),n):e},n.domain=function(o){return arguments.length?(t=typeof o=="function"?o:constant$d([o[0],o[1]]),n):t},n.thresholds=function(o){return arguments.length?(r=typeof o=="function"?o:Array.isArray(o)?constant$d(slice$6.call(o)):constant$d(o),n):r},n}function threshold$1(e,t,r){if(r==null&&(r=number$3),!!(n=e.length)){if((t=+t)<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,o=(n-1)*t,l=Math.floor(o),u=+r(e[l],l,e),h=+r(e[l+1],l+1,e);return u+(h-u)*(o-l)}}function freedmanDiaconis(e,t,r){return e=map$3.call(e,number$3).sort(ascending$3),Math.ceil((r-t)/(2*(threshold$1(e,.75)-threshold$1(e,.25))*Math.pow(e.length,-1/3)))}function scott(e,t,r){return Math.ceil((r-t)/(3.5*deviation(e)*Math.pow(e.length,-1/3)))}function max$2(e,t){var r=e.length,n=-1,o,l;if(t==null){for(;++n<r;)if((o=e[n])!=null&&o>=o)for(l=o;++n<r;)(o=e[n])!=null&&o>l&&(l=o)}else for(;++n<r;)if((o=t(e[n],n,e))!=null&&o>=o)for(l=o;++n<r;)(o=t(e[n],n,e))!=null&&o>l&&(l=o);return l}function mean(e,t){var r=e.length,n=r,o=-1,l,u=0;if(t==null)for(;++o<r;)isNaN(l=number$3(e[o]))?--n:u+=l;else for(;++o<r;)isNaN(l=number$3(t(e[o],o,e)))?--n:u+=l;if(n)return u/n}function median(e,t){var r=e.length,n=-1,o,l=[];if(t==null)for(;++n<r;)isNaN(o=number$3(e[n]))||l.push(o);else for(;++n<r;)isNaN(o=number$3(t(e[n],n,e)))||l.push(o);return threshold$1(l.sort(ascending$3),.5)}function merge$1(e){for(var t=e.length,r,n=-1,o=0,l,u;++n<t;)o+=e[n].length;for(l=new Array(o);--t>=0;)for(u=e[t],r=u.length;--r>=0;)l[--o]=u[r];return l}function min$1(e,t){var r=e.length,n=-1,o,l;if(t==null){for(;++n<r;)if((o=e[n])!=null&&o>=o)for(l=o;++n<r;)(o=e[n])!=null&&l>o&&(l=o)}else for(;++n<r;)if((o=t(e[n],n,e))!=null&&o>=o)for(l=o;++n<r;)(o=t(e[n],n,e))!=null&&l>o&&(l=o);return l}function permute(e,t){for(var r=t.length,n=new Array(r);r--;)n[r]=e[t[r]];return n}function scan(e,t){if(!!(r=e.length)){var r,n=0,o=0,l,u=e[o];for(t==null&&(t=ascending$3);++n<r;)(t(l=e[n],u)<0||t(u,u)!==0)&&(u=l,o=n);if(t(u,u)===0)return o}}function shuffle$1(e,t,r){for(var n=(r==null?e.length:r)-(t=t==null?0:+t),o,l;n;)l=Math.random()*n--|0,o=e[n+t],e[n+t]=e[l+t],e[l+t]=o;return e}function sum$2(e,t){var r=e.length,n=-1,o,l=0;if(t==null)for(;++n<r;)(o=+e[n])&&(l+=o);else for(;++n<r;)(o=+t(e[n],n,e))&&(l+=o);return l}function transpose(e){if(!(l=e.length))return[];for(var t=-1,r=min$1(e,length$2),n=new Array(r);++t<r;)for(var o=-1,l,u=n[t]=new Array(l);++o<l;)u[o]=e[o][t];return n}function length$2(e){return e.length}function zip(){return transpose(arguments)}var slice$5=Array.prototype.slice;function identity$8(e){return e}var top=1,right=2,bottom=3,left=4,epsilon$4=1e-6;function translateX(e){return"translate("+(e+.5)+",0)"}function translateY(e){return"translate(0,"+(e+.5)+")"}function number$2(e){return function(t){return+e(t)}}function center$1(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(r){return+e(r)+t}}function entering(){return!this.__axis}function axis(e,t){var r=[],n=null,o=null,l=6,u=6,h=3,f=e===top||e===left?-1:1,d=e===left||e===right?"x":"y",p=e===top||e===bottom?translateX:translateY;function m(g){var b=n==null?t.ticks?t.ticks.apply(t,r):t.domain():n,v=o==null?t.tickFormat?t.tickFormat.apply(t,r):identity$8:o,T=Math.max(l,0)+h,R=t.range(),I=+R[0]+.5,N=+R[R.length-1]+.5,q=(t.bandwidth?center$1:number$2)(t.copy()),F=g.selection?g.selection():g,H=F.selectAll(".domain").data([null]),V=F.selectAll(".tick").data(b,t).order(),z=V.exit(),G=V.enter().append("g").attr("class","tick"),P=V.select("line"),W=V.select("text");H=H.merge(H.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),V=V.merge(G),P=P.merge(G.append("line").attr("stroke","currentColor").attr(d+"2",f*l)),W=W.merge(G.append("text").attr("fill","currentColor").attr(d,f*T).attr("dy",e===top?"0em":e===bottom?"0.71em":"0.32em")),g!==F&&(H=H.transition(g),V=V.transition(g),P=P.transition(g),W=W.transition(g),z=z.transition(g).attr("opacity",epsilon$4).attr("transform",function(S){return isFinite(S=q(S))?p(S):this.getAttribute("transform")}),G.attr("opacity",epsilon$4).attr("transform",function(S){var U=this.parentNode.__axis;return p(U&&isFinite(U=U(S))?U:q(S))})),z.remove(),H.attr("d",e===left||e==right?u?"M"+f*u+","+I+"H0.5V"+N+"H"+f*u:"M0.5,"+I+"V"+N:u?"M"+I+","+f*u+"V0.5H"+N+"V"+f*u:"M"+I+",0.5H"+N),V.attr("opacity",1).attr("transform",function(S){return p(q(S))}),P.attr(d+"2",f*l),W.attr(d,f*T).text(v),F.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===right?"start":e===left?"end":"middle"),F.each(function(){this.__axis=q})}return m.scale=function(g){return arguments.length?(t=g,m):t},m.ticks=function(){return r=slice$5.call(arguments),m},m.tickArguments=function(g){return arguments.length?(r=g==null?[]:slice$5.call(g),m):r.slice()},m.tickValues=function(g){return arguments.length?(n=g==null?null:slice$5.call(g),m):n&&n.slice()},m.tickFormat=function(g){return arguments.length?(o=g,m):o},m.tickSize=function(g){return arguments.length?(l=u=+g,m):l},m.tickSizeInner=function(g){return arguments.length?(l=+g,m):l},m.tickSizeOuter=function(g){return arguments.length?(u=+g,m):u},m.tickPadding=function(g){return arguments.length?(h=+g,m):h},m}function axisTop(e){return axis(top,e)}function axisRight(e){return axis(right,e)}function axisBottom(e){return axis(bottom,e)}function axisLeft(e){return axis(left,e)}var noop$3={value:function(){}};function dispatch(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Dispatch(r)}function Dispatch(e){this._=e}function parseTypenames$1(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",o=r.indexOf(".");if(o>=0&&(n=r.slice(o+1),r=r.slice(0,o)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(e,t){var r=this._,n=parseTypenames$1(e+"",r),o,l=-1,u=n.length;if(arguments.length<2){for(;++l<u;)if((o=(e=n[l]).type)&&(o=get$1(r[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++l<u;)if(o=(e=n[l]).type)r[o]=set$2(r[o],e.name,t);else if(t==null)for(o in r)r[o]=set$2(r[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Dispatch(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var r=new Array(o),n=0,o,l;n<o;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(l=this._[e],n=0,o=l.length;n<o;++n)l[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],o=0,l=n.length;o<l;++o)n[o].value.apply(t,r)}};function get$1(e,t){for(var r=0,n=e.length,o;r<n;++r)if((o=e[r]).name===t)return o.value}function set$2(e,t,r){for(var n=0,o=e.length;n<o;++n)if(e[n].name===t){e[n]=noop$3,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),namespaces.hasOwnProperty(t)?{space:namespaces[t],local:e}:e}function creatorInherit(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===xhtml&&t.documentElement.namespaceURI===xhtml?t.createElement(e):t.createElementNS(r,e)}}function creatorFixed(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function creator(e){var t=namespace(e);return(t.local?creatorFixed:creatorInherit)(t)}function none$2(){}function selector(e){return e==null?none$2:function(){return this.querySelector(e)}}function selection_select(e){typeof e!="function"&&(e=selector(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var l=t[o],u=l.length,h=n[o]=new Array(u),f,d,p=0;p<u;++p)(f=l[p])&&(d=e.call(f,f.__data__,p,l))&&("__data__"in f&&(d.__data__=f.__data__),h[p]=d);return new Selection$1(n,this._parents)}function empty$1(){return[]}function selectorAll(e){return e==null?empty$1:function(){return this.querySelectorAll(e)}}function selection_selectAll(e){typeof e!="function"&&(e=selectorAll(e));for(var t=this._groups,r=t.length,n=[],o=[],l=0;l<r;++l)for(var u=t[l],h=u.length,f,d=0;d<h;++d)(f=u[d])&&(n.push(e.call(f,f.__data__,d,u)),o.push(f));return new Selection$1(n,o)}function matcher(e){return function(){return this.matches(e)}}function selection_filter(e){typeof e!="function"&&(e=matcher(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var l=t[o],u=l.length,h=n[o]=[],f,d=0;d<u;++d)(f=l[d])&&e.call(f,f.__data__,d,l)&&h.push(f);return new Selection$1(n,this._parents)}function sparse(e){return new Array(e.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}EnterNode.prototype={constructor:EnterNode,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function constant$c(e){return function(){return e}}var keyPrefix$1="$";function bindIndex(e,t,r,n,o,l){for(var u=0,h,f=t.length,d=l.length;u<d;++u)(h=t[u])?(h.__data__=l[u],n[u]=h):r[u]=new EnterNode(e,l[u]);for(;u<f;++u)(h=t[u])&&(o[u]=h)}function bindKey(e,t,r,n,o,l,u){var h,f,d={},p=t.length,m=l.length,g=new Array(p),b;for(h=0;h<p;++h)(f=t[h])&&(g[h]=b=keyPrefix$1+u.call(f,f.__data__,h,t),b in d?o[h]=f:d[b]=f);for(h=0;h<m;++h)b=keyPrefix$1+u.call(e,l[h],h,l),(f=d[b])?(n[h]=f,f.__data__=l[h],d[b]=null):r[h]=new EnterNode(e,l[h]);for(h=0;h<p;++h)(f=t[h])&&d[g[h]]===f&&(o[h]=f)}function selection_data(e,t){if(!e)return b=new Array(this.size()),d=-1,this.each(function(V){b[++d]=V}),b;var r=t?bindKey:bindIndex,n=this._parents,o=this._groups;typeof e!="function"&&(e=constant$c(e));for(var l=o.length,u=new Array(l),h=new Array(l),f=new Array(l),d=0;d<l;++d){var p=n[d],m=o[d],g=m.length,b=e.call(p,p&&p.__data__,d,n),v=b.length,T=h[d]=new Array(v),R=u[d]=new Array(v),I=f[d]=new Array(g);r(p,m,T,R,I,b,t);for(var N=0,q=0,F,H;N<v;++N)if(F=T[N]){for(N>=q&&(q=N+1);!(H=R[q])&&++q<v;);F._next=H||null}}return u=new Selection$1(u,n),u._enter=h,u._exit=f,u}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(e,t,r){var n=this.enter(),o=this,l=this.exit();return n=typeof e=="function"?e(n):n.append(e+""),t!=null&&(o=t(o)),r==null?l.remove():r(l),n&&o?n.merge(o).order():o}function selection_merge(e){for(var t=this._groups,r=e._groups,n=t.length,o=r.length,l=Math.min(n,o),u=new Array(n),h=0;h<l;++h)for(var f=t[h],d=r[h],p=f.length,m=u[h]=new Array(p),g,b=0;b<p;++b)(g=f[b]||d[b])&&(m[b]=g);for(;h<n;++h)u[h]=t[h];return new Selection$1(u,this._parents)}function selection_order(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],o=n.length-1,l=n[o],u;--o>=0;)(u=n[o])&&(l&&u.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(u,l),l=u);return this}function selection_sort(e){e||(e=ascending$2);function t(m,g){return m&&g?e(m.__data__,g.__data__):!m-!g}for(var r=this._groups,n=r.length,o=new Array(n),l=0;l<n;++l){for(var u=r[l],h=u.length,f=o[l]=new Array(h),d,p=0;p<h;++p)(d=u[p])&&(f[p]=d);f.sort(t)}return new Selection$1(o,this._parents).order()}function ascending$2(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function selection_call(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function selection_nodes(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}function selection_node(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],o=0,l=n.length;o<l;++o){var u=n[o];if(u)return u}return null}function selection_size(){var e=0;return this.each(function(){++e}),e}function selection_empty(){return!this.node()}function selection_each(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var o=t[r],l=0,u=o.length,h;l<u;++l)(h=o[l])&&e.call(h,h.__data__,l,o);return this}function attrRemove$1(e){return function(){this.removeAttribute(e)}}function attrRemoveNS$1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function attrConstant$1(e,t){return function(){this.setAttribute(e,t)}}function attrConstantNS$1(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function attrFunction$1(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function attrFunctionNS$1(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function selection_attr(e,t){var r=namespace(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?attrRemoveNS$1:attrRemove$1:typeof t=="function"?r.local?attrFunctionNS$1:attrFunction$1:r.local?attrConstantNS$1:attrConstant$1)(r,t))}function defaultView(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function styleRemove$1(e){return function(){this.style.removeProperty(e)}}function styleConstant$1(e,t,r){return function(){this.style.setProperty(e,t,r)}}function styleFunction$1(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function selection_style(e,t,r){return arguments.length>1?this.each((t==null?styleRemove$1:typeof t=="function"?styleFunction$1:styleConstant$1)(e,t,r==null?"":r)):styleValue(this.node(),e)}function styleValue(e,t){return e.style.getPropertyValue(t)||defaultView(e).getComputedStyle(e,null).getPropertyValue(t)}function propertyRemove(e){return function(){delete this[e]}}function propertyConstant(e,t){return function(){this[e]=t}}function propertyFunction(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function selection_property(e,t){return arguments.length>1?this.each((t==null?propertyRemove:typeof t=="function"?propertyFunction:propertyConstant)(e,t)):this.node()[e]}function classArray(e){return e.trim().split(/^|\s+/)}function classList(e){return e.classList||new ClassList(e)}function ClassList(e){this._node=e,this._names=classArray(e.getAttribute("class")||"")}ClassList.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function classedAdd(e,t){for(var r=classList(e),n=-1,o=t.length;++n<o;)r.add(t[n])}function classedRemove(e,t){for(var r=classList(e),n=-1,o=t.length;++n<o;)r.remove(t[n])}function classedTrue(e){return function(){classedAdd(this,e)}}function classedFalse(e){return function(){classedRemove(this,e)}}function classedFunction(e,t){return function(){(t.apply(this,arguments)?classedAdd:classedRemove)(this,e)}}function selection_classed(e,t){var r=classArray(e+"");if(arguments.length<2){for(var n=classList(this.node()),o=-1,l=r.length;++o<l;)if(!n.contains(r[o]))return!1;return!0}return this.each((typeof t=="function"?classedFunction:t?classedTrue:classedFalse)(r,t))}function textRemove(){this.textContent=""}function textConstant$1(e){return function(){this.textContent=e}}function textFunction$1(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function selection_text(e){return arguments.length?this.each(e==null?textRemove:(typeof e=="function"?textFunction$1:textConstant$1)(e)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(e){return function(){this.innerHTML=e}}function htmlFunction(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function selection_html(e){return arguments.length?this.each(e==null?htmlRemove:(typeof e=="function"?htmlFunction:htmlConstant)(e)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(e){var t=typeof e=="function"?e:creator(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function constantNull(){return null}function selection_insert(e,t){var r=typeof e=="function"?e:creator(e),n=t==null?constantNull:typeof t=="function"?t:selector(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function remove(){var e=this.parentNode;e&&e.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function selection_cloneDeep(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function selection_clone(e){return this.select(e?selection_cloneDeep:selection_cloneShallow)}function selection_datum(e){return arguments.length?this.property("__data__",e):this.node().__data__}var filterEvents={},event=null;if(typeof document<"u"){var element=document.documentElement;"onmouseenter"in element||(filterEvents={mouseenter:"mouseover",mouseleave:"mouseout"})}function filterContextListener(e,t,r){return e=contextListener(e,t,r),function(n){var o=n.relatedTarget;(!o||o!==this&&!(o.compareDocumentPosition(this)&8))&&e.call(this,n)}}function contextListener(e,t,r){return function(n){var o=event;event=n;try{e.call(this,this.__data__,t,r)}finally{event=o}}}function parseTypenames(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function onRemove(e){return function(){var t=this.__on;if(!!t){for(var r=0,n=-1,o=t.length,l;r<o;++r)l=t[r],(!e.type||l.type===e.type)&&l.name===e.name?this.removeEventListener(l.type,l.listener,l.capture):t[++n]=l;++n?t.length=n:delete this.__on}}}function onAdd(e,t,r){var n=filterEvents.hasOwnProperty(e.type)?filterContextListener:contextListener;return function(o,l,u){var h=this.__on,f,d=n(t,l,u);if(h){for(var p=0,m=h.length;p<m;++p)if((f=h[p]).type===e.type&&f.name===e.name){this.removeEventListener(f.type,f.listener,f.capture),this.addEventListener(f.type,f.listener=d,f.capture=r),f.value=t;return}}this.addEventListener(e.type,d,r),f={type:e.type,name:e.name,value:t,listener:d,capture:r},h?h.push(f):this.__on=[f]}}function selection_on(e,t,r){var n=parseTypenames(e+""),o,l=n.length,u;if(arguments.length<2){var h=this.node().__on;if(h){for(var f=0,d=h.length,p;f<d;++f)for(o=0,p=h[f];o<l;++o)if((u=n[o]).type===p.type&&u.name===p.name)return p.value}return}for(h=t?onAdd:onRemove,r==null&&(r=!1),o=0;o<l;++o)this.each(h(n[o],t,r));return this}function customEvent(e,t,r,n){var o=event;e.sourceEvent=event,event=e;try{return t.apply(r,n)}finally{event=o}}function dispatchEvent(e,t,r){var n=defaultView(e),o=n.CustomEvent;typeof o=="function"?o=new o(t,r):(o=n.document.createEvent("Event"),r?(o.initEvent(t,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function dispatchConstant(e,t){return function(){return dispatchEvent(this,e,t)}}function dispatchFunction(e,t){return function(){return dispatchEvent(this,e,t.apply(this,arguments))}}function selection_dispatch(e,t){return this.each((typeof t=="function"?dispatchFunction:dispatchConstant)(e,t))}var root$2=[null];function Selection$1(e,t){this._groups=e,this._parents=t}function selection(){return new Selection$1([[document.documentElement]],root$2)}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch};function select(e){return typeof e=="string"?new Selection$1([[document.querySelector(e)]],[document.documentElement]):new Selection$1([[e]],root$2)}function create$1(e){return select(creator(e).call(document.documentElement))}var nextId=0;function local$1(){return new Local}function Local(){this._="@"+(++nextId).toString(36)}Local.prototype=local$1.prototype={constructor:Local,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};function sourceEvent(){for(var e=event,t;t=e.sourceEvent;)e=t;return e}function point$6(e,t){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}function mouse(e){var t=sourceEvent();return t.changedTouches&&(t=t.changedTouches[0]),point$6(e,t)}function selectAll(e){return typeof e=="string"?new Selection$1([document.querySelectorAll(e)],[document.documentElement]):new Selection$1([e==null?[]:e],root$2)}function touch(e,t,r){arguments.length<3&&(r=t,t=sourceEvent().changedTouches);for(var n=0,o=t?t.length:0,l;n<o;++n)if((l=t[n]).identifier===r)return point$6(e,l);return null}function touches(e,t){t==null&&(t=sourceEvent().touches);for(var r=0,n=t?t.length:0,o=new Array(n);r<n;++r)o[r]=point$6(e,t[r]);return o}function nopropagation$2(){event.stopImmediatePropagation()}function noevent$2(){event.preventDefault(),event.stopImmediatePropagation()}function dragDisable(e){var t=e.document.documentElement,r=select(e).on("dragstart.drag",noevent$2,!0);"onselectstart"in t?r.on("selectstart.drag",noevent$2,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function yesdrag(e,t){var r=e.document.documentElement,n=select(e).on("dragstart.drag",null);t&&(n.on("click.drag",noevent$2,!0),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}function constant$b(e){return function(){return e}}function DragEvent(e,t,r,n,o,l,u,h,f,d){this.target=e,this.type=t,this.subject=r,this.identifier=n,this.active=o,this.x=l,this.y=u,this.dx=h,this.dy=f,this._=d}DragEvent.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function defaultFilter$2(){return!event.ctrlKey&&!event.button}function defaultContainer(){return this.parentNode}function defaultSubject(e){return e==null?{x:event.x,y:event.y}:e}function defaultTouchable$2(){return navigator.maxTouchPoints||"ontouchstart"in this}function drag(){var e=defaultFilter$2,t=defaultContainer,r=defaultSubject,n=defaultTouchable$2,o={},l=dispatch("start","drag","end"),u=0,h,f,d,p,m=0;function g(F){F.on("mousedown.drag",b).filter(n).on("touchstart.drag",R).on("touchmove.drag",I).on("touchend.drag touchcancel.drag",N).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(){if(!(p||!e.apply(this,arguments))){var F=q("mouse",t.apply(this,arguments),mouse,this,arguments);!F||(select(event.view).on("mousemove.drag",v,!0).on("mouseup.drag",T,!0),dragDisable(event.view),nopropagation$2(),d=!1,h=event.clientX,f=event.clientY,F("start"))}}function v(){if(noevent$2(),!d){var F=event.clientX-h,H=event.clientY-f;d=F*F+H*H>m}o.mouse("drag")}function T(){select(event.view).on("mousemove.drag mouseup.drag",null),yesdrag(event.view,d),noevent$2(),o.mouse("end")}function R(){if(!!e.apply(this,arguments)){var F=event.changedTouches,H=t.apply(this,arguments),V=F.length,z,G;for(z=0;z<V;++z)(G=q(F[z].identifier,H,touch,this,arguments))&&(nopropagation$2(),G("start"))}}function I(){var F=event.changedTouches,H=F.length,V,z;for(V=0;V<H;++V)(z=o[F[V].identifier])&&(noevent$2(),z("drag"))}function N(){var F=event.changedTouches,H=F.length,V,z;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),V=0;V<H;++V)(z=o[F[V].identifier])&&(nopropagation$2(),z("end"))}function q(F,H,V,z,G){var P=V(H,F),W,S,U,L=l.copy();if(!!customEvent(new DragEvent(g,"beforestart",W,F,u,P[0],P[1],0,0,L),function(){return(event.subject=W=r.apply(z,G))==null?!1:(S=W.x-P[0]||0,U=W.y-P[1]||0,!0)}))return function ae(Q){var ue=P,_e;switch(Q){case"start":o[F]=ae,_e=u++;break;case"end":delete o[F],--u;case"drag":P=V(H,F),_e=u;break}customEvent(new DragEvent(g,Q,W,F,_e,P[0]+S,P[1]+U,P[0]-ue[0],P[1]-ue[1],L),L.apply,L,[Q,z,G])}}return g.filter=function(F){return arguments.length?(e=typeof F=="function"?F:constant$b(!!F),g):e},g.container=function(F){return arguments.length?(t=typeof F=="function"?F:constant$b(F),g):t},g.subject=function(F){return arguments.length?(r=typeof F=="function"?F:constant$b(F),g):r},g.touchable=function(F){return arguments.length?(n=typeof F=="function"?F:constant$b(!!F),g):n},g.on=function(){var F=l.on.apply(l,arguments);return F===l?g:F},g.clickDistance=function(F){return arguments.length?(m=(F=+F)*F,g):Math.sqrt(m)},g}function define(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function extend(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp("^rgb\\("+[reI,reI,reI]+"\\)$"),reRgbPercent=new RegExp("^rgb\\("+[reP,reP,reP]+"\\)$"),reRgbaInteger=new RegExp("^rgba\\("+[reI,reI,reI,reN]+"\\)$"),reRgbaPercent=new RegExp("^rgba\\("+[reP,reP,reP,reN]+"\\)$"),reHslPercent=new RegExp("^hsl\\("+[reN,reP,reP]+"\\)$"),reHslaPercent=new RegExp("^hsla\\("+[reN,reP,reP,reN]+"\\)$"),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=reHex.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?rgbn(t):r===3?new Rgb(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?rgba(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?rgba(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=reRgbInteger.exec(e))?new Rgb(t[1],t[2],t[3],1):(t=reRgbPercent.exec(e))?new Rgb(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=reRgbaInteger.exec(e))?rgba(t[1],t[2],t[3],t[4]):(t=reRgbaPercent.exec(e))?rgba(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=reHslPercent.exec(e))?hsla(t[1],t[2]/100,t[3]/100,1):(t=reHslaPercent.exec(e))?hsla(t[1],t[2]/100,t[3]/100,t[4]):named.hasOwnProperty(e)?rgbn(named[e]):e==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(e){return new Rgb(e>>16&255,e>>8&255,e&255,1)}function rgba(e,t,r,n){return n<=0&&(e=t=r=NaN),new Rgb(e,t,r,n)}function rgbConvert(e){return e instanceof Color||(e=color(e)),e?(e=e.rgb(),new Rgb(e.r,e.g,e.b,e.opacity)):new Rgb}function rgb(e,t,r,n){return arguments.length===1?rgbConvert(e):new Rgb(e,t,r,n==null?1:n)}function Rgb(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}define(Rgb,rgb,extend(Color,{brighter:function(e){return e=e==null?brighter:Math.pow(brighter,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?darker:Math.pow(darker,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)}function rgb_formatRgb(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function hex(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function hsla(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Hsl(e,t,r,n)}function hslConvert(e){if(e instanceof Hsl)return new Hsl(e.h,e.s,e.l,e.opacity);if(e instanceof Color||(e=color(e)),!e)return new Hsl;if(e instanceof Hsl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,o=Math.min(t,r,n),l=Math.max(t,r,n),u=NaN,h=l-o,f=(l+o)/2;return h?(t===l?u=(r-n)/h+(r<n)*6:r===l?u=(n-t)/h+2:u=(t-r)/h+4,h/=f<.5?l+o:2-l-o,u*=60):h=f>0&&f<1?0:u,new Hsl(u,h,f,e.opacity)}function hsl$2(e,t,r,n){return arguments.length===1?hslConvert(e):new Hsl(e,t,r,n==null?1:n)}function Hsl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}define(Hsl,hsl$2,extend(Color,{brighter:function(e){return e=e==null?brighter:Math.pow(brighter,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?darker:Math.pow(darker,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,o=2*r-n;return new Rgb(hsl2rgb(e>=240?e-240:e+120,o,n),hsl2rgb(e,o,n),hsl2rgb(e<120?e+240:e-120,o,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function hsl2rgb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}var deg2rad=Math.PI/180,rad2deg=180/Math.PI,K=18,Xn=.96422,Yn=1,Zn=.82521,t0$1=4/29,t1$1=6/29,t2=3*t1$1*t1$1,t3=t1$1*t1$1*t1$1;function labConvert(e){if(e instanceof Lab)return new Lab(e.l,e.a,e.b,e.opacity);if(e instanceof Hcl)return hcl2lab(e);e instanceof Rgb||(e=rgbConvert(e));var t=rgb2lrgb(e.r),r=rgb2lrgb(e.g),n=rgb2lrgb(e.b),o=xyz2lab((.2225045*t+.7168786*r+.0606169*n)/Yn),l,u;return t===r&&r===n?l=u=o:(l=xyz2lab((.4360747*t+.3850649*r+.1430804*n)/Xn),u=xyz2lab((.0139322*t+.0971045*r+.7141733*n)/Zn)),new Lab(116*o-16,500*(l-o),200*(o-u),e.opacity)}function gray(e,t){return new Lab(e,0,0,t==null?1:t)}function lab$1(e,t,r,n){return arguments.length===1?labConvert(e):new Lab(e,t,r,n==null?1:n)}function Lab(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}define(Lab,lab$1,extend(Color,{brighter:function(e){return new Lab(this.l+K*(e==null?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Lab(this.l-K*(e==null?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=Xn*lab2xyz(t),e=Yn*lab2xyz(e),r=Zn*lab2xyz(r),new Rgb(lrgb2rgb(3.1338561*t-1.6168667*e-.4906146*r),lrgb2rgb(-.9787684*t+1.9161415*e+.033454*r),lrgb2rgb(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));function xyz2lab(e){return e>t3?Math.pow(e,1/3):e/t2+t0$1}function lab2xyz(e){return e>t1$1?e*e*e:t2*(e-t0$1)}function lrgb2rgb(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function rgb2lrgb(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function hclConvert(e){if(e instanceof Hcl)return new Hcl(e.h,e.c,e.l,e.opacity);if(e instanceof Lab||(e=labConvert(e)),e.a===0&&e.b===0)return new Hcl(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*rad2deg;return new Hcl(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function lch(e,t,r,n){return arguments.length===1?hclConvert(e):new Hcl(r,t,e,n==null?1:n)}function hcl$2(e,t,r,n){return arguments.length===1?hclConvert(e):new Hcl(e,t,r,n==null?1:n)}function Hcl(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function hcl2lab(e){if(isNaN(e.h))return new Lab(e.l,0,0,e.opacity);var t=e.h*deg2rad;return new Lab(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}define(Hcl,hcl$2,extend(Color,{brighter:function(e){return new Hcl(this.h,this.c,this.l+K*(e==null?1:e),this.opacity)},darker:function(e){return new Hcl(this.h,this.c,this.l-K*(e==null?1:e),this.opacity)},rgb:function(){return hcl2lab(this).rgb()}}));var A=-.14861,B=1.78277,C=-.29227,D=-.90649,E=1.97294,ED=E*D,EB=E*B,BC_DA=B*C-D*A;function cubehelixConvert(e){if(e instanceof Cubehelix)return new Cubehelix(e.h,e.s,e.l,e.opacity);e instanceof Rgb||(e=rgbConvert(e));var t=e.r/255,r=e.g/255,n=e.b/255,o=(BC_DA*n+ED*t-EB*r)/(BC_DA+ED-EB),l=n-o,u=(E*(r-o)-C*l)/D,h=Math.sqrt(u*u+l*l)/(E*o*(1-o)),f=h?Math.atan2(u,l)*rad2deg-120:NaN;return new Cubehelix(f<0?f+360:f,h,o,e.opacity)}function cubehelix$3(e,t,r,n){return arguments.length===1?cubehelixConvert(e):new Cubehelix(e,t,r,n==null?1:n)}function Cubehelix(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}define(Cubehelix,cubehelix$3,extend(Color,{brighter:function(e){return e=e==null?brighter:Math.pow(brighter,e),new Cubehelix(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?darker:Math.pow(darker,e),new Cubehelix(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*deg2rad,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),o=Math.sin(e);return new Rgb(255*(t+r*(A*n+B*o)),255*(t+r*(C*n+D*o)),255*(t+r*(E*n)),this.opacity)}}));function basis$1(e,t,r,n,o){var l=e*e,u=l*e;return((1-3*e+3*l-u)*t+(4-6*l+3*u)*r+(1+3*e+3*l-3*u)*n+u*o)/6}function basis$2(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),o=e[n],l=e[n+1],u=n>0?e[n-1]:2*o-l,h=n<t-1?e[n+2]:2*l-o;return basis$1((r-n/t)*t,u,o,l,h)}}function basisClosed$1(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),o=e[(n+t-1)%t],l=e[n%t],u=e[(n+1)%t],h=e[(n+2)%t];return basis$1((r-n/t)*t,o,l,u,h)}}function constant$a(e){return function(){return e}}function linear$2(e,t){return function(r){return e+r*t}}function exponential$1(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function hue$1(e,t){var r=t-e;return r?linear$2(e,r>180||r<-180?r-360*Math.round(r/360):r):constant$a(isNaN(e)?t:e)}function gamma(e){return(e=+e)==1?nogamma:function(t,r){return r-t?exponential$1(t,r,e):constant$a(isNaN(t)?r:t)}}function nogamma(e,t){var r=t-e;return r?linear$2(e,r):constant$a(isNaN(e)?t:e)}const interpolateRgb=function e(t){var r=gamma(t);function n(o,l){var u=r((o=rgb(o)).r,(l=rgb(l)).r),h=r(o.g,l.g),f=r(o.b,l.b),d=nogamma(o.opacity,l.opacity);return function(p){return o.r=u(p),o.g=h(p),o.b=f(p),o.opacity=d(p),o+""}}return n.gamma=e,n}(1);function rgbSpline(e){return function(t){var r=t.length,n=new Array(r),o=new Array(r),l=new Array(r),u,h;for(u=0;u<r;++u)h=rgb(t[u]),n[u]=h.r||0,o[u]=h.g||0,l[u]=h.b||0;return n=e(n),o=e(o),l=e(l),h.opacity=1,function(f){return h.r=n(f),h.g=o(f),h.b=l(f),h+""}}}var rgbBasis=rgbSpline(basis$2),rgbBasisClosed=rgbSpline(basisClosed$1);function numberArray(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),o;return function(l){for(o=0;o<r;++o)n[o]=e[o]*(1-l)+t[o]*l;return n}}function isNumberArray(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function array$2(e,t){return(isNumberArray(t)?numberArray:genericArray)(e,t)}function genericArray(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,o=new Array(n),l=new Array(r),u;for(u=0;u<n;++u)o[u]=interpolateValue(e[u],t[u]);for(;u<r;++u)l[u]=t[u];return function(h){for(u=0;u<n;++u)l[u]=o[u](h);return l}}function date$1(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function interpolateNumber(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function object$1(e,t){var r={},n={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?r[o]=interpolateValue(e[o],t[o]):n[o]=t[o];return function(l){for(o in r)n[o]=r[o](l);return n}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(e){return function(){return e}}function one(e){return function(t){return e(t)+""}}function interpolateString(e,t){var r=reA.lastIndex=reB.lastIndex=0,n,o,l,u=-1,h=[],f=[];for(e=e+"",t=t+"";(n=reA.exec(e))&&(o=reB.exec(t));)(l=o.index)>r&&(l=t.slice(r,l),h[u]?h[u]+=l:h[++u]=l),(n=n[0])===(o=o[0])?h[u]?h[u]+=o:h[++u]=o:(h[++u]=null,f.push({i:u,x:interpolateNumber(n,o)})),r=reB.lastIndex;return r<t.length&&(l=t.slice(r),h[u]?h[u]+=l:h[++u]=l),h.length<2?f[0]?one(f[0].x):zero(t):(t=f.length,function(d){for(var p=0,m;p<t;++p)h[(m=f[p]).i]=m.x(d);return h.join("")})}function interpolateValue(e,t){var r=typeof t,n;return t==null||r==="boolean"?constant$a(t):(r==="number"?interpolateNumber:r==="string"?(n=color(t))?(t=n,interpolateRgb):interpolateString:t instanceof color?interpolateRgb:t instanceof Date?date$1:isNumberArray(t)?numberArray:Array.isArray(t)?genericArray:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?object$1:interpolateNumber)(e,t)}function discrete(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}function hue(e,t){var r=hue$1(+e,+t);return function(n){var o=r(n);return o-360*Math.floor(o/360)}}function interpolateRound(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var degrees$1=180/Math.PI,identity$7={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(e,t,r,n,o,l){var u,h,f;return(u=Math.sqrt(e*e+t*t))&&(e/=u,t/=u),(f=e*r+t*n)&&(r-=e*f,n-=t*f),(h=Math.sqrt(r*r+n*n))&&(r/=h,n/=h,f/=h),e*n<t*r&&(e=-e,t=-t,f=-f,u=-u),{translateX:o,translateY:l,rotate:Math.atan2(t,e)*degrees$1,skewX:Math.atan(f)*degrees$1,scaleX:u,scaleY:h}}var cssNode,cssRoot,cssView,svgNode;function parseCss(e){return e==="none"?identity$7:(cssNode||(cssNode=document.createElement("DIV"),cssRoot=document.documentElement,cssView=document.defaultView),cssNode.style.transform=e,e=cssView.getComputedStyle(cssRoot.appendChild(cssNode),null).getPropertyValue("transform"),cssRoot.removeChild(cssNode),e=e.slice(7,-1).split(","),decompose(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function parseSvg(e){return e==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",e),!(e=svgNode.transform.baseVal.consolidate()))?identity$7:(e=e.matrix,decompose(e.a,e.b,e.c,e.d,e.e,e.f))}function interpolateTransform(e,t,r,n){function o(d){return d.length?d.pop()+" ":""}function l(d,p,m,g,b,v){if(d!==m||p!==g){var T=b.push("translate(",null,t,null,r);v.push({i:T-4,x:interpolateNumber(d,m)},{i:T-2,x:interpolateNumber(p,g)})}else(m||g)&&b.push("translate("+m+t+g+r)}function u(d,p,m,g){d!==p?(d-p>180?p+=360:p-d>180&&(d+=360),g.push({i:m.push(o(m)+"rotate(",null,n)-2,x:interpolateNumber(d,p)})):p&&m.push(o(m)+"rotate("+p+n)}function h(d,p,m,g){d!==p?g.push({i:m.push(o(m)+"skewX(",null,n)-2,x:interpolateNumber(d,p)}):p&&m.push(o(m)+"skewX("+p+n)}function f(d,p,m,g,b,v){if(d!==m||p!==g){var T=b.push(o(b)+"scale(",null,",",null,")");v.push({i:T-4,x:interpolateNumber(d,m)},{i:T-2,x:interpolateNumber(p,g)})}else(m!==1||g!==1)&&b.push(o(b)+"scale("+m+","+g+")")}return function(d,p){var m=[],g=[];return d=e(d),p=e(p),l(d.translateX,d.translateY,p.translateX,p.translateY,m,g),u(d.rotate,p.rotate,m,g),h(d.skewX,p.skewX,m,g),f(d.scaleX,d.scaleY,p.scaleX,p.scaleY,m,g),d=p=null,function(b){for(var v=-1,T=g.length,R;++v<T;)m[(R=g[v]).i]=R.x(b);return m.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),rho=Math.SQRT2,rho2=2,rho4=4,epsilon2$2=1e-12;function cosh(e){return((e=Math.exp(e))+1/e)/2}function sinh(e){return((e=Math.exp(e))-1/e)/2}function tanh(e){return((e=Math.exp(2*e))-1)/(e+1)}function interpolateZoom(e,t){var r=e[0],n=e[1],o=e[2],l=t[0],u=t[1],h=t[2],f=l-r,d=u-n,p=f*f+d*d,m,g;if(p<epsilon2$2)g=Math.log(h/o)/rho,m=function(N){return[r+N*f,n+N*d,o*Math.exp(rho*N*g)]};else{var b=Math.sqrt(p),v=(h*h-o*o+rho4*p)/(2*o*rho2*b),T=(h*h-o*o-rho4*p)/(2*h*rho2*b),R=Math.log(Math.sqrt(v*v+1)-v),I=Math.log(Math.sqrt(T*T+1)-T);g=(I-R)/rho,m=function(N){var q=N*g,F=cosh(R),H=o/(rho2*b)*(F*tanh(rho*q+R)-sinh(R));return[r+H*f,n+H*d,o*F/cosh(rho*q+R)]}}return m.duration=g*1e3,m}function hsl(e){return function(t,r){var n=e((t=hsl$2(t)).h,(r=hsl$2(r)).h),o=nogamma(t.s,r.s),l=nogamma(t.l,r.l),u=nogamma(t.opacity,r.opacity);return function(h){return t.h=n(h),t.s=o(h),t.l=l(h),t.opacity=u(h),t+""}}}const hsl$1=hsl(hue$1);var hslLong=hsl(nogamma);function lab(e,t){var r=nogamma((e=lab$1(e)).l,(t=lab$1(t)).l),n=nogamma(e.a,t.a),o=nogamma(e.b,t.b),l=nogamma(e.opacity,t.opacity);return function(u){return e.l=r(u),e.a=n(u),e.b=o(u),e.opacity=l(u),e+""}}function hcl(e){return function(t,r){var n=e((t=hcl$2(t)).h,(r=hcl$2(r)).h),o=nogamma(t.c,r.c),l=nogamma(t.l,r.l),u=nogamma(t.opacity,r.opacity);return function(h){return t.h=n(h),t.c=o(h),t.l=l(h),t.opacity=u(h),t+""}}}const hcl$1=hcl(hue$1);var hclLong=hcl(nogamma);function cubehelix$1(e){return function t(r){r=+r;function n(o,l){var u=e((o=cubehelix$3(o)).h,(l=cubehelix$3(l)).h),h=nogamma(o.s,l.s),f=nogamma(o.l,l.l),d=nogamma(o.opacity,l.opacity);return function(p){return o.h=u(p),o.s=h(p),o.l=f(Math.pow(p,r)),o.opacity=d(p),o+""}}return n.gamma=t,n}(1)}const cubehelix$2=cubehelix$1(hue$1);var cubehelixLong=cubehelix$1(nogamma);function piecewise(e,t){for(var r=0,n=t.length-1,o=t[0],l=new Array(n<0?0:n);r<n;)l[r]=e(o,o=t[++r]);return function(u){var h=Math.max(0,Math.min(n-1,Math.floor(u*=n)));return l[h](u-h)}}function quantize$1(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e(n/(t-1));return r}var frame=0,timeout$1=0,interval$1=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?now():+r)+(t==null?0:+t),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=e,this._time=r,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(e,t,r){var n=new Timer;return n.restart(e,t,r),n}function timerFlush(){now(),++frame;for(var e=taskHead,t;e;)(t=clockNow-e._time)>=0&&e._call.call(null,t),e=e._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout$1=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var e=clock.now(),t=e-clockLast;t>pokeDelay&&(clockSkew-=t,clockLast=e)}function nap(){for(var e,t=taskHead,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:taskHead=r);taskTail=e,sleep(n)}function sleep(e){if(!frame){timeout$1&&(timeout$1=clearTimeout(timeout$1));var t=e-clockNow;t>24?(e<1/0&&(timeout$1=setTimeout(wake,e-clock.now()-clockSkew)),interval$1&&(interval$1=clearInterval(interval$1))):(interval$1||(clockLast=clock.now(),interval$1=setInterval(poke,pokeDelay)),frame=1,setFrame(wake))}}function timeout(e,t,r){var n=new Timer;return t=t==null?0:+t,n.restart(function(o){n.stop(),e(o+t)},t,r),n}function interval(e,t,r){var n=new Timer,o=t;return t==null?(n.restart(e,t,r),n):(t=+t,r=r==null?now():+r,n.restart(function l(u){u+=o,n.restart(l,o+=t,r),e(u)},t,r),n)}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(e,t,r,n,o,l){var u=e.__transition;if(!u)e.__transition={};else if(r in u)return;create(e,r,{name:t,index:n,group:o,on:emptyOn,tween:emptyTween,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:CREATED})}function init$2(e,t){var r=get(e,t);if(r.state>CREATED)throw new Error("too late; already scheduled");return r}function set$1(e,t){var r=get(e,t);if(r.state>STARTED)throw new Error("too late; already running");return r}function get(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function create(e,t,r){var n=e.__transition,o;n[t]=r,r.timer=timer(l,0,r.time);function l(d){r.state=SCHEDULED,r.timer.restart(u,r.delay,r.time),r.delay<=d&&u(d-r.delay)}function u(d){var p,m,g,b;if(r.state!==SCHEDULED)return f();for(p in n)if(b=n[p],b.name===r.name){if(b.state===STARTED)return timeout(u);b.state===RUNNING?(b.state=ENDED,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete n[p]):+p<t&&(b.state=ENDED,b.timer.stop(),b.on.call("cancel",e,e.__data__,b.index,b.group),delete n[p])}if(timeout(function(){r.state===STARTED&&(r.state=RUNNING,r.timer.restart(h,r.delay,r.time),h(d))}),r.state=STARTING,r.on.call("start",e,e.__data__,r.index,r.group),r.state===STARTING){for(r.state=STARTED,o=new Array(g=r.tween.length),p=0,m=-1;p<g;++p)(b=r.tween[p].value.call(e,e.__data__,r.index,r.group))&&(o[++m]=b);o.length=m+1}}function h(d){for(var p=d<r.duration?r.ease.call(null,d/r.duration):(r.timer.restart(f),r.state=ENDING,1),m=-1,g=o.length;++m<g;)o[m].call(e,p);r.state===ENDING&&(r.on.call("end",e,e.__data__,r.index,r.group),f())}function f(){r.state=ENDED,r.timer.stop(),delete n[t];for(var d in n)return;delete e.__transition}}function interrupt(e,t){var r=e.__transition,n,o,l=!0,u;if(!!r){t=t==null?null:t+"";for(u in r){if((n=r[u]).name!==t){l=!1;continue}o=n.state>STARTING&&n.state<ENDING,n.state=ENDED,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[u]}l&&delete e.__transition}}function selection_interrupt(e){return this.each(function(){interrupt(this,e)})}function tweenRemove(e,t){var r,n;return function(){var o=set$1(this,e),l=o.tween;if(l!==r){n=r=l;for(var u=0,h=n.length;u<h;++u)if(n[u].name===t){n=n.slice(),n.splice(u,1);break}}o.tween=n}}function tweenFunction(e,t,r){var n,o;if(typeof r!="function")throw new Error;return function(){var l=set$1(this,e),u=l.tween;if(u!==n){o=(n=u).slice();for(var h={name:t,value:r},f=0,d=o.length;f<d;++f)if(o[f].name===t){o[f]=h;break}f===d&&o.push(h)}l.tween=o}}function transition_tween(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=get(this.node(),r).tween,o=0,l=n.length,u;o<l;++o)if((u=n[o]).name===e)return u.value;return null}return this.each((t==null?tweenRemove:tweenFunction)(r,e,t))}function tweenValue(e,t,r){var n=e._id;return e.each(function(){var o=set$1(this,n);(o.value||(o.value={}))[t]=r.apply(this,arguments)}),function(o){return get(o,n).value[t]}}function interpolate$1(e,t){var r;return(typeof t=="number"?interpolateNumber:t instanceof color?interpolateRgb:(r=color(t))?(t=r,interpolateRgb):interpolateString)(e,t)}function attrRemove(e){return function(){this.removeAttribute(e)}}function attrRemoveNS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function attrConstant(e,t,r){var n,o=r+"",l;return function(){var u=this.getAttribute(e);return u===o?null:u===n?l:l=t(n=u,r)}}function attrConstantNS(e,t,r){var n,o=r+"",l;return function(){var u=this.getAttributeNS(e.space,e.local);return u===o?null:u===n?l:l=t(n=u,r)}}function attrFunction(e,t,r){var n,o,l;return function(){var u,h=r(this),f;return h==null?void this.removeAttribute(e):(u=this.getAttribute(e),f=h+"",u===f?null:u===n&&f===o?l:(o=f,l=t(n=u,h)))}}function attrFunctionNS(e,t,r){var n,o,l;return function(){var u,h=r(this),f;return h==null?void this.removeAttributeNS(e.space,e.local):(u=this.getAttributeNS(e.space,e.local),f=h+"",u===f?null:u===n&&f===o?l:(o=f,l=t(n=u,h)))}}function transition_attr(e,t){var r=namespace(e),n=r==="transform"?interpolateTransformSvg:interpolate$1;return this.attrTween(e,typeof t=="function"?(r.local?attrFunctionNS:attrFunction)(r,n,tweenValue(this,"attr."+e,t)):t==null?(r.local?attrRemoveNS:attrRemove)(r):(r.local?attrConstantNS:attrConstant)(r,n,t))}function attrInterpolate(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function attrInterpolateNS(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function attrTweenNS(e,t){var r,n;function o(){var l=t.apply(this,arguments);return l!==n&&(r=(n=l)&&attrInterpolateNS(e,l)),r}return o._value=t,o}function attrTween(e,t){var r,n;function o(){var l=t.apply(this,arguments);return l!==n&&(r=(n=l)&&attrInterpolate(e,l)),r}return o._value=t,o}function transition_attrTween(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=namespace(e);return this.tween(r,(n.local?attrTweenNS:attrTween)(n,t))}function delayFunction(e,t){return function(){init$2(this,e).delay=+t.apply(this,arguments)}}function delayConstant(e,t){return t=+t,function(){init$2(this,e).delay=t}}function transition_delay(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?delayFunction:delayConstant)(t,e)):get(this.node(),t).delay}function durationFunction(e,t){return function(){set$1(this,e).duration=+t.apply(this,arguments)}}function durationConstant(e,t){return t=+t,function(){set$1(this,e).duration=t}}function transition_duration(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?durationFunction:durationConstant)(t,e)):get(this.node(),t).duration}function easeConstant(e,t){if(typeof t!="function")throw new Error;return function(){set$1(this,e).ease=t}}function transition_ease(e){var t=this._id;return arguments.length?this.each(easeConstant(t,e)):get(this.node(),t).ease}function transition_filter(e){typeof e!="function"&&(e=matcher(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var l=t[o],u=l.length,h=n[o]=[],f,d=0;d<u;++d)(f=l[d])&&e.call(f,f.__data__,d,l)&&h.push(f);return new Transition(n,this._parents,this._name,this._id)}function transition_merge(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,o=r.length,l=Math.min(n,o),u=new Array(n),h=0;h<l;++h)for(var f=t[h],d=r[h],p=f.length,m=u[h]=new Array(p),g,b=0;b<p;++b)(g=f[b]||d[b])&&(m[b]=g);for(;h<n;++h)u[h]=t[h];return new Transition(u,this._parents,this._name,this._id)}function start$1(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function onFunction(e,t,r){var n,o,l=start$1(t)?init$2:set$1;return function(){var u=l(this,e),h=u.on;h!==n&&(o=(n=h).copy()).on(t,r),u.on=o}}function transition_on(e,t){var r=this._id;return arguments.length<2?get(this.node(),r).on.on(e):this.each(onFunction(r,e,t))}function removeFunction(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(e){var t=this._name,r=this._id;typeof e!="function"&&(e=selector(e));for(var n=this._groups,o=n.length,l=new Array(o),u=0;u<o;++u)for(var h=n[u],f=h.length,d=l[u]=new Array(f),p,m,g=0;g<f;++g)(p=h[g])&&(m=e.call(p,p.__data__,g,h))&&("__data__"in p&&(m.__data__=p.__data__),d[g]=m,schedule(d[g],t,r,g,d,get(p,r)));return new Transition(l,this._parents,t,r)}function transition_selectAll(e){var t=this._name,r=this._id;typeof e!="function"&&(e=selectorAll(e));for(var n=this._groups,o=n.length,l=[],u=[],h=0;h<o;++h)for(var f=n[h],d=f.length,p,m=0;m<d;++m)if(p=f[m]){for(var g=e.call(p,p.__data__,m,f),b,v=get(p,r),T=0,R=g.length;T<R;++T)(b=g[T])&&schedule(b,t,r,T,g,v);l.push(g),u.push(p)}return new Transition(l,u,t,r)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(e,t){var r,n,o;return function(){var l=styleValue(this,e),u=(this.style.removeProperty(e),styleValue(this,e));return l===u?null:l===r&&u===n?o:o=t(r=l,n=u)}}function styleRemove(e){return function(){this.style.removeProperty(e)}}function styleConstant(e,t,r){var n,o=r+"",l;return function(){var u=styleValue(this,e);return u===o?null:u===n?l:l=t(n=u,r)}}function styleFunction(e,t,r){var n,o,l;return function(){var u=styleValue(this,e),h=r(this),f=h+"";return h==null&&(f=h=(this.style.removeProperty(e),styleValue(this,e))),u===f?null:u===n&&f===o?l:(o=f,l=t(n=u,h))}}function styleMaybeRemove(e,t){var r,n,o,l="style."+t,u="end."+l,h;return function(){var f=set$1(this,e),d=f.on,p=f.value[l]==null?h||(h=styleRemove(t)):void 0;(d!==r||o!==p)&&(n=(r=d).copy()).on(u,o=p),f.on=n}}function transition_style(e,t,r){var n=(e+="")=="transform"?interpolateTransformCss:interpolate$1;return t==null?this.styleTween(e,styleNull(e,n)).on("end.style."+e,styleRemove(e)):typeof t=="function"?this.styleTween(e,styleFunction(e,n,tweenValue(this,"style."+e,t))).each(styleMaybeRemove(this._id,e)):this.styleTween(e,styleConstant(e,n,t),r).on("end.style."+e,null)}function styleInterpolate(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function styleTween(e,t,r){var n,o;function l(){var u=t.apply(this,arguments);return u!==o&&(n=(o=u)&&styleInterpolate(e,u,r)),n}return l._value=t,l}function transition_styleTween(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,styleTween(e,t,r==null?"":r))}function textConstant(e){return function(){this.textContent=e}}function textFunction(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function transition_text(e){return this.tween("text",typeof e=="function"?textFunction(tweenValue(this,"text",e)):textConstant(e==null?"":e+""))}function textInterpolate(e){return function(t){this.textContent=e.call(this,t)}}function textTween(e){var t,r;function n(){var o=e.apply(this,arguments);return o!==r&&(t=(r=o)&&textInterpolate(o)),t}return n._value=e,n}function transition_textTween(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,textTween(e))}function transition_transition(){for(var e=this._name,t=this._id,r=newId(),n=this._groups,o=n.length,l=0;l<o;++l)for(var u=n[l],h=u.length,f,d=0;d<h;++d)if(f=u[d]){var p=get(f,t);schedule(f,e,r,d,u,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Transition(n,this._parents,e,r)}function transition_end(){var e,t,r=this,n=r._id,o=r.size();return new Promise(function(l,u){var h={value:u},f={value:function(){--o===0&&l()}};r.each(function(){var d=set$1(this,n),p=d.on;p!==e&&(t=(e=p).copy(),t._.cancel.push(h),t._.interrupt.push(h),t._.end.push(f)),d.on=t})})}var id$1=0;function Transition(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function transition(e){return selection().transition(e)}function newId(){return++id$1}var selection_prototype=selection.prototype;Transition.prototype=transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,end:transition_end};function linear$1(e){return+e}function quadIn(e){return e*e}function quadOut(e){return e*(2-e)}function quadInOut(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function cubicIn(e){return e*e*e}function cubicOut(e){return--e*e*e+1}function cubicInOut(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var exponent$1=3,polyIn=function e(t){t=+t;function r(n){return Math.pow(n,t)}return r.exponent=e,r}(exponent$1),polyOut=function e(t){t=+t;function r(n){return 1-Math.pow(1-n,t)}return r.exponent=e,r}(exponent$1),polyInOut=function e(t){t=+t;function r(n){return((n*=2)<=1?Math.pow(n,t):2-Math.pow(2-n,t))/2}return r.exponent=e,r}(exponent$1),pi$4=Math.PI,halfPi$3=pi$4/2;function sinIn(e){return+e==1?1:1-Math.cos(e*halfPi$3)}function sinOut(e){return Math.sin(e*halfPi$3)}function sinInOut(e){return(1-Math.cos(pi$4*e))/2}function tpmt(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}function expIn(e){return tpmt(1-+e)}function expOut(e){return 1-tpmt(e)}function expInOut(e){return((e*=2)<=1?tpmt(1-e):2-tpmt(e-1))/2}function circleIn(e){return 1-Math.sqrt(1-e*e)}function circleOut(e){return Math.sqrt(1- --e*e)}function circleInOut(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var b1=4/11,b2=6/11,b3=8/11,b4=3/4,b5=9/11,b6=10/11,b7=15/16,b8=21/22,b9=63/64,b0=1/b1/b1;function bounceIn(e){return 1-bounceOut(1-e)}function bounceOut(e){return(e=+e)<b1?b0*e*e:e<b3?b0*(e-=b2)*e+b4:e<b6?b0*(e-=b5)*e+b7:b0*(e-=b8)*e+b9}function bounceInOut(e){return((e*=2)<=1?1-bounceOut(1-e):bounceOut(e-1)+1)/2}var overshoot=1.70158,backIn=function e(t){t=+t;function r(n){return(n=+n)*n*(t*(n-1)+n)}return r.overshoot=e,r}(overshoot),backOut=function e(t){t=+t;function r(n){return--n*n*((n+1)*t+n)+1}return r.overshoot=e,r}(overshoot),backInOut=function e(t){t=+t;function r(n){return((n*=2)<1?n*n*((t+1)*n-t):(n-=2)*n*((t+1)*n+t)+2)/2}return r.overshoot=e,r}(overshoot),tau$4=2*Math.PI,amplitude=1,period=.3,elasticIn=function e(t,r){var n=Math.asin(1/(t=Math.max(1,t)))*(r/=tau$4);function o(l){return t*tpmt(- --l)*Math.sin((n-l)/r)}return o.amplitude=function(l){return e(l,r*tau$4)},o.period=function(l){return e(t,l)},o}(amplitude,period),elasticOut=function e(t,r){var n=Math.asin(1/(t=Math.max(1,t)))*(r/=tau$4);function o(l){return 1-t*tpmt(l=+l)*Math.sin((l+n)/r)}return o.amplitude=function(l){return e(l,r*tau$4)},o.period=function(l){return e(t,l)},o}(amplitude,period),elasticInOut=function e(t,r){var n=Math.asin(1/(t=Math.max(1,t)))*(r/=tau$4);function o(l){return((l=l*2-1)<0?t*tpmt(-l)*Math.sin((n-l)/r):2-t*tpmt(l)*Math.sin((n+l)/r))/2}return o.amplitude=function(l){return e(l,r*tau$4)},o.period=function(l){return e(t,l)},o}(amplitude,period),defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))return defaultTiming.time=now(),defaultTiming;return r}function selection_transition(e){var t,r;e instanceof Transition?(t=e._id,e=e._name):(t=newId(),(r=defaultTiming).time=now(),e=e==null?null:e+"");for(var n=this._groups,o=n.length,l=0;l<o;++l)for(var u=n[l],h=u.length,f,d=0;d<h;++d)(f=u[d])&&schedule(f,e,t,d,u,r||inherit(f,t));return new Transition(n,this._parents,e,t)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;var root$1=[null];function active(e,t){var r=e.__transition,n,o;if(r){t=t==null?null:t+"";for(o in r)if((n=r[o]).state>SCHEDULED&&n.name===t)return new Transition([[e]],root$1,t,+o)}return null}function constant$9(e){return function(){return e}}function BrushEvent(e,t,r){this.target=e,this.type=t,this.selection=r}function nopropagation$1(){event.stopImmediatePropagation()}function noevent$1(){event.preventDefault(),event.stopImmediatePropagation()}var MODE_DRAG={name:"drag"},MODE_SPACE={name:"space"},MODE_HANDLE={name:"handle"},MODE_CENTER={name:"center"};function number1(e){return[+e[0],+e[1]]}function number2(e){return[number1(e[0]),number1(e[1])]}function toucher(e){return function(t){return touch(t,event.touches,e)}}var X={name:"x",handles:["w","e"].map(type$1),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Y={name:"y",handles:["n","s"].map(type$1),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},XY={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(type$1),input:function(e){return e==null?null:number2(e)},output:function(e){return e}},cursors={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},flipX={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},flipY={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},signsX={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},signsY={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function type$1(e){return{type:e}}function defaultFilter$1(){return!event.ctrlKey&&!event.button}function defaultExtent$1(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function defaultTouchable$1(){return navigator.maxTouchPoints||"ontouchstart"in this}function local(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function empty(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function brushSelection(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function brushX(){return brush$1(X)}function brushY(){return brush$1(Y)}function brush(){return brush$1(XY)}function brush$1(e){var t=defaultExtent$1,r=defaultFilter$1,n=defaultTouchable$1,o=!0,l=dispatch("start","brush","end"),u=6,h;function f(R){var I=R.property("__brush",T).selectAll(".overlay").data([type$1("overlay")]);I.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",cursors.overlay).merge(I).each(function(){var q=local(this).extent;select(this).attr("x",q[0][0]).attr("y",q[0][1]).attr("width",q[1][0]-q[0][0]).attr("height",q[1][1]-q[0][1])}),R.selectAll(".selection").data([type$1("selection")]).enter().append("rect").attr("class","selection").attr("cursor",cursors.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var N=R.selectAll(".handle").data(e.handles,function(q){return q.type});N.exit().remove(),N.enter().append("rect").attr("class",function(q){return"handle handle--"+q.type}).attr("cursor",function(q){return cursors[q.type]}),R.each(d).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",g).filter(n).on("touchstart.brush",g).on("touchmove.brush",b).on("touchend.brush touchcancel.brush",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}f.move=function(R,I){R.selection?R.on("start.brush",function(){p(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){p(this,arguments).end()}).tween("brush",function(){var N=this,q=N.__brush,F=p(N,arguments),H=q.selection,V=e.input(typeof I=="function"?I.apply(this,arguments):I,q.extent),z=interpolateValue(H,V);function G(P){q.selection=P===1&&V===null?null:z(P),d.call(N),F.brush()}return H!==null&&V!==null?G:G(1)}):R.each(function(){var N=this,q=arguments,F=N.__brush,H=e.input(typeof I=="function"?I.apply(N,q):I,F.extent),V=p(N,q).beforestart();interrupt(N),F.selection=H===null?null:H,d.call(N),V.start().brush().end()})},f.clear=function(R){f.move(R,null)};function d(){var R=select(this),I=local(this).selection;I?(R.selectAll(".selection").style("display",null).attr("x",I[0][0]).attr("y",I[0][1]).attr("width",I[1][0]-I[0][0]).attr("height",I[1][1]-I[0][1]),R.selectAll(".handle").style("display",null).attr("x",function(N){return N.type[N.type.length-1]==="e"?I[1][0]-u/2:I[0][0]-u/2}).attr("y",function(N){return N.type[0]==="s"?I[1][1]-u/2:I[0][1]-u/2}).attr("width",function(N){return N.type==="n"||N.type==="s"?I[1][0]-I[0][0]+u:u}).attr("height",function(N){return N.type==="e"||N.type==="w"?I[1][1]-I[0][1]+u:u})):R.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function p(R,I,N){var q=R.__brush.emitter;return q&&(!N||!q.clean)?q:new m(R,I,N)}function m(R,I,N){this.that=R,this.args=I,this.state=R.__brush,this.active=0,this.clean=N}m.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return--this.active===0&&(delete this.state.emitter,this.emit("end")),this},emit:function(R){customEvent(new BrushEvent(f,R,e.output(this.state.selection)),l.apply,l,[R,this.that,this.args])}};function g(){if(h&&!event.touches||!r.apply(this,arguments))return;var R=this,I=event.target.__data__.type,N=(o&&event.metaKey?I="overlay":I)==="selection"?MODE_DRAG:o&&event.altKey?MODE_CENTER:MODE_HANDLE,q=e===Y?null:signsX[I],F=e===X?null:signsY[I],H=local(R),V=H.extent,z=H.selection,G=V[0][0],P,W,S=V[0][1],U,L,ae=V[1][0],Q,ue,_e=V[1][1],ke,de,ce=0,he=0,Se,ve=q&&F&&o&&event.shiftKey,me,Ce,xe=event.touches?toucher(event.changedTouches[0].identifier):mouse,Ne=xe(R),pe=Ne,J=p(R,arguments,!0).beforestart();I==="overlay"?(z&&(Se=!0),H.selection=z=[[P=e===Y?G:Ne[0],U=e===X?S:Ne[1]],[Q=e===Y?ae:P,ke=e===X?_e:U]]):(P=z[0][0],U=z[0][1],Q=z[1][0],ke=z[1][1]),W=P,L=U,ue=Q,de=ke;var oe=select(R).attr("pointer-events","none"),ee=oe.selectAll(".overlay").attr("cursor",cursors[I]);if(event.touches)J.moved=ie,J.ended=te;else{var Z=select(event.view).on("mousemove.brush",ie,!0).on("mouseup.brush",te,!0);o&&Z.on("keydown.brush",fe,!0).on("keyup.brush",we,!0),dragDisable(event.view)}nopropagation$1(),interrupt(R),d.call(R),J.start();function ie(){var Ye=xe(R);ve&&!me&&!Ce&&(Math.abs(Ye[0]-pe[0])>Math.abs(Ye[1]-pe[1])?Ce=!0:me=!0),pe=Ye,Se=!0,noevent$1(),se()}function se(){var Ye;switch(ce=pe[0]-Ne[0],he=pe[1]-Ne[1],N){case MODE_SPACE:case MODE_DRAG:{q&&(ce=Math.max(G-P,Math.min(ae-Q,ce)),W=P+ce,ue=Q+ce),F&&(he=Math.max(S-U,Math.min(_e-ke,he)),L=U+he,de=ke+he);break}case MODE_HANDLE:{q<0?(ce=Math.max(G-P,Math.min(ae-P,ce)),W=P+ce,ue=Q):q>0&&(ce=Math.max(G-Q,Math.min(ae-Q,ce)),W=P,ue=Q+ce),F<0?(he=Math.max(S-U,Math.min(_e-U,he)),L=U+he,de=ke):F>0&&(he=Math.max(S-ke,Math.min(_e-ke,he)),L=U,de=ke+he);break}case MODE_CENTER:{q&&(W=Math.max(G,Math.min(ae,P-ce*q)),ue=Math.max(G,Math.min(ae,Q+ce*q))),F&&(L=Math.max(S,Math.min(_e,U-he*F)),de=Math.max(S,Math.min(_e,ke+he*F)));break}}ue<W&&(q*=-1,Ye=P,P=Q,Q=Ye,Ye=W,W=ue,ue=Ye,I in flipX&&ee.attr("cursor",cursors[I=flipX[I]])),de<L&&(F*=-1,Ye=U,U=ke,ke=Ye,Ye=L,L=de,de=Ye,I in flipY&&ee.attr("cursor",cursors[I=flipY[I]])),H.selection&&(z=H.selection),me&&(W=z[0][0],ue=z[1][0]),Ce&&(L=z[0][1],de=z[1][1]),(z[0][0]!==W||z[0][1]!==L||z[1][0]!==ue||z[1][1]!==de)&&(H.selection=[[W,L],[ue,de]],d.call(R),J.brush())}function te(){if(nopropagation$1(),event.touches){if(event.touches.length)return;h&&clearTimeout(h),h=setTimeout(function(){h=null},500)}else yesdrag(event.view,Se),Z.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);oe.attr("pointer-events","all"),ee.attr("cursor",cursors.overlay),H.selection&&(z=H.selection),empty(z)&&(H.selection=null,d.call(R)),J.end()}function fe(){switch(event.keyCode){case 16:{ve=q&&F;break}case 18:{N===MODE_HANDLE&&(q&&(Q=ue-ce*q,P=W+ce*q),F&&(ke=de-he*F,U=L+he*F),N=MODE_CENTER,se());break}case 32:{(N===MODE_HANDLE||N===MODE_CENTER)&&(q<0?Q=ue-ce:q>0&&(P=W-ce),F<0?ke=de-he:F>0&&(U=L-he),N=MODE_SPACE,ee.attr("cursor",cursors.selection),se());break}default:return}noevent$1()}function we(){switch(event.keyCode){case 16:{ve&&(me=Ce=ve=!1,se());break}case 18:{N===MODE_CENTER&&(q<0?Q=ue:q>0&&(P=W),F<0?ke=de:F>0&&(U=L),N=MODE_HANDLE,se());break}case 32:{N===MODE_SPACE&&(event.altKey?(q&&(Q=ue-ce*q,P=W+ce*q),F&&(ke=de-he*F,U=L+he*F),N=MODE_CENTER):(q<0?Q=ue:q>0&&(P=W),F<0?ke=de:F>0&&(U=L),N=MODE_HANDLE),ee.attr("cursor",cursors[I]),se());break}default:return}noevent$1()}}function b(){p(this,arguments).moved()}function v(){p(this,arguments).ended()}function T(){var R=this.__brush||{selection:null};return R.extent=number2(t.apply(this,arguments)),R.dim=e,R}return f.extent=function(R){return arguments.length?(t=typeof R=="function"?R:constant$9(number2(R)),f):t},f.filter=function(R){return arguments.length?(r=typeof R=="function"?R:constant$9(!!R),f):r},f.touchable=function(R){return arguments.length?(n=typeof R=="function"?R:constant$9(!!R),f):n},f.handleSize=function(R){return arguments.length?(u=+R,f):u},f.keyModifiers=function(R){return arguments.length?(o=!!R,f):o},f.on=function(){var R=l.on.apply(l,arguments);return R===l?f:R},f}var cos$2=Math.cos,sin$2=Math.sin,pi$3=Math.PI,halfPi$2=pi$3/2,tau$3=pi$3*2,max$1=Math.max;function compareValue(e){return function(t,r){return e(t.source.value+t.target.value,r.source.value+r.target.value)}}function chord(){var e=0,t=null,r=null,n=null;function o(l){var u=l.length,h=[],f=sequence(u),d=[],p=[],m=p.groups=new Array(u),g=new Array(u*u),b,v,T,R,I,N;for(b=0,I=-1;++I<u;){for(v=0,N=-1;++N<u;)v+=l[I][N];h.push(v),d.push(sequence(u)),b+=v}for(t&&f.sort(function(W,S){return t(h[W],h[S])}),r&&d.forEach(function(W,S){W.sort(function(U,L){return r(l[S][U],l[S][L])})}),b=max$1(0,tau$3-e*u)/b,R=b?e:tau$3/u,v=0,I=-1;++I<u;){for(T=v,N=-1;++N<u;){var q=f[I],F=d[q][N],H=l[q][F],V=v,z=v+=H*b;g[F*u+q]={index:q,subindex:F,startAngle:V,endAngle:z,value:H}}m[q]={index:q,startAngle:T,endAngle:v,value:h[q]},v+=R}for(I=-1;++I<u;)for(N=I-1;++N<u;){var G=g[N*u+I],P=g[I*u+N];(G.value||P.value)&&p.push(G.value<P.value?{source:P,target:G}:{source:G,target:P})}return n?p.sort(n):p}return o.padAngle=function(l){return arguments.length?(e=max$1(0,l),o):e},o.sortGroups=function(l){return arguments.length?(t=l,o):t},o.sortSubgroups=function(l){return arguments.length?(r=l,o):r},o.sortChords=function(l){return arguments.length?(l==null?n=null:(n=compareValue(l))._=l,o):n&&n._},o}var slice$4=Array.prototype.slice;function constant$8(e){return function(){return e}}var pi$2=Math.PI,tau$2=2*pi$2,epsilon$3=1e-6,tauEpsilon=tau$2-epsilon$3;function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path(){return new Path}Path.prototype=path.prototype={constructor:Path,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,o,l){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+o)+","+(this._y1=+l)},arcTo:function(e,t,r,n,o){e=+e,t=+t,r=+r,n=+n,o=+o;var l=this._x1,u=this._y1,h=r-e,f=n-t,d=l-e,p=u-t,m=d*d+p*p;if(o<0)throw new Error("negative radius: "+o);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(m>epsilon$3)if(!(Math.abs(p*h-f*d)>epsilon$3)||!o)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var g=r-l,b=n-u,v=h*h+f*f,T=g*g+b*b,R=Math.sqrt(v),I=Math.sqrt(m),N=o*Math.tan((pi$2-Math.acos((v+m-T)/(2*R*I)))/2),q=N/I,F=N/R;Math.abs(q-1)>epsilon$3&&(this._+="L"+(e+q*d)+","+(t+q*p)),this._+="A"+o+","+o+",0,0,"+ +(p*g>d*b)+","+(this._x1=e+F*h)+","+(this._y1=t+F*f)}},arc:function(e,t,r,n,o,l){e=+e,t=+t,r=+r,l=!!l;var u=r*Math.cos(n),h=r*Math.sin(n),f=e+u,d=t+h,p=1^l,m=l?n-o:o-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+f+","+d:(Math.abs(this._x1-f)>epsilon$3||Math.abs(this._y1-d)>epsilon$3)&&(this._+="L"+f+","+d),r&&(m<0&&(m=m%tau$2+tau$2),m>tauEpsilon?this._+="A"+r+","+r+",0,1,"+p+","+(e-u)+","+(t-h)+"A"+r+","+r+",0,1,"+p+","+(this._x1=f)+","+(this._y1=d):m>epsilon$3&&(this._+="A"+r+","+r+",0,"+ +(m>=pi$2)+","+p+","+(this._x1=e+r*Math.cos(o))+","+(this._y1=t+r*Math.sin(o))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};function defaultSource$1(e){return e.source}function defaultTarget(e){return e.target}function defaultRadius$1(e){return e.radius}function defaultStartAngle(e){return e.startAngle}function defaultEndAngle(e){return e.endAngle}function ribbon(){var e=defaultSource$1,t=defaultTarget,r=defaultRadius$1,n=defaultStartAngle,o=defaultEndAngle,l=null;function u(){var h,f=slice$4.call(arguments),d=e.apply(this,f),p=t.apply(this,f),m=+r.apply(this,(f[0]=d,f)),g=n.apply(this,f)-halfPi$2,b=o.apply(this,f)-halfPi$2,v=m*cos$2(g),T=m*sin$2(g),R=+r.apply(this,(f[0]=p,f)),I=n.apply(this,f)-halfPi$2,N=o.apply(this,f)-halfPi$2;if(l||(l=h=path()),l.moveTo(v,T),l.arc(0,0,m,g,b),(g!==I||b!==N)&&(l.quadraticCurveTo(0,0,R*cos$2(I),R*sin$2(I)),l.arc(0,0,R,I,N)),l.quadraticCurveTo(0,0,v,T),l.closePath(),h)return l=null,h+""||null}return u.radius=function(h){return arguments.length?(r=typeof h=="function"?h:constant$8(+h),u):r},u.startAngle=function(h){return arguments.length?(n=typeof h=="function"?h:constant$8(+h),u):n},u.endAngle=function(h){return arguments.length?(o=typeof h=="function"?h:constant$8(+h),u):o},u.source=function(h){return arguments.length?(e=h,u):e},u.target=function(h){return arguments.length?(t=h,u):t},u.context=function(h){return arguments.length?(l=h==null?null:h,u):l},u}var prefix="$";function Map$3(){}Map$3.prototype=map$2.prototype={constructor:Map$3,has:function(e){return prefix+e in this},get:function(e){return this[prefix+e]},set:function(e,t){return this[prefix+e]=t,this},remove:function(e){var t=prefix+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===prefix&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===prefix&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===prefix&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===prefix&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===prefix&&++e;return e},empty:function(){for(var e in this)if(e[0]===prefix)return!1;return!0},each:function(e){for(var t in this)t[0]===prefix&&e(this[t],t.slice(1),this)}};function map$2(e,t){var r=new Map$3;if(e instanceof Map$3)e.each(function(h,f){r.set(f,h)});else if(Array.isArray(e)){var n=-1,o=e.length,l;if(t==null)for(;++n<o;)r.set(n,e[n]);else for(;++n<o;)r.set(t(l=e[n],n,e),l)}else if(e)for(var u in e)r.set(u,e[u]);return r}function nest(){var e=[],t=[],r,n,o;function l(h,f,d,p){if(f>=e.length)return r!=null&&h.sort(r),n!=null?n(h):h;for(var m=-1,g=h.length,b=e[f++],v,T,R=map$2(),I,N=d();++m<g;)(I=R.get(v=b(T=h[m])+""))?I.push(T):R.set(v,[T]);return R.each(function(q,F){p(N,F,l(q,f,d,p))}),N}function u(h,f){if(++f>e.length)return h;var d,p=t[f-1];return n!=null&&f>=e.length?d=h.entries():(d=[],h.each(function(m,g){d.push({key:g,values:u(m,f)})})),p!=null?d.sort(function(m,g){return p(m.key,g.key)}):d}return o={object:function(h){return l(h,0,createObject,setObject)},map:function(h){return l(h,0,createMap,setMap)},entries:function(h){return u(l(h,0,createMap,setMap),0)},key:function(h){return e.push(h),o},sortKeys:function(h){return t[e.length-1]=h,o},sortValues:function(h){return r=h,o},rollup:function(h){return n=h,o}}}function createObject(){return{}}function setObject(e,t,r){e[t]=r}function createMap(){return map$2()}function setMap(e,t,r){e.set(t,r)}function Set$1(){}var proto=map$2.prototype;Set$1.prototype=set.prototype={constructor:Set$1,has:proto.has,add:function(e){return e+="",this[prefix+e]=e,this},remove:proto.remove,clear:proto.clear,values:proto.keys,size:proto.size,empty:proto.empty,each:proto.each};function set(e,t){var r=new Set$1;if(e instanceof Set$1)e.each(function(l){r.add(l)});else if(e){var n=-1,o=e.length;if(t==null)for(;++n<o;)r.add(e[n]);else for(;++n<o;)r.add(t(e[n],n,e))}return r}function keys(e){var t=[];for(var r in e)t.push(r);return t}function values(e){var t=[];for(var r in e)t.push(e[r]);return t}function entries(e){var t=[];for(var r in e)t.push({key:r,value:e[r]});return t}var array$1=Array.prototype,slice$3=array$1.slice;function ascending$1(e,t){return e-t}function area$3(e){for(var t=0,r=e.length,n=e[r-1][1]*e[0][0]-e[r-1][0]*e[0][1];++t<r;)n+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return n}function constant$7(e){return function(){return e}}function contains$2(e,t){for(var r=-1,n=t.length,o;++r<n;)if(o=ringContains(e,t[r]))return o;return 0}function ringContains(e,t){for(var r=t[0],n=t[1],o=-1,l=0,u=e.length,h=u-1;l<u;h=l++){var f=e[l],d=f[0],p=f[1],m=e[h],g=m[0],b=m[1];if(segmentContains(f,m,t))return 0;p>n!=b>n&&r<(g-d)*(n-p)/(b-p)+d&&(o=-o)}return o}function segmentContains(e,t,r){var n;return collinear(e,t,r)&&within(e[n=+(e[0]===t[0])],r[n],t[n])}function collinear(e,t,r){return(t[0]-e[0])*(r[1]-e[1])===(r[0]-e[0])*(t[1]-e[1])}function within(e,t,r){return e<=t&&t<=r||r<=t&&t<=e}function noop$2(){}var cases=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function contours(){var e=1,t=1,r=thresholdSturges,n=f;function o(d){var p=r(d);if(Array.isArray(p))p=p.slice().sort(ascending$1);else{var m=extent$1(d),g=m[0],b=m[1];p=tickStep(g,b,p),p=sequence(Math.floor(g/p)*p,Math.floor(b/p)*p,p)}return p.map(function(v){return l(d,v)})}function l(d,p){var m=[],g=[];return u(d,p,function(b){n(b,d,p),area$3(b)>0?m.push([b]):g.push(b)}),g.forEach(function(b){for(var v=0,T=m.length,R;v<T;++v)if(contains$2((R=m[v])[0],b)!==-1){R.push(b);return}}),{type:"MultiPolygon",value:p,coordinates:m}}function u(d,p,m){var g=new Array,b=new Array,v,T,R,I,N,q;for(v=T=-1,I=d[0]>=p,cases[I<<1].forEach(F);++v<e-1;)R=I,I=d[v+1]>=p,cases[R|I<<1].forEach(F);for(cases[I<<0].forEach(F);++T<t-1;){for(v=-1,I=d[T*e+e]>=p,N=d[T*e]>=p,cases[I<<1|N<<2].forEach(F);++v<e-1;)R=I,I=d[T*e+e+v+1]>=p,q=N,N=d[T*e+v+1]>=p,cases[R|I<<1|N<<2|q<<3].forEach(F);cases[I|N<<3].forEach(F)}for(v=-1,N=d[T*e]>=p,cases[N<<2].forEach(F);++v<e-1;)q=N,N=d[T*e+v+1]>=p,cases[N<<2|q<<3].forEach(F);cases[N<<3].forEach(F);function F(H){var V=[H[0][0]+v,H[0][1]+T],z=[H[1][0]+v,H[1][1]+T],G=h(V),P=h(z),W,S;(W=b[G])?(S=g[P])?(delete b[W.end],delete g[S.start],W===S?(W.ring.push(z),m(W.ring)):g[W.start]=b[S.end]={start:W.start,end:S.end,ring:W.ring.concat(S.ring)}):(delete b[W.end],W.ring.push(z),b[W.end=P]=W):(W=g[P])?(S=b[G])?(delete g[W.start],delete b[S.end],W===S?(W.ring.push(z),m(W.ring)):g[S.start]=b[W.end]={start:S.start,end:W.end,ring:S.ring.concat(W.ring)}):(delete g[W.start],W.ring.unshift(V),g[W.start=G]=W):g[G]=b[P]={start:G,end:P,ring:[V,z]}}}function h(d){return d[0]*2+d[1]*(e+1)*4}function f(d,p,m){d.forEach(function(g){var b=g[0],v=g[1],T=b|0,R=v|0,I,N=p[R*e+T];b>0&&b<e&&T===b&&(I=p[R*e+T-1],g[0]=b+(m-I)/(N-I)-.5),v>0&&v<t&&R===v&&(I=p[(R-1)*e+T],g[1]=v+(m-I)/(N-I)-.5)})}return o.contour=l,o.size=function(d){if(!arguments.length)return[e,t];var p=Math.ceil(d[0]),m=Math.ceil(d[1]);if(!(p>0)||!(m>0))throw new Error("invalid size");return e=p,t=m,o},o.thresholds=function(d){return arguments.length?(r=typeof d=="function"?d:Array.isArray(d)?constant$7(slice$3.call(d)):constant$7(d),o):r},o.smooth=function(d){return arguments.length?(n=d?f:noop$2,o):n===f},o}function blurX(e,t,r){for(var n=e.width,o=e.height,l=(r<<1)+1,u=0;u<o;++u)for(var h=0,f=0;h<n+r;++h)h<n&&(f+=e.data[h+u*n]),h>=r&&(h>=l&&(f-=e.data[h-l+u*n]),t.data[h-r+u*n]=f/Math.min(h+1,n-1+l-h,l))}function blurY(e,t,r){for(var n=e.width,o=e.height,l=(r<<1)+1,u=0;u<n;++u)for(var h=0,f=0;h<o+r;++h)h<o&&(f+=e.data[u+h*n]),h>=r&&(h>=l&&(f-=e.data[u+(h-l)*n]),t.data[u+(h-r)*n]=f/Math.min(h+1,o-1+l-h,l))}function defaultX$1(e){return e[0]}function defaultY$1(e){return e[1]}function defaultWeight(){return 1}function density(){var e=defaultX$1,t=defaultY$1,r=defaultWeight,n=960,o=500,l=20,u=2,h=l*3,f=n+h*2>>u,d=o+h*2>>u,p=constant$7(20);function m(I){var N=new Float32Array(f*d),q=new Float32Array(f*d);I.forEach(function(V,z,G){var P=+e(V,z,G)+h>>u,W=+t(V,z,G)+h>>u,S=+r(V,z,G);P>=0&&P<f&&W>=0&&W<d&&(N[P+W*f]+=S)}),blurX({width:f,height:d,data:N},{width:f,height:d,data:q},l>>u),blurY({width:f,height:d,data:q},{width:f,height:d,data:N},l>>u),blurX({width:f,height:d,data:N},{width:f,height:d,data:q},l>>u),blurY({width:f,height:d,data:q},{width:f,height:d,data:N},l>>u),blurX({width:f,height:d,data:N},{width:f,height:d,data:q},l>>u),blurY({width:f,height:d,data:q},{width:f,height:d,data:N},l>>u);var F=p(N);if(!Array.isArray(F)){var H=max$2(N);F=tickStep(0,H,F),F=sequence(0,Math.floor(H/F)*F,F),F.shift()}return contours().thresholds(F).size([f,d])(N).map(g)}function g(I){return I.value*=Math.pow(2,-2*u),I.coordinates.forEach(b),I}function b(I){I.forEach(v)}function v(I){I.forEach(T)}function T(I){I[0]=I[0]*Math.pow(2,u)-h,I[1]=I[1]*Math.pow(2,u)-h}function R(){return h=l*3,f=n+h*2>>u,d=o+h*2>>u,m}return m.x=function(I){return arguments.length?(e=typeof I=="function"?I:constant$7(+I),m):e},m.y=function(I){return arguments.length?(t=typeof I=="function"?I:constant$7(+I),m):t},m.weight=function(I){return arguments.length?(r=typeof I=="function"?I:constant$7(+I),m):r},m.size=function(I){if(!arguments.length)return[n,o];var N=Math.ceil(I[0]),q=Math.ceil(I[1]);if(!(N>=0)&&!(N>=0))throw new Error("invalid size");return n=N,o=q,R()},m.cellSize=function(I){if(!arguments.length)return 1<<u;if(!((I=+I)>=1))throw new Error("invalid cell size");return u=Math.floor(Math.log(I)/Math.LN2),R()},m.thresholds=function(I){return arguments.length?(p=typeof I=="function"?I:Array.isArray(I)?constant$7(slice$3.call(I)):constant$7(I),m):p},m.bandwidth=function(I){if(!arguments.length)return Math.sqrt(l*(l+1));if(!((I=+I)>=0))throw new Error("invalid bandwidth");return l=Math.round((Math.sqrt(4*I*I+1)-1)/2),R()},m}var EOL={},EOF={},QUOTE=34,NEWLINE=10,RETURN=13;function objectConverter(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function customConverter(e,t){var r=objectConverter(e);return function(n,o){return t(r(n),o,e)}}function inferColumns(e){var t=Object.create(null),r=[];return e.forEach(function(n){for(var o in n)o in t||r.push(t[o]=o)}),r}function pad$1(e,t){var r=e+"",n=r.length;return n<t?new Array(t-n+1).join(0)+r:r}function formatYear$1(e){return e<0?"-"+pad$1(-e,6):e>9999?"+"+pad$1(e,6):pad$1(e,4)}function formatDate(e){var t=e.getUTCHours(),r=e.getUTCMinutes(),n=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":formatYear$1(e.getUTCFullYear())+"-"+pad$1(e.getUTCMonth()+1,2)+"-"+pad$1(e.getUTCDate(),2)+(o?"T"+pad$1(t,2)+":"+pad$1(r,2)+":"+pad$1(n,2)+"."+pad$1(o,3)+"Z":n?"T"+pad$1(t,2)+":"+pad$1(r,2)+":"+pad$1(n,2)+"Z":r||t?"T"+pad$1(t,2)+":"+pad$1(r,2)+"Z":"")}function dsvFormat(e){var t=new RegExp('["'+e+`
\r]`),r=e.charCodeAt(0);function n(m,g){var b,v,T=o(m,function(R,I){if(b)return b(R,I-1);v=R,b=g?customConverter(R,g):objectConverter(R)});return T.columns=v||[],T}function o(m,g){var b=[],v=m.length,T=0,R=0,I,N=v<=0,q=!1;m.charCodeAt(v-1)===NEWLINE&&--v,m.charCodeAt(v-1)===RETURN&&--v;function F(){if(N)return EOF;if(q)return q=!1,EOL;var V,z=T,G;if(m.charCodeAt(z)===QUOTE){for(;T++<v&&m.charCodeAt(T)!==QUOTE||m.charCodeAt(++T)===QUOTE;);return(V=T)>=v?N=!0:(G=m.charCodeAt(T++))===NEWLINE?q=!0:G===RETURN&&(q=!0,m.charCodeAt(T)===NEWLINE&&++T),m.slice(z+1,V-1).replace(/""/g,'"')}for(;T<v;){if((G=m.charCodeAt(V=T++))===NEWLINE)q=!0;else if(G===RETURN)q=!0,m.charCodeAt(T)===NEWLINE&&++T;else if(G!==r)continue;return m.slice(z,V)}return N=!0,m.slice(z,v)}for(;(I=F())!==EOF;){for(var H=[];I!==EOL&&I!==EOF;)H.push(I),I=F();g&&(H=g(H,R++))==null||b.push(H)}return b}function l(m,g){return m.map(function(b){return g.map(function(v){return p(b[v])}).join(e)})}function u(m,g){return g==null&&(g=inferColumns(m)),[g.map(p).join(e)].concat(l(m,g)).join(`
`)}function h(m,g){return g==null&&(g=inferColumns(m)),l(m,g).join(`
`)}function f(m){return m.map(d).join(`
`)}function d(m){return m.map(p).join(e)}function p(m){return m==null?"":m instanceof Date?formatDate(m):t.test(m+="")?'"'+m.replace(/"/g,'""')+'"':m}return{parse:n,parseRows:o,format:u,formatBody:h,formatRows:f,formatRow:d,formatValue:p}}var csv$1=dsvFormat(","),csvParse=csv$1.parse,csvParseRows=csv$1.parseRows,csvFormat=csv$1.format,csvFormatBody=csv$1.formatBody,csvFormatRows=csv$1.formatRows,csvFormatRow=csv$1.formatRow,csvFormatValue=csv$1.formatValue,tsv$1=dsvFormat("	"),tsvParse=tsv$1.parse,tsvParseRows=tsv$1.parseRows,tsvFormat=tsv$1.format,tsvFormatBody=tsv$1.formatBody,tsvFormatRows=tsv$1.formatRows,tsvFormatRow=tsv$1.formatRow,tsvFormatValue=tsv$1.formatValue;function autoType(e){for(var t in e){var r=e[t].trim(),n,o;if(!r)r=null;else if(r==="true")r=!0;else if(r==="false")r=!1;else if(r==="NaN")r=NaN;else if(!isNaN(n=+r))r=n;else if(o=r.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))fixtz&&!!o[4]&&!o[7]&&(r=r.replace(/-/g,"/").replace(/T/," ")),r=new Date(r);else continue;e[t]=r}return e}var fixtz=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function responseBlob(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function blob(e,t){return fetch(e,t).then(responseBlob)}function responseArrayBuffer(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function buffer(e,t){return fetch(e,t).then(responseArrayBuffer)}function responseText(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function text(e,t){return fetch(e,t).then(responseText)}function dsvParse(e){return function(t,r,n){return arguments.length===2&&typeof r=="function"&&(n=r,r=void 0),text(t,r).then(function(o){return e(o,n)})}}function dsv(e,t,r,n){arguments.length===3&&typeof r=="function"&&(n=r,r=void 0);var o=dsvFormat(e);return text(t,r).then(function(l){return o.parse(l,n)})}var csv=dsvParse(csvParse),tsv=dsvParse(tsvParse);function image(e,t){return new Promise(function(r,n){var o=new Image;for(var l in t)o[l]=t[l];o.onerror=n,o.onload=function(){r(o)},o.src=e})}function responseJson(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function json(e,t){return fetch(e,t).then(responseJson)}function parser$c(e){return function(t,r){return text(t,r).then(function(n){return new DOMParser().parseFromString(n,e)})}}const xml=parser$c("application/xml");var html=parser$c("text/html"),svg=parser$c("image/svg+xml");function center(e,t){var r;e==null&&(e=0),t==null&&(t=0);function n(){var o,l=r.length,u,h=0,f=0;for(o=0;o<l;++o)u=r[o],h+=u.x,f+=u.y;for(h=h/l-e,f=f/l-t,o=0;o<l;++o)u=r[o],u.x-=h,u.y-=f}return n.initialize=function(o){r=o},n.x=function(o){return arguments.length?(e=+o,n):e},n.y=function(o){return arguments.length?(t=+o,n):t},n}function constant$6(e){return function(){return e}}function jiggle(){return(Math.random()-.5)*1e-6}function tree_add(e){var t=+this._x.call(null,e),r=+this._y.call(null,e);return add$1(this.cover(t,r),t,r,e)}function add$1(e,t,r,n){if(isNaN(t)||isNaN(r))return e;var o,l=e._root,u={data:n},h=e._x0,f=e._y0,d=e._x1,p=e._y1,m,g,b,v,T,R,I,N;if(!l)return e._root=u,e;for(;l.length;)if((T=t>=(m=(h+d)/2))?h=m:d=m,(R=r>=(g=(f+p)/2))?f=g:p=g,o=l,!(l=l[I=R<<1|T]))return o[I]=u,e;if(b=+e._x.call(null,l.data),v=+e._y.call(null,l.data),t===b&&r===v)return u.next=l,o?o[I]=u:e._root=u,e;do o=o?o[I]=new Array(4):e._root=new Array(4),(T=t>=(m=(h+d)/2))?h=m:d=m,(R=r>=(g=(f+p)/2))?f=g:p=g;while((I=R<<1|T)===(N=(v>=g)<<1|b>=m));return o[N]=l,o[I]=u,e}function addAll(e){var t,r,n=e.length,o,l,u=new Array(n),h=new Array(n),f=1/0,d=1/0,p=-1/0,m=-1/0;for(r=0;r<n;++r)isNaN(o=+this._x.call(null,t=e[r]))||isNaN(l=+this._y.call(null,t))||(u[r]=o,h[r]=l,o<f&&(f=o),o>p&&(p=o),l<d&&(d=l),l>m&&(m=l));if(f>p||d>m)return this;for(this.cover(f,d).cover(p,m),r=0;r<n;++r)add$1(this,u[r],h[r],e[r]);return this}function tree_cover(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var r=this._x0,n=this._y0,o=this._x1,l=this._y1;if(isNaN(r))o=(r=Math.floor(e))+1,l=(n=Math.floor(t))+1;else{for(var u=o-r,h=this._root,f,d;r>e||e>=o||n>t||t>=l;)switch(d=(t<n)<<1|e<r,f=new Array(4),f[d]=h,h=f,u*=2,d){case 0:o=r+u,l=n+u;break;case 1:r=o-u,l=n+u;break;case 2:o=r+u,n=l-u;break;case 3:r=o-u,n=l-u;break}this._root&&this._root.length&&(this._root=h)}return this._x0=r,this._y0=n,this._x1=o,this._y1=l,this}function tree_data(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function tree_extent(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Quad(e,t,r,n,o){this.node=e,this.x0=t,this.y0=r,this.x1=n,this.y1=o}function tree_find(e,t,r){var n,o=this._x0,l=this._y0,u,h,f,d,p=this._x1,m=this._y1,g=[],b=this._root,v,T;for(b&&g.push(new Quad(b,o,l,p,m)),r==null?r=1/0:(o=e-r,l=t-r,p=e+r,m=t+r,r*=r);v=g.pop();)if(!(!(b=v.node)||(u=v.x0)>p||(h=v.y0)>m||(f=v.x1)<o||(d=v.y1)<l))if(b.length){var R=(u+f)/2,I=(h+d)/2;g.push(new Quad(b[3],R,I,f,d),new Quad(b[2],u,I,R,d),new Quad(b[1],R,h,f,I),new Quad(b[0],u,h,R,I)),(T=(t>=I)<<1|e>=R)&&(v=g[g.length-1],g[g.length-1]=g[g.length-1-T],g[g.length-1-T]=v)}else{var N=e-+this._x.call(null,b.data),q=t-+this._y.call(null,b.data),F=N*N+q*q;if(F<r){var H=Math.sqrt(r=F);o=e-H,l=t-H,p=e+H,m=t+H,n=b.data}}return n}function tree_remove(e){if(isNaN(p=+this._x.call(null,e))||isNaN(m=+this._y.call(null,e)))return this;var t,r=this._root,n,o,l,u=this._x0,h=this._y0,f=this._x1,d=this._y1,p,m,g,b,v,T,R,I;if(!r)return this;if(r.length)for(;;){if((v=p>=(g=(u+f)/2))?u=g:f=g,(T=m>=(b=(h+d)/2))?h=b:d=b,t=r,!(r=r[R=T<<1|v]))return this;if(!r.length)break;(t[R+1&3]||t[R+2&3]||t[R+3&3])&&(n=t,I=R)}for(;r.data!==e;)if(o=r,!(r=r.next))return this;return(l=r.next)&&delete r.next,o?(l?o.next=l:delete o.next,this):t?(l?t[R]=l:delete t[R],(r=t[0]||t[1]||t[2]||t[3])&&r===(t[3]||t[2]||t[1]||t[0])&&!r.length&&(n?n[I]=r:this._root=r),this):(this._root=l,this)}function removeAll(e){for(var t=0,r=e.length;t<r;++t)this.remove(e[t]);return this}function tree_root(){return this._root}function tree_size(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function tree_visit(e){var t=[],r,n=this._root,o,l,u,h,f;for(n&&t.push(new Quad(n,this._x0,this._y0,this._x1,this._y1));r=t.pop();)if(!e(n=r.node,l=r.x0,u=r.y0,h=r.x1,f=r.y1)&&n.length){var d=(l+h)/2,p=(u+f)/2;(o=n[3])&&t.push(new Quad(o,d,p,h,f)),(o=n[2])&&t.push(new Quad(o,l,p,d,f)),(o=n[1])&&t.push(new Quad(o,d,u,h,p)),(o=n[0])&&t.push(new Quad(o,l,u,d,p))}return this}function tree_visitAfter(e){var t=[],r=[],n;for(this._root&&t.push(new Quad(this._root,this._x0,this._y0,this._x1,this._y1));n=t.pop();){var o=n.node;if(o.length){var l,u=n.x0,h=n.y0,f=n.x1,d=n.y1,p=(u+f)/2,m=(h+d)/2;(l=o[0])&&t.push(new Quad(l,u,h,p,m)),(l=o[1])&&t.push(new Quad(l,p,h,f,m)),(l=o[2])&&t.push(new Quad(l,u,m,p,d)),(l=o[3])&&t.push(new Quad(l,p,m,f,d))}r.push(n)}for(;n=r.pop();)e(n.node,n.x0,n.y0,n.x1,n.y1);return this}function defaultX(e){return e[0]}function tree_x(e){return arguments.length?(this._x=e,this):this._x}function defaultY(e){return e[1]}function tree_y(e){return arguments.length?(this._y=e,this):this._y}function quadtree(e,t,r){var n=new Quadtree(t==null?defaultX:t,r==null?defaultY:r,NaN,NaN,NaN,NaN);return e==null?n:n.addAll(e)}function Quadtree(e,t,r,n,o,l){this._x=e,this._y=t,this._x0=r,this._y0=n,this._x1=o,this._y1=l,this._root=void 0}function leaf_copy(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}var treeProto=quadtree.prototype=Quadtree.prototype;treeProto.copy=function(){var e=new Quadtree(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,r,n;if(!t)return e;if(!t.length)return e._root=leaf_copy(t),e;for(r=[{source:t,target:e._root=new Array(4)}];t=r.pop();)for(var o=0;o<4;++o)(n=t.source[o])&&(n.length?r.push({source:n,target:t.target[o]=new Array(4)}):t.target[o]=leaf_copy(n));return e};treeProto.add=tree_add;treeProto.addAll=addAll;treeProto.cover=tree_cover;treeProto.data=tree_data;treeProto.extent=tree_extent;treeProto.find=tree_find;treeProto.remove=tree_remove;treeProto.removeAll=removeAll;treeProto.root=tree_root;treeProto.size=tree_size;treeProto.visit=tree_visit;treeProto.visitAfter=tree_visitAfter;treeProto.x=tree_x;treeProto.y=tree_y;function x$4(e){return e.x+e.vx}function y$4(e){return e.y+e.vy}function collide(e){var t,r,n=1,o=1;typeof e!="function"&&(e=constant$6(e==null?1:+e));function l(){for(var f,d=t.length,p,m,g,b,v,T,R=0;R<o;++R)for(p=quadtree(t,x$4,y$4).visitAfter(u),f=0;f<d;++f)m=t[f],v=r[m.index],T=v*v,g=m.x+m.vx,b=m.y+m.vy,p.visit(I);function I(N,q,F,H,V){var z=N.data,G=N.r,P=v+G;if(z){if(z.index>m.index){var W=g-z.x-z.vx,S=b-z.y-z.vy,U=W*W+S*S;U<P*P&&(W===0&&(W=jiggle(),U+=W*W),S===0&&(S=jiggle(),U+=S*S),U=(P-(U=Math.sqrt(U)))/U*n,m.vx+=(W*=U)*(P=(G*=G)/(T+G)),m.vy+=(S*=U)*P,z.vx-=W*(P=1-P),z.vy-=S*P)}return}return q>g+P||H<g-P||F>b+P||V<b-P}}function u(f){if(f.data)return f.r=r[f.data.index];for(var d=f.r=0;d<4;++d)f[d]&&f[d].r>f.r&&(f.r=f[d].r)}function h(){if(!!t){var f,d=t.length,p;for(r=new Array(d),f=0;f<d;++f)p=t[f],r[p.index]=+e(p,f,t)}}return l.initialize=function(f){t=f,h()},l.iterations=function(f){return arguments.length?(o=+f,l):o},l.strength=function(f){return arguments.length?(n=+f,l):n},l.radius=function(f){return arguments.length?(e=typeof f=="function"?f:constant$6(+f),h(),l):e},l}function index$3(e){return e.index}function find(e,t){var r=e.get(t);if(!r)throw new Error("missing: "+t);return r}function link$2(e){var t=index$3,r=p,n,o=constant$6(30),l,u,h,f,d=1;e==null&&(e=[]);function p(T){return 1/Math.min(h[T.source.index],h[T.target.index])}function m(T){for(var R=0,I=e.length;R<d;++R)for(var N=0,q,F,H,V,z,G,P;N<I;++N)q=e[N],F=q.source,H=q.target,V=H.x+H.vx-F.x-F.vx||jiggle(),z=H.y+H.vy-F.y-F.vy||jiggle(),G=Math.sqrt(V*V+z*z),G=(G-l[N])/G*T*n[N],V*=G,z*=G,H.vx-=V*(P=f[N]),H.vy-=z*P,F.vx+=V*(P=1-P),F.vy+=z*P}function g(){if(!!u){var T,R=u.length,I=e.length,N=map$2(u,t),q;for(T=0,h=new Array(R);T<I;++T)q=e[T],q.index=T,typeof q.source!="object"&&(q.source=find(N,q.source)),typeof q.target!="object"&&(q.target=find(N,q.target)),h[q.source.index]=(h[q.source.index]||0)+1,h[q.target.index]=(h[q.target.index]||0)+1;for(T=0,f=new Array(I);T<I;++T)q=e[T],f[T]=h[q.source.index]/(h[q.source.index]+h[q.target.index]);n=new Array(I),b(),l=new Array(I),v()}}function b(){if(!!u)for(var T=0,R=e.length;T<R;++T)n[T]=+r(e[T],T,e)}function v(){if(!!u)for(var T=0,R=e.length;T<R;++T)l[T]=+o(e[T],T,e)}return m.initialize=function(T){u=T,g()},m.links=function(T){return arguments.length?(e=T,g(),m):e},m.id=function(T){return arguments.length?(t=T,m):t},m.iterations=function(T){return arguments.length?(d=+T,m):d},m.strength=function(T){return arguments.length?(r=typeof T=="function"?T:constant$6(+T),b(),m):r},m.distance=function(T){return arguments.length?(o=typeof T=="function"?T:constant$6(+T),v(),m):o},m}function x$3(e){return e.x}function y$3(e){return e.y}var initialRadius=10,initialAngle=Math.PI*(3-Math.sqrt(5));function simulation(e){var t,r=1,n=.001,o=1-Math.pow(n,1/300),l=0,u=.6,h=map$2(),f=timer(p),d=dispatch("tick","end");e==null&&(e=[]);function p(){m(),d.call("tick",t),r<n&&(f.stop(),d.call("end",t))}function m(v){var T,R=e.length,I;v===void 0&&(v=1);for(var N=0;N<v;++N)for(r+=(l-r)*o,h.each(function(q){q(r)}),T=0;T<R;++T)I=e[T],I.fx==null?I.x+=I.vx*=u:(I.x=I.fx,I.vx=0),I.fy==null?I.y+=I.vy*=u:(I.y=I.fy,I.vy=0);return t}function g(){for(var v=0,T=e.length,R;v<T;++v){if(R=e[v],R.index=v,R.fx!=null&&(R.x=R.fx),R.fy!=null&&(R.y=R.fy),isNaN(R.x)||isNaN(R.y)){var I=initialRadius*Math.sqrt(v),N=v*initialAngle;R.x=I*Math.cos(N),R.y=I*Math.sin(N)}(isNaN(R.vx)||isNaN(R.vy))&&(R.vx=R.vy=0)}}function b(v){return v.initialize&&v.initialize(e),v}return g(),t={tick:m,restart:function(){return f.restart(p),t},stop:function(){return f.stop(),t},nodes:function(v){return arguments.length?(e=v,g(),h.each(b),t):e},alpha:function(v){return arguments.length?(r=+v,t):r},alphaMin:function(v){return arguments.length?(n=+v,t):n},alphaDecay:function(v){return arguments.length?(o=+v,t):+o},alphaTarget:function(v){return arguments.length?(l=+v,t):l},velocityDecay:function(v){return arguments.length?(u=1-v,t):1-u},force:function(v,T){return arguments.length>1?(T==null?h.remove(v):h.set(v,b(T)),t):h.get(v)},find:function(v,T,R){var I=0,N=e.length,q,F,H,V,z;for(R==null?R=1/0:R*=R,I=0;I<N;++I)V=e[I],q=v-V.x,F=T-V.y,H=q*q+F*F,H<R&&(z=V,R=H);return z},on:function(v,T){return arguments.length>1?(d.on(v,T),t):d.on(v)}}}function manyBody(){var e,t,r,n=constant$6(-30),o,l=1,u=1/0,h=.81;function f(g){var b,v=e.length,T=quadtree(e,x$3,y$3).visitAfter(p);for(r=g,b=0;b<v;++b)t=e[b],T.visit(m)}function d(){if(!!e){var g,b=e.length,v;for(o=new Array(b),g=0;g<b;++g)v=e[g],o[v.index]=+n(v,g,e)}}function p(g){var b=0,v,T,R=0,I,N,q;if(g.length){for(I=N=q=0;q<4;++q)(v=g[q])&&(T=Math.abs(v.value))&&(b+=v.value,R+=T,I+=T*v.x,N+=T*v.y);g.x=I/R,g.y=N/R}else{v=g,v.x=v.data.x,v.y=v.data.y;do b+=o[v.data.index];while(v=v.next)}g.value=b}function m(g,b,v,T){if(!g.value)return!0;var R=g.x-t.x,I=g.y-t.y,N=T-b,q=R*R+I*I;if(N*N/h<q)return q<u&&(R===0&&(R=jiggle(),q+=R*R),I===0&&(I=jiggle(),q+=I*I),q<l&&(q=Math.sqrt(l*q)),t.vx+=R*g.value*r/q,t.vy+=I*g.value*r/q),!0;if(g.length||q>=u)return;(g.data!==t||g.next)&&(R===0&&(R=jiggle(),q+=R*R),I===0&&(I=jiggle(),q+=I*I),q<l&&(q=Math.sqrt(l*q)));do g.data!==t&&(N=o[g.data.index]*r/q,t.vx+=R*N,t.vy+=I*N);while(g=g.next)}return f.initialize=function(g){e=g,d()},f.strength=function(g){return arguments.length?(n=typeof g=="function"?g:constant$6(+g),d(),f):n},f.distanceMin=function(g){return arguments.length?(l=g*g,f):Math.sqrt(l)},f.distanceMax=function(g){return arguments.length?(u=g*g,f):Math.sqrt(u)},f.theta=function(g){return arguments.length?(h=g*g,f):Math.sqrt(h)},f}function radial(e,t,r){var n,o=constant$6(.1),l,u;typeof e!="function"&&(e=constant$6(+e)),t==null&&(t=0),r==null&&(r=0);function h(d){for(var p=0,m=n.length;p<m;++p){var g=n[p],b=g.x-t||1e-6,v=g.y-r||1e-6,T=Math.sqrt(b*b+v*v),R=(u[p]-T)*l[p]*d/T;g.vx+=b*R,g.vy+=v*R}}function f(){if(!!n){var d,p=n.length;for(l=new Array(p),u=new Array(p),d=0;d<p;++d)u[d]=+e(n[d],d,n),l[d]=isNaN(u[d])?0:+o(n[d],d,n)}}return h.initialize=function(d){n=d,f()},h.strength=function(d){return arguments.length?(o=typeof d=="function"?d:constant$6(+d),f(),h):o},h.radius=function(d){return arguments.length?(e=typeof d=="function"?d:constant$6(+d),f(),h):e},h.x=function(d){return arguments.length?(t=+d,h):t},h.y=function(d){return arguments.length?(r=+d,h):r},h}function x$2(e){var t=constant$6(.1),r,n,o;typeof e!="function"&&(e=constant$6(e==null?0:+e));function l(h){for(var f=0,d=r.length,p;f<d;++f)p=r[f],p.vx+=(o[f]-p.x)*n[f]*h}function u(){if(!!r){var h,f=r.length;for(n=new Array(f),o=new Array(f),h=0;h<f;++h)n[h]=isNaN(o[h]=+e(r[h],h,r))?0:+t(r[h],h,r)}}return l.initialize=function(h){r=h,u()},l.strength=function(h){return arguments.length?(t=typeof h=="function"?h:constant$6(+h),u(),l):t},l.x=function(h){return arguments.length?(e=typeof h=="function"?h:constant$6(+h),u(),l):e},l}function y$2(e){var t=constant$6(.1),r,n,o;typeof e!="function"&&(e=constant$6(e==null?0:+e));function l(h){for(var f=0,d=r.length,p;f<d;++f)p=r[f],p.vy+=(o[f]-p.y)*n[f]*h}function u(){if(!!r){var h,f=r.length;for(n=new Array(f),o=new Array(f),h=0;h<f;++h)n[h]=isNaN(o[h]=+e(r[h],h,r))?0:+t(r[h],h,r)}}return l.initialize=function(h){r=h,u()},l.strength=function(h){return arguments.length?(t=typeof h=="function"?h:constant$6(+h),u(),l):t},l.y=function(h){return arguments.length?(e=typeof h=="function"?h:constant$6(+h),u(),l):e},l}function formatDecimal(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function formatDecimalParts(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function exponent(e){return e=formatDecimalParts(Math.abs(e)),e?e[1]:NaN}function formatGroup(e,t){return function(r,n){for(var o=r.length,l=[],u=0,h=e[0],f=0;o>0&&h>0&&(f+h+1>n&&(h=Math.max(1,n-f)),l.push(r.substring(o-=h,o+h)),!((f+=h+1)>n));)h=e[u=(u+1)%e.length];return l.reverse().join(t)}}function formatNumerals(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(e){if(!(t=re.exec(e)))throw new Error("invalid format: "+e);var t;return new FormatSpecifier({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(e){e:for(var t=e.length,r=1,n=-1,o;r<t;++r)switch(e[r]){case".":n=o=r;break;case"0":n===0&&(n=r),o=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(o+1):e}var prefixExponent;function formatPrefixAuto(e,t){var r=formatDecimalParts(e,t);if(!r)return e+"";var n=r[0],o=r[1],l=o-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,u=n.length;return l===u?n:l>u?n+new Array(l-u+1).join("0"):l>0?n.slice(0,l)+"."+n.slice(l):"0."+new Array(1-l).join("0")+formatDecimalParts(e,Math.max(0,t+l-1))[0]}function formatRounded(e,t){var r=formatDecimalParts(e,t);if(!r)return e+"";var n=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+n:n.length>o+1?n.slice(0,o+1)+"."+n.slice(o+1):n+new Array(o-n.length+2).join("0")}const formatTypes={"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:formatDecimal,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return formatRounded(e*100,t)},r:formatRounded,s:formatPrefixAuto,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function identity$6(e){return e}var map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(e){var t=e.grouping===void 0||e.thousands===void 0?identity$6:formatGroup(map$1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?identity$6:formatNumerals(map$1.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",h=e.minus===void 0?"-":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function d(m){m=formatSpecifier(m);var g=m.fill,b=m.align,v=m.sign,T=m.symbol,R=m.zero,I=m.width,N=m.comma,q=m.precision,F=m.trim,H=m.type;H==="n"?(N=!0,H="g"):formatTypes[H]||(q===void 0&&(q=12),F=!0,H="g"),(R||g==="0"&&b==="=")&&(R=!0,g="0",b="=");var V=T==="$"?r:T==="#"&&/[boxX]/.test(H)?"0"+H.toLowerCase():"",z=T==="$"?n:/[%p]/.test(H)?u:"",G=formatTypes[H],P=/[defgprs%]/.test(H);q=q===void 0?6:/[gprs]/.test(H)?Math.max(1,Math.min(21,q)):Math.max(0,Math.min(20,q));function W(S){var U=V,L=z,ae,Q,ue;if(H==="c")L=G(S)+L,S="";else{S=+S;var _e=S<0||1/S<0;if(S=isNaN(S)?f:G(Math.abs(S),q),F&&(S=formatTrim(S)),_e&&+S==0&&v!=="+"&&(_e=!1),U=(_e?v==="("?v:h:v==="-"||v==="("?"":v)+U,L=(H==="s"?prefixes[8+prefixExponent/3]:"")+L+(_e&&v==="("?")":""),P){for(ae=-1,Q=S.length;++ae<Q;)if(ue=S.charCodeAt(ae),48>ue||ue>57){L=(ue===46?o+S.slice(ae+1):S.slice(ae))+L,S=S.slice(0,ae);break}}}N&&!R&&(S=t(S,1/0));var ke=U.length+S.length+L.length,de=ke<I?new Array(I-ke+1).join(g):"";switch(N&&R&&(S=t(de+S,de.length?I-L.length:1/0),de=""),b){case"<":S=U+S+L+de;break;case"=":S=U+de+S+L;break;case"^":S=de.slice(0,ke=de.length>>1)+U+S+L+de.slice(ke);break;default:S=de+U+S+L;break}return l(S)}return W.toString=function(){return m+""},W}function p(m,g){var b=d((m=formatSpecifier(m),m.type="f",m)),v=Math.max(-8,Math.min(8,Math.floor(exponent(g)/3)))*3,T=Math.pow(10,-v),R=prefixes[8+v/3];return function(I){return b(T*I)+R}}return{format:d,formatPrefix:p}}var locale$1,format$1,formatPrefix;defaultLocale$1({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function defaultLocale$1(e){return locale$1=formatLocale$1(e),format$1=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(e){return Math.max(0,-exponent(Math.abs(e)))}function precisionPrefix(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(t)/3)))*3-exponent(Math.abs(e)))}function precisionRound(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,exponent(t)-exponent(e))+1}function adder(){return new Adder}function Adder(){this.reset()}Adder.prototype={constructor:Adder,reset:function(){this.s=this.t=0},add:function(e){add(temp,e,this.t),add(this,temp.s,this.s),this.s?this.t+=temp.t:this.s=temp.t},valueOf:function(){return this.s}};var temp=new Adder;function add(e,t,r){var n=e.s=t+r,o=n-t,l=n-o;e.t=t-l+(r-o)}var epsilon$2=1e-6,epsilon2$1=1e-12,pi$1=Math.PI,halfPi$1=pi$1/2,quarterPi=pi$1/4,tau$1=pi$1*2,degrees=180/pi$1,radians=pi$1/180,abs$1=Math.abs,atan=Math.atan,atan2$1=Math.atan2,cos$1=Math.cos,ceil=Math.ceil,exp=Math.exp,log$3=Math.log,pow$1=Math.pow,sin$1=Math.sin,sign$1=Math.sign||function(e){return e>0?1:e<0?-1:0},sqrt$2=Math.sqrt,tan=Math.tan;function acos$1(e){return e>1?0:e<-1?pi$1:Math.acos(e)}function asin$1(e){return e>1?halfPi$1:e<-1?-halfPi$1:Math.asin(e)}function haversin(e){return(e=sin$1(e/2))*e}function noop$1(){}function streamGeometry(e,t){e&&streamGeometryType.hasOwnProperty(e.type)&&streamGeometryType[e.type](e,t)}var streamObjectType={Feature:function(e,t){streamGeometry(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,n=-1,o=r.length;++n<o;)streamGeometry(r[n].geometry,t)}},streamGeometryType={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var r=e.coordinates,n=-1,o=r.length;++n<o;)e=r[n],t.point(e[0],e[1],e[2])},LineString:function(e,t){streamLine(e.coordinates,t,0)},MultiLineString:function(e,t){for(var r=e.coordinates,n=-1,o=r.length;++n<o;)streamLine(r[n],t,0)},Polygon:function(e,t){streamPolygon(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,n=-1,o=r.length;++n<o;)streamPolygon(r[n],t)},GeometryCollection:function(e,t){for(var r=e.geometries,n=-1,o=r.length;++n<o;)streamGeometry(r[n],t)}};function streamLine(e,t,r){var n=-1,o=e.length-r,l;for(t.lineStart();++n<o;)l=e[n],t.point(l[0],l[1],l[2]);t.lineEnd()}function streamPolygon(e,t){var r=-1,n=e.length;for(t.polygonStart();++r<n;)streamLine(e[r],t,1);t.polygonEnd()}function geoStream(e,t){e&&streamObjectType.hasOwnProperty(e.type)?streamObjectType[e.type](e,t):streamGeometry(e,t)}var areaRingSum$1=adder(),areaSum$1=adder(),lambda00$2,phi00$2,lambda0$2,cosPhi0$1,sinPhi0$1,areaStream$1={point:noop$1,lineStart:noop$1,lineEnd:noop$1,polygonStart:function(){areaRingSum$1.reset(),areaStream$1.lineStart=areaRingStart$1,areaStream$1.lineEnd=areaRingEnd$1},polygonEnd:function(){var e=+areaRingSum$1;areaSum$1.add(e<0?tau$1+e:e),this.lineStart=this.lineEnd=this.point=noop$1},sphere:function(){areaSum$1.add(tau$1)}};function areaRingStart$1(){areaStream$1.point=areaPointFirst$1}function areaRingEnd$1(){areaPoint$1(lambda00$2,phi00$2)}function areaPointFirst$1(e,t){areaStream$1.point=areaPoint$1,lambda00$2=e,phi00$2=t,e*=radians,t*=radians,lambda0$2=e,cosPhi0$1=cos$1(t=t/2+quarterPi),sinPhi0$1=sin$1(t)}function areaPoint$1(e,t){e*=radians,t*=radians,t=t/2+quarterPi;var r=e-lambda0$2,n=r>=0?1:-1,o=n*r,l=cos$1(t),u=sin$1(t),h=sinPhi0$1*u,f=cosPhi0$1*l+h*cos$1(o),d=h*n*sin$1(o);areaRingSum$1.add(atan2$1(d,f)),lambda0$2=e,cosPhi0$1=l,sinPhi0$1=u}function area$2(e){return areaSum$1.reset(),geoStream(e,areaStream$1),areaSum$1*2}function spherical(e){return[atan2$1(e[1],e[0]),asin$1(e[2])]}function cartesian(e){var t=e[0],r=e[1],n=cos$1(r);return[n*cos$1(t),n*sin$1(t),sin$1(r)]}function cartesianDot(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function cartesianCross(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function cartesianAddInPlace(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function cartesianScale(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function cartesianNormalizeInPlace(e){var t=sqrt$2(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var lambda0$1,phi0,lambda1,phi1,lambda2,lambda00$1,phi00$1,p0,deltaSum=adder(),ranges,range,boundsStream$2={point:boundsPoint$1,lineStart:boundsLineStart,lineEnd:boundsLineEnd,polygonStart:function(){boundsStream$2.point=boundsRingPoint,boundsStream$2.lineStart=boundsRingStart,boundsStream$2.lineEnd=boundsRingEnd,deltaSum.reset(),areaStream$1.polygonStart()},polygonEnd:function(){areaStream$1.polygonEnd(),boundsStream$2.point=boundsPoint$1,boundsStream$2.lineStart=boundsLineStart,boundsStream$2.lineEnd=boundsLineEnd,areaRingSum$1<0?(lambda0$1=-(lambda1=180),phi0=-(phi1=90)):deltaSum>epsilon$2?phi1=90:deltaSum<-epsilon$2&&(phi0=-90),range[0]=lambda0$1,range[1]=lambda1},sphere:function(){lambda0$1=-(lambda1=180),phi0=-(phi1=90)}};function boundsPoint$1(e,t){ranges.push(range=[lambda0$1=e,lambda1=e]),t<phi0&&(phi0=t),t>phi1&&(phi1=t)}function linePoint(e,t){var r=cartesian([e*radians,t*radians]);if(p0){var n=cartesianCross(p0,r),o=[n[1],-n[0],0],l=cartesianCross(o,n);cartesianNormalizeInPlace(l),l=spherical(l);var u=e-lambda2,h=u>0?1:-1,f=l[0]*degrees*h,d,p=abs$1(u)>180;p^(h*lambda2<f&&f<h*e)?(d=l[1]*degrees,d>phi1&&(phi1=d)):(f=(f+360)%360-180,p^(h*lambda2<f&&f<h*e)?(d=-l[1]*degrees,d<phi0&&(phi0=d)):(t<phi0&&(phi0=t),t>phi1&&(phi1=t))),p?e<lambda2?angle(lambda0$1,e)>angle(lambda0$1,lambda1)&&(lambda1=e):angle(e,lambda1)>angle(lambda0$1,lambda1)&&(lambda0$1=e):lambda1>=lambda0$1?(e<lambda0$1&&(lambda0$1=e),e>lambda1&&(lambda1=e)):e>lambda2?angle(lambda0$1,e)>angle(lambda0$1,lambda1)&&(lambda1=e):angle(e,lambda1)>angle(lambda0$1,lambda1)&&(lambda0$1=e)}else ranges.push(range=[lambda0$1=e,lambda1=e]);t<phi0&&(phi0=t),t>phi1&&(phi1=t),p0=r,lambda2=e}function boundsLineStart(){boundsStream$2.point=linePoint}function boundsLineEnd(){range[0]=lambda0$1,range[1]=lambda1,boundsStream$2.point=boundsPoint$1,p0=null}function boundsRingPoint(e,t){if(p0){var r=e-lambda2;deltaSum.add(abs$1(r)>180?r+(r>0?360:-360):r)}else lambda00$1=e,phi00$1=t;areaStream$1.point(e,t),linePoint(e,t)}function boundsRingStart(){areaStream$1.lineStart()}function boundsRingEnd(){boundsRingPoint(lambda00$1,phi00$1),areaStream$1.lineEnd(),abs$1(deltaSum)>epsilon$2&&(lambda0$1=-(lambda1=180)),range[0]=lambda0$1,range[1]=lambda1,p0=null}function angle(e,t){return(t-=e)<0?t+360:t}function rangeCompare(e,t){return e[0]-t[0]}function rangeContains(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function bounds$2(e){var t,r,n,o,l,u,h;if(phi1=lambda1=-(lambda0$1=phi0=1/0),ranges=[],geoStream(e,boundsStream$2),r=ranges.length){for(ranges.sort(rangeCompare),t=1,n=ranges[0],l=[n];t<r;++t)o=ranges[t],rangeContains(n,o[0])||rangeContains(n,o[1])?(angle(n[0],o[1])>angle(n[0],n[1])&&(n[1]=o[1]),angle(o[0],n[1])>angle(n[0],n[1])&&(n[0]=o[0])):l.push(n=o);for(u=-1/0,r=l.length-1,t=0,n=l[r];t<=r;n=o,++t)o=l[t],(h=angle(n[1],o[0]))>u&&(u=h,lambda0$1=o[0],lambda1=n[1])}return ranges=range=null,lambda0$1===1/0||phi0===1/0?[[NaN,NaN],[NaN,NaN]]:[[lambda0$1,phi0],[lambda1,phi1]]}var W0,W1,X0$1,Y0$1,Z0$1,X1$1,Y1$1,Z1$1,X2$1,Y2$1,Z2$1,lambda00,phi00,x0$4,y0$4,z0,centroidStream$1={sphere:noop$1,point:centroidPoint$1,lineStart:centroidLineStart$1,lineEnd:centroidLineEnd$1,polygonStart:function(){centroidStream$1.lineStart=centroidRingStart$1,centroidStream$1.lineEnd=centroidRingEnd$1},polygonEnd:function(){centroidStream$1.lineStart=centroidLineStart$1,centroidStream$1.lineEnd=centroidLineEnd$1}};function centroidPoint$1(e,t){e*=radians,t*=radians;var r=cos$1(t);centroidPointCartesian(r*cos$1(e),r*sin$1(e),sin$1(t))}function centroidPointCartesian(e,t,r){++W0,X0$1+=(e-X0$1)/W0,Y0$1+=(t-Y0$1)/W0,Z0$1+=(r-Z0$1)/W0}function centroidLineStart$1(){centroidStream$1.point=centroidLinePointFirst}function centroidLinePointFirst(e,t){e*=radians,t*=radians;var r=cos$1(t);x0$4=r*cos$1(e),y0$4=r*sin$1(e),z0=sin$1(t),centroidStream$1.point=centroidLinePoint,centroidPointCartesian(x0$4,y0$4,z0)}function centroidLinePoint(e,t){e*=radians,t*=radians;var r=cos$1(t),n=r*cos$1(e),o=r*sin$1(e),l=sin$1(t),u=atan2$1(sqrt$2((u=y0$4*l-z0*o)*u+(u=z0*n-x0$4*l)*u+(u=x0$4*o-y0$4*n)*u),x0$4*n+y0$4*o+z0*l);W1+=u,X1$1+=u*(x0$4+(x0$4=n)),Y1$1+=u*(y0$4+(y0$4=o)),Z1$1+=u*(z0+(z0=l)),centroidPointCartesian(x0$4,y0$4,z0)}function centroidLineEnd$1(){centroidStream$1.point=centroidPoint$1}function centroidRingStart$1(){centroidStream$1.point=centroidRingPointFirst}function centroidRingEnd$1(){centroidRingPoint(lambda00,phi00),centroidStream$1.point=centroidPoint$1}function centroidRingPointFirst(e,t){lambda00=e,phi00=t,e*=radians,t*=radians,centroidStream$1.point=centroidRingPoint;var r=cos$1(t);x0$4=r*cos$1(e),y0$4=r*sin$1(e),z0=sin$1(t),centroidPointCartesian(x0$4,y0$4,z0)}function centroidRingPoint(e,t){e*=radians,t*=radians;var r=cos$1(t),n=r*cos$1(e),o=r*sin$1(e),l=sin$1(t),u=y0$4*l-z0*o,h=z0*n-x0$4*l,f=x0$4*o-y0$4*n,d=sqrt$2(u*u+h*h+f*f),p=asin$1(d),m=d&&-p/d;X2$1+=m*u,Y2$1+=m*h,Z2$1+=m*f,W1+=p,X1$1+=p*(x0$4+(x0$4=n)),Y1$1+=p*(y0$4+(y0$4=o)),Z1$1+=p*(z0+(z0=l)),centroidPointCartesian(x0$4,y0$4,z0)}function centroid$1(e){W0=W1=X0$1=Y0$1=Z0$1=X1$1=Y1$1=Z1$1=X2$1=Y2$1=Z2$1=0,geoStream(e,centroidStream$1);var t=X2$1,r=Y2$1,n=Z2$1,o=t*t+r*r+n*n;return o<epsilon2$1&&(t=X1$1,r=Y1$1,n=Z1$1,W1<epsilon$2&&(t=X0$1,r=Y0$1,n=Z0$1),o=t*t+r*r+n*n,o<epsilon2$1)?[NaN,NaN]:[atan2$1(r,t)*degrees,asin$1(n/sqrt$2(o))*degrees]}function constant$5(e){return function(){return e}}function compose(e,t){function r(n,o){return n=e(n,o),t(n[0],n[1])}return e.invert&&t.invert&&(r.invert=function(n,o){return n=t.invert(n,o),n&&e.invert(n[0],n[1])}),r}function rotationIdentity(e,t){return[abs$1(e)>pi$1?e+Math.round(-e/tau$1)*tau$1:e,t]}rotationIdentity.invert=rotationIdentity;function rotateRadians(e,t,r){return(e%=tau$1)?t||r?compose(rotationLambda(e),rotationPhiGamma(t,r)):rotationLambda(e):t||r?rotationPhiGamma(t,r):rotationIdentity}function forwardRotationLambda(e){return function(t,r){return t+=e,[t>pi$1?t-tau$1:t<-pi$1?t+tau$1:t,r]}}function rotationLambda(e){var t=forwardRotationLambda(e);return t.invert=forwardRotationLambda(-e),t}function rotationPhiGamma(e,t){var r=cos$1(e),n=sin$1(e),o=cos$1(t),l=sin$1(t);function u(h,f){var d=cos$1(f),p=cos$1(h)*d,m=sin$1(h)*d,g=sin$1(f),b=g*r+p*n;return[atan2$1(m*o-b*l,p*r-g*n),asin$1(b*o+m*l)]}return u.invert=function(h,f){var d=cos$1(f),p=cos$1(h)*d,m=sin$1(h)*d,g=sin$1(f),b=g*o-m*l;return[atan2$1(m*o+g*l,p*r+b*n),asin$1(b*r-p*n)]},u}function rotation(e){e=rotateRadians(e[0]*radians,e[1]*radians,e.length>2?e[2]*radians:0);function t(r){return r=e(r[0]*radians,r[1]*radians),r[0]*=degrees,r[1]*=degrees,r}return t.invert=function(r){return r=e.invert(r[0]*radians,r[1]*radians),r[0]*=degrees,r[1]*=degrees,r},t}function circleStream(e,t,r,n,o,l){if(!!r){var u=cos$1(t),h=sin$1(t),f=n*r;o==null?(o=t+n*tau$1,l=t-f/2):(o=circleRadius(u,o),l=circleRadius(u,l),(n>0?o<l:o>l)&&(o+=n*tau$1));for(var d,p=o;n>0?p>l:p<l;p-=f)d=spherical([u,-h*cos$1(p),-h*sin$1(p)]),e.point(d[0],d[1])}}function circleRadius(e,t){t=cartesian(t),t[0]-=e,cartesianNormalizeInPlace(t);var r=acos$1(-t[1]);return((-t[2]<0?-r:r)+tau$1-epsilon$2)%tau$1}function circle$4(){var e=constant$5([0,0]),t=constant$5(90),r=constant$5(6),n,o,l={point:u};function u(f,d){n.push(f=o(f,d)),f[0]*=degrees,f[1]*=degrees}function h(){var f=e.apply(this,arguments),d=t.apply(this,arguments)*radians,p=r.apply(this,arguments)*radians;return n=[],o=rotateRadians(-f[0]*radians,-f[1]*radians,0).invert,circleStream(l,d,p,1),f={type:"Polygon",coordinates:[n]},n=o=null,f}return h.center=function(f){return arguments.length?(e=typeof f=="function"?f:constant$5([+f[0],+f[1]]),h):e},h.radius=function(f){return arguments.length?(t=typeof f=="function"?f:constant$5(+f),h):t},h.precision=function(f){return arguments.length?(r=typeof f=="function"?f:constant$5(+f),h):r},h}function clipBuffer(){var e=[],t;return{point:function(r,n,o){t.push([r,n,o])},lineStart:function(){e.push(t=[])},lineEnd:noop$1,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var r=e;return e=[],t=null,r}}}function pointEqual(e,t){return abs$1(e[0]-t[0])<epsilon$2&&abs$1(e[1]-t[1])<epsilon$2}function Intersection(e,t,r,n){this.x=e,this.z=t,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function clipRejoin(e,t,r,n,o){var l=[],u=[],h,f;if(e.forEach(function(v){if(!((T=v.length-1)<=0)){var T,R=v[0],I=v[T],N;if(pointEqual(R,I)){if(!R[2]&&!I[2]){for(o.lineStart(),h=0;h<T;++h)o.point((R=v[h])[0],R[1]);o.lineEnd();return}I[0]+=2*epsilon$2}l.push(N=new Intersection(R,v,null,!0)),u.push(N.o=new Intersection(R,null,N,!1)),l.push(N=new Intersection(I,v,null,!1)),u.push(N.o=new Intersection(I,null,N,!0))}}),!!l.length){for(u.sort(t),link$1(l),link$1(u),h=0,f=u.length;h<f;++h)u[h].e=r=!r;for(var d=l[0],p,m;;){for(var g=d,b=!0;g.v;)if((g=g.n)===d)return;p=g.z,o.lineStart();do{if(g.v=g.o.v=!0,g.e){if(b)for(h=0,f=p.length;h<f;++h)o.point((m=p[h])[0],m[1]);else n(g.x,g.n.x,1,o);g=g.n}else{if(b)for(p=g.p.z,h=p.length-1;h>=0;--h)o.point((m=p[h])[0],m[1]);else n(g.x,g.p.x,-1,o);g=g.p}g=g.o,p=g.z,b=!b}while(!g.v);o.lineEnd()}}}function link$1(e){if(!!(t=e.length)){for(var t,r=0,n=e[0],o;++r<t;)n.n=o=e[r],o.p=n,n=o;n.n=o=e[0],o.p=n}}var sum$1=adder();function longitude(e){return abs$1(e[0])<=pi$1?e[0]:sign$1(e[0])*((abs$1(e[0])+pi$1)%tau$1-pi$1)}function polygonContains(e,t){var r=longitude(t),n=t[1],o=sin$1(n),l=[sin$1(r),-cos$1(r),0],u=0,h=0;sum$1.reset(),o===1?n=halfPi$1+epsilon$2:o===-1&&(n=-halfPi$1-epsilon$2);for(var f=0,d=e.length;f<d;++f)if(!!(m=(p=e[f]).length))for(var p,m,g=p[m-1],b=longitude(g),v=g[1]/2+quarterPi,T=sin$1(v),R=cos$1(v),I=0;I<m;++I,b=q,T=H,R=V,g=N){var N=p[I],q=longitude(N),F=N[1]/2+quarterPi,H=sin$1(F),V=cos$1(F),z=q-b,G=z>=0?1:-1,P=G*z,W=P>pi$1,S=T*H;if(sum$1.add(atan2$1(S*G*sin$1(P),R*V+S*cos$1(P))),u+=W?z+G*tau$1:z,W^b>=r^q>=r){var U=cartesianCross(cartesian(g),cartesian(N));cartesianNormalizeInPlace(U);var L=cartesianCross(l,U);cartesianNormalizeInPlace(L);var ae=(W^z>=0?-1:1)*asin$1(L[2]);(n>ae||n===ae&&(U[0]||U[1]))&&(h+=W^z>=0?1:-1)}}return(u<-epsilon$2||u<epsilon$2&&sum$1<-epsilon$2)^h&1}function clip(e,t,r,n){return function(o){var l=t(o),u=clipBuffer(),h=t(u),f=!1,d,p,m,g={point:b,lineStart:T,lineEnd:R,polygonStart:function(){g.point=I,g.lineStart=N,g.lineEnd=q,p=[],d=[]},polygonEnd:function(){g.point=b,g.lineStart=T,g.lineEnd=R,p=merge$1(p);var F=polygonContains(d,n);p.length?(f||(o.polygonStart(),f=!0),clipRejoin(p,compareIntersection,F,r,o)):F&&(f||(o.polygonStart(),f=!0),o.lineStart(),r(null,null,1,o),o.lineEnd()),f&&(o.polygonEnd(),f=!1),p=d=null},sphere:function(){o.polygonStart(),o.lineStart(),r(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function b(F,H){e(F,H)&&o.point(F,H)}function v(F,H){l.point(F,H)}function T(){g.point=v,l.lineStart()}function R(){g.point=b,l.lineEnd()}function I(F,H){m.push([F,H]),h.point(F,H)}function N(){h.lineStart(),m=[]}function q(){I(m[0][0],m[0][1]),h.lineEnd();var F=h.clean(),H=u.result(),V,z=H.length,G,P,W;if(m.pop(),d.push(m),m=null,!!z){if(F&1){if(P=H[0],(G=P.length-1)>0){for(f||(o.polygonStart(),f=!0),o.lineStart(),V=0;V<G;++V)o.point((W=P[V])[0],W[1]);o.lineEnd()}return}z>1&&F&2&&H.push(H.pop().concat(H.shift())),p.push(H.filter(validSegment))}}return g}}function validSegment(e){return e.length>1}function compareIntersection(e,t){return((e=e.x)[0]<0?e[1]-halfPi$1-epsilon$2:halfPi$1-e[1])-((t=t.x)[0]<0?t[1]-halfPi$1-epsilon$2:halfPi$1-t[1])}const clipAntimeridian=clip(function(){return!0},clipAntimeridianLine,clipAntimeridianInterpolate,[-pi$1,-halfPi$1]);function clipAntimeridianLine(e){var t=NaN,r=NaN,n=NaN,o;return{lineStart:function(){e.lineStart(),o=1},point:function(l,u){var h=l>0?pi$1:-pi$1,f=abs$1(l-t);abs$1(f-pi$1)<epsilon$2?(e.point(t,r=(r+u)/2>0?halfPi$1:-halfPi$1),e.point(n,r),e.lineEnd(),e.lineStart(),e.point(h,r),e.point(l,r),o=0):n!==h&&f>=pi$1&&(abs$1(t-n)<epsilon$2&&(t-=n*epsilon$2),abs$1(l-h)<epsilon$2&&(l-=h*epsilon$2),r=clipAntimeridianIntersect(t,r,l,u),e.point(n,r),e.lineEnd(),e.lineStart(),e.point(h,r),o=0),e.point(t=l,r=u),n=h},lineEnd:function(){e.lineEnd(),t=r=NaN},clean:function(){return 2-o}}}function clipAntimeridianIntersect(e,t,r,n){var o,l,u=sin$1(e-r);return abs$1(u)>epsilon$2?atan((sin$1(t)*(l=cos$1(n))*sin$1(r)-sin$1(n)*(o=cos$1(t))*sin$1(e))/(o*l*u)):(t+n)/2}function clipAntimeridianInterpolate(e,t,r,n){var o;if(e==null)o=r*halfPi$1,n.point(-pi$1,o),n.point(0,o),n.point(pi$1,o),n.point(pi$1,0),n.point(pi$1,-o),n.point(0,-o),n.point(-pi$1,-o),n.point(-pi$1,0),n.point(-pi$1,o);else if(abs$1(e[0]-t[0])>epsilon$2){var l=e[0]<t[0]?pi$1:-pi$1;o=r*l/2,n.point(-l,o),n.point(0,o),n.point(l,o)}else n.point(t[0],t[1])}function clipCircle(e){var t=cos$1(e),r=6*radians,n=t>0,o=abs$1(t)>epsilon$2;function l(p,m,g,b){circleStream(b,e,r,g,p,m)}function u(p,m){return cos$1(p)*cos$1(m)>t}function h(p){var m,g,b,v,T;return{lineStart:function(){v=b=!1,T=1},point:function(R,I){var N=[R,I],q,F=u(R,I),H=n?F?0:d(R,I):F?d(R+(R<0?pi$1:-pi$1),I):0;if(!m&&(v=b=F)&&p.lineStart(),F!==b&&(q=f(m,N),(!q||pointEqual(m,q)||pointEqual(N,q))&&(N[2]=1)),F!==b)T=0,F?(p.lineStart(),q=f(N,m),p.point(q[0],q[1])):(q=f(m,N),p.point(q[0],q[1],2),p.lineEnd()),m=q;else if(o&&m&&n^F){var V;!(H&g)&&(V=f(N,m,!0))&&(T=0,n?(p.lineStart(),p.point(V[0][0],V[0][1]),p.point(V[1][0],V[1][1]),p.lineEnd()):(p.point(V[1][0],V[1][1]),p.lineEnd(),p.lineStart(),p.point(V[0][0],V[0][1],3)))}F&&(!m||!pointEqual(m,N))&&p.point(N[0],N[1]),m=N,b=F,g=H},lineEnd:function(){b&&p.lineEnd(),m=null},clean:function(){return T|(v&&b)<<1}}}function f(p,m,g){var b=cartesian(p),v=cartesian(m),T=[1,0,0],R=cartesianCross(b,v),I=cartesianDot(R,R),N=R[0],q=I-N*N;if(!q)return!g&&p;var F=t*I/q,H=-t*N/q,V=cartesianCross(T,R),z=cartesianScale(T,F),G=cartesianScale(R,H);cartesianAddInPlace(z,G);var P=V,W=cartesianDot(z,P),S=cartesianDot(P,P),U=W*W-S*(cartesianDot(z,z)-1);if(!(U<0)){var L=sqrt$2(U),ae=cartesianScale(P,(-W-L)/S);if(cartesianAddInPlace(ae,z),ae=spherical(ae),!g)return ae;var Q=p[0],ue=m[0],_e=p[1],ke=m[1],de;ue<Q&&(de=Q,Q=ue,ue=de);var ce=ue-Q,he=abs$1(ce-pi$1)<epsilon$2,Se=he||ce<epsilon$2;if(!he&&ke<_e&&(de=_e,_e=ke,ke=de),Se?he?_e+ke>0^ae[1]<(abs$1(ae[0]-Q)<epsilon$2?_e:ke):_e<=ae[1]&&ae[1]<=ke:ce>pi$1^(Q<=ae[0]&&ae[0]<=ue)){var ve=cartesianScale(P,(-W+L)/S);return cartesianAddInPlace(ve,z),[ae,spherical(ve)]}}}function d(p,m){var g=n?e:pi$1-e,b=0;return p<-g?b|=1:p>g&&(b|=2),m<-g?b|=4:m>g&&(b|=8),b}return clip(u,h,l,n?[0,-e]:[-pi$1,e-pi$1])}function clipLine(e,t,r,n,o,l){var u=e[0],h=e[1],f=t[0],d=t[1],p=0,m=1,g=f-u,b=d-h,v;if(v=r-u,!(!g&&v>0)){if(v/=g,g<0){if(v<p)return;v<m&&(m=v)}else if(g>0){if(v>m)return;v>p&&(p=v)}if(v=o-u,!(!g&&v<0)){if(v/=g,g<0){if(v>m)return;v>p&&(p=v)}else if(g>0){if(v<p)return;v<m&&(m=v)}if(v=n-h,!(!b&&v>0)){if(v/=b,b<0){if(v<p)return;v<m&&(m=v)}else if(b>0){if(v>m)return;v>p&&(p=v)}if(v=l-h,!(!b&&v<0)){if(v/=b,b<0){if(v>m)return;v>p&&(p=v)}else if(b>0){if(v<p)return;v<m&&(m=v)}return p>0&&(e[0]=u+p*g,e[1]=h+p*b),m<1&&(t[0]=u+m*g,t[1]=h+m*b),!0}}}}}var clipMax=1e9,clipMin=-clipMax;function clipRectangle(e,t,r,n){function o(d,p){return e<=d&&d<=r&&t<=p&&p<=n}function l(d,p,m,g){var b=0,v=0;if(d==null||(b=u(d,m))!==(v=u(p,m))||f(d,p)<0^m>0)do g.point(b===0||b===3?e:r,b>1?n:t);while((b=(b+m+4)%4)!==v);else g.point(p[0],p[1])}function u(d,p){return abs$1(d[0]-e)<epsilon$2?p>0?0:3:abs$1(d[0]-r)<epsilon$2?p>0?2:1:abs$1(d[1]-t)<epsilon$2?p>0?1:0:p>0?3:2}function h(d,p){return f(d.x,p.x)}function f(d,p){var m=u(d,1),g=u(p,1);return m!==g?m-g:m===0?p[1]-d[1]:m===1?d[0]-p[0]:m===2?d[1]-p[1]:p[0]-d[0]}return function(d){var p=d,m=clipBuffer(),g,b,v,T,R,I,N,q,F,H,V,z={point:G,lineStart:U,lineEnd:L,polygonStart:W,polygonEnd:S};function G(Q,ue){o(Q,ue)&&p.point(Q,ue)}function P(){for(var Q=0,ue=0,_e=b.length;ue<_e;++ue)for(var ke=b[ue],de=1,ce=ke.length,he=ke[0],Se,ve,me=he[0],Ce=he[1];de<ce;++de)Se=me,ve=Ce,he=ke[de],me=he[0],Ce=he[1],ve<=n?Ce>n&&(me-Se)*(n-ve)>(Ce-ve)*(e-Se)&&++Q:Ce<=n&&(me-Se)*(n-ve)<(Ce-ve)*(e-Se)&&--Q;return Q}function W(){p=m,g=[],b=[],V=!0}function S(){var Q=P(),ue=V&&Q,_e=(g=merge$1(g)).length;(ue||_e)&&(d.polygonStart(),ue&&(d.lineStart(),l(null,null,1,d),d.lineEnd()),_e&&clipRejoin(g,h,Q,l,d),d.polygonEnd()),p=d,g=b=v=null}function U(){z.point=ae,b&&b.push(v=[]),H=!0,F=!1,N=q=NaN}function L(){g&&(ae(T,R),I&&F&&m.rejoin(),g.push(m.result())),z.point=G,F&&p.lineEnd()}function ae(Q,ue){var _e=o(Q,ue);if(b&&v.push([Q,ue]),H)T=Q,R=ue,I=_e,H=!1,_e&&(p.lineStart(),p.point(Q,ue));else if(_e&&F)p.point(Q,ue);else{var ke=[N=Math.max(clipMin,Math.min(clipMax,N)),q=Math.max(clipMin,Math.min(clipMax,q))],de=[Q=Math.max(clipMin,Math.min(clipMax,Q)),ue=Math.max(clipMin,Math.min(clipMax,ue))];clipLine(ke,de,e,t,r,n)?(F||(p.lineStart(),p.point(ke[0],ke[1])),p.point(de[0],de[1]),_e||p.lineEnd(),V=!1):_e&&(p.lineStart(),p.point(Q,ue),V=!1)}N=Q,q=ue,F=_e}return z}}function extent(){var e=0,t=0,r=960,n=500,o,l,u;return u={stream:function(h){return o&&l===h?o:o=clipRectangle(e,t,r,n)(l=h)},extent:function(h){return arguments.length?(e=+h[0][0],t=+h[0][1],r=+h[1][0],n=+h[1][1],o=l=null,u):[[e,t],[r,n]]}}}var lengthSum$1=adder(),lambda0,sinPhi0,cosPhi0,lengthStream$1={sphere:noop$1,point:noop$1,lineStart:lengthLineStart,lineEnd:noop$1,polygonStart:noop$1,polygonEnd:noop$1};function lengthLineStart(){lengthStream$1.point=lengthPointFirst$1,lengthStream$1.lineEnd=lengthLineEnd}function lengthLineEnd(){lengthStream$1.point=lengthStream$1.lineEnd=noop$1}function lengthPointFirst$1(e,t){e*=radians,t*=radians,lambda0=e,sinPhi0=sin$1(t),cosPhi0=cos$1(t),lengthStream$1.point=lengthPoint$1}function lengthPoint$1(e,t){e*=radians,t*=radians;var r=sin$1(t),n=cos$1(t),o=abs$1(e-lambda0),l=cos$1(o),u=sin$1(o),h=n*u,f=cosPhi0*r-sinPhi0*n*l,d=sinPhi0*r+cosPhi0*n*l;lengthSum$1.add(atan2$1(sqrt$2(h*h+f*f),d)),lambda0=e,sinPhi0=r,cosPhi0=n}function length$1(e){return lengthSum$1.reset(),geoStream(e,lengthStream$1),+lengthSum$1}var coordinates=[null,null],object={type:"LineString",coordinates};function distance$1(e,t){return coordinates[0]=e,coordinates[1]=t,length$1(object)}var containsObjectType={Feature:function(e,t){return containsGeometry(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,n=-1,o=r.length;++n<o;)if(containsGeometry(r[n].geometry,t))return!0;return!1}},containsGeometryType={Sphere:function(){return!0},Point:function(e,t){return containsPoint(e.coordinates,t)},MultiPoint:function(e,t){for(var r=e.coordinates,n=-1,o=r.length;++n<o;)if(containsPoint(r[n],t))return!0;return!1},LineString:function(e,t){return containsLine(e.coordinates,t)},MultiLineString:function(e,t){for(var r=e.coordinates,n=-1,o=r.length;++n<o;)if(containsLine(r[n],t))return!0;return!1},Polygon:function(e,t){return containsPolygon(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,n=-1,o=r.length;++n<o;)if(containsPolygon(r[n],t))return!0;return!1},GeometryCollection:function(e,t){for(var r=e.geometries,n=-1,o=r.length;++n<o;)if(containsGeometry(r[n],t))return!0;return!1}};function containsGeometry(e,t){return e&&containsGeometryType.hasOwnProperty(e.type)?containsGeometryType[e.type](e,t):!1}function containsPoint(e,t){return distance$1(e,t)===0}function containsLine(e,t){for(var r,n,o,l=0,u=e.length;l<u;l++){if(n=distance$1(e[l],t),n===0||l>0&&(o=distance$1(e[l],e[l-1]),o>0&&r<=o&&n<=o&&(r+n-o)*(1-Math.pow((r-n)/o,2))<epsilon2$1*o))return!0;r=n}return!1}function containsPolygon(e,t){return!!polygonContains(e.map(ringRadians),pointRadians(t))}function ringRadians(e){return e=e.map(pointRadians),e.pop(),e}function pointRadians(e){return[e[0]*radians,e[1]*radians]}function contains$1(e,t){return(e&&containsObjectType.hasOwnProperty(e.type)?containsObjectType[e.type]:containsGeometry)(e,t)}function graticuleX(e,t,r){var n=sequence(e,t-epsilon$2,r).concat(t);return function(o){return n.map(function(l){return[o,l]})}}function graticuleY(e,t,r){var n=sequence(e,t-epsilon$2,r).concat(t);return function(o){return n.map(function(l){return[l,o]})}}function graticule(){var e,t,r,n,o,l,u,h,f=10,d=f,p=90,m=360,g,b,v,T,R=2.5;function I(){return{type:"MultiLineString",coordinates:N()}}function N(){return sequence(ceil(n/p)*p,r,p).map(v).concat(sequence(ceil(h/m)*m,u,m).map(T)).concat(sequence(ceil(t/f)*f,e,f).filter(function(q){return abs$1(q%p)>epsilon$2}).map(g)).concat(sequence(ceil(l/d)*d,o,d).filter(function(q){return abs$1(q%m)>epsilon$2}).map(b))}return I.lines=function(){return N().map(function(q){return{type:"LineString",coordinates:q}})},I.outline=function(){return{type:"Polygon",coordinates:[v(n).concat(T(u).slice(1),v(r).reverse().slice(1),T(h).reverse().slice(1))]}},I.extent=function(q){return arguments.length?I.extentMajor(q).extentMinor(q):I.extentMinor()},I.extentMajor=function(q){return arguments.length?(n=+q[0][0],r=+q[1][0],h=+q[0][1],u=+q[1][1],n>r&&(q=n,n=r,r=q),h>u&&(q=h,h=u,u=q),I.precision(R)):[[n,h],[r,u]]},I.extentMinor=function(q){return arguments.length?(t=+q[0][0],e=+q[1][0],l=+q[0][1],o=+q[1][1],t>e&&(q=t,t=e,e=q),l>o&&(q=l,l=o,o=q),I.precision(R)):[[t,l],[e,o]]},I.step=function(q){return arguments.length?I.stepMajor(q).stepMinor(q):I.stepMinor()},I.stepMajor=function(q){return arguments.length?(p=+q[0],m=+q[1],I):[p,m]},I.stepMinor=function(q){return arguments.length?(f=+q[0],d=+q[1],I):[f,d]},I.precision=function(q){return arguments.length?(R=+q,g=graticuleX(l,o,90),b=graticuleY(t,e,R),v=graticuleX(h,u,90),T=graticuleY(n,r,R),I):R},I.extentMajor([[-180,-90+epsilon$2],[180,90-epsilon$2]]).extentMinor([[-180,-80-epsilon$2],[180,80+epsilon$2]])}function graticule10(){return graticule()()}function interpolate(e,t){var r=e[0]*radians,n=e[1]*radians,o=t[0]*radians,l=t[1]*radians,u=cos$1(n),h=sin$1(n),f=cos$1(l),d=sin$1(l),p=u*cos$1(r),m=u*sin$1(r),g=f*cos$1(o),b=f*sin$1(o),v=2*asin$1(sqrt$2(haversin(l-n)+u*f*haversin(o-r))),T=sin$1(v),R=v?function(I){var N=sin$1(I*=v)/T,q=sin$1(v-I)/T,F=q*p+N*g,H=q*m+N*b,V=q*h+N*d;return[atan2$1(H,F)*degrees,atan2$1(V,sqrt$2(F*F+H*H))*degrees]}:function(){return[r*degrees,n*degrees]};return R.distance=v,R}function identity$5(e){return e}var areaSum=adder(),areaRingSum=adder(),x00$2,y00$2,x0$3,y0$3,areaStream={point:noop$1,lineStart:noop$1,lineEnd:noop$1,polygonStart:function(){areaStream.lineStart=areaRingStart,areaStream.lineEnd=areaRingEnd},polygonEnd:function(){areaStream.lineStart=areaStream.lineEnd=areaStream.point=noop$1,areaSum.add(abs$1(areaRingSum)),areaRingSum.reset()},result:function(){var e=areaSum/2;return areaSum.reset(),e}};function areaRingStart(){areaStream.point=areaPointFirst}function areaPointFirst(e,t){areaStream.point=areaPoint,x00$2=x0$3=e,y00$2=y0$3=t}function areaPoint(e,t){areaRingSum.add(y0$3*e-x0$3*t),x0$3=e,y0$3=t}function areaRingEnd(){areaPoint(x00$2,y00$2)}const pathArea=areaStream;var x0$2=1/0,y0$2=x0$2,x1=-x0$2,y1=x1,boundsStream={point:boundsPoint,lineStart:noop$1,lineEnd:noop$1,polygonStart:noop$1,polygonEnd:noop$1,result:function(){var e=[[x0$2,y0$2],[x1,y1]];return x1=y1=-(y0$2=x0$2=1/0),e}};function boundsPoint(e,t){e<x0$2&&(x0$2=e),e>x1&&(x1=e),t<y0$2&&(y0$2=t),t>y1&&(y1=t)}const boundsStream$1=boundsStream;var X0=0,Y0=0,Z0=0,X1=0,Y1=0,Z1=0,X2=0,Y2=0,Z2=0,x00$1,y00$1,x0$1,y0$1,centroidStream={point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){centroidStream.lineStart=centroidRingStart,centroidStream.lineEnd=centroidRingEnd},polygonEnd:function(){centroidStream.point=centroidPoint,centroidStream.lineStart=centroidLineStart,centroidStream.lineEnd=centroidLineEnd},result:function(){var e=Z2?[X2/Z2,Y2/Z2]:Z1?[X1/Z1,Y1/Z1]:Z0?[X0/Z0,Y0/Z0]:[NaN,NaN];return X0=Y0=Z0=X1=Y1=Z1=X2=Y2=Z2=0,e}};function centroidPoint(e,t){X0+=e,Y0+=t,++Z0}function centroidLineStart(){centroidStream.point=centroidPointFirstLine}function centroidPointFirstLine(e,t){centroidStream.point=centroidPointLine,centroidPoint(x0$1=e,y0$1=t)}function centroidPointLine(e,t){var r=e-x0$1,n=t-y0$1,o=sqrt$2(r*r+n*n);X1+=o*(x0$1+e)/2,Y1+=o*(y0$1+t)/2,Z1+=o,centroidPoint(x0$1=e,y0$1=t)}function centroidLineEnd(){centroidStream.point=centroidPoint}function centroidRingStart(){centroidStream.point=centroidPointFirstRing}function centroidRingEnd(){centroidPointRing(x00$1,y00$1)}function centroidPointFirstRing(e,t){centroidStream.point=centroidPointRing,centroidPoint(x00$1=x0$1=e,y00$1=y0$1=t)}function centroidPointRing(e,t){var r=e-x0$1,n=t-y0$1,o=sqrt$2(r*r+n*n);X1+=o*(x0$1+e)/2,Y1+=o*(y0$1+t)/2,Z1+=o,o=y0$1*e-x0$1*t,X2+=o*(x0$1+e),Y2+=o*(y0$1+t),Z2+=o*3,centroidPoint(x0$1=e,y0$1=t)}const pathCentroid=centroidStream;function PathContext(e){this._context=e}PathContext.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,tau$1);break}}},result:noop$1};var lengthSum=adder(),lengthRing,x00,y00,x0,y0,lengthStream={point:noop$1,lineStart:function(){lengthStream.point=lengthPointFirst},lineEnd:function(){lengthRing&&lengthPoint(x00,y00),lengthStream.point=noop$1},polygonStart:function(){lengthRing=!0},polygonEnd:function(){lengthRing=null},result:function(){var e=+lengthSum;return lengthSum.reset(),e}};function lengthPointFirst(e,t){lengthStream.point=lengthPoint,x00=x0=e,y00=y0=t}function lengthPoint(e,t){x0-=e,y0-=t,lengthSum.add(sqrt$2(x0*x0+y0*y0)),x0=e,y0=t}const pathMeasure=lengthStream;function PathString(){this._string=[]}PathString.prototype={_radius:4.5,_circle:circle$3(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._string.push("M",e,",",t),this._point=1;break}case 1:{this._string.push("L",e,",",t);break}default:{this._circle==null&&(this._circle=circle$3(this._radius)),this._string.push("M",e,",",t,this._circle);break}}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}else return null}};function circle$3(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function index$2(e,t){var r=4.5,n,o;function l(u){return u&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),geoStream(u,n(o))),o.result()}return l.area=function(u){return geoStream(u,n(pathArea)),pathArea.result()},l.measure=function(u){return geoStream(u,n(pathMeasure)),pathMeasure.result()},l.bounds=function(u){return geoStream(u,n(boundsStream$1)),boundsStream$1.result()},l.centroid=function(u){return geoStream(u,n(pathCentroid)),pathCentroid.result()},l.projection=function(u){return arguments.length?(n=u==null?(e=null,identity$5):(e=u).stream,l):e},l.context=function(u){return arguments.length?(o=u==null?(t=null,new PathString):new PathContext(t=u),typeof r!="function"&&o.pointRadius(r),l):t},l.pointRadius=function(u){return arguments.length?(r=typeof u=="function"?u:(o.pointRadius(+u),+u),l):r},l.projection(e).context(t)}function transform$1(e){return{stream:transformer$3(e)}}function transformer$3(e){return function(t){var r=new TransformStream;for(var n in e)r[n]=e[n];return r.stream=t,r}}function TransformStream(){}TransformStream.prototype={constructor:TransformStream,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function fit(e,t,r){var n=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),n!=null&&e.clipExtent(null),geoStream(r,e.stream(boundsStream$1)),t(boundsStream$1.result()),n!=null&&e.clipExtent(n),e}function fitExtent(e,t,r){return fit(e,function(n){var o=t[1][0]-t[0][0],l=t[1][1]-t[0][1],u=Math.min(o/(n[1][0]-n[0][0]),l/(n[1][1]-n[0][1])),h=+t[0][0]+(o-u*(n[1][0]+n[0][0]))/2,f=+t[0][1]+(l-u*(n[1][1]+n[0][1]))/2;e.scale(150*u).translate([h,f])},r)}function fitSize(e,t,r){return fitExtent(e,[[0,0],t],r)}function fitWidth(e,t,r){return fit(e,function(n){var o=+t,l=o/(n[1][0]-n[0][0]),u=(o-l*(n[1][0]+n[0][0]))/2,h=-l*n[0][1];e.scale(150*l).translate([u,h])},r)}function fitHeight(e,t,r){return fit(e,function(n){var o=+t,l=o/(n[1][1]-n[0][1]),u=-l*n[0][0],h=(o-l*(n[1][1]+n[0][1]))/2;e.scale(150*l).translate([u,h])},r)}var maxDepth=16,cosMinDistance=cos$1(30*radians);function resample(e,t){return+t?resample$1(e,t):resampleNone(e)}function resampleNone(e){return transformer$3({point:function(t,r){t=e(t,r),this.stream.point(t[0],t[1])}})}function resample$1(e,t){function r(n,o,l,u,h,f,d,p,m,g,b,v,T,R){var I=d-n,N=p-o,q=I*I+N*N;if(q>4*t&&T--){var F=u+g,H=h+b,V=f+v,z=sqrt$2(F*F+H*H+V*V),G=asin$1(V/=z),P=abs$1(abs$1(V)-1)<epsilon$2||abs$1(l-m)<epsilon$2?(l+m)/2:atan2$1(H,F),W=e(P,G),S=W[0],U=W[1],L=S-n,ae=U-o,Q=N*L-I*ae;(Q*Q/q>t||abs$1((I*L+N*ae)/q-.5)>.3||u*g+h*b+f*v<cosMinDistance)&&(r(n,o,l,u,h,f,S,U,P,F/=z,H/=z,V,T,R),R.point(S,U),r(S,U,P,F,H,V,d,p,m,g,b,v,T,R))}}return function(n){var o,l,u,h,f,d,p,m,g,b,v,T,R={point:I,lineStart:N,lineEnd:F,polygonStart:function(){n.polygonStart(),R.lineStart=H},polygonEnd:function(){n.polygonEnd(),R.lineStart=N}};function I(G,P){G=e(G,P),n.point(G[0],G[1])}function N(){m=NaN,R.point=q,n.lineStart()}function q(G,P){var W=cartesian([G,P]),S=e(G,P);r(m,g,p,b,v,T,m=S[0],g=S[1],p=G,b=W[0],v=W[1],T=W[2],maxDepth,n),n.point(m,g)}function F(){R.point=I,n.lineEnd()}function H(){N(),R.point=V,R.lineEnd=z}function V(G,P){q(o=G,P),l=m,u=g,h=b,f=v,d=T,R.point=q}function z(){r(m,g,p,b,v,T,l,u,o,h,f,d,maxDepth,n),R.lineEnd=F,F()}return R}}var transformRadians=transformer$3({point:function(e,t){this.stream.point(e*radians,t*radians)}});function transformRotate(e){return transformer$3({point:function(t,r){var n=e(t,r);return this.stream.point(n[0],n[1])}})}function scaleTranslate(e,t,r,n,o){function l(u,h){return u*=n,h*=o,[t+e*u,r-e*h]}return l.invert=function(u,h){return[(u-t)/e*n,(r-h)/e*o]},l}function scaleTranslateRotate(e,t,r,n,o,l){var u=cos$1(l),h=sin$1(l),f=u*e,d=h*e,p=u/e,m=h/e,g=(h*r-u*t)/e,b=(h*t+u*r)/e;function v(T,R){return T*=n,R*=o,[f*T-d*R+t,r-d*T-f*R]}return v.invert=function(T,R){return[n*(p*T-m*R+g),o*(b-m*T-p*R)]},v}function projection(e){return projectionMutator(function(){return e})()}function projectionMutator(e){var t,r=150,n=480,o=250,l=0,u=0,h=0,f=0,d=0,p,m=0,g=1,b=1,v=null,T=clipAntimeridian,R=null,I,N,q,F=identity$5,H=.5,V,z,G,P,W;function S(Q){return G(Q[0]*radians,Q[1]*radians)}function U(Q){return Q=G.invert(Q[0],Q[1]),Q&&[Q[0]*degrees,Q[1]*degrees]}S.stream=function(Q){return P&&W===Q?P:P=transformRadians(transformRotate(p)(T(V(F(W=Q)))))},S.preclip=function(Q){return arguments.length?(T=Q,v=void 0,ae()):T},S.postclip=function(Q){return arguments.length?(F=Q,R=I=N=q=null,ae()):F},S.clipAngle=function(Q){return arguments.length?(T=+Q?clipCircle(v=Q*radians):(v=null,clipAntimeridian),ae()):v*degrees},S.clipExtent=function(Q){return arguments.length?(F=Q==null?(R=I=N=q=null,identity$5):clipRectangle(R=+Q[0][0],I=+Q[0][1],N=+Q[1][0],q=+Q[1][1]),ae()):R==null?null:[[R,I],[N,q]]},S.scale=function(Q){return arguments.length?(r=+Q,L()):r},S.translate=function(Q){return arguments.length?(n=+Q[0],o=+Q[1],L()):[n,o]},S.center=function(Q){return arguments.length?(l=Q[0]%360*radians,u=Q[1]%360*radians,L()):[l*degrees,u*degrees]},S.rotate=function(Q){return arguments.length?(h=Q[0]%360*radians,f=Q[1]%360*radians,d=Q.length>2?Q[2]%360*radians:0,L()):[h*degrees,f*degrees,d*degrees]},S.angle=function(Q){return arguments.length?(m=Q%360*radians,L()):m*degrees},S.reflectX=function(Q){return arguments.length?(g=Q?-1:1,L()):g<0},S.reflectY=function(Q){return arguments.length?(b=Q?-1:1,L()):b<0},S.precision=function(Q){return arguments.length?(V=resample(z,H=Q*Q),ae()):sqrt$2(H)},S.fitExtent=function(Q,ue){return fitExtent(S,Q,ue)},S.fitSize=function(Q,ue){return fitSize(S,Q,ue)},S.fitWidth=function(Q,ue){return fitWidth(S,Q,ue)},S.fitHeight=function(Q,ue){return fitHeight(S,Q,ue)};function L(){var Q=scaleTranslateRotate(r,0,0,g,b,m).apply(null,t(l,u)),ue=(m?scaleTranslateRotate:scaleTranslate)(r,n-Q[0],o-Q[1],g,b,m);return p=rotateRadians(h,f,d),z=compose(t,ue),G=compose(p,z),V=resample(z,H),ae()}function ae(){return P=W=null,S}return function(){return t=e.apply(this,arguments),S.invert=t.invert&&U,L()}}function conicProjection(e){var t=0,r=pi$1/3,n=projectionMutator(e),o=n(t,r);return o.parallels=function(l){return arguments.length?n(t=l[0]*radians,r=l[1]*radians):[t*degrees,r*degrees]},o}function cylindricalEqualAreaRaw(e){var t=cos$1(e);function r(n,o){return[n*t,sin$1(o)/t]}return r.invert=function(n,o){return[n/t,asin$1(o*t)]},r}function conicEqualAreaRaw(e,t){var r=sin$1(e),n=(r+sin$1(t))/2;if(abs$1(n)<epsilon$2)return cylindricalEqualAreaRaw(e);var o=1+r*(2*n-r),l=sqrt$2(o)/n;function u(h,f){var d=sqrt$2(o-2*n*sin$1(f))/n;return[d*sin$1(h*=n),l-d*cos$1(h)]}return u.invert=function(h,f){var d=l-f,p=atan2$1(h,abs$1(d))*sign$1(d);return d*n<0&&(p-=pi$1*sign$1(h)*sign$1(d)),[p/n,asin$1((o-(h*h+d*d)*n*n)/(2*n))]},u}function conicEqualArea(){return conicProjection(conicEqualAreaRaw).scale(155.424).center([0,33.6442])}function albers(){return conicEqualArea().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function multiplex(e){var t=e.length;return{point:function(r,n){for(var o=-1;++o<t;)e[o].point(r,n)},sphere:function(){for(var r=-1;++r<t;)e[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)e[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)e[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)e[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)e[r].polygonEnd()}}}function albersUsa(){var e,t,r=albers(),n,o=conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l,u=conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h,f,d={point:function(g,b){f=[g,b]}};function p(g){var b=g[0],v=g[1];return f=null,n.point(b,v),f||(l.point(b,v),f)||(h.point(b,v),f)}p.invert=function(g){var b=r.scale(),v=r.translate(),T=(g[0]-v[0])/b,R=(g[1]-v[1])/b;return(R>=.12&&R<.234&&T>=-.425&&T<-.214?o:R>=.166&&R<.234&&T>=-.214&&T<-.115?u:r).invert(g)},p.stream=function(g){return e&&t===g?e:e=multiplex([r.stream(t=g),o.stream(g),u.stream(g)])},p.precision=function(g){return arguments.length?(r.precision(g),o.precision(g),u.precision(g),m()):r.precision()},p.scale=function(g){return arguments.length?(r.scale(g),o.scale(g*.35),u.scale(g),p.translate(r.translate())):r.scale()},p.translate=function(g){if(!arguments.length)return r.translate();var b=r.scale(),v=+g[0],T=+g[1];return n=r.translate(g).clipExtent([[v-.455*b,T-.238*b],[v+.455*b,T+.238*b]]).stream(d),l=o.translate([v-.307*b,T+.201*b]).clipExtent([[v-.425*b+epsilon$2,T+.12*b+epsilon$2],[v-.214*b-epsilon$2,T+.234*b-epsilon$2]]).stream(d),h=u.translate([v-.205*b,T+.212*b]).clipExtent([[v-.214*b+epsilon$2,T+.166*b+epsilon$2],[v-.115*b-epsilon$2,T+.234*b-epsilon$2]]).stream(d),m()},p.fitExtent=function(g,b){return fitExtent(p,g,b)},p.fitSize=function(g,b){return fitSize(p,g,b)},p.fitWidth=function(g,b){return fitWidth(p,g,b)},p.fitHeight=function(g,b){return fitHeight(p,g,b)};function m(){return e=t=null,p}return p.scale(1070)}function azimuthalRaw(e){return function(t,r){var n=cos$1(t),o=cos$1(r),l=e(n*o);return[l*o*sin$1(t),l*sin$1(r)]}}function azimuthalInvert(e){return function(t,r){var n=sqrt$2(t*t+r*r),o=e(n),l=sin$1(o),u=cos$1(o);return[atan2$1(t*l,n*u),asin$1(n&&r*l/n)]}}var azimuthalEqualAreaRaw=azimuthalRaw(function(e){return sqrt$2(2/(1+e))});azimuthalEqualAreaRaw.invert=azimuthalInvert(function(e){return 2*asin$1(e/2)});function azimuthalEqualArea(){return projection(azimuthalEqualAreaRaw).scale(124.75).clipAngle(180-.001)}var azimuthalEquidistantRaw=azimuthalRaw(function(e){return(e=acos$1(e))&&e/sin$1(e)});azimuthalEquidistantRaw.invert=azimuthalInvert(function(e){return e});function azimuthalEquidistant(){return projection(azimuthalEquidistantRaw).scale(79.4188).clipAngle(180-.001)}function mercatorRaw(e,t){return[e,log$3(tan((halfPi$1+t)/2))]}mercatorRaw.invert=function(e,t){return[e,2*atan(exp(t))-halfPi$1]};function mercator(){return mercatorProjection(mercatorRaw).scale(961/tau$1)}function mercatorProjection(e){var t=projection(e),r=t.center,n=t.scale,o=t.translate,l=t.clipExtent,u=null,h,f,d;t.scale=function(m){return arguments.length?(n(m),p()):n()},t.translate=function(m){return arguments.length?(o(m),p()):o()},t.center=function(m){return arguments.length?(r(m),p()):r()},t.clipExtent=function(m){return arguments.length?(m==null?u=h=f=d=null:(u=+m[0][0],h=+m[0][1],f=+m[1][0],d=+m[1][1]),p()):u==null?null:[[u,h],[f,d]]};function p(){var m=pi$1*n(),g=t(rotation(t.rotate()).invert([0,0]));return l(u==null?[[g[0]-m,g[1]-m],[g[0]+m,g[1]+m]]:e===mercatorRaw?[[Math.max(g[0]-m,u),h],[Math.min(g[0]+m,f),d]]:[[u,Math.max(g[1]-m,h)],[f,Math.min(g[1]+m,d)]])}return p()}function tany(e){return tan((halfPi$1+e)/2)}function conicConformalRaw(e,t){var r=cos$1(e),n=e===t?sin$1(e):log$3(r/cos$1(t))/log$3(tany(t)/tany(e)),o=r*pow$1(tany(e),n)/n;if(!n)return mercatorRaw;function l(u,h){o>0?h<-halfPi$1+epsilon$2&&(h=-halfPi$1+epsilon$2):h>halfPi$1-epsilon$2&&(h=halfPi$1-epsilon$2);var f=o/pow$1(tany(h),n);return[f*sin$1(n*u),o-f*cos$1(n*u)]}return l.invert=function(u,h){var f=o-h,d=sign$1(n)*sqrt$2(u*u+f*f),p=atan2$1(u,abs$1(f))*sign$1(f);return f*n<0&&(p-=pi$1*sign$1(u)*sign$1(f)),[p/n,2*atan(pow$1(o/d,1/n))-halfPi$1]},l}function conicConformal(){return conicProjection(conicConformalRaw).scale(109.5).parallels([30,30])}function equirectangularRaw(e,t){return[e,t]}equirectangularRaw.invert=equirectangularRaw;function equirectangular(){return projection(equirectangularRaw).scale(152.63)}function conicEquidistantRaw(e,t){var r=cos$1(e),n=e===t?sin$1(e):(r-cos$1(t))/(t-e),o=r/n+e;if(abs$1(n)<epsilon$2)return equirectangularRaw;function l(u,h){var f=o-h,d=n*u;return[f*sin$1(d),o-f*cos$1(d)]}return l.invert=function(u,h){var f=o-h,d=atan2$1(u,abs$1(f))*sign$1(f);return f*n<0&&(d-=pi$1*sign$1(u)*sign$1(f)),[d/n,o-sign$1(n)*sqrt$2(u*u+f*f)]},l}function conicEquidistant(){return conicProjection(conicEquidistantRaw).scale(131.154).center([0,13.9389])}var A1=1.340264,A2=-.081106,A3=893e-6,A4=.003796,M=sqrt$2(3)/2,iterations=12;function equalEarthRaw(e,t){var r=asin$1(M*sin$1(t)),n=r*r,o=n*n*n;return[e*cos$1(r)/(M*(A1+3*A2*n+o*(7*A3+9*A4*n))),r*(A1+A2*n+o*(A3+A4*n))]}equalEarthRaw.invert=function(e,t){for(var r=t,n=r*r,o=n*n*n,l=0,u,h,f;l<iterations&&(h=r*(A1+A2*n+o*(A3+A4*n))-t,f=A1+3*A2*n+o*(7*A3+9*A4*n),r-=u=h/f,n=r*r,o=n*n*n,!(abs$1(u)<epsilon2$1));++l);return[M*e*(A1+3*A2*n+o*(7*A3+9*A4*n))/cos$1(r),asin$1(sin$1(r)/M)]};function equalEarth(){return projection(equalEarthRaw).scale(177.158)}function gnomonicRaw(e,t){var r=cos$1(t),n=cos$1(e)*r;return[r*sin$1(e)/n,sin$1(t)/n]}gnomonicRaw.invert=azimuthalInvert(atan);function gnomonic(){return projection(gnomonicRaw).scale(144.049).clipAngle(60)}function identity$4(){var e=1,t=0,r=0,n=1,o=1,l=0,u,h,f=null,d,p,m,g=1,b=1,v=transformer$3({point:function(F,H){var V=q([F,H]);this.stream.point(V[0],V[1])}}),T=identity$5,R,I;function N(){return g=e*n,b=e*o,R=I=null,q}function q(F){var H=F[0]*g,V=F[1]*b;if(l){var z=V*u-H*h;H=H*u+V*h,V=z}return[H+t,V+r]}return q.invert=function(F){var H=F[0]-t,V=F[1]-r;if(l){var z=V*u+H*h;H=H*u-V*h,V=z}return[H/g,V/b]},q.stream=function(F){return R&&I===F?R:R=v(T(I=F))},q.postclip=function(F){return arguments.length?(T=F,f=d=p=m=null,N()):T},q.clipExtent=function(F){return arguments.length?(T=F==null?(f=d=p=m=null,identity$5):clipRectangle(f=+F[0][0],d=+F[0][1],p=+F[1][0],m=+F[1][1]),N()):f==null?null:[[f,d],[p,m]]},q.scale=function(F){return arguments.length?(e=+F,N()):e},q.translate=function(F){return arguments.length?(t=+F[0],r=+F[1],N()):[t,r]},q.angle=function(F){return arguments.length?(l=F%360*radians,h=sin$1(l),u=cos$1(l),N()):l*degrees},q.reflectX=function(F){return arguments.length?(n=F?-1:1,N()):n<0},q.reflectY=function(F){return arguments.length?(o=F?-1:1,N()):o<0},q.fitExtent=function(F,H){return fitExtent(q,F,H)},q.fitSize=function(F,H){return fitSize(q,F,H)},q.fitWidth=function(F,H){return fitWidth(q,F,H)},q.fitHeight=function(F,H){return fitHeight(q,F,H)},q}function naturalEarth1Raw(e,t){var r=t*t,n=r*r;return[e*(.8707-.131979*r+n*(-.013791+n*(.003971*r-.001529*n))),t*(1.007226+r*(.015085+n*(-.044475+.028874*r-.005916*n)))]}naturalEarth1Raw.invert=function(e,t){var r=t,n=25,o;do{var l=r*r,u=l*l;r-=o=(r*(1.007226+l*(.015085+u*(-.044475+.028874*l-.005916*u)))-t)/(1.007226+l*(.015085*3+u*(-.044475*7+.028874*9*l-.005916*11*u)))}while(abs$1(o)>epsilon$2&&--n>0);return[e/(.8707+(l=r*r)*(-.131979+l*(-.013791+l*l*l*(.003971-.001529*l)))),r]};function naturalEarth1(){return projection(naturalEarth1Raw).scale(175.295)}function orthographicRaw(e,t){return[cos$1(t)*sin$1(e),sin$1(t)]}orthographicRaw.invert=azimuthalInvert(asin$1);function orthographic(){return projection(orthographicRaw).scale(249.5).clipAngle(90+epsilon$2)}function stereographicRaw(e,t){var r=cos$1(t),n=1+cos$1(e)*r;return[r*sin$1(e)/n,sin$1(t)/n]}stereographicRaw.invert=azimuthalInvert(function(e){return 2*atan(e)});function stereographic(){return projection(stereographicRaw).scale(250).clipAngle(142)}function transverseMercatorRaw(e,t){return[log$3(tan((halfPi$1+t)/2)),-e]}transverseMercatorRaw.invert=function(e,t){return[-t,2*atan(exp(e))-halfPi$1]};function transverseMercator(){var e=mercatorProjection(transverseMercatorRaw),t=e.center,r=e.rotate;return e.center=function(n){return arguments.length?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},e.rotate=function(n){return arguments.length?r([n[0],n[1],n.length>2?n[2]+90:90]):(n=r(),[n[0],n[1],n[2]-90])},r([0,0,90]).scale(159.155)}function defaultSeparation$1(e,t){return e.parent===t.parent?1:2}function meanX(e){return e.reduce(meanXReduce,0)/e.length}function meanXReduce(e,t){return e+t.x}function maxY(e){return 1+e.reduce(maxYReduce,0)}function maxYReduce(e,t){return Math.max(e,t.y)}function leafLeft(e){for(var t;t=e.children;)e=t[0];return e}function leafRight(e){for(var t;t=e.children;)e=t[t.length-1];return e}function cluster(){var e=defaultSeparation$1,t=1,r=1,n=!1;function o(l){var u,h=0;l.eachAfter(function(g){var b=g.children;b?(g.x=meanX(b),g.y=maxY(b)):(g.x=u?h+=e(g,u):0,g.y=0,u=g)});var f=leafLeft(l),d=leafRight(l),p=f.x-e(f,d)/2,m=d.x+e(d,f)/2;return l.eachAfter(n?function(g){g.x=(g.x-l.x)*t,g.y=(l.y-g.y)*r}:function(g){g.x=(g.x-p)/(m-p)*t,g.y=(1-(l.y?g.y/l.y:1))*r})}return o.separation=function(l){return arguments.length?(e=l,o):e},o.size=function(l){return arguments.length?(n=!1,t=+l[0],r=+l[1],o):n?null:[t,r]},o.nodeSize=function(l){return arguments.length?(n=!0,t=+l[0],r=+l[1],o):n?[t,r]:null},o}function count$1(e){var t=0,r=e.children,n=r&&r.length;if(!n)t=1;else for(;--n>=0;)t+=r[n].value;e.value=t}function node_count(){return this.eachAfter(count$1)}function node_each(e){var t=this,r,n=[t],o,l,u;do for(r=n.reverse(),n=[];t=r.pop();)if(e(t),o=t.children,o)for(l=0,u=o.length;l<u;++l)n.push(o[l]);while(n.length);return this}function node_eachBefore(e){for(var t=this,r=[t],n,o;t=r.pop();)if(e(t),n=t.children,n)for(o=n.length-1;o>=0;--o)r.push(n[o]);return this}function node_eachAfter(e){for(var t=this,r=[t],n=[],o,l,u;t=r.pop();)if(n.push(t),o=t.children,o)for(l=0,u=o.length;l<u;++l)r.push(o[l]);for(;t=n.pop();)e(t);return this}function node_sum(e){return this.eachAfter(function(t){for(var r=+e(t.data)||0,n=t.children,o=n&&n.length;--o>=0;)r+=n[o].value;t.value=r})}function node_sort(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function node_path(e){for(var t=this,r=leastCommonAncestor(t,e),n=[t];t!==r;)t=t.parent,n.push(t);for(var o=n.length;e!==r;)n.splice(o,0,e),e=e.parent;return n}function leastCommonAncestor(e,t){if(e===t)return e;var r=e.ancestors(),n=t.ancestors(),o=null;for(e=r.pop(),t=n.pop();e===t;)o=e,e=r.pop(),t=n.pop();return o}function node_ancestors(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function node_descendants(){var e=[];return this.each(function(t){e.push(t)}),e}function node_leaves(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function node_links(){var e=this,t=[];return e.each(function(r){r!==e&&t.push({source:r.parent,target:r})}),t}function hierarchy(e,t){var r=new Node$1(e),n=+e.value&&(r.value=e.value),o,l=[r],u,h,f,d;for(t==null&&(t=defaultChildren);o=l.pop();)if(n&&(o.value=+o.data.value),(h=t(o.data))&&(d=h.length))for(o.children=new Array(d),f=d-1;f>=0;--f)l.push(u=o.children[f]=new Node$1(h[f])),u.parent=o,u.depth=o.depth+1;return r.eachBefore(computeHeight)}function node_copy(){return hierarchy(this).eachBefore(copyData)}function defaultChildren(e){return e.children}function copyData(e){e.data=e.data.data}function computeHeight(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Node$1(e){this.data=e,this.depth=this.height=0,this.parent=null}Node$1.prototype=hierarchy.prototype={constructor:Node$1,count:node_count,each:node_each,eachAfter:node_eachAfter,eachBefore:node_eachBefore,sum:node_sum,sort:node_sort,path:node_path,ancestors:node_ancestors,descendants:node_descendants,leaves:node_leaves,links:node_links,copy:node_copy};var slice$2=Array.prototype.slice;function shuffle(e){for(var t=e.length,r,n;t;)n=Math.random()*t--|0,r=e[t],e[t]=e[n],e[n]=r;return e}function enclose(e){for(var t=0,r=(e=shuffle(slice$2.call(e))).length,n=[],o,l;t<r;)o=e[t],l&&enclosesWeak(l,o)?++t:(l=encloseBasis(n=extendBasis(n,o)),t=0);return l}function extendBasis(e,t){var r,n;if(enclosesWeakAll(t,e))return[t];for(r=0;r<e.length;++r)if(enclosesNot(t,e[r])&&enclosesWeakAll(encloseBasis2(e[r],t),e))return[e[r],t];for(r=0;r<e.length-1;++r)for(n=r+1;n<e.length;++n)if(enclosesNot(encloseBasis2(e[r],e[n]),t)&&enclosesNot(encloseBasis2(e[r],t),e[n])&&enclosesNot(encloseBasis2(e[n],t),e[r])&&enclosesWeakAll(encloseBasis3(e[r],e[n],t),e))return[e[r],e[n],t];throw new Error}function enclosesNot(e,t){var r=e.r-t.r,n=t.x-e.x,o=t.y-e.y;return r<0||r*r<n*n+o*o}function enclosesWeak(e,t){var r=e.r-t.r+1e-6,n=t.x-e.x,o=t.y-e.y;return r>0&&r*r>n*n+o*o}function enclosesWeakAll(e,t){for(var r=0;r<t.length;++r)if(!enclosesWeak(e,t[r]))return!1;return!0}function encloseBasis(e){switch(e.length){case 1:return encloseBasis1(e[0]);case 2:return encloseBasis2(e[0],e[1]);case 3:return encloseBasis3(e[0],e[1],e[2])}}function encloseBasis1(e){return{x:e.x,y:e.y,r:e.r}}function encloseBasis2(e,t){var r=e.x,n=e.y,o=e.r,l=t.x,u=t.y,h=t.r,f=l-r,d=u-n,p=h-o,m=Math.sqrt(f*f+d*d);return{x:(r+l+f/m*p)/2,y:(n+u+d/m*p)/2,r:(m+o+h)/2}}function encloseBasis3(e,t,r){var n=e.x,o=e.y,l=e.r,u=t.x,h=t.y,f=t.r,d=r.x,p=r.y,m=r.r,g=n-u,b=n-d,v=o-h,T=o-p,R=f-l,I=m-l,N=n*n+o*o-l*l,q=N-u*u-h*h+f*f,F=N-d*d-p*p+m*m,H=b*v-g*T,V=(v*F-T*q)/(H*2)-n,z=(T*R-v*I)/H,G=(b*q-g*F)/(H*2)-o,P=(g*I-b*R)/H,W=z*z+P*P-1,S=2*(l+V*z+G*P),U=V*V+G*G-l*l,L=-(W?(S+Math.sqrt(S*S-4*W*U))/(2*W):U/S);return{x:n+V+z*L,y:o+G+P*L,r:L}}function place(e,t,r){var n=e.x-t.x,o,l,u=e.y-t.y,h,f,d=n*n+u*u;d?(l=t.r+r.r,l*=l,f=e.r+r.r,f*=f,l>f?(o=(d+f-l)/(2*d),h=Math.sqrt(Math.max(0,f/d-o*o)),r.x=e.x-o*n-h*u,r.y=e.y-o*u+h*n):(o=(d+l-f)/(2*d),h=Math.sqrt(Math.max(0,l/d-o*o)),r.x=t.x+o*n-h*u,r.y=t.y+o*u+h*n)):(r.x=t.x+r.r,r.y=t.y)}function intersects(e,t){var r=e.r+t.r-1e-6,n=t.x-e.x,o=t.y-e.y;return r>0&&r*r>n*n+o*o}function score(e){var t=e._,r=e.next._,n=t.r+r.r,o=(t.x*r.r+r.x*t.r)/n,l=(t.y*r.r+r.y*t.r)/n;return o*o+l*l}function Node(e){this._=e,this.next=null,this.previous=null}function packEnclose(e){if(!(o=e.length))return 0;var t,r,n,o,l,u,h,f,d,p,m;if(t=e[0],t.x=0,t.y=0,!(o>1))return t.r;if(r=e[1],t.x=-r.r,r.x=t.r,r.y=0,!(o>2))return t.r+r.r;place(r,t,n=e[2]),t=new Node(t),r=new Node(r),n=new Node(n),t.next=n.previous=r,r.next=t.previous=n,n.next=r.previous=t;e:for(h=3;h<o;++h){place(t._,r._,n=e[h]),n=new Node(n),f=r.next,d=t.previous,p=r._.r,m=t._.r;do if(p<=m){if(intersects(f._,n._)){r=f,t.next=r,r.previous=t,--h;continue e}p+=f._.r,f=f.next}else{if(intersects(d._,n._)){t=d,t.next=r,r.previous=t,--h;continue e}m+=d._.r,d=d.previous}while(f!==d.next);for(n.previous=t,n.next=r,t.next=r.previous=r=n,l=score(t);(n=n.next)!==r;)(u=score(n))<l&&(t=n,l=u);r=t.next}for(t=[r._],n=r;(n=n.next)!==r;)t.push(n._);for(n=enclose(t),h=0;h<o;++h)t=e[h],t.x-=n.x,t.y-=n.y;return n.r}function siblings(e){return packEnclose(e),e}function optional(e){return e==null?null:required(e)}function required(e){if(typeof e!="function")throw new Error;return e}function constantZero(){return 0}function constant$4(e){return function(){return e}}function defaultRadius(e){return Math.sqrt(e.value)}function index$1(){var e=null,t=1,r=1,n=constantZero;function o(l){return l.x=t/2,l.y=r/2,e?l.eachBefore(radiusLeaf(e)).eachAfter(packChildren(n,.5)).eachBefore(translateChild(1)):l.eachBefore(radiusLeaf(defaultRadius)).eachAfter(packChildren(constantZero,1)).eachAfter(packChildren(n,l.r/Math.min(t,r))).eachBefore(translateChild(Math.min(t,r)/(2*l.r))),l}return o.radius=function(l){return arguments.length?(e=optional(l),o):e},o.size=function(l){return arguments.length?(t=+l[0],r=+l[1],o):[t,r]},o.padding=function(l){return arguments.length?(n=typeof l=="function"?l:constant$4(+l),o):n},o}function radiusLeaf(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function packChildren(e,t){return function(r){if(n=r.children){var n,o,l=n.length,u=e(r)*t||0,h;if(u)for(o=0;o<l;++o)n[o].r+=u;if(h=packEnclose(n),u)for(o=0;o<l;++o)n[o].r-=u;r.r=h+u}}}function translateChild(e){return function(t){var r=t.parent;t.r*=e,r&&(t.x=r.x+e*t.x,t.y=r.y+e*t.y)}}function roundNode(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function treemapDice(e,t,r,n,o){for(var l=e.children,u,h=-1,f=l.length,d=e.value&&(n-t)/e.value;++h<f;)u=l[h],u.y0=r,u.y1=o,u.x0=t,u.x1=t+=u.value*d}function partition(){var e=1,t=1,r=0,n=!1;function o(u){var h=u.height+1;return u.x0=u.y0=r,u.x1=e,u.y1=t/h,u.eachBefore(l(t,h)),n&&u.eachBefore(roundNode),u}function l(u,h){return function(f){f.children&&treemapDice(f,f.x0,u*(f.depth+1)/h,f.x1,u*(f.depth+2)/h);var d=f.x0,p=f.y0,m=f.x1-r,g=f.y1-r;m<d&&(d=m=(d+m)/2),g<p&&(p=g=(p+g)/2),f.x0=d,f.y0=p,f.x1=m,f.y1=g}}return o.round=function(u){return arguments.length?(n=!!u,o):n},o.size=function(u){return arguments.length?(e=+u[0],t=+u[1],o):[e,t]},o.padding=function(u){return arguments.length?(r=+u,o):r},o}var keyPrefix="$",preroot={depth:-1},ambiguous={};function defaultId(e){return e.id}function defaultParentId(e){return e.parentId}function stratify(){var e=defaultId,t=defaultParentId;function r(n){var o,l,u=n.length,h,f,d,p=new Array(u),m,g,b={};for(l=0;l<u;++l)o=n[l],d=p[l]=new Node$1(o),(m=e(o,l,n))!=null&&(m+="")&&(g=keyPrefix+(d.id=m),b[g]=g in b?ambiguous:d);for(l=0;l<u;++l)if(d=p[l],m=t(n[l],l,n),m==null||!(m+="")){if(h)throw new Error("multiple roots");h=d}else{if(f=b[keyPrefix+m],!f)throw new Error("missing: "+m);if(f===ambiguous)throw new Error("ambiguous: "+m);f.children?f.children.push(d):f.children=[d],d.parent=f}if(!h)throw new Error("no root");if(h.parent=preroot,h.eachBefore(function(v){v.depth=v.parent.depth+1,--u}).eachBefore(computeHeight),h.parent=null,u>0)throw new Error("cycle");return h}return r.id=function(n){return arguments.length?(e=required(n),r):e},r.parentId=function(n){return arguments.length?(t=required(n),r):t},r}function defaultSeparation(e,t){return e.parent===t.parent?1:2}function nextLeft(e){var t=e.children;return t?t[0]:e.t}function nextRight(e){var t=e.children;return t?t[t.length-1]:e.t}function moveSubtree(e,t,r){var n=r/(t.i-e.i);t.c-=n,t.s+=r,e.c+=n,t.z+=r,t.m+=r}function executeShifts(e){for(var t=0,r=0,n=e.children,o=n.length,l;--o>=0;)l=n[o],l.z+=t,l.m+=t,t+=l.s+(r+=l.c)}function nextAncestor(e,t,r){return e.a.parent===t.parent?e.a:r}function TreeNode(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}TreeNode.prototype=Object.create(Node$1.prototype);function treeRoot(e){for(var t=new TreeNode(e,0),r,n=[t],o,l,u,h;r=n.pop();)if(l=r._.children)for(r.children=new Array(h=l.length),u=h-1;u>=0;--u)n.push(o=r.children[u]=new TreeNode(l[u],u)),o.parent=r;return(t.parent=new TreeNode(null,0)).children=[t],t}function tree(){var e=defaultSeparation,t=1,r=1,n=null;function o(d){var p=treeRoot(d);if(p.eachAfter(l),p.parent.m=-p.z,p.eachBefore(u),n)d.eachBefore(f);else{var m=d,g=d,b=d;d.eachBefore(function(N){N.x<m.x&&(m=N),N.x>g.x&&(g=N),N.depth>b.depth&&(b=N)});var v=m===g?1:e(m,g)/2,T=v-m.x,R=t/(g.x+v+T),I=r/(b.depth||1);d.eachBefore(function(N){N.x=(N.x+T)*R,N.y=N.depth*I})}return d}function l(d){var p=d.children,m=d.parent.children,g=d.i?m[d.i-1]:null;if(p){executeShifts(d);var b=(p[0].z+p[p.length-1].z)/2;g?(d.z=g.z+e(d._,g._),d.m=d.z-b):d.z=b}else g&&(d.z=g.z+e(d._,g._));d.parent.A=h(d,g,d.parent.A||m[0])}function u(d){d._.x=d.z+d.parent.m,d.m+=d.parent.m}function h(d,p,m){if(p){for(var g=d,b=d,v=p,T=g.parent.children[0],R=g.m,I=b.m,N=v.m,q=T.m,F;v=nextRight(v),g=nextLeft(g),v&&g;)T=nextLeft(T),b=nextRight(b),b.a=d,F=v.z+N-g.z-R+e(v._,g._),F>0&&(moveSubtree(nextAncestor(v,d,m),d,F),R+=F,I+=F),N+=v.m,R+=g.m,q+=T.m,I+=b.m;v&&!nextRight(b)&&(b.t=v,b.m+=N-I),g&&!nextLeft(T)&&(T.t=g,T.m+=R-q,m=d)}return m}function f(d){d.x*=t,d.y=d.depth*r}return o.separation=function(d){return arguments.length?(e=d,o):e},o.size=function(d){return arguments.length?(n=!1,t=+d[0],r=+d[1],o):n?null:[t,r]},o.nodeSize=function(d){return arguments.length?(n=!0,t=+d[0],r=+d[1],o):n?[t,r]:null},o}function treemapSlice(e,t,r,n,o){for(var l=e.children,u,h=-1,f=l.length,d=e.value&&(o-r)/e.value;++h<f;)u=l[h],u.x0=t,u.x1=n,u.y0=r,u.y1=r+=u.value*d}var phi=(1+Math.sqrt(5))/2;function squarifyRatio(e,t,r,n,o,l){for(var u=[],h=t.children,f,d,p=0,m=0,g=h.length,b,v,T=t.value,R,I,N,q,F,H,V;p<g;){b=o-r,v=l-n;do R=h[m++].value;while(!R&&m<g);for(I=N=R,H=Math.max(v/b,b/v)/(T*e),V=R*R*H,F=Math.max(N/V,V/I);m<g;++m){if(R+=d=h[m].value,d<I&&(I=d),d>N&&(N=d),V=R*R*H,q=Math.max(N/V,V/I),q>F){R-=d;break}F=q}u.push(f={value:R,dice:b<v,children:h.slice(p,m)}),f.dice?treemapDice(f,r,n,o,T?n+=v*R/T:l):treemapSlice(f,r,n,T?r+=b*R/T:o,l),T-=R,p=m}return u}const squarify=function e(t){function r(n,o,l,u,h){squarifyRatio(t,n,o,l,u,h)}return r.ratio=function(n){return e((n=+n)>1?n:1)},r}(phi);function index(){var e=squarify,t=!1,r=1,n=1,o=[0],l=constantZero,u=constantZero,h=constantZero,f=constantZero,d=constantZero;function p(g){return g.x0=g.y0=0,g.x1=r,g.y1=n,g.eachBefore(m),o=[0],t&&g.eachBefore(roundNode),g}function m(g){var b=o[g.depth],v=g.x0+b,T=g.y0+b,R=g.x1-b,I=g.y1-b;R<v&&(v=R=(v+R)/2),I<T&&(T=I=(T+I)/2),g.x0=v,g.y0=T,g.x1=R,g.y1=I,g.children&&(b=o[g.depth+1]=l(g)/2,v+=d(g)-b,T+=u(g)-b,R-=h(g)-b,I-=f(g)-b,R<v&&(v=R=(v+R)/2),I<T&&(T=I=(T+I)/2),e(g,v,T,R,I))}return p.round=function(g){return arguments.length?(t=!!g,p):t},p.size=function(g){return arguments.length?(r=+g[0],n=+g[1],p):[r,n]},p.tile=function(g){return arguments.length?(e=required(g),p):e},p.padding=function(g){return arguments.length?p.paddingInner(g).paddingOuter(g):p.paddingInner()},p.paddingInner=function(g){return arguments.length?(l=typeof g=="function"?g:constant$4(+g),p):l},p.paddingOuter=function(g){return arguments.length?p.paddingTop(g).paddingRight(g).paddingBottom(g).paddingLeft(g):p.paddingTop()},p.paddingTop=function(g){return arguments.length?(u=typeof g=="function"?g:constant$4(+g),p):u},p.paddingRight=function(g){return arguments.length?(h=typeof g=="function"?g:constant$4(+g),p):h},p.paddingBottom=function(g){return arguments.length?(f=typeof g=="function"?g:constant$4(+g),p):f},p.paddingLeft=function(g){return arguments.length?(d=typeof g=="function"?g:constant$4(+g),p):d},p}function binary(e,t,r,n,o){var l=e.children,u,h=l.length,f,d=new Array(h+1);for(d[0]=f=u=0;u<h;++u)d[u+1]=f+=l[u].value;p(0,h,e.value,t,r,n,o);function p(m,g,b,v,T,R,I){if(m>=g-1){var N=l[m];N.x0=v,N.y0=T,N.x1=R,N.y1=I;return}for(var q=d[m],F=b/2+q,H=m+1,V=g-1;H<V;){var z=H+V>>>1;d[z]<F?H=z+1:V=z}F-d[H-1]<d[H]-F&&m+1<H&&--H;var G=d[H]-q,P=b-G;if(R-v>I-T){var W=(v*P+R*G)/b;p(m,H,G,v,T,W,I),p(H,g,P,W,T,R,I)}else{var S=(T*P+I*G)/b;p(m,H,G,v,T,R,S),p(H,g,P,v,S,R,I)}}}function sliceDice(e,t,r,n,o){(e.depth&1?treemapSlice:treemapDice)(e,t,r,n,o)}const resquarify=function e(t){function r(n,o,l,u,h){if((f=n._squarify)&&f.ratio===t)for(var f,d,p,m,g=-1,b,v=f.length,T=n.value;++g<v;){for(d=f[g],p=d.children,m=d.value=0,b=p.length;m<b;++m)d.value+=p[m].value;d.dice?treemapDice(d,o,l,u,l+=(h-l)*d.value/T):treemapSlice(d,o,l,o+=(u-o)*d.value/T,h),T-=d.value}else n._squarify=f=squarifyRatio(t,n,o,l,u,h),f.ratio=t}return r.ratio=function(n){return e((n=+n)>1?n:1)},r}(phi);function area$1(e){for(var t=-1,r=e.length,n,o=e[r-1],l=0;++t<r;)n=o,o=e[t],l+=n[1]*o[0]-n[0]*o[1];return l/2}function centroid(e){for(var t=-1,r=e.length,n=0,o=0,l,u=e[r-1],h,f=0;++t<r;)l=u,u=e[t],f+=h=l[0]*u[1]-u[0]*l[1],n+=(l[0]+u[0])*h,o+=(l[1]+u[1])*h;return f*=3,[n/f,o/f]}function cross$2(e,t,r){return(t[0]-e[0])*(r[1]-e[1])-(t[1]-e[1])*(r[0]-e[0])}function lexicographicOrder(e,t){return e[0]-t[0]||e[1]-t[1]}function computeUpperHullIndexes(e){for(var t=e.length,r=[0,1],n=2,o=2;o<t;++o){for(;n>1&&cross$2(e[r[n-2]],e[r[n-1]],e[o])<=0;)--n;r[n++]=o}return r.slice(0,n)}function hull(e){if((r=e.length)<3)return null;var t,r,n=new Array(r),o=new Array(r);for(t=0;t<r;++t)n[t]=[+e[t][0],+e[t][1],t];for(n.sort(lexicographicOrder),t=0;t<r;++t)o[t]=[n[t][0],-n[t][1]];var l=computeUpperHullIndexes(n),u=computeUpperHullIndexes(o),h=u[0]===l[0],f=u[u.length-1]===l[l.length-1],d=[];for(t=l.length-1;t>=0;--t)d.push(e[n[l[t]][2]]);for(t=+h;t<u.length-f;++t)d.push(e[n[u[t]][2]]);return d}function contains(e,t){for(var r=e.length,n=e[r-1],o=t[0],l=t[1],u=n[0],h=n[1],f,d,p=!1,m=0;m<r;++m)n=e[m],f=n[0],d=n[1],d>l!=h>l&&o<(u-f)*(l-d)/(h-d)+f&&(p=!p),u=f,h=d;return p}function length(e){for(var t=-1,r=e.length,n=e[r-1],o,l,u=n[0],h=n[1],f=0;++t<r;)o=u,l=h,n=e[t],u=n[0],h=n[1],o-=u,l-=h,f+=Math.sqrt(o*o+l*l);return f}function defaultSource(){return Math.random()}const uniform=function e(t){function r(n,o){return n=n==null?0:+n,o=o==null?1:+o,arguments.length===1?(o=n,n=0):o-=n,function(){return t()*o+n}}return r.source=e,r}(defaultSource),normal=function e(t){function r(n,o){var l,u;return n=n==null?0:+n,o=o==null?1:+o,function(){var h;if(l!=null)h=l,l=null;else do l=t()*2-1,h=t()*2-1,u=l*l+h*h;while(!u||u>1);return n+o*h*Math.sqrt(-2*Math.log(u)/u)}}return r.source=e,r}(defaultSource),logNormal=function e(t){function r(){var n=normal.source(t).apply(this,arguments);return function(){return Math.exp(n())}}return r.source=e,r}(defaultSource),irwinHall=function e(t){function r(n){return function(){for(var o=0,l=0;l<n;++l)o+=t();return o}}return r.source=e,r}(defaultSource),bates=function e(t){function r(n){var o=irwinHall.source(t)(n);return function(){return o()/n}}return r.source=e,r}(defaultSource),exponential=function e(t){function r(n){return function(){return-Math.log(1-t())/n}}return r.source=e,r}(defaultSource);function initRange(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function initInterpolator(e,t){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(t).domain(e);break}return this}var array=Array.prototype,map=array.map,slice$1=array.slice,implicit={name:"implicit"};function ordinal(){var e=map$2(),t=[],r=[],n=implicit;function o(l){var u=l+"",h=e.get(u);if(!h){if(n!==implicit)return n;e.set(u,h=t.push(l))}return r[(h-1)%r.length]}return o.domain=function(l){if(!arguments.length)return t.slice();t=[],e=map$2();for(var u=-1,h=l.length,f,d;++u<h;)e.has(d=(f=l[u])+"")||e.set(d,t.push(f));return o},o.range=function(l){return arguments.length?(r=slice$1.call(l),o):r.slice()},o.unknown=function(l){return arguments.length?(n=l,o):n},o.copy=function(){return ordinal(t,r).unknown(n)},initRange.apply(o,arguments),o}function band(){var e=ordinal().unknown(void 0),t=e.domain,r=e.range,n=[0,1],o,l,u=!1,h=0,f=0,d=.5;delete e.unknown;function p(){var m=t().length,g=n[1]<n[0],b=n[g-0],v=n[1-g];o=(v-b)/Math.max(1,m-h+f*2),u&&(o=Math.floor(o)),b+=(v-b-o*(m-h))*d,l=o*(1-h),u&&(b=Math.round(b),l=Math.round(l));var T=sequence(m).map(function(R){return b+o*R});return r(g?T.reverse():T)}return e.domain=function(m){return arguments.length?(t(m),p()):t()},e.range=function(m){return arguments.length?(n=[+m[0],+m[1]],p()):n.slice()},e.rangeRound=function(m){return n=[+m[0],+m[1]],u=!0,p()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(m){return arguments.length?(u=!!m,p()):u},e.padding=function(m){return arguments.length?(h=Math.min(1,f=+m),p()):h},e.paddingInner=function(m){return arguments.length?(h=Math.min(1,m),p()):h},e.paddingOuter=function(m){return arguments.length?(f=+m,p()):f},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),p()):d},e.copy=function(){return band(t(),n).round(u).paddingInner(h).paddingOuter(f).align(d)},initRange.apply(p(),arguments)}function pointish(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pointish(t())},e}function point$5(){return pointish(band.apply(null,arguments).paddingInner(1))}function constant$3(e){return function(){return e}}function number$1(e){return+e}var unit=[0,1];function identity$3(e){return e}function normalize(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:constant$3(isNaN(t)?NaN:.5)}function clamper(e){var t=e[0],r=e[e.length-1],n;return t>r&&(n=t,t=r,r=n),function(o){return Math.max(t,Math.min(r,o))}}function bimap(e,t,r){var n=e[0],o=e[1],l=t[0],u=t[1];return o<n?(n=normalize(o,n),l=r(u,l)):(n=normalize(n,o),l=r(l,u)),function(h){return l(n(h))}}function polymap(e,t,r){var n=Math.min(e.length,t.length)-1,o=new Array(n),l=new Array(n),u=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<n;)o[u]=normalize(e[u],e[u+1]),l[u]=r(t[u],t[u+1]);return function(h){var f=bisectRight(e,h,1,n)-1;return l[f](o[f](h))}}function copy$2(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function transformer$2(){var e=unit,t=unit,r=interpolateValue,n,o,l,u=identity$3,h,f,d;function p(){return h=Math.min(e.length,t.length)>2?polymap:bimap,f=d=null,m}function m(g){return isNaN(g=+g)?l:(f||(f=h(e.map(n),t,r)))(n(u(g)))}return m.invert=function(g){return u(o((d||(d=h(t,e.map(n),interpolateNumber)))(g)))},m.domain=function(g){return arguments.length?(e=map.call(g,number$1),u===identity$3||(u=clamper(e)),p()):e.slice()},m.range=function(g){return arguments.length?(t=slice$1.call(g),p()):t.slice()},m.rangeRound=function(g){return t=slice$1.call(g),r=interpolateRound,p()},m.clamp=function(g){return arguments.length?(u=g?clamper(e):identity$3,m):u!==identity$3},m.interpolate=function(g){return arguments.length?(r=g,p()):r},m.unknown=function(g){return arguments.length?(l=g,m):l},function(g,b){return n=g,o=b,p()}}function continuous(e,t){return transformer$2()(e,t)}function tickFormat(e,t,r,n){var o=tickStep(e,t,r),l;switch(n=formatSpecifier(n==null?",f":n),n.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(l=precisionPrefix(o,u))&&(n.precision=l),formatPrefix(n,u)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(l=precisionRound(o,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=l-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(l=precisionFixed(o))&&(n.precision=l-(n.type==="%")*2);break}}return format$1(n)}function linearish(e){var t=e.domain;return e.ticks=function(r){var n=t();return ticks(n[0],n[n.length-1],r==null?10:r)},e.tickFormat=function(r,n){var o=t();return tickFormat(o[0],o[o.length-1],r==null?10:r,n)},e.nice=function(r){r==null&&(r=10);var n=t(),o=0,l=n.length-1,u=n[o],h=n[l],f;return h<u&&(f=u,u=h,h=f,f=o,o=l,l=f),f=tickIncrement(u,h,r),f>0?(u=Math.floor(u/f)*f,h=Math.ceil(h/f)*f,f=tickIncrement(u,h,r)):f<0&&(u=Math.ceil(u*f)/f,h=Math.floor(h*f)/f,f=tickIncrement(u,h,r)),f>0?(n[o]=Math.floor(u/f)*f,n[l]=Math.ceil(h/f)*f,t(n)):f<0&&(n[o]=Math.ceil(u*f)/f,n[l]=Math.floor(h*f)/f,t(n)),e},e}function linear(){var e=continuous(identity$3,identity$3);return e.copy=function(){return copy$2(e,linear())},initRange.apply(e,arguments),linearish(e)}function identity$2(e){var t;function r(n){return isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=map.call(n,number$1),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return identity$2(e).unknown(t)},e=arguments.length?map.call(e,number$1):[0,1],linearish(r)}function nice(e,t){e=e.slice();var r=0,n=e.length-1,o=e[r],l=e[n],u;return l<o&&(u=r,r=n,n=u,u=o,o=l,l=u),e[r]=t.floor(o),e[n]=t.ceil(l),e}function transformLog(e){return Math.log(e)}function transformExp(e){return Math.exp(e)}function transformLogn(e){return-Math.log(-e)}function transformExpn(e){return-Math.exp(-e)}function pow10(e){return isFinite(e)?+("1e"+e):e<0?0:e}function powp(e){return e===10?pow10:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function logp(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function reflect(e){return function(t){return-e(-t)}}function loggish(e){var t=e(transformLog,transformExp),r=t.domain,n=10,o,l;function u(){return o=logp(n),l=powp(n),r()[0]<0?(o=reflect(o),l=reflect(l),e(transformLogn,transformExpn)):e(transformLog,transformExp),t}return t.base=function(h){return arguments.length?(n=+h,u()):n},t.domain=function(h){return arguments.length?(r(h),u()):r()},t.ticks=function(h){var f=r(),d=f[0],p=f[f.length-1],m;(m=p<d)&&(g=d,d=p,p=g);var g=o(d),b=o(p),v,T,R,I=h==null?10:+h,N=[];if(!(n%1)&&b-g<I){if(g=Math.round(g)-1,b=Math.round(b)+1,d>0){for(;g<b;++g)for(T=1,v=l(g);T<n;++T)if(R=v*T,!(R<d)){if(R>p)break;N.push(R)}}else for(;g<b;++g)for(T=n-1,v=l(g);T>=1;--T)if(R=v*T,!(R<d)){if(R>p)break;N.push(R)}}else N=ticks(g,b,Math.min(b-g,I)).map(l);return m?N.reverse():N},t.tickFormat=function(h,f){if(f==null&&(f=n===10?".0e":","),typeof f!="function"&&(f=format$1(f)),h===1/0)return f;h==null&&(h=10);var d=Math.max(1,n*h/t.ticks().length);return function(p){var m=p/l(Math.round(o(p)));return m*n<n-.5&&(m*=n),m<=d?f(p):""}},t.nice=function(){return r(nice(r(),{floor:function(h){return l(Math.floor(o(h)))},ceil:function(h){return l(Math.ceil(o(h)))}}))},t}function log$2(){var e=loggish(transformer$2()).domain([1,10]);return e.copy=function(){return copy$2(e,log$2()).base(e.base())},initRange.apply(e,arguments),e}function transformSymlog(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function transformSymexp(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function symlogish(e){var t=1,r=e(transformSymlog(t),transformSymexp(t));return r.constant=function(n){return arguments.length?e(transformSymlog(t=+n),transformSymexp(t)):t},linearish(r)}function symlog(){var e=symlogish(transformer$2());return e.copy=function(){return copy$2(e,symlog()).constant(e.constant())},initRange.apply(e,arguments)}function transformPow(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function transformSqrt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function transformSquare(e){return e<0?-e*e:e*e}function powish(e){var t=e(identity$3,identity$3),r=1;function n(){return r===1?e(identity$3,identity$3):r===.5?e(transformSqrt,transformSquare):e(transformPow(r),transformPow(1/r))}return t.exponent=function(o){return arguments.length?(r=+o,n()):r},linearish(t)}function pow(){var e=powish(transformer$2());return e.copy=function(){return copy$2(e,pow()).exponent(e.exponent())},initRange.apply(e,arguments),e}function sqrt$1(){return pow.apply(null,arguments).exponent(.5)}function quantile(){var e=[],t=[],r=[],n;function o(){var u=0,h=Math.max(1,t.length);for(r=new Array(h-1);++u<h;)r[u-1]=threshold$1(e,u/h);return l}function l(u){return isNaN(u=+u)?n:t[bisectRight(r,u)]}return l.invertExtent=function(u){var h=t.indexOf(u);return h<0?[NaN,NaN]:[h>0?r[h-1]:e[0],h<r.length?r[h]:e[e.length-1]]},l.domain=function(u){if(!arguments.length)return e.slice();e=[];for(var h=0,f=u.length,d;h<f;++h)d=u[h],d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(ascending$3),o()},l.range=function(u){return arguments.length?(t=slice$1.call(u),o()):t.slice()},l.unknown=function(u){return arguments.length?(n=u,l):n},l.quantiles=function(){return r.slice()},l.copy=function(){return quantile().domain(e).range(t).unknown(n)},initRange.apply(l,arguments)}function quantize(){var e=0,t=1,r=1,n=[.5],o=[0,1],l;function u(f){return f<=f?o[bisectRight(n,f,0,r)]:l}function h(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return u}return u.domain=function(f){return arguments.length?(e=+f[0],t=+f[1],h()):[e,t]},u.range=function(f){return arguments.length?(r=(o=slice$1.call(f)).length-1,h()):o.slice()},u.invertExtent=function(f){var d=o.indexOf(f);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},u.unknown=function(f){return arguments.length&&(l=f),u},u.thresholds=function(){return n.slice()},u.copy=function(){return quantize().domain([e,t]).range(o).unknown(l)},initRange.apply(linearish(u),arguments)}function threshold(){var e=[.5],t=[0,1],r,n=1;function o(l){return l<=l?t[bisectRight(e,l,0,n)]:r}return o.domain=function(l){return arguments.length?(e=slice$1.call(l),n=Math.min(e.length,t.length-1),o):e.slice()},o.range=function(l){return arguments.length?(t=slice$1.call(l),n=Math.min(e.length,t.length-1),o):t.slice()},o.invertExtent=function(l){var u=t.indexOf(l);return[e[u-1],e[u]]},o.unknown=function(l){return arguments.length?(r=l,o):r},o.copy=function(){return threshold().domain(e).range(t).unknown(r)},initRange.apply(o,arguments)}var t0=new Date,t1=new Date;function newInterval(e,t,r,n){function o(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return o.floor=function(l){return e(l=new Date(+l)),l},o.ceil=function(l){return e(l=new Date(l-1)),t(l,1),e(l),l},o.round=function(l){var u=o(l),h=o.ceil(l);return l-u<h-l?u:h},o.offset=function(l,u){return t(l=new Date(+l),u==null?1:Math.floor(u)),l},o.range=function(l,u,h){var f=[],d;if(l=o.ceil(l),h=h==null?1:Math.floor(h),!(l<u)||!(h>0))return f;do f.push(d=new Date(+l)),t(l,h),e(l);while(d<l&&l<u);return f},o.filter=function(l){return newInterval(function(u){if(u>=u)for(;e(u),!l(u);)u.setTime(u-1)},function(u,h){if(u>=u)if(h<0)for(;++h<=0;)for(;t(u,-1),!l(u););else for(;--h>=0;)for(;t(u,1),!l(u););})},r&&(o.count=function(l,u){return t0.setTime(+l),t1.setTime(+u),e(t0),e(t1),Math.floor(r(t0,t1))},o.every=function(l){return l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?o.filter(n?function(u){return n(u)%l===0}:function(u){return o.count(0,u)%l===0}):o}),o}var millisecond=newInterval(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});millisecond.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?newInterval(function(t){t.setTime(Math.floor(t/e)*e)},function(t,r){t.setTime(+t+r*e)},function(t,r){return(r-t)/e}):millisecond};const utcMillisecond=millisecond;var milliseconds=millisecond.range,durationSecond$1=1e3,durationMinute$1=6e4,durationHour$1=36e5,durationDay$1=864e5,durationWeek$1=6048e5,second=newInterval(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*durationSecond$1)},function(e,t){return(t-e)/durationSecond$1},function(e){return e.getUTCSeconds()});const utcSecond=second;var seconds=second.range,minute=newInterval(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*durationSecond$1)},function(e,t){e.setTime(+e+t*durationMinute$1)},function(e,t){return(t-e)/durationMinute$1},function(e){return e.getMinutes()});const timeMinute=minute;var minutes=minute.range,hour=newInterval(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*durationSecond$1-e.getMinutes()*durationMinute$1)},function(e,t){e.setTime(+e+t*durationHour$1)},function(e,t){return(t-e)/durationHour$1},function(e){return e.getHours()});const timeHour=hour;var hours=hour.range,day=newInterval(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*durationMinute$1)/durationDay$1},function(e){return e.getDate()-1});const timeDay=day;var days=day.range;function weekday(e){return newInterval(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute$1)/durationWeek$1})}var sunday=weekday(0),monday=weekday(1),tuesday=weekday(2),wednesday=weekday(3),thursday=weekday(4),friday=weekday(5),saturday=weekday(6),sundays=sunday.range,mondays=monday.range,tuesdays=tuesday.range,wednesdays=wednesday.range,thursdays=thursday.range,fridays=friday.range,saturdays=saturday.range,month=newInterval(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()});const timeMonth=month;var months=month.range,year=newInterval(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});year.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:newInterval(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};const timeYear=year;var years=year.range,utcMinute=newInterval(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*durationMinute$1)},function(e,t){return(t-e)/durationMinute$1},function(e){return e.getUTCMinutes()});const utcMinute$1=utcMinute;var utcMinutes=utcMinute.range,utcHour=newInterval(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*durationHour$1)},function(e,t){return(t-e)/durationHour$1},function(e){return e.getUTCHours()});const utcHour$1=utcHour;var utcHours=utcHour.range,utcDay=newInterval(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/durationDay$1},function(e){return e.getUTCDate()-1});const utcDay$1=utcDay;var utcDays=utcDay.range;function utcWeekday(e){return newInterval(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r*7)},function(t,r){return(r-t)/durationWeek$1})}var utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6),utcSundays=utcSunday.range,utcMondays=utcMonday.range,utcTuesdays=utcTuesday.range,utcWednesdays=utcWednesday.range,utcThursdays=utcThursday.range,utcFridays=utcFriday.range,utcSaturdays=utcSaturday.range,utcMonth=newInterval(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()});const utcMonth$1=utcMonth;var utcMonths=utcMonth.range,utcYear=newInterval(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});utcYear.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:newInterval(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})};const utcYear$1=utcYear;var utcYears=utcYear.range;function localDate(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function utcDate(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function newDate(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function formatLocale(e){var t=e.dateTime,r=e.date,n=e.time,o=e.periods,l=e.days,u=e.shortDays,h=e.months,f=e.shortMonths,d=formatRe(o),p=formatLookup(o),m=formatRe(l),g=formatLookup(l),b=formatRe(u),v=formatLookup(u),T=formatRe(h),R=formatLookup(h),I=formatRe(f),N=formatLookup(f),q={a:_e,A:ke,b:de,B:ce,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:he,q:Se,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},F={a:ve,A:me,b:Ce,B:xe,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Ne,q:pe,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},H={a:W,A:S,b:U,B:L,c:ae,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:P,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:Q,X:ue,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};q.x=V(r,q),q.X=V(n,q),q.c=V(t,q),F.x=V(r,F),F.X=V(n,F),F.c=V(t,F);function V(J,oe){return function(ee){var Z=[],ie=-1,se=0,te=J.length,fe,we,Ye;for(ee instanceof Date||(ee=new Date(+ee));++ie<te;)J.charCodeAt(ie)===37&&(Z.push(J.slice(se,ie)),(we=pads[fe=J.charAt(++ie)])!=null?fe=J.charAt(++ie):we=fe==="e"?" ":"0",(Ye=oe[fe])&&(fe=Ye(ee,we)),Z.push(fe),se=ie+1);return Z.push(J.slice(se,ie)),Z.join("")}}function z(J,oe){return function(ee){var Z=newDate(1900,void 0,1),ie=G(Z,J,ee+="",0),se,te;if(ie!=ee.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(oe&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(se=utcDate(newDate(Z.y,0,1)),te=se.getUTCDay(),se=te>4||te===0?utcMonday.ceil(se):utcMonday(se),se=utcDay$1.offset(se,(Z.V-1)*7),Z.y=se.getUTCFullYear(),Z.m=se.getUTCMonth(),Z.d=se.getUTCDate()+(Z.w+6)%7):(se=localDate(newDate(Z.y,0,1)),te=se.getDay(),se=te>4||te===0?monday.ceil(se):monday(se),se=timeDay.offset(se,(Z.V-1)*7),Z.y=se.getFullYear(),Z.m=se.getMonth(),Z.d=se.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),te="Z"in Z?utcDate(newDate(Z.y,0,1)).getUTCDay():localDate(newDate(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(te+5)%7:Z.w+Z.U*7-(te+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,utcDate(Z)):localDate(Z)}}function G(J,oe,ee,Z){for(var ie=0,se=oe.length,te=ee.length,fe,we;ie<se;){if(Z>=te)return-1;if(fe=oe.charCodeAt(ie++),fe===37){if(fe=oe.charAt(ie++),we=H[fe in pads?oe.charAt(ie++):fe],!we||(Z=we(J,ee,Z))<0)return-1}else if(fe!=ee.charCodeAt(Z++))return-1}return Z}function P(J,oe,ee){var Z=d.exec(oe.slice(ee));return Z?(J.p=p[Z[0].toLowerCase()],ee+Z[0].length):-1}function W(J,oe,ee){var Z=b.exec(oe.slice(ee));return Z?(J.w=v[Z[0].toLowerCase()],ee+Z[0].length):-1}function S(J,oe,ee){var Z=m.exec(oe.slice(ee));return Z?(J.w=g[Z[0].toLowerCase()],ee+Z[0].length):-1}function U(J,oe,ee){var Z=I.exec(oe.slice(ee));return Z?(J.m=N[Z[0].toLowerCase()],ee+Z[0].length):-1}function L(J,oe,ee){var Z=T.exec(oe.slice(ee));return Z?(J.m=R[Z[0].toLowerCase()],ee+Z[0].length):-1}function ae(J,oe,ee){return G(J,t,oe,ee)}function Q(J,oe,ee){return G(J,r,oe,ee)}function ue(J,oe,ee){return G(J,n,oe,ee)}function _e(J){return u[J.getDay()]}function ke(J){return l[J.getDay()]}function de(J){return f[J.getMonth()]}function ce(J){return h[J.getMonth()]}function he(J){return o[+(J.getHours()>=12)]}function Se(J){return 1+~~(J.getMonth()/3)}function ve(J){return u[J.getUTCDay()]}function me(J){return l[J.getUTCDay()]}function Ce(J){return f[J.getUTCMonth()]}function xe(J){return h[J.getUTCMonth()]}function Ne(J){return o[+(J.getUTCHours()>=12)]}function pe(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var oe=V(J+="",q);return oe.toString=function(){return J},oe},parse:function(J){var oe=z(J+="",!1);return oe.toString=function(){return J},oe},utcFormat:function(J){var oe=V(J+="",F);return oe.toString=function(){return J},oe},utcParse:function(J){var oe=z(J+="",!0);return oe.toString=function(){return J},oe}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(e,t,r){var n=e<0?"-":"",o=(n?-e:e)+"",l=o.length;return n+(l<r?new Array(r-l+1).join(t)+o:o)}function requote(e){return e.replace(requoteRe,"\\$&")}function formatRe(e){return new RegExp("^(?:"+e.map(requote).join("|")+")","i")}function formatLookup(e){for(var t={},r=-1,n=e.length;++r<n;)t[e[r].toLowerCase()]=r;return t}function parseWeekdayNumberSunday(e,t,r){var n=numberRe.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function parseWeekdayNumberMonday(e,t,r){var n=numberRe.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function parseWeekNumberSunday(e,t,r){var n=numberRe.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function parseWeekNumberISO(e,t,r){var n=numberRe.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function parseWeekNumberMonday(e,t,r){var n=numberRe.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function parseFullYear(e,t,r){var n=numberRe.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function parseYear(e,t,r){var n=numberRe.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function parseZone(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function parseQuarter(e,t,r){var n=numberRe.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function parseMonthNumber(e,t,r){var n=numberRe.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function parseDayOfMonth(e,t,r){var n=numberRe.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function parseDayOfYear(e,t,r){var n=numberRe.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function parseHour24(e,t,r){var n=numberRe.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function parseMinutes(e,t,r){var n=numberRe.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function parseSeconds(e,t,r){var n=numberRe.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function parseMilliseconds(e,t,r){var n=numberRe.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function parseMicroseconds(e,t,r){var n=numberRe.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function parseLiteralPercent(e,t,r){var n=percentRe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function parseUnixTimestamp(e,t,r){var n=numberRe.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function parseUnixTimestampSeconds(e,t,r){var n=numberRe.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function formatDayOfMonth(e,t){return pad(e.getDate(),t,2)}function formatHour24(e,t){return pad(e.getHours(),t,2)}function formatHour12(e,t){return pad(e.getHours()%12||12,t,2)}function formatDayOfYear(e,t){return pad(1+timeDay.count(timeYear(e),e),t,3)}function formatMilliseconds(e,t){return pad(e.getMilliseconds(),t,3)}function formatMicroseconds(e,t){return formatMilliseconds(e,t)+"000"}function formatMonthNumber(e,t){return pad(e.getMonth()+1,t,2)}function formatMinutes(e,t){return pad(e.getMinutes(),t,2)}function formatSeconds(e,t){return pad(e.getSeconds(),t,2)}function formatWeekdayNumberMonday(e){var t=e.getDay();return t===0?7:t}function formatWeekNumberSunday(e,t){return pad(sunday.count(timeYear(e)-1,e),t,2)}function dISO(e){var t=e.getDay();return t>=4||t===0?thursday(e):thursday.ceil(e)}function formatWeekNumberISO(e,t){return e=dISO(e),pad(thursday.count(timeYear(e),e)+(timeYear(e).getDay()===4),t,2)}function formatWeekdayNumberSunday(e){return e.getDay()}function formatWeekNumberMonday(e,t){return pad(monday.count(timeYear(e)-1,e),t,2)}function formatYear(e,t){return pad(e.getFullYear()%100,t,2)}function formatYearISO(e,t){return e=dISO(e),pad(e.getFullYear()%100,t,2)}function formatFullYear(e,t){return pad(e.getFullYear()%1e4,t,4)}function formatFullYearISO(e,t){var r=e.getDay();return e=r>=4||r===0?thursday(e):thursday.ceil(e),pad(e.getFullYear()%1e4,t,4)}function formatZone(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pad(t/60|0,"0",2)+pad(t%60,"0",2)}function formatUTCDayOfMonth(e,t){return pad(e.getUTCDate(),t,2)}function formatUTCHour24(e,t){return pad(e.getUTCHours(),t,2)}function formatUTCHour12(e,t){return pad(e.getUTCHours()%12||12,t,2)}function formatUTCDayOfYear(e,t){return pad(1+utcDay$1.count(utcYear$1(e),e),t,3)}function formatUTCMilliseconds(e,t){return pad(e.getUTCMilliseconds(),t,3)}function formatUTCMicroseconds(e,t){return formatUTCMilliseconds(e,t)+"000"}function formatUTCMonthNumber(e,t){return pad(e.getUTCMonth()+1,t,2)}function formatUTCMinutes(e,t){return pad(e.getUTCMinutes(),t,2)}function formatUTCSeconds(e,t){return pad(e.getUTCSeconds(),t,2)}function formatUTCWeekdayNumberMonday(e){var t=e.getUTCDay();return t===0?7:t}function formatUTCWeekNumberSunday(e,t){return pad(utcSunday.count(utcYear$1(e)-1,e),t,2)}function UTCdISO(e){var t=e.getUTCDay();return t>=4||t===0?utcThursday(e):utcThursday.ceil(e)}function formatUTCWeekNumberISO(e,t){return e=UTCdISO(e),pad(utcThursday.count(utcYear$1(e),e)+(utcYear$1(e).getUTCDay()===4),t,2)}function formatUTCWeekdayNumberSunday(e){return e.getUTCDay()}function formatUTCWeekNumberMonday(e,t){return pad(utcMonday.count(utcYear$1(e)-1,e),t,2)}function formatUTCYear(e,t){return pad(e.getUTCFullYear()%100,t,2)}function formatUTCYearISO(e,t){return e=UTCdISO(e),pad(e.getUTCFullYear()%100,t,2)}function formatUTCFullYear(e,t){return pad(e.getUTCFullYear()%1e4,t,4)}function formatUTCFullYearISO(e,t){var r=e.getUTCDay();return e=r>=4||r===0?utcThursday(e):utcThursday.ceil(e),pad(e.getUTCFullYear()%1e4,t,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(e){return+e}function formatUnixTimestampSeconds(e){return Math.floor(+e/1e3)}var locale,timeFormat,timeParse,utcFormat,utcParse;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(e){return locale=formatLocale(e),timeFormat=locale.format,timeParse=locale.parse,utcFormat=locale.utcFormat,utcParse=locale.utcParse,locale}var isoSpecifier="%Y-%m-%dT%H:%M:%S.%LZ";function formatIsoNative(e){return e.toISOString()}var formatIso=Date.prototype.toISOString?formatIsoNative:utcFormat(isoSpecifier);const formatIso$1=formatIso;function parseIsoNative(e){var t=new Date(e);return isNaN(t)?null:t}var parseIso=+new Date("2000-01-01T00:00:00.000Z")?parseIsoNative:utcParse(isoSpecifier);const parseIso$1=parseIso;var durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365;function date(e){return new Date(e)}function number(e){return e instanceof Date?+e:+new Date(+e)}function calendar(e,t,r,n,o,l,u,h,f){var d=continuous(identity$3,identity$3),p=d.invert,m=d.domain,g=f(".%L"),b=f(":%S"),v=f("%I:%M"),T=f("%I %p"),R=f("%a %d"),I=f("%b %d"),N=f("%B"),q=f("%Y"),F=[[u,1,durationSecond],[u,5,5*durationSecond],[u,15,15*durationSecond],[u,30,30*durationSecond],[l,1,durationMinute],[l,5,5*durationMinute],[l,15,15*durationMinute],[l,30,30*durationMinute],[o,1,durationHour],[o,3,3*durationHour],[o,6,6*durationHour],[o,12,12*durationHour],[n,1,durationDay],[n,2,2*durationDay],[r,1,durationWeek],[t,1,durationMonth],[t,3,3*durationMonth],[e,1,durationYear]];function H(z){return(u(z)<z?g:l(z)<z?b:o(z)<z?v:n(z)<z?T:t(z)<z?r(z)<z?R:I:e(z)<z?N:q)(z)}function V(z,G,P,W){if(z==null&&(z=10),typeof z=="number"){var S=Math.abs(P-G)/z,U=bisector(function(L){return L[2]}).right(F,S);U===F.length?(W=tickStep(G/durationYear,P/durationYear,z),z=e):U?(U=F[S/F[U-1][2]<F[U][2]/S?U-1:U],W=U[1],z=U[0]):(W=Math.max(tickStep(G,P,z),1),z=h)}return W==null?z:z.every(W)}return d.invert=function(z){return new Date(p(z))},d.domain=function(z){return arguments.length?m(map.call(z,number)):m().map(date)},d.ticks=function(z,G){var P=m(),W=P[0],S=P[P.length-1],U=S<W,L;return U&&(L=W,W=S,S=L),L=V(z,W,S,G),L=L?L.range(W,S+1):[],U?L.reverse():L},d.tickFormat=function(z,G){return G==null?H:f(G)},d.nice=function(z,G){var P=m();return(z=V(z,P[0],P[P.length-1],G))?m(nice(P,z)):d},d.copy=function(){return copy$2(d,calendar(e,t,r,n,o,l,u,h,f))},d}function time(){return initRange.apply(calendar(timeYear,timeMonth,sunday,timeDay,timeHour,timeMinute,utcSecond,utcMillisecond,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcYear$1,utcMonth$1,utcSunday,utcDay$1,utcHour$1,utcMinute$1,utcSecond,utcMillisecond,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var e=0,t=1,r,n,o,l,u=identity$3,h=!1,f;function d(p){return isNaN(p=+p)?f:u(o===0?.5:(p=(l(p)-r)*o,h?Math.max(0,Math.min(1,p)):p))}return d.domain=function(p){return arguments.length?(r=l(e=+p[0]),n=l(t=+p[1]),o=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(p){return arguments.length?(h=!!p,d):h},d.interpolator=function(p){return arguments.length?(u=p,d):u},d.unknown=function(p){return arguments.length?(f=p,d):f},function(p){return l=p,r=p(e),n=p(t),o=r===n?0:1/(n-r),d}}function copy$1(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function sequential(){var e=linearish(transformer$1()(identity$3));return e.copy=function(){return copy$1(e,sequential())},initInterpolator.apply(e,arguments)}function sequentialLog(){var e=loggish(transformer$1()).domain([1,10]);return e.copy=function(){return copy$1(e,sequentialLog()).base(e.base())},initInterpolator.apply(e,arguments)}function sequentialSymlog(){var e=symlogish(transformer$1());return e.copy=function(){return copy$1(e,sequentialSymlog()).constant(e.constant())},initInterpolator.apply(e,arguments)}function sequentialPow(){var e=powish(transformer$1());return e.copy=function(){return copy$1(e,sequentialPow()).exponent(e.exponent())},initInterpolator.apply(e,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var e=[],t=identity$3;function r(n){if(!isNaN(n=+n))return t((bisectRight(e,n)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(var o=0,l=n.length,u;o<l;++o)u=n[o],u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(ascending$3),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return sequentialQuantile(t).domain(e)},initInterpolator.apply(r,arguments)}function transformer(){var e=0,t=.5,r=1,n,o,l,u,h,f=identity$3,d,p=!1,m;function g(b){return isNaN(b=+b)?m:(b=.5+((b=+d(b))-o)*(b<o?u:h),f(p?Math.max(0,Math.min(1,b)):b))}return g.domain=function(b){return arguments.length?(n=d(e=+b[0]),o=d(t=+b[1]),l=d(r=+b[2]),u=n===o?0:.5/(o-n),h=o===l?0:.5/(l-o),g):[e,t,r]},g.clamp=function(b){return arguments.length?(p=!!b,g):p},g.interpolator=function(b){return arguments.length?(f=b,g):f},g.unknown=function(b){return arguments.length?(m=b,g):m},function(b){return d=b,n=b(e),o=b(t),l=b(r),u=n===o?0:.5/(o-n),h=o===l?0:.5/(l-o),g}}function diverging$1(){var e=linearish(transformer()(identity$3));return e.copy=function(){return copy$1(e,diverging$1())},initInterpolator.apply(e,arguments)}function divergingLog(){var e=loggish(transformer()).domain([.1,1,10]);return e.copy=function(){return copy$1(e,divergingLog()).base(e.base())},initInterpolator.apply(e,arguments)}function divergingSymlog(){var e=symlogish(transformer());return e.copy=function(){return copy$1(e,divergingSymlog()).constant(e.constant())},initInterpolator.apply(e,arguments)}function divergingPow(){var e=powish(transformer());return e.copy=function(){return copy$1(e,divergingPow()).exponent(e.exponent())},initInterpolator.apply(e,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}function colors(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}const category10=colors("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Accent=colors("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Dark2=colors("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Paired=colors("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Pastel1=colors("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Pastel2=colors("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Set1=colors("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Set2=colors("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Set3=colors("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Tableau10=colors("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function ramp$1(e){return rgbBasis(e[e.length-1])}var scheme$q=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(colors);const BrBG=ramp$1(scheme$q);var scheme$p=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(colors);const PRGn=ramp$1(scheme$p);var scheme$o=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(colors);const PiYG=ramp$1(scheme$o);var scheme$n=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(colors);const PuOr=ramp$1(scheme$n);var scheme$m=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(colors);const RdBu=ramp$1(scheme$m);var scheme$l=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(colors);const RdGy=ramp$1(scheme$l);var scheme$k=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(colors);const RdYlBu=ramp$1(scheme$k);var scheme$j=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(colors);const RdYlGn=ramp$1(scheme$j);var scheme$i=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(colors);const Spectral=ramp$1(scheme$i);var scheme$h=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(colors);const BuGn=ramp$1(scheme$h);var scheme$g=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(colors);const BuPu=ramp$1(scheme$g);var scheme$f=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(colors);const GnBu=ramp$1(scheme$f);var scheme$e=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(colors);const OrRd=ramp$1(scheme$e);var scheme$d=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(colors);const PuBuGn=ramp$1(scheme$d);var scheme$c=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(colors);const PuBu=ramp$1(scheme$c);var scheme$b=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(colors);const PuRd=ramp$1(scheme$b);var scheme$a=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(colors);const RdPu=ramp$1(scheme$a);var scheme$9=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(colors);const YlGnBu=ramp$1(scheme$9);var scheme$8=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(colors);const YlGn=ramp$1(scheme$8);var scheme$7=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(colors);const YlOrBr=ramp$1(scheme$7);var scheme$6=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(colors);const YlOrRd=ramp$1(scheme$6);var scheme$5=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(colors);const Blues=ramp$1(scheme$5);var scheme$4=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(colors);const Greens=ramp$1(scheme$4);var scheme$3=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(colors);const Greys=ramp$1(scheme$3);var scheme$2=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(colors);const Purples=ramp$1(scheme$2);var scheme$1=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(colors);const Reds=ramp$1(scheme$1);var scheme=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(colors);const Oranges=ramp$1(scheme);function cividis(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const cubehelix=cubehelixLong(cubehelix$3(300,.5,0),cubehelix$3(-240,.5,1));var warm=cubehelixLong(cubehelix$3(-100,.75,.35),cubehelix$3(80,1.5,.8)),cool=cubehelixLong(cubehelix$3(260,.75,.35),cubehelix$3(80,1.5,.8)),c$3=cubehelix$3();function rainbow(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return c$3.h=360*e-100,c$3.s=1.5-1.5*t,c$3.l=.8-.9*t,c$3+""}var c$2=rgb(),pi_1_3=Math.PI/3,pi_2_3=Math.PI*2/3;function sinebow(e){var t;return e=(.5-e)*Math.PI,c$2.r=255*(t=Math.sin(e))*t,c$2.g=255*(t=Math.sin(e+pi_1_3))*t,c$2.b=255*(t=Math.sin(e+pi_2_3))*t,c$2+""}function turbo(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function ramp(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}const viridis=ramp(colors("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var magma=ramp(colors("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),inferno=ramp(colors("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),plasma=ramp(colors("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function constant$2(e){return function(){return e}}var abs=Math.abs,atan2=Math.atan2,cos=Math.cos,max=Math.max,min=Math.min,sin=Math.sin,sqrt=Math.sqrt,epsilon$1=1e-12,pi=Math.PI,halfPi=pi/2,tau=2*pi;function acos(e){return e>1?0:e<-1?pi:Math.acos(e)}function asin(e){return e>=1?halfPi:e<=-1?-halfPi:Math.asin(e)}function arcInnerRadius(e){return e.innerRadius}function arcOuterRadius(e){return e.outerRadius}function arcStartAngle(e){return e.startAngle}function arcEndAngle(e){return e.endAngle}function arcPadAngle(e){return e&&e.padAngle}function intersect$1(e,t,r,n,o,l,u,h){var f=r-e,d=n-t,p=u-o,m=h-l,g=m*f-p*d;if(!(g*g<epsilon$1))return g=(p*(t-l)-m*(e-o))/g,[e+g*f,t+g*d]}function cornerTangents(e,t,r,n,o,l,u){var h=e-r,f=t-n,d=(u?l:-l)/sqrt(h*h+f*f),p=d*f,m=-d*h,g=e+p,b=t+m,v=r+p,T=n+m,R=(g+v)/2,I=(b+T)/2,N=v-g,q=T-b,F=N*N+q*q,H=o-l,V=g*T-v*b,z=(q<0?-1:1)*sqrt(max(0,H*H*F-V*V)),G=(V*q-N*z)/F,P=(-V*N-q*z)/F,W=(V*q+N*z)/F,S=(-V*N+q*z)/F,U=G-R,L=P-I,ae=W-R,Q=S-I;return U*U+L*L>ae*ae+Q*Q&&(G=W,P=S),{cx:G,cy:P,x01:-p,y01:-m,x11:G*(o/H-1),y11:P*(o/H-1)}}function arc(){var e=arcInnerRadius,t=arcOuterRadius,r=constant$2(0),n=null,o=arcStartAngle,l=arcEndAngle,u=arcPadAngle,h=null;function f(){var d,p,m=+e.apply(this,arguments),g=+t.apply(this,arguments),b=o.apply(this,arguments)-halfPi,v=l.apply(this,arguments)-halfPi,T=abs(v-b),R=v>b;if(h||(h=d=path()),g<m&&(p=g,g=m,m=p),!(g>epsilon$1))h.moveTo(0,0);else if(T>tau-epsilon$1)h.moveTo(g*cos(b),g*sin(b)),h.arc(0,0,g,b,v,!R),m>epsilon$1&&(h.moveTo(m*cos(v),m*sin(v)),h.arc(0,0,m,v,b,R));else{var I=b,N=v,q=b,F=v,H=T,V=T,z=u.apply(this,arguments)/2,G=z>epsilon$1&&(n?+n.apply(this,arguments):sqrt(m*m+g*g)),P=min(abs(g-m)/2,+r.apply(this,arguments)),W=P,S=P,U,L;if(G>epsilon$1){var ae=asin(G/m*sin(z)),Q=asin(G/g*sin(z));(H-=ae*2)>epsilon$1?(ae*=R?1:-1,q+=ae,F-=ae):(H=0,q=F=(b+v)/2),(V-=Q*2)>epsilon$1?(Q*=R?1:-1,I+=Q,N-=Q):(V=0,I=N=(b+v)/2)}var ue=g*cos(I),_e=g*sin(I),ke=m*cos(F),de=m*sin(F);if(P>epsilon$1){var ce=g*cos(N),he=g*sin(N),Se=m*cos(q),ve=m*sin(q),me;if(T<pi&&(me=intersect$1(ue,_e,Se,ve,ce,he,ke,de))){var Ce=ue-me[0],xe=_e-me[1],Ne=ce-me[0],pe=he-me[1],J=1/sin(acos((Ce*Ne+xe*pe)/(sqrt(Ce*Ce+xe*xe)*sqrt(Ne*Ne+pe*pe)))/2),oe=sqrt(me[0]*me[0]+me[1]*me[1]);W=min(P,(m-oe)/(J-1)),S=min(P,(g-oe)/(J+1))}}V>epsilon$1?S>epsilon$1?(U=cornerTangents(Se,ve,ue,_e,g,S,R),L=cornerTangents(ce,he,ke,de,g,S,R),h.moveTo(U.cx+U.x01,U.cy+U.y01),S<P?h.arc(U.cx,U.cy,S,atan2(U.y01,U.x01),atan2(L.y01,L.x01),!R):(h.arc(U.cx,U.cy,S,atan2(U.y01,U.x01),atan2(U.y11,U.x11),!R),h.arc(0,0,g,atan2(U.cy+U.y11,U.cx+U.x11),atan2(L.cy+L.y11,L.cx+L.x11),!R),h.arc(L.cx,L.cy,S,atan2(L.y11,L.x11),atan2(L.y01,L.x01),!R))):(h.moveTo(ue,_e),h.arc(0,0,g,I,N,!R)):h.moveTo(ue,_e),!(m>epsilon$1)||!(H>epsilon$1)?h.lineTo(ke,de):W>epsilon$1?(U=cornerTangents(ke,de,ce,he,m,-W,R),L=cornerTangents(ue,_e,Se,ve,m,-W,R),h.lineTo(U.cx+U.x01,U.cy+U.y01),W<P?h.arc(U.cx,U.cy,W,atan2(U.y01,U.x01),atan2(L.y01,L.x01),!R):(h.arc(U.cx,U.cy,W,atan2(U.y01,U.x01),atan2(U.y11,U.x11),!R),h.arc(0,0,m,atan2(U.cy+U.y11,U.cx+U.x11),atan2(L.cy+L.y11,L.cx+L.x11),R),h.arc(L.cx,L.cy,W,atan2(L.y11,L.x11),atan2(L.y01,L.x01),!R))):h.arc(0,0,m,F,q,R)}if(h.closePath(),d)return h=null,d+""||null}return f.centroid=function(){var d=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,p=(+o.apply(this,arguments)+ +l.apply(this,arguments))/2-pi/2;return[cos(p)*d,sin(p)*d]},f.innerRadius=function(d){return arguments.length?(e=typeof d=="function"?d:constant$2(+d),f):e},f.outerRadius=function(d){return arguments.length?(t=typeof d=="function"?d:constant$2(+d),f):t},f.cornerRadius=function(d){return arguments.length?(r=typeof d=="function"?d:constant$2(+d),f):r},f.padRadius=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:constant$2(+d),f):n},f.startAngle=function(d){return arguments.length?(o=typeof d=="function"?d:constant$2(+d),f):o},f.endAngle=function(d){return arguments.length?(l=typeof d=="function"?d:constant$2(+d),f):l},f.padAngle=function(d){return arguments.length?(u=typeof d=="function"?d:constant$2(+d),f):u},f.context=function(d){return arguments.length?(h=d==null?null:d,f):h},f}function Linear(e){this._context=e}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function curveLinear(e){return new Linear(e)}function x$1(e){return e[0]}function y$1(e){return e[1]}function line(){var e=x$1,t=y$1,r=constant$2(!0),n=null,o=curveLinear,l=null;function u(h){var f,d=h.length,p,m=!1,g;for(n==null&&(l=o(g=path())),f=0;f<=d;++f)!(f<d&&r(p=h[f],f,h))===m&&((m=!m)?l.lineStart():l.lineEnd()),m&&l.point(+e(p,f,h),+t(p,f,h));if(g)return l=null,g+""||null}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:constant$2(+h),u):e},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:constant$2(+h),u):t},u.defined=function(h){return arguments.length?(r=typeof h=="function"?h:constant$2(!!h),u):r},u.curve=function(h){return arguments.length?(o=h,n!=null&&(l=o(n)),u):o},u.context=function(h){return arguments.length?(h==null?n=l=null:l=o(n=h),u):n},u}function area(){var e=x$1,t=null,r=constant$2(0),n=y$1,o=constant$2(!0),l=null,u=curveLinear,h=null;function f(p){var m,g,b,v=p.length,T,R=!1,I,N=new Array(v),q=new Array(v);for(l==null&&(h=u(I=path())),m=0;m<=v;++m){if(!(m<v&&o(T=p[m],m,p))===R)if(R=!R)g=m,h.areaStart(),h.lineStart();else{for(h.lineEnd(),h.lineStart(),b=m-1;b>=g;--b)h.point(N[b],q[b]);h.lineEnd(),h.areaEnd()}R&&(N[m]=+e(T,m,p),q[m]=+r(T,m,p),h.point(t?+t(T,m,p):N[m],n?+n(T,m,p):q[m]))}if(I)return h=null,I+""||null}function d(){return line().defined(o).curve(u).context(l)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:constant$2(+p),t=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:constant$2(+p),f):e},f.x1=function(p){return arguments.length?(t=p==null?null:typeof p=="function"?p:constant$2(+p),f):t},f.y=function(p){return arguments.length?(r=typeof p=="function"?p:constant$2(+p),n=null,f):r},f.y0=function(p){return arguments.length?(r=typeof p=="function"?p:constant$2(+p),f):r},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:constant$2(+p),f):n},f.lineX0=f.lineY0=function(){return d().x(e).y(r)},f.lineY1=function(){return d().x(e).y(n)},f.lineX1=function(){return d().x(t).y(r)},f.defined=function(p){return arguments.length?(o=typeof p=="function"?p:constant$2(!!p),f):o},f.curve=function(p){return arguments.length?(u=p,l!=null&&(h=u(l)),f):u},f.context=function(p){return arguments.length?(p==null?l=h=null:h=u(l=p),f):l},f}function descending$1(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function identity$1(e){return e}function pie(){var e=identity$1,t=descending$1,r=null,n=constant$2(0),o=constant$2(tau),l=constant$2(0);function u(h){var f,d=h.length,p,m,g=0,b=new Array(d),v=new Array(d),T=+n.apply(this,arguments),R=Math.min(tau,Math.max(-tau,o.apply(this,arguments)-T)),I,N=Math.min(Math.abs(R)/d,l.apply(this,arguments)),q=N*(R<0?-1:1),F;for(f=0;f<d;++f)(F=v[b[f]=f]=+e(h[f],f,h))>0&&(g+=F);for(t!=null?b.sort(function(H,V){return t(v[H],v[V])}):r!=null&&b.sort(function(H,V){return r(h[H],h[V])}),f=0,m=g?(R-d*q)/g:0;f<d;++f,T=I)p=b[f],F=v[p],I=T+(F>0?F*m:0)+q,v[p]={data:h[p],index:f,value:F,startAngle:T,endAngle:I,padAngle:N};return v}return u.value=function(h){return arguments.length?(e=typeof h=="function"?h:constant$2(+h),u):e},u.sortValues=function(h){return arguments.length?(t=h,r=null,u):t},u.sort=function(h){return arguments.length?(r=h,t=null,u):r},u.startAngle=function(h){return arguments.length?(n=typeof h=="function"?h:constant$2(+h),u):n},u.endAngle=function(h){return arguments.length?(o=typeof h=="function"?h:constant$2(+h),u):o},u.padAngle=function(h){return arguments.length?(l=typeof h=="function"?h:constant$2(+h),u):l},u}var curveRadialLinear=curveRadial$1(curveLinear);function Radial(e){this._curve=e}Radial.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};function curveRadial$1(e){function t(r){return new Radial(e(r))}return t._curve=e,t}function lineRadial(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(r){return arguments.length?t(curveRadial$1(r)):t()._curve},e}function lineRadial$1(){return lineRadial(line().curve(curveRadialLinear))}function areaRadial(){var e=area().curve(curveRadialLinear),t=e.curve,r=e.lineX0,n=e.lineX1,o=e.lineY0,l=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return lineRadial(r())},delete e.lineX0,e.lineEndAngle=function(){return lineRadial(n())},delete e.lineX1,e.lineInnerRadius=function(){return lineRadial(o())},delete e.lineY0,e.lineOuterRadius=function(){return lineRadial(l())},delete e.lineY1,e.curve=function(u){return arguments.length?t(curveRadial$1(u)):t()._curve},e}function pointRadial(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}var slice=Array.prototype.slice;function linkSource(e){return e.source}function linkTarget(e){return e.target}function link(e){var t=linkSource,r=linkTarget,n=x$1,o=y$1,l=null;function u(){var h,f=slice.call(arguments),d=t.apply(this,f),p=r.apply(this,f);if(l||(l=h=path()),e(l,+n.apply(this,(f[0]=d,f)),+o.apply(this,f),+n.apply(this,(f[0]=p,f)),+o.apply(this,f)),h)return l=null,h+""||null}return u.source=function(h){return arguments.length?(t=h,u):t},u.target=function(h){return arguments.length?(r=h,u):r},u.x=function(h){return arguments.length?(n=typeof h=="function"?h:constant$2(+h),u):n},u.y=function(h){return arguments.length?(o=typeof h=="function"?h:constant$2(+h),u):o},u.context=function(h){return arguments.length?(l=h==null?null:h,u):l},u}function curveHorizontal(e,t,r,n,o){e.moveTo(t,r),e.bezierCurveTo(t=(t+n)/2,r,t,o,n,o)}function curveVertical(e,t,r,n,o){e.moveTo(t,r),e.bezierCurveTo(t,r=(r+o)/2,n,r,n,o)}function curveRadial(e,t,r,n,o){var l=pointRadial(t,r),u=pointRadial(t,r=(r+o)/2),h=pointRadial(n,r),f=pointRadial(n,o);e.moveTo(l[0],l[1]),e.bezierCurveTo(u[0],u[1],h[0],h[1],f[0],f[1])}function linkHorizontal(){return link(curveHorizontal)}function linkVertical(){return link(curveVertical)}function linkRadial(){var e=link(curveRadial);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}const circle$2={draw:function(e,t){var r=Math.sqrt(t/pi);e.moveTo(r,0),e.arc(0,0,r,0,tau)}},cross$1={draw:function(e,t){var r=Math.sqrt(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}};var tan30=Math.sqrt(1/3),tan30_2=tan30*2;const diamond={draw:function(e,t){var r=Math.sqrt(t/tan30_2),n=r*tan30;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}};var ka=.8908130915292852,kr=Math.sin(pi/10)/Math.sin(7*pi/10),kx=Math.sin(tau/10)*kr,ky=-Math.cos(tau/10)*kr;const star={draw:function(e,t){var r=Math.sqrt(t*ka),n=kx*r,o=ky*r;e.moveTo(0,-r),e.lineTo(n,o);for(var l=1;l<5;++l){var u=tau*l/5,h=Math.cos(u),f=Math.sin(u);e.lineTo(f*r,-h*r),e.lineTo(h*n-f*o,f*n+h*o)}e.closePath()}},square={draw:function(e,t){var r=Math.sqrt(t),n=-r/2;e.rect(n,n,r,r)}};var sqrt3=Math.sqrt(3);const triangle={draw:function(e,t){var r=-Math.sqrt(t/(sqrt3*3));e.moveTo(0,r*2),e.lineTo(-sqrt3*r,-r),e.lineTo(sqrt3*r,-r),e.closePath()}};var c$1=-.5,s=Math.sqrt(3)/2,k=1/Math.sqrt(12),a=(k/2+1)*3;const wye={draw:function(e,t){var r=Math.sqrt(t/a),n=r/2,o=r*k,l=n,u=r*k+r,h=-l,f=u;e.moveTo(n,o),e.lineTo(l,u),e.lineTo(h,f),e.lineTo(c$1*n-s*o,s*n+c$1*o),e.lineTo(c$1*l-s*u,s*l+c$1*u),e.lineTo(c$1*h-s*f,s*h+c$1*f),e.lineTo(c$1*n+s*o,c$1*o-s*n),e.lineTo(c$1*l+s*u,c$1*u-s*l),e.lineTo(c$1*h+s*f,c$1*f-s*h),e.closePath()}};var symbols=[circle$2,cross$1,diamond,square,star,triangle,wye];function symbol(){var e=constant$2(circle$2),t=constant$2(64),r=null;function n(){var o;if(r||(r=o=path()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return n.type=function(o){return arguments.length?(e=typeof o=="function"?o:constant$2(o),n):e},n.size=function(o){return arguments.length?(t=typeof o=="function"?o:constant$2(+o),n):t},n.context=function(o){return arguments.length?(r=o==null?null:o,n):r},n}function noop(){}function point$4(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Basis(e){this._context=e}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$4(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$4(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function basis(e){return new Basis(e)}function BasisClosed(e){this._context=e}BasisClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:point$4(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function basisClosed(e){return new BasisClosed(e)}function BasisOpen(e){this._context=e}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:point$4(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function basisOpen(e){return new BasisOpen(e)}function Bundle(e,t){this._basis=new Basis(e),this._beta=t}Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],o=t[0],l=e[r]-n,u=t[r]-o,h=-1,f;++h<=r;)f=h/r,this._basis.point(this._beta*e[h]+(1-this._beta)*(n+f*l),this._beta*t[h]+(1-this._beta)*(o+f*u));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const bundle=function e(t){function r(n){return t===1?new Basis(n):new Bundle(n,t)}return r.beta=function(n){return e(+n)},r}(.85);function point$3(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function Cardinal(e,t){this._context=e,this._k=(1-t)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$3(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:point$3(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const cardinal=function e(t){function r(n){return new Cardinal(n,t)}return r.tension=function(n){return e(+n)},r}(0);function CardinalClosed(e,t){this._context=e,this._k=(1-t)/6}CardinalClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:point$3(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const cardinalClosed=function e(t){function r(n){return new CardinalClosed(n,t)}return r.tension=function(n){return e(+n)},r}(0);function CardinalOpen(e,t){this._context=e,this._k=(1-t)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$3(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const cardinalOpen=function e(t){function r(n){return new CardinalOpen(n,t)}return r.tension=function(n){return e(+n)},r}(0);function point$2(e,t,r){var n=e._x1,o=e._y1,l=e._x2,u=e._y2;if(e._l01_a>epsilon$1){var h=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,f=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*h-e._x0*e._l12_2a+e._x2*e._l01_2a)/f,o=(o*h-e._y0*e._l12_2a+e._y2*e._l01_2a)/f}if(e._l23_a>epsilon$1){var d=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,p=3*e._l23_a*(e._l23_a+e._l12_a);l=(l*d+e._x1*e._l23_2a-t*e._l12_2a)/p,u=(u*d+e._y1*e._l23_2a-r*e._l12_2a)/p}e._context.bezierCurveTo(n,o,l,u,e._x2,e._y2)}function CatmullRom(e,t){this._context=e,this._alpha=t}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:point$2(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const catmullRom=function e(t){function r(n){return t?new CatmullRom(n,t):new Cardinal(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function CatmullRomClosed(e,t){this._context=e,this._alpha=t}CatmullRomClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:point$2(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const catmullRomClosed=function e(t){function r(n){return t?new CatmullRomClosed(n,t):new CardinalClosed(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function CatmullRomOpen(e,t){this._context=e,this._alpha=t}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$2(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const catmullRomOpen=function e(t){function r(n){return t?new CatmullRomOpen(n,t):new CardinalOpen(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function LinearClosed(e){this._context=e}LinearClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function linearClosed(e){return new LinearClosed(e)}function sign(e){return e<0?-1:1}function slope3(e,t,r){var n=e._x1-e._x0,o=t-e._x1,l=(e._y1-e._y0)/(n||o<0&&-0),u=(r-e._y1)/(o||n<0&&-0),h=(l*o+u*n)/(n+o);return(sign(l)+sign(u))*Math.min(Math.abs(l),Math.abs(u),.5*Math.abs(h))||0}function slope2(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function point$1(e,t,r){var n=e._x0,o=e._y0,l=e._x1,u=e._y1,h=(l-n)/3;e._context.bezierCurveTo(n+h,o+h*t,l-h,u-h*r,l,u)}function MonotoneX(e){this._context=e}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,r=slope3(this,e,t)),r);break;default:point$1(this,this._t0,r=slope3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function MonotoneY(e){this._context=new ReflectContext(e)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(e,t){MonotoneX.prototype.point.call(this,t,e)};function ReflectContext(e){this._context=e}ReflectContext.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,o,l){this._context.bezierCurveTo(t,e,n,r,l,o)}};function monotoneX(e){return new MonotoneX(e)}function monotoneY(e){return new MonotoneY(e)}function Natural(e){this._context=e}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=controlPoints(e),o=controlPoints(t),l=0,u=1;u<r;++l,++u)this._context.bezierCurveTo(n[0][l],o[0][l],n[1][l],o[1][l],e[u],t[u]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function controlPoints(e){var t,r=e.length-1,n,o=new Array(r),l=new Array(r),u=new Array(r);for(o[0]=0,l[0]=2,u[0]=e[0]+2*e[1],t=1;t<r-1;++t)o[t]=1,l[t]=4,u[t]=4*e[t]+2*e[t+1];for(o[r-1]=2,l[r-1]=7,u[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=o[t]/l[t-1],l[t]-=n,u[t]-=n*u[t-1];for(o[r-1]=u[r-1]/l[r-1],t=r-2;t>=0;--t)o[t]=(u[t]-o[t+1])/l[t];for(l[r-1]=(e[r]+o[r-1])/2,t=0;t<r-1;++t)l[t]=2*e[t+1]-o[t+1];return[o,l]}function natural(e){return new Natural(e)}function Step(e,t){this._context=e,this._t=t}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function step(e){return new Step(e,.5)}function stepBefore(e){return new Step(e,0)}function stepAfter(e){return new Step(e,1)}function none$1(e,t){if((u=e.length)>1)for(var r=1,n,o,l=e[t[0]],u,h=l.length;r<u;++r)for(o=l,l=e[t[r]],n=0;n<h;++n)l[n][1]+=l[n][0]=isNaN(o[n][1])?o[n][0]:o[n][1]}function none(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function stackValue(e,t){return e[t]}function stack(){var e=constant$2([]),t=none,r=none$1,n=stackValue;function o(l){var u=e.apply(this,arguments),h,f=l.length,d=u.length,p=new Array(d),m;for(h=0;h<d;++h){for(var g=u[h],b=p[h]=new Array(f),v=0,T;v<f;++v)b[v]=T=[0,+n(l[v],g,v,l)],T.data=l[v];b.key=g}for(h=0,m=t(p);h<d;++h)p[m[h]].index=h;return r(p,m),p}return o.keys=function(l){return arguments.length?(e=typeof l=="function"?l:constant$2(slice.call(l)),o):e},o.value=function(l){return arguments.length?(n=typeof l=="function"?l:constant$2(+l),o):n},o.order=function(l){return arguments.length?(t=l==null?none:typeof l=="function"?l:constant$2(slice.call(l)),o):t},o.offset=function(l){return arguments.length?(r=l==null?none$1:l,o):r},o}function expand(e,t){if((n=e.length)>0){for(var r,n,o=0,l=e[0].length,u;o<l;++o){for(u=r=0;r<n;++r)u+=e[r][o][1]||0;if(u)for(r=0;r<n;++r)e[r][o][1]/=u}none$1(e,t)}}function diverging(e,t){if((f=e.length)>0)for(var r,n=0,o,l,u,h,f,d=e[t[0]].length;n<d;++n)for(u=h=0,r=0;r<f;++r)(l=(o=e[t[r]][n])[1]-o[0])>0?(o[0]=u,o[1]=u+=l):l<0?(o[1]=h,o[0]=h+=l):(o[0]=0,o[1]=l)}function silhouette(e,t){if((o=e.length)>0){for(var r=0,n=e[t[0]],o,l=n.length;r<l;++r){for(var u=0,h=0;u<o;++u)h+=e[u][r][1]||0;n[r][1]+=n[r][0]=-h/2}none$1(e,t)}}function wiggle(e,t){if(!(!((u=e.length)>0)||!((l=(o=e[t[0]]).length)>0))){for(var r=0,n=1,o,l,u;n<l;++n){for(var h=0,f=0,d=0;h<u;++h){for(var p=e[t[h]],m=p[n][1]||0,g=p[n-1][1]||0,b=(m-g)/2,v=0;v<h;++v){var T=e[t[v]],R=T[n][1]||0,I=T[n-1][1]||0;b+=R-I}f+=m,d+=b*m}o[n-1][1]+=o[n-1][0]=r,f&&(r-=d/f)}o[n-1][1]+=o[n-1][0]=r,none$1(e,t)}}function appearance(e){var t=e.map(peak);return none(e).sort(function(r,n){return t[r]-t[n]})}function peak(e){for(var t=-1,r=0,n=e.length,o,l=-1/0;++t<n;)(o=+e[t][1])>l&&(l=o,r=t);return r}function ascending(e){var t=e.map(sum);return none(e).sort(function(r,n){return t[r]-t[n]})}function sum(e){for(var t=0,r=-1,n=e.length,o;++r<n;)(o=+e[r][1])&&(t+=o);return t}function descending(e){return ascending(e).reverse()}function insideOut(e){var t=e.length,r,n,o=e.map(sum),l=appearance(e),u=0,h=0,f=[],d=[];for(r=0;r<t;++r)n=l[r],u<h?(u+=o[n],f.push(n)):(h+=o[n],d.push(n));return d.reverse().concat(f)}function reverse(e){return none(e).reverse()}function constant$1(e){return function(){return e}}function x(e){return e[0]}function y(e){return e[1]}function RedBlackTree(){this._=null}function RedBlackNode(e){e.U=e.C=e.L=e.R=e.P=e.N=null}RedBlackTree.prototype={constructor:RedBlackTree,insert:function(e,t){var r,n,o;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;r=e}else this._?(e=RedBlackFirst(this._),t.P=null,t.N=e,e.P=e.L=t,r=e):(t.P=t.N=null,this._=t,r=null);for(t.L=t.R=null,t.U=r,t.C=!0,e=t;r&&r.C;)n=r.U,r===n.L?(o=n.R,o&&o.C?(r.C=o.C=!1,n.C=!0,e=n):(e===r.R&&(RedBlackRotateLeft(this,r),e=r,r=e.U),r.C=!1,n.C=!0,RedBlackRotateRight(this,n))):(o=n.L,o&&o.C?(r.C=o.C=!1,n.C=!0,e=n):(e===r.L&&(RedBlackRotateRight(this,r),e=r,r=e.U),r.C=!1,n.C=!0,RedBlackRotateLeft(this,n))),r=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t=e.U,r,n=e.L,o=e.R,l,u;if(n?o?l=RedBlackFirst(o):l=n:l=o,t?t.L===e?t.L=l:t.R=l:this._=l,n&&o?(u=l.C,l.C=e.C,l.L=n,n.U=l,l!==o?(t=l.U,l.U=e.U,e=l.R,t.L=e,l.R=o,o.U=l):(l.U=t,t=l,e=l.R)):(u=e.C,e=l),e&&(e.U=t),!u){if(e&&e.C){e.C=!1;return}do{if(e===this._)break;if(e===t.L){if(r=t.R,r.C&&(r.C=!1,t.C=!0,RedBlackRotateLeft(this,t),r=t.R),r.L&&r.L.C||r.R&&r.R.C){(!r.R||!r.R.C)&&(r.L.C=!1,r.C=!0,RedBlackRotateRight(this,r),r=t.R),r.C=t.C,t.C=r.R.C=!1,RedBlackRotateLeft(this,t),e=this._;break}}else if(r=t.L,r.C&&(r.C=!1,t.C=!0,RedBlackRotateRight(this,t),r=t.L),r.L&&r.L.C||r.R&&r.R.C){(!r.L||!r.L.C)&&(r.R.C=!1,r.C=!0,RedBlackRotateLeft(this,r),r=t.L),r.C=t.C,t.C=r.L.C=!1,RedBlackRotateRight(this,t),e=this._;break}r.C=!0,e=t,t=t.U}while(!e.C);e&&(e.C=!1)}}};function RedBlackRotateLeft(e,t){var r=t,n=t.R,o=r.U;o?o.L===r?o.L=n:o.R=n:e._=n,n.U=o,r.U=n,r.R=n.L,r.R&&(r.R.U=r),n.L=r}function RedBlackRotateRight(e,t){var r=t,n=t.L,o=r.U;o?o.L===r?o.L=n:o.R=n:e._=n,n.U=o,r.U=n,r.L=n.R,r.L&&(r.L.U=r),n.R=r}function RedBlackFirst(e){for(;e.L;)e=e.L;return e}function createEdge(e,t,r,n){var o=[null,null],l=edges$1.push(o)-1;return o.left=e,o.right=t,r&&setEdgeEnd(o,e,t,r),n&&setEdgeEnd(o,t,e,n),cells[e.index].halfedges.push(l),cells[t.index].halfedges.push(l),o}function createBorderEdge(e,t,r){var n=[t,r];return n.left=e,n}function setEdgeEnd(e,t,r,n){!e[0]&&!e[1]?(e[0]=n,e.left=t,e.right=r):e.left===r?e[1]=n:e[0]=n}function clipEdge(e,t,r,n,o){var l=e[0],u=e[1],h=l[0],f=l[1],d=u[0],p=u[1],m=0,g=1,b=d-h,v=p-f,T;if(T=t-h,!(!b&&T>0)){if(T/=b,b<0){if(T<m)return;T<g&&(g=T)}else if(b>0){if(T>g)return;T>m&&(m=T)}if(T=n-h,!(!b&&T<0)){if(T/=b,b<0){if(T>g)return;T>m&&(m=T)}else if(b>0){if(T<m)return;T<g&&(g=T)}if(T=r-f,!(!v&&T>0)){if(T/=v,v<0){if(T<m)return;T<g&&(g=T)}else if(v>0){if(T>g)return;T>m&&(m=T)}if(T=o-f,!(!v&&T<0)){if(T/=v,v<0){if(T>g)return;T>m&&(m=T)}else if(v>0){if(T<m)return;T<g&&(g=T)}return!(m>0)&&!(g<1)||(m>0&&(e[0]=[h+m*b,f+m*v]),g<1&&(e[1]=[h+g*b,f+g*v])),!0}}}}}function connectEdge(e,t,r,n,o){var l=e[1];if(l)return!0;var u=e[0],h=e.left,f=e.right,d=h[0],p=h[1],m=f[0],g=f[1],b=(d+m)/2,v=(p+g)/2,T,R;if(g===p){if(b<t||b>=n)return;if(d>m){if(!u)u=[b,r];else if(u[1]>=o)return;l=[b,o]}else{if(!u)u=[b,o];else if(u[1]<r)return;l=[b,r]}}else if(T=(d-m)/(g-p),R=v-T*b,T<-1||T>1)if(d>m){if(!u)u=[(r-R)/T,r];else if(u[1]>=o)return;l=[(o-R)/T,o]}else{if(!u)u=[(o-R)/T,o];else if(u[1]<r)return;l=[(r-R)/T,r]}else if(p<g){if(!u)u=[t,T*t+R];else if(u[0]>=n)return;l=[n,T*n+R]}else{if(!u)u=[n,T*n+R];else if(u[0]<t)return;l=[t,T*t+R]}return e[0]=u,e[1]=l,!0}function clipEdges(e,t,r,n){for(var o=edges$1.length,l;o--;)(!connectEdge(l=edges$1[o],e,t,r,n)||!clipEdge(l,e,t,r,n)||!(Math.abs(l[0][0]-l[1][0])>epsilon||Math.abs(l[0][1]-l[1][1])>epsilon))&&delete edges$1[o]}function createCell(e){return cells[e.index]={site:e,halfedges:[]}}function cellHalfedgeAngle(e,t){var r=e.site,n=t.left,o=t.right;return r===o&&(o=n,n=r),o?Math.atan2(o[1]-n[1],o[0]-n[0]):(r===n?(n=t[1],o=t[0]):(n=t[0],o=t[1]),Math.atan2(n[0]-o[0],o[1]-n[1]))}function cellHalfedgeStart(e,t){return t[+(t.left!==e.site)]}function cellHalfedgeEnd(e,t){return t[+(t.left===e.site)]}function sortCellHalfedges(){for(var e=0,t=cells.length,r,n,o,l;e<t;++e)if((r=cells[e])&&(l=(n=r.halfedges).length)){var u=new Array(l),h=new Array(l);for(o=0;o<l;++o)u[o]=o,h[o]=cellHalfedgeAngle(r,edges$1[n[o]]);for(u.sort(function(f,d){return h[d]-h[f]}),o=0;o<l;++o)h[o]=n[u[o]];for(o=0;o<l;++o)n[o]=h[o]}}function clipCells(e,t,r,n){var o=cells.length,l,u,h,f,d,p,m,g,b,v,T,R,I=!0;for(l=0;l<o;++l)if(u=cells[l]){for(h=u.site,d=u.halfedges,f=d.length;f--;)edges$1[d[f]]||d.splice(f,1);for(f=0,p=d.length;f<p;)v=cellHalfedgeEnd(u,edges$1[d[f]]),T=v[0],R=v[1],m=cellHalfedgeStart(u,edges$1[d[++f%p]]),g=m[0],b=m[1],(Math.abs(T-g)>epsilon||Math.abs(R-b)>epsilon)&&(d.splice(f,0,edges$1.push(createBorderEdge(h,v,Math.abs(T-e)<epsilon&&n-R>epsilon?[e,Math.abs(g-e)<epsilon?b:n]:Math.abs(R-n)<epsilon&&r-T>epsilon?[Math.abs(b-n)<epsilon?g:r,n]:Math.abs(T-r)<epsilon&&R-t>epsilon?[r,Math.abs(g-r)<epsilon?b:t]:Math.abs(R-t)<epsilon&&T-e>epsilon?[Math.abs(b-t)<epsilon?g:e,t]:null))-1),++p);p&&(I=!1)}if(I){var N,q,F,H=1/0;for(l=0,I=null;l<o;++l)(u=cells[l])&&(h=u.site,N=h[0]-e,q=h[1]-t,F=N*N+q*q,F<H&&(H=F,I=u));if(I){var V=[e,t],z=[e,n],G=[r,n],P=[r,t];I.halfedges.push(edges$1.push(createBorderEdge(h=I.site,V,z))-1,edges$1.push(createBorderEdge(h,z,G))-1,edges$1.push(createBorderEdge(h,G,P))-1,edges$1.push(createBorderEdge(h,P,V))-1)}}for(l=0;l<o;++l)(u=cells[l])&&(u.halfedges.length||delete cells[l])}var circlePool=[],firstCircle;function Circle(){RedBlackNode(this),this.x=this.y=this.arc=this.site=this.cy=null}function attachCircle(e){var t=e.P,r=e.N;if(!(!t||!r)){var n=t.site,o=e.site,l=r.site;if(n!==l){var u=o[0],h=o[1],f=n[0]-u,d=n[1]-h,p=l[0]-u,m=l[1]-h,g=2*(f*m-d*p);if(!(g>=-epsilon2)){var b=f*f+d*d,v=p*p+m*m,T=(m*b-d*v)/g,R=(f*v-p*b)/g,I=circlePool.pop()||new Circle;I.arc=e,I.site=o,I.x=T+u,I.y=(I.cy=R+h)+Math.sqrt(T*T+R*R),e.circle=I;for(var N=null,q=circles._;q;)if(I.y<q.y||I.y===q.y&&I.x<=q.x)if(q.L)q=q.L;else{N=q.P;break}else if(q.R)q=q.R;else{N=q;break}circles.insert(N,I),N||(firstCircle=I)}}}}function detachCircle(e){var t=e.circle;t&&(t.P||(firstCircle=t.N),circles.remove(t),circlePool.push(t),RedBlackNode(t),e.circle=null)}var beachPool=[];function Beach(){RedBlackNode(this),this.edge=this.site=this.circle=null}function createBeach(e){var t=beachPool.pop()||new Beach;return t.site=e,t}function detachBeach(e){detachCircle(e),beaches.remove(e),beachPool.push(e),RedBlackNode(e)}function removeBeach(e){var t=e.circle,r=t.x,n=t.cy,o=[r,n],l=e.P,u=e.N,h=[e];detachBeach(e);for(var f=l;f.circle&&Math.abs(r-f.circle.x)<epsilon&&Math.abs(n-f.circle.cy)<epsilon;)l=f.P,h.unshift(f),detachBeach(f),f=l;h.unshift(f),detachCircle(f);for(var d=u;d.circle&&Math.abs(r-d.circle.x)<epsilon&&Math.abs(n-d.circle.cy)<epsilon;)u=d.N,h.push(d),detachBeach(d),d=u;h.push(d),detachCircle(d);var p=h.length,m;for(m=1;m<p;++m)d=h[m],f=h[m-1],setEdgeEnd(d.edge,f.site,d.site,o);f=h[0],d=h[p-1],d.edge=createEdge(f.site,d.site,null,o),attachCircle(f),attachCircle(d)}function addBeach(e){for(var t=e[0],r=e[1],n,o,l,u,h=beaches._;h;)if(l=leftBreakPoint(h,r)-t,l>epsilon)h=h.L;else if(u=t-rightBreakPoint(h,r),u>epsilon){if(!h.R){n=h;break}h=h.R}else{l>-epsilon?(n=h.P,o=h):u>-epsilon?(n=h,o=h.N):n=o=h;break}createCell(e);var f=createBeach(e);if(beaches.insert(n,f),!(!n&&!o)){if(n===o){detachCircle(n),o=createBeach(n.site),beaches.insert(f,o),f.edge=o.edge=createEdge(n.site,f.site),attachCircle(n),attachCircle(o);return}if(!o){f.edge=createEdge(n.site,f.site);return}detachCircle(n),detachCircle(o);var d=n.site,p=d[0],m=d[1],g=e[0]-p,b=e[1]-m,v=o.site,T=v[0]-p,R=v[1]-m,I=2*(g*R-b*T),N=g*g+b*b,q=T*T+R*R,F=[(R*N-b*q)/I+p,(g*q-T*N)/I+m];setEdgeEnd(o.edge,d,v,F),f.edge=createEdge(d,e,null,F),o.edge=createEdge(e,v,null,F),attachCircle(n),attachCircle(o)}}function leftBreakPoint(e,t){var r=e.site,n=r[0],o=r[1],l=o-t;if(!l)return n;var u=e.P;if(!u)return-1/0;r=u.site;var h=r[0],f=r[1],d=f-t;if(!d)return h;var p=h-n,m=1/l-1/d,g=p/d;return m?(-g+Math.sqrt(g*g-2*m*(p*p/(-2*d)-f+d/2+o-l/2)))/m+n:(n+h)/2}function rightBreakPoint(e,t){var r=e.N;if(r)return leftBreakPoint(r,t);var n=e.site;return n[1]===t?n[0]:1/0}var epsilon=1e-6,epsilon2=1e-12,beaches,cells,circles,edges$1;function triangleArea(e,t,r){return(e[0]-r[0])*(t[1]-e[1])-(e[0]-t[0])*(r[1]-e[1])}function lexicographic(e,t){return t[1]-e[1]||t[0]-e[0]}function Diagram$1(e,t){var r=e.sort(lexicographic).pop(),n,o,l;for(edges$1=[],cells=new Array(e.length),beaches=new RedBlackTree,circles=new RedBlackTree;;)if(l=firstCircle,r&&(!l||r[1]<l.y||r[1]===l.y&&r[0]<l.x))(r[0]!==n||r[1]!==o)&&(addBeach(r),n=r[0],o=r[1]),r=e.pop();else if(l)removeBeach(l.arc);else break;if(sortCellHalfedges(),t){var u=+t[0][0],h=+t[0][1],f=+t[1][0],d=+t[1][1];clipEdges(u,h,f,d),clipCells(u,h,f,d)}this.edges=edges$1,this.cells=cells,beaches=circles=edges$1=cells=null}Diagram$1.prototype={constructor:Diagram$1,polygons:function(){var e=this.edges;return this.cells.map(function(t){var r=t.halfedges.map(function(n){return cellHalfedgeStart(t,e[n])});return r.data=t.site.data,r})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(r,n){if(!!(h=(l=r.halfedges).length))for(var o=r.site,l,u=-1,h,f,d=t[l[h-1]],p=d.left===o?d.right:d.left;++u<h;)f=p,d=t[l[u]],p=d.left===o?d.right:d.left,f&&p&&n<f.index&&n<p.index&&triangleArea(o,f,p)<0&&e.push([o.data,f.data,p.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,r){for(var n=this,o,l=n._found||0,u=n.cells.length,h;!(h=n.cells[l]);)if(++l>=u)return null;var f=e-h.site[0],d=t-h.site[1],p=f*f+d*d;do h=n.cells[o=l],l=null,h.halfedges.forEach(function(m){var g=n.edges[m],b=g.left;if(!((b===h.site||!b)&&!(b=g.right))){var v=e-b[0],T=t-b[1],R=v*v+T*T;R<p&&(p=R,l=b.index)}});while(l!==null);return n._found=o,r==null||p<=r*r?h.site:null}};function voronoi(){var e=x,t=y,r=null;function n(o){return new Diagram$1(o.map(function(l,u){var h=[Math.round(e(l,u,o)/epsilon)*epsilon,Math.round(t(l,u,o)/epsilon)*epsilon];return h.index=u,h.data=l,h}),r)}return n.polygons=function(o){return n(o).polygons()},n.links=function(o){return n(o).links()},n.triangles=function(o){return n(o).triangles()},n.x=function(o){return arguments.length?(e=typeof o=="function"?o:constant$1(+o),n):e},n.y=function(o){return arguments.length?(t=typeof o=="function"?o:constant$1(+o),n):t},n.extent=function(o){return arguments.length?(r=o==null?null:[[+o[0][0],+o[0][1]],[+o[1][0],+o[1][1]]],n):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},n.size=function(o){return arguments.length?(r=o==null?null:[[0,0],[+o[0],+o[1]]],n):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},n}function constant(e){return function(){return e}}function ZoomEvent(e,t,r){this.target=e,this.type=t,this.transform=r}function Transform(e,t,r){this.k=e,this.x=t,this.y=r}Transform.prototype={constructor:Transform,scale:function(e){return e===1?this:new Transform(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Transform(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var identity=new Transform(1,0,0);transform.prototype=Transform.prototype;function transform(e){for(;!e.__zoom;)if(!(e=e.parentNode))return identity;return e.__zoom}function nopropagation(){event.stopImmediatePropagation()}function noevent(){event.preventDefault(),event.stopImmediatePropagation()}function defaultFilter(){return!event.ctrlKey&&!event.button}function defaultExtent(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function defaultTransform(){return this.__zoom||identity}function defaultWheelDelta(){return-event.deltaY*(event.deltaMode===1?.05:event.deltaMode?1:.002)}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function defaultConstrain(e,t,r){var n=e.invertX(t[0][0])-r[0][0],o=e.invertX(t[1][0])-r[1][0],l=e.invertY(t[0][1])-r[0][1],u=e.invertY(t[1][1])-r[1][1];return e.translate(o>n?(n+o)/2:Math.min(0,n)||Math.max(0,o),u>l?(l+u)/2:Math.min(0,l)||Math.max(0,u))}function zoom(){var e=defaultFilter,t=defaultExtent,r=defaultConstrain,n=defaultWheelDelta,o=defaultTouchable,l=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],h=250,f=interpolateZoom,d=dispatch("start","zoom","end"),p,m,g=500,b=150,v=0;function T(U){U.property("__zoom",defaultTransform).on("wheel.zoom",V).on("mousedown.zoom",z).on("dblclick.zoom",G).filter(o).on("touchstart.zoom",P).on("touchmove.zoom",W).on("touchend.zoom touchcancel.zoom",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}T.transform=function(U,L,ae){var Q=U.selection?U.selection():U;Q.property("__zoom",defaultTransform),U!==Q?q(U,L,ae):Q.interrupt().each(function(){F(this,arguments).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},T.scaleBy=function(U,L,ae){T.scaleTo(U,function(){var Q=this.__zoom.k,ue=typeof L=="function"?L.apply(this,arguments):L;return Q*ue},ae)},T.scaleTo=function(U,L,ae){T.transform(U,function(){var Q=t.apply(this,arguments),ue=this.__zoom,_e=ae==null?N(Q):typeof ae=="function"?ae.apply(this,arguments):ae,ke=ue.invert(_e),de=typeof L=="function"?L.apply(this,arguments):L;return r(I(R(ue,de),_e,ke),Q,u)},ae)},T.translateBy=function(U,L,ae){T.transform(U,function(){return r(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof ae=="function"?ae.apply(this,arguments):ae),t.apply(this,arguments),u)})},T.translateTo=function(U,L,ae,Q){T.transform(U,function(){var ue=t.apply(this,arguments),_e=this.__zoom,ke=Q==null?N(ue):typeof Q=="function"?Q.apply(this,arguments):Q;return r(identity.translate(ke[0],ke[1]).scale(_e.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof ae=="function"?-ae.apply(this,arguments):-ae),ue,u)},Q)};function R(U,L){return L=Math.max(l[0],Math.min(l[1],L)),L===U.k?U:new Transform(L,U.x,U.y)}function I(U,L,ae){var Q=L[0]-ae[0]*U.k,ue=L[1]-ae[1]*U.k;return Q===U.x&&ue===U.y?U:new Transform(U.k,Q,ue)}function N(U){return[(+U[0][0]+ +U[1][0])/2,(+U[0][1]+ +U[1][1])/2]}function q(U,L,ae){U.on("start.zoom",function(){F(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){F(this,arguments).end()}).tween("zoom",function(){var Q=this,ue=arguments,_e=F(Q,ue),ke=t.apply(Q,ue),de=ae==null?N(ke):typeof ae=="function"?ae.apply(Q,ue):ae,ce=Math.max(ke[1][0]-ke[0][0],ke[1][1]-ke[0][1]),he=Q.__zoom,Se=typeof L=="function"?L.apply(Q,ue):L,ve=f(he.invert(de).concat(ce/he.k),Se.invert(de).concat(ce/Se.k));return function(me){if(me===1)me=Se;else{var Ce=ve(me),xe=ce/Ce[2];me=new Transform(xe,de[0]-Ce[0]*xe,de[1]-Ce[1]*xe)}_e.zoom(null,me)}})}function F(U,L,ae){return!ae&&U.__zooming||new H(U,L)}function H(U,L){this.that=U,this.args=L,this.active=0,this.extent=t.apply(U,L),this.taps=0}H.prototype={start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(U,L){return this.mouse&&U!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&U!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&U!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(U){customEvent(new ZoomEvent(T,U,this.that.__zoom),d.apply,d,[U,this.that,this.args])}};function V(){if(!e.apply(this,arguments))return;var U=F(this,arguments),L=this.__zoom,ae=Math.max(l[0],Math.min(l[1],L.k*Math.pow(2,n.apply(this,arguments)))),Q=mouse(this);if(U.wheel)(U.mouse[0][0]!==Q[0]||U.mouse[0][1]!==Q[1])&&(U.mouse[1]=L.invert(U.mouse[0]=Q)),clearTimeout(U.wheel);else{if(L.k===ae)return;U.mouse=[Q,L.invert(Q)],interrupt(this),U.start()}noevent(),U.wheel=setTimeout(ue,b),U.zoom("mouse",r(I(R(L,ae),U.mouse[0],U.mouse[1]),U.extent,u));function ue(){U.wheel=null,U.end()}}function z(){if(m||!e.apply(this,arguments))return;var U=F(this,arguments,!0),L=select(event.view).on("mousemove.zoom",_e,!0).on("mouseup.zoom",ke,!0),ae=mouse(this),Q=event.clientX,ue=event.clientY;dragDisable(event.view),nopropagation(),U.mouse=[ae,this.__zoom.invert(ae)],interrupt(this),U.start();function _e(){if(noevent(),!U.moved){var de=event.clientX-Q,ce=event.clientY-ue;U.moved=de*de+ce*ce>v}U.zoom("mouse",r(I(U.that.__zoom,U.mouse[0]=mouse(U.that),U.mouse[1]),U.extent,u))}function ke(){L.on("mousemove.zoom mouseup.zoom",null),yesdrag(event.view,U.moved),noevent(),U.end()}}function G(){if(!!e.apply(this,arguments)){var U=this.__zoom,L=mouse(this),ae=U.invert(L),Q=U.k*(event.shiftKey?.5:2),ue=r(I(R(U,Q),L,ae),t.apply(this,arguments),u);noevent(),h>0?select(this).transition().duration(h).call(q,ue,L):select(this).call(T.transform,ue)}}function P(){if(!!e.apply(this,arguments)){var U=event.touches,L=U.length,ae=F(this,arguments,event.changedTouches.length===L),Q,ue,_e,ke;for(nopropagation(),ue=0;ue<L;++ue)_e=U[ue],ke=touch(this,U,_e.identifier),ke=[ke,this.__zoom.invert(ke),_e.identifier],ae.touch0?!ae.touch1&&ae.touch0[2]!==ke[2]&&(ae.touch1=ke,ae.taps=0):(ae.touch0=ke,Q=!0,ae.taps=1+!!p);p&&(p=clearTimeout(p)),Q&&(ae.taps<2&&(p=setTimeout(function(){p=null},g)),interrupt(this),ae.start())}}function W(){if(!!this.__zooming){var U=F(this,arguments),L=event.changedTouches,ae=L.length,Q,ue,_e,ke;for(noevent(),p&&(p=clearTimeout(p)),U.taps=0,Q=0;Q<ae;++Q)ue=L[Q],_e=touch(this,L,ue.identifier),U.touch0&&U.touch0[2]===ue.identifier?U.touch0[0]=_e:U.touch1&&U.touch1[2]===ue.identifier&&(U.touch1[0]=_e);if(ue=U.that.__zoom,U.touch1){var de=U.touch0[0],ce=U.touch0[1],he=U.touch1[0],Se=U.touch1[1],ve=(ve=he[0]-de[0])*ve+(ve=he[1]-de[1])*ve,me=(me=Se[0]-ce[0])*me+(me=Se[1]-ce[1])*me;ue=R(ue,Math.sqrt(ve/me)),_e=[(de[0]+he[0])/2,(de[1]+he[1])/2],ke=[(ce[0]+Se[0])/2,(ce[1]+Se[1])/2]}else if(U.touch0)_e=U.touch0[0],ke=U.touch0[1];else return;U.zoom("touch",r(I(ue,_e,ke),U.extent,u))}}function S(){if(!!this.__zooming){var U=F(this,arguments),L=event.changedTouches,ae=L.length,Q,ue;for(nopropagation(),m&&clearTimeout(m),m=setTimeout(function(){m=null},g),Q=0;Q<ae;++Q)ue=L[Q],U.touch0&&U.touch0[2]===ue.identifier?delete U.touch0:U.touch1&&U.touch1[2]===ue.identifier&&delete U.touch1;if(U.touch1&&!U.touch0&&(U.touch0=U.touch1,delete U.touch1),U.touch0)U.touch0[1]=this.__zoom.invert(U.touch0[0]);else if(U.end(),U.taps===2){var _e=select(this).on("dblclick.zoom");_e&&_e.apply(this,arguments)}}}return T.wheelDelta=function(U){return arguments.length?(n=typeof U=="function"?U:constant(+U),T):n},T.filter=function(U){return arguments.length?(e=typeof U=="function"?U:constant(!!U),T):e},T.touchable=function(U){return arguments.length?(o=typeof U=="function"?U:constant(!!U),T):o},T.extent=function(U){return arguments.length?(t=typeof U=="function"?U:constant([[+U[0][0],+U[0][1]],[+U[1][0],+U[1][1]]]),T):t},T.scaleExtent=function(U){return arguments.length?(l[0]=+U[0],l[1]=+U[1],T):[l[0],l[1]]},T.translateExtent=function(U){return arguments.length?(u[0][0]=+U[0][0],u[1][0]=+U[1][0],u[0][1]=+U[0][1],u[1][1]=+U[1][1],T):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},T.constrain=function(U){return arguments.length?(r=U,T):r},T.duration=function(U){return arguments.length?(h=+U,T):h},T.interpolate=function(U){return arguments.length?(f=U,T):f},T.on=function(){var U=d.on.apply(d,arguments);return U===d?T:U},T.clickDistance=function(U){return arguments.length?(v=(U=+U)*U,T):Math.sqrt(v)},T}const d3$2=Object.freeze(Object.defineProperty({__proto__:null,version:version$3,bisect:bisectRight,bisectRight,bisectLeft,ascending:ascending$3,bisector,cross:cross$3,descending:descending$2,deviation,extent:extent$1,histogram,thresholdFreedmanDiaconis:freedmanDiaconis,thresholdScott:scott,thresholdSturges,max:max$2,mean,median,merge:merge$1,min:min$1,pairs,permute,quantile:threshold$1,range:sequence,scan,shuffle:shuffle$1,sum:sum$2,ticks,tickIncrement,tickStep,transpose,variance,zip,axisTop,axisRight,axisBottom,axisLeft,brush,brushX,brushY,brushSelection,chord,ribbon,nest,set,map:map$2,keys,values,entries,color,rgb,hsl:hsl$2,lab:lab$1,hcl:hcl$2,lch,gray,cubehelix:cubehelix$3,contours,contourDensity:density,dispatch,drag,dragDisable,dragEnable:yesdrag,dsvFormat,csvParse,csvParseRows,csvFormat,csvFormatBody,csvFormatRows,csvFormatRow,csvFormatValue,tsvParse,tsvParseRows,tsvFormat,tsvFormatBody,tsvFormatRows,tsvFormatRow,tsvFormatValue,autoType,easeLinear:linear$1,easeQuad:quadInOut,easeQuadIn:quadIn,easeQuadOut:quadOut,easeQuadInOut:quadInOut,easeCubic:cubicInOut,easeCubicIn:cubicIn,easeCubicOut:cubicOut,easeCubicInOut:cubicInOut,easePoly:polyInOut,easePolyIn:polyIn,easePolyOut:polyOut,easePolyInOut:polyInOut,easeSin:sinInOut,easeSinIn:sinIn,easeSinOut:sinOut,easeSinInOut:sinInOut,easeExp:expInOut,easeExpIn:expIn,easeExpOut:expOut,easeExpInOut:expInOut,easeCircle:circleInOut,easeCircleIn:circleIn,easeCircleOut:circleOut,easeCircleInOut:circleInOut,easeBounce:bounceOut,easeBounceIn:bounceIn,easeBounceOut:bounceOut,easeBounceInOut:bounceInOut,easeBack:backInOut,easeBackIn:backIn,easeBackOut:backOut,easeBackInOut:backInOut,easeElastic:elasticOut,easeElasticIn:elasticIn,easeElasticOut:elasticOut,easeElasticInOut:elasticInOut,blob,buffer,dsv,csv,tsv,image,json,text,xml,html,svg,forceCenter:center,forceCollide:collide,forceLink:link$2,forceManyBody:manyBody,forceRadial:radial,forceSimulation:simulation,forceX:x$2,forceY:y$2,formatDefaultLocale:defaultLocale$1,get format(){return format$1},get formatPrefix(){return formatPrefix},formatLocale:formatLocale$1,formatSpecifier,FormatSpecifier,precisionFixed,precisionPrefix,precisionRound,geoArea:area$2,geoBounds:bounds$2,geoCentroid:centroid$1,geoCircle:circle$4,geoClipAntimeridian:clipAntimeridian,geoClipCircle:clipCircle,geoClipExtent:extent,geoClipRectangle:clipRectangle,geoContains:contains$1,geoDistance:distance$1,geoGraticule:graticule,geoGraticule10:graticule10,geoInterpolate:interpolate,geoLength:length$1,geoPath:index$2,geoAlbers:albers,geoAlbersUsa:albersUsa,geoAzimuthalEqualArea:azimuthalEqualArea,geoAzimuthalEqualAreaRaw:azimuthalEqualAreaRaw,geoAzimuthalEquidistant:azimuthalEquidistant,geoAzimuthalEquidistantRaw:azimuthalEquidistantRaw,geoConicConformal:conicConformal,geoConicConformalRaw:conicConformalRaw,geoConicEqualArea:conicEqualArea,geoConicEqualAreaRaw:conicEqualAreaRaw,geoConicEquidistant:conicEquidistant,geoConicEquidistantRaw:conicEquidistantRaw,geoEqualEarth:equalEarth,geoEqualEarthRaw:equalEarthRaw,geoEquirectangular:equirectangular,geoEquirectangularRaw:equirectangularRaw,geoGnomonic:gnomonic,geoGnomonicRaw:gnomonicRaw,geoIdentity:identity$4,geoProjection:projection,geoProjectionMutator:projectionMutator,geoMercator:mercator,geoMercatorRaw:mercatorRaw,geoNaturalEarth1:naturalEarth1,geoNaturalEarth1Raw:naturalEarth1Raw,geoOrthographic:orthographic,geoOrthographicRaw:orthographicRaw,geoStereographic:stereographic,geoStereographicRaw:stereographicRaw,geoTransverseMercator:transverseMercator,geoTransverseMercatorRaw:transverseMercatorRaw,geoRotation:rotation,geoStream,geoTransform:transform$1,cluster,hierarchy,pack:index$1,packSiblings:siblings,packEnclose:enclose,partition,stratify,tree,treemap:index,treemapBinary:binary,treemapDice,treemapSlice,treemapSliceDice:sliceDice,treemapSquarify:squarify,treemapResquarify:resquarify,interpolate:interpolateValue,interpolateArray:array$2,interpolateBasis:basis$2,interpolateBasisClosed:basisClosed$1,interpolateDate:date$1,interpolateDiscrete:discrete,interpolateHue:hue,interpolateNumber,interpolateNumberArray:numberArray,interpolateObject:object$1,interpolateRound,interpolateString,interpolateTransformCss,interpolateTransformSvg,interpolateZoom,interpolateRgb,interpolateRgbBasis:rgbBasis,interpolateRgbBasisClosed:rgbBasisClosed,interpolateHsl:hsl$1,interpolateHslLong:hslLong,interpolateLab:lab,interpolateHcl:hcl$1,interpolateHclLong:hclLong,interpolateCubehelix:cubehelix$2,interpolateCubehelixLong:cubehelixLong,piecewise,quantize:quantize$1,path,polygonArea:area$1,polygonCentroid:centroid,polygonHull:hull,polygonContains:contains,polygonLength:length,quadtree,randomUniform:uniform,randomNormal:normal,randomLogNormal:logNormal,randomBates:bates,randomIrwinHall:irwinHall,randomExponential:exponential,scaleBand:band,scalePoint:point$5,scaleIdentity:identity$2,scaleLinear:linear,scaleLog:log$2,scaleSymlog:symlog,scaleOrdinal:ordinal,scaleImplicit:implicit,scalePow:pow,scaleSqrt:sqrt$1,scaleQuantile:quantile,scaleQuantize:quantize,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSequentialQuantile:sequentialQuantile,scaleDiverging:diverging$1,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,tickFormat,schemeCategory10:category10,schemeAccent:Accent,schemeDark2:Dark2,schemePaired:Paired,schemePastel1:Pastel1,schemePastel2:Pastel2,schemeSet1:Set1,schemeSet2:Set2,schemeSet3:Set3,schemeTableau10:Tableau10,interpolateBrBG:BrBG,schemeBrBG:scheme$q,interpolatePRGn:PRGn,schemePRGn:scheme$p,interpolatePiYG:PiYG,schemePiYG:scheme$o,interpolatePuOr:PuOr,schemePuOr:scheme$n,interpolateRdBu:RdBu,schemeRdBu:scheme$m,interpolateRdGy:RdGy,schemeRdGy:scheme$l,interpolateRdYlBu:RdYlBu,schemeRdYlBu:scheme$k,interpolateRdYlGn:RdYlGn,schemeRdYlGn:scheme$j,interpolateSpectral:Spectral,schemeSpectral:scheme$i,interpolateBuGn:BuGn,schemeBuGn:scheme$h,interpolateBuPu:BuPu,schemeBuPu:scheme$g,interpolateGnBu:GnBu,schemeGnBu:scheme$f,interpolateOrRd:OrRd,schemeOrRd:scheme$e,interpolatePuBuGn:PuBuGn,schemePuBuGn:scheme$d,interpolatePuBu:PuBu,schemePuBu:scheme$c,interpolatePuRd:PuRd,schemePuRd:scheme$b,interpolateRdPu:RdPu,schemeRdPu:scheme$a,interpolateYlGnBu:YlGnBu,schemeYlGnBu:scheme$9,interpolateYlGn:YlGn,schemeYlGn:scheme$8,interpolateYlOrBr:YlOrBr,schemeYlOrBr:scheme$7,interpolateYlOrRd:YlOrRd,schemeYlOrRd:scheme$6,interpolateBlues:Blues,schemeBlues:scheme$5,interpolateGreens:Greens,schemeGreens:scheme$4,interpolateGreys:Greys,schemeGreys:scheme$3,interpolatePurples:Purples,schemePurples:scheme$2,interpolateReds:Reds,schemeReds:scheme$1,interpolateOranges:Oranges,schemeOranges:scheme,interpolateCividis:cividis,interpolateCubehelixDefault:cubehelix,interpolateRainbow:rainbow,interpolateWarm:warm,interpolateCool:cool,interpolateSinebow:sinebow,interpolateTurbo:turbo,interpolateViridis:viridis,interpolateMagma:magma,interpolateInferno:inferno,interpolatePlasma:plasma,create:create$1,creator,local:local$1,matcher,mouse,namespace,namespaces,clientPoint:point$6,select,selectAll,selection,selector,selectorAll,style:styleValue,touch,touches,window:defaultView,get event(){return event},customEvent,arc,area,line,pie,areaRadial,radialArea:areaRadial,lineRadial:lineRadial$1,radialLine:lineRadial$1,pointRadial,linkHorizontal,linkVertical,linkRadial,symbol,symbols,symbolCircle:circle$2,symbolCross:cross$1,symbolDiamond:diamond,symbolSquare:square,symbolStar:star,symbolTriangle:triangle,symbolWye:wye,curveBasisClosed:basisClosed,curveBasisOpen:basisOpen,curveBasis:basis,curveBundle:bundle,curveCardinalClosed:cardinalClosed,curveCardinalOpen:cardinalOpen,curveCardinal:cardinal,curveCatmullRomClosed:catmullRomClosed,curveCatmullRomOpen:catmullRomOpen,curveCatmullRom:catmullRom,curveLinearClosed:linearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural:natural,curveStep:step,curveStepAfter:stepAfter,curveStepBefore:stepBefore,stack,stackOffsetExpand:expand,stackOffsetDiverging:diverging,stackOffsetNone:none$1,stackOffsetSilhouette:silhouette,stackOffsetWiggle:wiggle,stackOrderAppearance:appearance,stackOrderAscending:ascending,stackOrderDescending:descending,stackOrderInsideOut:insideOut,stackOrderNone:none,stackOrderReverse:reverse,timeInterval:newInterval,timeMillisecond:utcMillisecond,timeMilliseconds:milliseconds,utcMillisecond,utcMilliseconds:milliseconds,timeSecond:utcSecond,timeSeconds:seconds,utcSecond,utcSeconds:seconds,timeMinute,timeMinutes:minutes,timeHour,timeHours:hours,timeDay,timeDays:days,timeWeek:sunday,timeWeeks:sundays,timeSunday:sunday,timeSundays:sundays,timeMonday:monday,timeMondays:mondays,timeTuesday:tuesday,timeTuesdays:tuesdays,timeWednesday:wednesday,timeWednesdays:wednesdays,timeThursday:thursday,timeThursdays:thursdays,timeFriday:friday,timeFridays:fridays,timeSaturday:saturday,timeSaturdays:saturdays,timeMonth,timeMonths:months,timeYear,timeYears:years,utcMinute:utcMinute$1,utcMinutes,utcHour:utcHour$1,utcHours,utcDay:utcDay$1,utcDays,utcWeek:utcSunday,utcWeeks:utcSundays,utcSunday,utcSundays,utcMonday,utcMondays,utcTuesday,utcTuesdays,utcWednesday,utcWednesdays,utcThursday,utcThursdays,utcFriday,utcFridays,utcSaturday,utcSaturdays,utcMonth:utcMonth$1,utcMonths,utcYear:utcYear$1,utcYears,timeFormatDefaultLocale:defaultLocale,get timeFormat(){return timeFormat},get timeParse(){return timeParse},get utcFormat(){return utcFormat},get utcParse(){return utcParse},timeFormatLocale:formatLocale,isoFormat:formatIso$1,isoParse:parseIso$1,now,timer,timerFlush,timeout,interval,transition,active,interrupt,voronoi,zoom,zoomTransform:transform,zoomIdentity:identity},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(d3$2);var d3$1;if(!d3$1&&typeof commonjsRequire$1=="function")try{d3$1=require$$0}catch{}d3$1||(d3$1=window.d3);var d3_1=d3$1,_$2=lodash_1$1,util$2={isSubgraph:isSubgraph$1,edgeToId:edgeToId$1,applyStyle:applyStyle$2,applyClass:applyClass$1,applyTransition:applyTransition$1};function isSubgraph$1(e,t){return!!e.children(t).length}function edgeToId$1(e){return escapeId$1(e.v)+":"+escapeId$1(e.w)+":"+escapeId$1(e.name)}var ID_DELIM$1=/:/g;function escapeId$1(e){return e?String(e).replace(ID_DELIM$1,"\\:"):""}function applyStyle$2(e,t){t&&e.attr("style",t)}function applyClass$1(e,t,r){t&&e.attr("class",t).attr("class",r+" "+e.attr("class"))}function applyTransition$1(e,t){var r=t.graph();if(_$2.isPlainObject(r)){var n=r.transition;if(_$2.isFunction(n))return n(e)}return e}var addTextLabel_1,hasRequiredAddTextLabel;function requireAddTextLabel(){if(hasRequiredAddTextLabel)return addTextLabel_1;hasRequiredAddTextLabel=1;var e=util$2;addTextLabel_1=t;function t(n,o){for(var l=n.append("text"),u=r(o.label).split(`
`),h=0;h<u.length;h++)l.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(u[h]);return e.applyStyle(l,o.labelStyle),l}function r(n){for(var o="",l=!1,u,h=0;h<n.length;++h)if(u=n[h],l){switch(u){case"n":o+=`
`;break;default:o+=u}l=!1}else u==="\\"?l=!0:o+=u;return o}return addTextLabel_1}var addHtmlLabel_1$1,hasRequiredAddHtmlLabel;function requireAddHtmlLabel(){if(hasRequiredAddHtmlLabel)return addHtmlLabel_1$1;hasRequiredAddHtmlLabel=1;var e=util$2;addHtmlLabel_1$1=t;function t(r,n){var o=r.append("foreignObject").attr("width","100000"),l=o.append("xhtml:div");l.attr("xmlns","http://www.w3.org/1999/xhtml");var u=n.label;switch(typeof u){case"function":l.insert(u);break;case"object":l.insert(function(){return u});break;default:l.html(u)}e.applyStyle(l,n.labelStyle),l.style("display","inline-block"),l.style("white-space","nowrap");var h=l.node().getBoundingClientRect();return o.attr("width",h.width).attr("height",h.height),o}return addHtmlLabel_1$1}var addSvgLabel,hasRequiredAddSvgLabel;function requireAddSvgLabel(){if(hasRequiredAddSvgLabel)return addSvgLabel;hasRequiredAddSvgLabel=1;var e=util$2;addSvgLabel=t;function t(r,n){var o=r;return o.node().appendChild(n.label),e.applyStyle(o,n.labelStyle),o}return addSvgLabel}var addLabel_1,hasRequiredAddLabel;function requireAddLabel(){if(hasRequiredAddLabel)return addLabel_1;hasRequiredAddLabel=1;var e=requireAddTextLabel(),t=requireAddHtmlLabel(),r=requireAddSvgLabel();addLabel_1=n;function n(o,l,u){var h=l.label,f=o.append("g");l.labelType==="svg"?r(f,l):typeof h!="string"||l.labelType==="html"?t(f,l):e(f,l);var d=f.node().getBBox(),p;switch(u){case"top":p=-l.height/2;break;case"bottom":p=l.height/2-d.height;break;default:p=-d.height/2}return f.attr("transform","translate("+-d.width/2+","+p+")"),f}return addLabel_1}var createNodes_1,hasRequiredCreateNodes;function requireCreateNodes(){if(hasRequiredCreateNodes)return createNodes_1;hasRequiredCreateNodes=1;var e=lodash_1$1,t=requireAddLabel(),r=util$2,n=d3_1;createNodes_1=o;function o(l,u,h){var f=u.nodes().filter(function(m){return!r.isSubgraph(u,m)}),d=l.selectAll("g.node").data(f,function(m){return m}).classed("update",!0);d.exit().remove(),d.enter().append("g").attr("class","node").style("opacity",0),d=l.selectAll("g.node"),d.each(function(m){var g=u.node(m),b=n.select(this);r.applyClass(b,g.class,(b.classed("update")?"update ":"")+"node"),b.select("g.label").remove();var v=b.append("g").attr("class","label"),T=t(v,g),R=h[g.shape],I=e.pick(T.node().getBBox(),"width","height");g.elem=this,g.id&&b.attr("id",g.id),g.labelId&&v.attr("id",g.labelId),e.has(g,"width")&&(I.width=g.width),e.has(g,"height")&&(I.height=g.height),I.width+=g.paddingLeft+g.paddingRight,I.height+=g.paddingTop+g.paddingBottom,v.attr("transform","translate("+(g.paddingLeft-g.paddingRight)/2+","+(g.paddingTop-g.paddingBottom)/2+")");var N=n.select(this);N.select(".label-container").remove();var q=R(N,I,g).classed("label-container",!0);r.applyStyle(q,g.style);var F=q.node().getBBox();g.width=F.width,g.height=F.height});var p;return d.exit?p=d.exit():p=d.selectAll(null),r.applyTransition(p,u).style("opacity",0).remove(),d}return createNodes_1}var createClusters_1,hasRequiredCreateClusters;function requireCreateClusters(){if(hasRequiredCreateClusters)return createClusters_1;hasRequiredCreateClusters=1;var e=util$2,t=d3_1,r=requireAddLabel();createClusters_1=n;function n(o,l){var u=l.nodes().filter(function(d){return e.isSubgraph(l,d)}),h=o.selectAll("g.cluster").data(u,function(d){return d});h.selectAll("*").remove(),h.enter().append("g").attr("class","cluster").attr("id",function(d){var p=l.node(d);return p.id}).style("opacity",0),h=o.selectAll("g.cluster"),e.applyTransition(h,l).style("opacity",1),h.each(function(d){var p=l.node(d),m=t.select(this);t.select(this).append("rect");var g=m.append("g").attr("class","label");r(g,p,p.clusterLabelPos)}),h.selectAll("rect").each(function(d){var p=l.node(d),m=t.select(this);e.applyStyle(m,p.style)});var f;return h.exit?f=h.exit():f=h.selectAll(null),e.applyTransition(f,l).style("opacity",0).remove(),h}return createClusters_1}var createEdgeLabels_1,hasRequiredCreateEdgeLabels;function requireCreateEdgeLabels(){if(hasRequiredCreateEdgeLabels)return createEdgeLabels_1;hasRequiredCreateEdgeLabels=1;var e=lodash_1$1,t=requireAddLabel(),r=util$2,n=d3_1;createEdgeLabels_1=o;function o(l,u){var h=l.selectAll("g.edgeLabel").data(u.edges(),function(d){return r.edgeToId(d)}).classed("update",!0);h.exit().remove(),h.enter().append("g").classed("edgeLabel",!0).style("opacity",0),h=l.selectAll("g.edgeLabel"),h.each(function(d){var p=n.select(this);p.select(".label").remove();var m=u.edge(d),g=t(p,u.edge(d),0,0).classed("label",!0),b=g.node().getBBox();m.labelId&&g.attr("id",m.labelId),e.has(m,"width")||(m.width=b.width),e.has(m,"height")||(m.height=b.height)});var f;return h.exit?f=h.exit():f=h.selectAll(null),r.applyTransition(f,u).style("opacity",0).remove(),h}return createEdgeLabels_1}var createEdgePaths_1,hasRequiredCreateEdgePaths;function requireCreateEdgePaths(){if(hasRequiredCreateEdgePaths)return createEdgePaths_1;hasRequiredCreateEdgePaths=1;var e=lodash_1$1,t=intersectNode_1,r=util$2,n=d3_1;createEdgePaths_1=o;function o(m,g,b){var v=m.selectAll("g.edgePath").data(g.edges(),function(I){return r.edgeToId(I)}).classed("update",!0),T=d(v,g);p(v,g);var R=v.merge!==void 0?v.merge(T):v;return r.applyTransition(R,g).style("opacity",1),R.each(function(I){var N=n.select(this),q=g.edge(I);q.elem=this,q.id&&N.attr("id",q.id),r.applyClass(N,q.class,(N.classed("update")?"update ":"")+"edgePath")}),R.selectAll("path.path").each(function(I){var N=g.edge(I);N.arrowheadId=e.uniqueId("arrowhead");var q=n.select(this).attr("marker-end",function(){return"url("+l(location.href,N.arrowheadId)+")"}).style("fill","none");r.applyTransition(q,g).attr("d",function(F){return u(g,F)}),r.applyStyle(q,N.style)}),R.selectAll("defs *").remove(),R.selectAll("defs").each(function(I){var N=g.edge(I),q=b[N.arrowhead];q(n.select(this),N.arrowheadId,N,"arrowhead")}),R}function l(m,g){var b=m.split("#")[0];return b+"#"+g}function u(m,g){var b=m.edge(g),v=m.node(g.v),T=m.node(g.w),R=b.points.slice(1,b.points.length-1);return R.unshift(t(v,R[0])),R.push(t(T,R[R.length-1])),h(b,R)}function h(m,g){var b=(n.line||n.svg.line)().x(function(v){return v.x}).y(function(v){return v.y});return(b.curve||b.interpolate)(m.curve),b(g)}function f(m){var g=m.getBBox(),b=m.ownerSVGElement.getScreenCTM().inverse().multiply(m.getScreenCTM()).translate(g.width/2,g.height/2);return{x:b.e,y:b.f}}function d(m,g){var b=m.enter().append("g").attr("class","edgePath").style("opacity",0);return b.append("path").attr("class","path").attr("d",function(v){var T=g.edge(v),R=g.node(v.v).elem,I=e.range(T.points.length).map(function(){return f(R)});return h(T,I)}),b.append("defs"),b}function p(m,g){var b=m.exit();r.applyTransition(b,g).style("opacity",0).remove()}return createEdgePaths_1}var positionNodes_1,hasRequiredPositionNodes;function requirePositionNodes(){if(hasRequiredPositionNodes)return positionNodes_1;hasRequiredPositionNodes=1;var e=util$2,t=d3_1;positionNodes_1=r;function r(n,o){var l=n.filter(function(){return!t.select(this).classed("update")});function u(h){var f=o.node(h);return"translate("+f.x+","+f.y+")"}l.attr("transform",u),e.applyTransition(n,o).style("opacity",1).attr("transform",u)}return positionNodes_1}var positionEdgeLabels_1,hasRequiredPositionEdgeLabels;function requirePositionEdgeLabels(){if(hasRequiredPositionEdgeLabels)return positionEdgeLabels_1;hasRequiredPositionEdgeLabels=1;var e=util$2,t=d3_1,r=lodash_1$1;positionEdgeLabels_1=n;function n(o,l){var u=o.filter(function(){return!t.select(this).classed("update")});function h(f){var d=l.edge(f);return r.has(d,"x")?"translate("+d.x+","+d.y+")":""}u.attr("transform",h),e.applyTransition(o,l).style("opacity",1).attr("transform",h)}return positionEdgeLabels_1}var positionClusters_1,hasRequiredPositionClusters;function requirePositionClusters(){if(hasRequiredPositionClusters)return positionClusters_1;hasRequiredPositionClusters=1;var e=util$2,t=d3_1;positionClusters_1=r;function r(n,o){var l=n.filter(function(){return!t.select(this).classed("update")});function u(h){var f=o.node(h);return"translate("+f.x+","+f.y+")"}l.attr("transform",u),e.applyTransition(n,o).style("opacity",1).attr("transform",u),e.applyTransition(l.selectAll("rect"),o).attr("width",function(h){return o.node(h).width}).attr("height",function(h){return o.node(h).height}).attr("x",function(h){var f=o.node(h);return-f.width/2}).attr("y",function(h){var f=o.node(h);return-f.height/2})}return positionClusters_1}var shapes$2,hasRequiredShapes;function requireShapes(){if(hasRequiredShapes)return shapes$2;hasRequiredShapes=1;var e=intersectRect_1,t=intersectEllipse_1,r=intersectCircle_1,n=intersectPolygon_1;shapes$2={rect:o,ellipse:l,circle:u,diamond:h};function o(f,d,p){var m=f.insert("rect",":first-child").attr("rx",p.rx).attr("ry",p.ry).attr("x",-d.width/2).attr("y",-d.height/2).attr("width",d.width).attr("height",d.height);return p.intersect=function(g){return e(p,g)},m}function l(f,d,p){var m=d.width/2,g=d.height/2,b=f.insert("ellipse",":first-child").attr("x",-d.width/2).attr("y",-d.height/2).attr("rx",m).attr("ry",g);return p.intersect=function(v){return t(p,m,g,v)},b}function u(f,d,p){var m=Math.max(d.width,d.height)/2,g=f.insert("circle",":first-child").attr("x",-d.width/2).attr("y",-d.height/2).attr("r",m);return p.intersect=function(b){return r(p,m,b)},g}function h(f,d,p){var m=d.width*Math.SQRT2/2,g=d.height*Math.SQRT2/2,b=[{x:0,y:-g},{x:-m,y:0},{x:0,y:g},{x:m,y:0}],v=f.insert("polygon",":first-child").attr("points",b.map(function(T){return T.x+","+T.y}).join(" "));return p.intersect=function(T){return n(p,b,T)},v}return shapes$2}var arrows,hasRequiredArrows;function requireArrows(){if(hasRequiredArrows)return arrows;hasRequiredArrows=1;var e=util$2;arrows={default:t,normal:t,vee:r,undirected:n};function t(o,l,u,h){var f=o.append("marker").attr("id",l).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),d=f.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");e.applyStyle(d,u[h+"Style"]),u[h+"Class"]&&d.attr("class",u[h+"Class"])}function r(o,l,u,h){var f=o.append("marker").attr("id",l).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),d=f.append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");e.applyStyle(d,u[h+"Style"]),u[h+"Class"]&&d.attr("class",u[h+"Class"])}function n(o,l,u,h){var f=o.append("marker").attr("id",l).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),d=f.append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");e.applyStyle(d,u[h+"Style"]),u[h+"Class"]&&d.attr("class",u[h+"Class"])}return arrows}var _$1=lodash_1$1,d3=d3_1,layout=dagre_1.layout,render_1=render$3;function render$3(){var e=requireCreateNodes(),t=requireCreateClusters(),r=requireCreateEdgeLabels(),n=requireCreateEdgePaths(),o=requirePositionNodes(),l=requirePositionEdgeLabels(),u=requirePositionClusters(),h=requireShapes(),f=requireArrows(),d=function(p,m){preProcessGraph(m);var g=createOrSelectGroup(p,"output"),b=createOrSelectGroup(g,"clusters"),v=createOrSelectGroup(g,"edgePaths"),T=r(createOrSelectGroup(g,"edgeLabels"),m),R=e(createOrSelectGroup(g,"nodes"),m,h);layout(m),o(R,m),l(T,m),n(v,m,f);var I=t(b,m);u(I,m),postProcessGraph(m)};return d.createNodes=function(p){return arguments.length?(e=p,d):e},d.createClusters=function(p){return arguments.length?(t=p,d):t},d.createEdgeLabels=function(p){return arguments.length?(r=p,d):r},d.createEdgePaths=function(p){return arguments.length?(n=p,d):n},d.shapes=function(p){return arguments.length?(h=p,d):h},d.arrows=function(p){return arguments.length?(f=p,d):f},d}var NODE_DEFAULT_ATTRS={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},EDGE_DEFAULT_ATTRS={arrowhead:"normal",curve:d3.curveLinear};function preProcessGraph(e){e.nodes().forEach(function(t){var r=e.node(t);!_$1.has(r,"label")&&!e.children(t).length&&(r.label=t),_$1.has(r,"paddingX")&&_$1.defaults(r,{paddingLeft:r.paddingX,paddingRight:r.paddingX}),_$1.has(r,"paddingY")&&_$1.defaults(r,{paddingTop:r.paddingY,paddingBottom:r.paddingY}),_$1.has(r,"padding")&&_$1.defaults(r,{paddingLeft:r.padding,paddingRight:r.padding,paddingTop:r.padding,paddingBottom:r.padding}),_$1.defaults(r,NODE_DEFAULT_ATTRS),_$1.each(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(n){r[n]=Number(r[n])}),_$1.has(r,"width")&&(r._prevWidth=r.width),_$1.has(r,"height")&&(r._prevHeight=r.height)}),e.edges().forEach(function(t){var r=e.edge(t);_$1.has(r,"label")||(r.label=""),_$1.defaults(r,EDGE_DEFAULT_ATTRS)})}function postProcessGraph(e){_$1.each(e.nodes(),function(t){var r=e.node(t);_$1.has(r,"_prevWidth")?r.width=r._prevWidth:delete r.width,_$1.has(r,"_prevHeight")?r.height=r._prevHeight:delete r.height,delete r._prevWidth,delete r._prevHeight})}function createOrSelectGroup(e,t){var r=e.select("g."+t);return r.empty()&&(r=e.append("g").attr("class",t)),r}var version$2="0.6.4";/**
 * @license
 * Copyright (c) 2012-2013 Chris Pettitt
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var dagreD3={graphlib:graphlib_1,dagre:dagre_1,intersect:intersect$2,render:render_1,util:util$2,version:version$2},__defProp=Object.defineProperty,__defNormalProp=(e,t,r)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__publicField=(e,t,r)=>(__defNormalProp(e,typeof t!="symbol"?t+"":t,r),r);const LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},log$1={trace:(...e)=>{},debug:(...e)=>{},info:(...e)=>{},warn:(...e)=>{},error:(...e)=>{},fatal:(...e)=>{}},setLogLevel$1=function(e="fatal"){let t=LEVELS.fatal;typeof e=="string"?(e=e.toLowerCase(),e in LEVELS&&(t=LEVELS[e])):typeof e=="number"&&(t=e),log$1.trace=()=>{},log$1.debug=()=>{},log$1.info=()=>{},log$1.warn=()=>{},log$1.error=()=>{},log$1.fatal=()=>{},t<=LEVELS.fatal&&(log$1.fatal=console.error?console.error.bind(console,format("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",format("FATAL"))),t<=LEVELS.error&&(log$1.error=console.error?console.error.bind(console,format("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",format("ERROR"))),t<=LEVELS.warn&&(log$1.warn=console.warn?console.warn.bind(console,format("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",format("WARN"))),t<=LEVELS.info&&(log$1.info=console.info?console.info.bind(console,format("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",format("INFO"))),t<=LEVELS.debug&&(log$1.debug=console.debug?console.debug.bind(console,format("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format("DEBUG"))),t<=LEVELS.trace&&(log$1.trace=console.debug?console.debug.bind(console,format("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format("TRACE")))},format=e=>`%c${moment().format("ss.SSS")} : ${e} : `,getRows=e=>e?breakToPlaceholder(e).replace(/\\n/g,"#br#").split("#br#"):[""],removeScript=e=>purify.sanitize(e),sanitizeMore=(e,t)=>{var r;if(((r=t.flowchart)==null?void 0:r.htmlLabels)!==!1){const n=t.securityLevel;n==="antiscript"||n==="strict"?e=removeScript(e):n!=="loose"&&(e=breakToPlaceholder(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=placeholderToBreak(e))}return e},sanitizeText$5=(e,t)=>e&&(t.dompurifyConfig?e=purify.sanitize(sanitizeMore(e,t),t.dompurifyConfig).toString():e=purify.sanitize(sanitizeMore(e,t)),e),sanitizeTextOrArray=(e,t)=>typeof e=="string"?sanitizeText$5(e,t):e.flat().map(r=>sanitizeText$5(r,t)),lineBreakRegex=/<br\s*\/?>/gi,hasBreaks=e=>lineBreakRegex.test(e),splitBreaks=e=>e.split(lineBreakRegex),placeholderToBreak=e=>e.replace(/#br#/g,"<br/>"),breakToPlaceholder=e=>e.replace(lineBreakRegex,"#br#"),getUrl=e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=t.replaceAll(/\(/g,"\\("),t=t.replaceAll(/\)/g,"\\)")),t},evaluate=e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),parseGenericTypes=function(e){let t=e;return e.indexOf("~")!==-1?(t=t.replace(/~([^~].*)/,"<$1"),t=t.replace(/~([^~]*)$/,">$1"),parseGenericTypes(t)):t},common={getRows,sanitizeText:sanitizeText$5,sanitizeTextOrArray,hasBreaks,splitBreaks,lineBreakRegex,removeScript,getUrl,evaluate},mkBorder=(e,t)=>t?adjust$2(e,{s:-40,l:10}):adjust$2(e,{s:-40,l:-10}),oldAttributeBackgroundColorOdd="#ffffff",oldAttributeBackgroundColorEven="#f2f2f2";class Theme$4{constructor(){this.background="#f4f4f4",this.darkMode=!1,this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||adjust$2(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||adjust$2(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||mkBorder(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||mkBorder(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||invert$1(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||invert$1(this.tertiaryColor),this.lineColor=this.lineColor||invert$1(this.background),this.textColor=this.textColor||this.primaryTextColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?darken$1(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||darken$1(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||invert$1(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||lighten$1(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust$2(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust$2(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust$2(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust$2(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust$2(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust$2(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||adjust$2(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust$2(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust$2(this.primaryColor,{h:330}),this.darkMode)for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=darken$1(this["cScale"+t],75);else for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=darken$1(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||invert$1(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||lighten$1(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||darken$1(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||adjust$2(this.primaryColor,{h:64}),this.fillType3=this.fillType3||adjust$2(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||adjust$2(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||adjust$2(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||adjust$2(this.primaryColor,{h:128}),this.fillType7=this.fillType7||adjust$2(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust$2(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust$2(this.secondaryColor,{l:-10}),this.pie6=this.pie6||adjust$2(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||adjust$2(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust$2(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust$2(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust$2(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||adjust$2(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||adjust$2(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken$1(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust$2(this.primaryColor,{h:-30}),this.git4=this.git4||adjust$2(this.primaryColor,{h:-60}),this.git5=this.git5||adjust$2(this.primaryColor,{h:-90}),this.git6=this.git6||adjust$2(this.primaryColor,{h:60}),this.git7=this.git7||adjust$2(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten$1(this.git0,25),this.git1=lighten$1(this.git1,25),this.git2=lighten$1(this.git2,25),this.git3=lighten$1(this.git3,25),this.git4=lighten$1(this.git4,25),this.git5=lighten$1(this.git5,25),this.git6=lighten$1(this.git6,25),this.git7=lighten$1(this.git7,25)):(this.git0=darken$1(this.git0,25),this.git1=darken$1(this.git1,25),this.git2=darken$1(this.git2,25),this.git3=darken$1(this.git3,25),this.git4=darken$1(this.git4,25),this.git5=darken$1(this.git5,25),this.git6=darken$1(this.git6,25),this.git7=darken$1(this.git7,25)),this.gitInv0=this.gitInv0||invert$1(this.git0),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}}const getThemeVariables$4=e=>{const t=new Theme$4;return t.calculate(e),t};class Theme$3{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=lighten$1(this.primaryColor,16),this.tertiaryColor=adjust$2(this.primaryColor,{h:-160}),this.primaryBorderColor=invert$1(this.background),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert$1(this.primaryColor),this.secondaryTextColor=invert$1(this.secondaryColor),this.tertiaryTextColor=invert$1(this.tertiaryColor),this.lineColor=invert$1(this.background),this.textColor=invert$1(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=lighten$1(invert$1("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=rgba$2(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=darken$1("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.taskBorderColor=rgba$2(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=rgba$2(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=lighten$1(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=lighten$1(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=lighten$1(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust$2(this.primaryColor,{h:64}),this.fillType3=adjust$2(this.secondaryColor,{h:64}),this.fillType4=adjust$2(this.primaryColor,{h:-64}),this.fillType5=adjust$2(this.secondaryColor,{h:-64}),this.fillType6=adjust$2(this.primaryColor,{h:128}),this.fillType7=adjust$2(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust$2(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust$2(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust$2(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust$2(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust$2(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust$2(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust$2(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust$2(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust$2(this.primaryColor,{h:330});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||invert$1(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScalePeer"+t]=this["cScalePeer"+t]||lighten$1(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken$1(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=lighten$1(this.secondaryColor,20),this.git1=lighten$1(this.pie2||this.secondaryColor,20),this.git2=lighten$1(this.pie3||this.tertiaryColor,20),this.git3=lighten$1(this.pie4||adjust$2(this.primaryColor,{h:-30}),20),this.git4=lighten$1(this.pie5||adjust$2(this.primaryColor,{h:-60}),20),this.git5=lighten$1(this.pie6||adjust$2(this.primaryColor,{h:-90}),10),this.git6=lighten$1(this.pie7||adjust$2(this.primaryColor,{h:60}),10),this.git7=lighten$1(this.pie8||adjust$2(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||invert$1(this.git0),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||lighten$1(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||lighten$1(this.background,2)}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}}const getThemeVariables$3=e=>{const t=new Theme$3;return t.calculate(e),t};class Theme$2{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=adjust$2(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=adjust$2(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert$1(this.primaryColor),this.secondaryTextColor=invert$1(this.secondaryColor),this.tertiaryTextColor=invert$1(this.tertiaryColor),this.lineColor=invert$1(this.background),this.textColor=invert$1(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=rgba$2(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust$2(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust$2(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust$2(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust$2(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust$2(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust$2(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust$2(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust$2(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust$2(this.primaryColor,{h:330}),this["cScalePeer"+1]=this["cScalePeer"+1]||darken$1(this.secondaryColor,45),this["cScalePeer"+2]=this["cScalePeer"+2]||darken$1(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=darken$1(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||darken$1(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||adjust$2(this["cScale"+t],{h:180});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||invert$1(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||invert$1(this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=lighten$1(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust$2(this.primaryColor,{h:64}),this.fillType3=adjust$2(this.secondaryColor,{h:64}),this.fillType4=adjust$2(this.primaryColor,{h:-64}),this.fillType5=adjust$2(this.secondaryColor,{h:-64}),this.fillType6=adjust$2(this.primaryColor,{h:128}),this.fillType7=adjust$2(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||adjust$2(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||adjust$2(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust$2(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust$2(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||adjust$2(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||adjust$2(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||adjust$2(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||adjust$2(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||adjust$2(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||adjust$2(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust$2(this.primaryColor,{h:-30}),this.git4=this.git4||adjust$2(this.primaryColor,{h:-60}),this.git5=this.git5||adjust$2(this.primaryColor,{h:-90}),this.git6=this.git6||adjust$2(this.primaryColor,{h:60}),this.git7=this.git7||adjust$2(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten$1(this.git0,25),this.git1=lighten$1(this.git1,25),this.git2=lighten$1(this.git2,25),this.git3=lighten$1(this.git3,25),this.git4=lighten$1(this.git4,25),this.git5=lighten$1(this.git5,25),this.git6=lighten$1(this.git6,25),this.git7=lighten$1(this.git7,25)):(this.git0=darken$1(this.git0,25),this.git1=darken$1(this.git1,25),this.git2=darken$1(this.git2,25),this.git3=darken$1(this.git3,25),this.git4=darken$1(this.git4,25),this.git5=darken$1(this.git5,25),this.git6=darken$1(this.git6,25),this.git7=darken$1(this.git7,25)),this.gitInv0=this.gitInv0||darken$1(invert$1(this.git0),25),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert$1(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert$1(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}}const getThemeVariables$2=e=>{const t=new Theme$2;return t.calculate(e),t};class Theme$1{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=lighten$1("#cde498",10),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert$1(this.primaryColor),this.secondaryTextColor=invert$1(this.secondaryColor),this.tertiaryTextColor=invert$1(this.primaryColor),this.lineColor=invert$1(this.background),this.textColor=invert$1(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust$2(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust$2(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust$2(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust$2(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust$2(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust$2(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust$2(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust$2(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust$2(this.primaryColor,{h:330}),this["cScalePeer"+1]=this["cScalePeer"+1]||darken$1(this.secondaryColor,45),this["cScalePeer"+2]=this["cScalePeer"+2]||darken$1(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=darken$1(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||darken$1(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||adjust$2(this["cScale"+t],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.actorBorder=darken$1(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust$2(this.primaryColor,{h:64}),this.fillType3=adjust$2(this.secondaryColor,{h:64}),this.fillType4=adjust$2(this.primaryColor,{h:-64}),this.fillType5=adjust$2(this.secondaryColor,{h:-64}),this.fillType6=adjust$2(this.primaryColor,{h:128}),this.fillType7=adjust$2(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust$2(this.primaryColor,{l:-30}),this.pie5=this.pie5||adjust$2(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust$2(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||adjust$2(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust$2(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust$2(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust$2(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||adjust$2(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||adjust$2(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust$2(this.primaryColor,{h:-30}),this.git4=this.git4||adjust$2(this.primaryColor,{h:-60}),this.git5=this.git5||adjust$2(this.primaryColor,{h:-90}),this.git6=this.git6||adjust$2(this.primaryColor,{h:60}),this.git7=this.git7||adjust$2(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten$1(this.git0,25),this.git1=lighten$1(this.git1,25),this.git2=lighten$1(this.git2,25),this.git3=lighten$1(this.git3,25),this.git4=lighten$1(this.git4,25),this.git5=lighten$1(this.git5,25),this.git6=lighten$1(this.git6,25),this.git7=lighten$1(this.git7,25)):(this.git0=darken$1(this.git0,25),this.git1=darken$1(this.git1,25),this.git2=darken$1(this.git2,25),this.git3=darken$1(this.git3,25),this.git4=darken$1(this.git4,25),this.git5=darken$1(this.git5,25),this.git6=darken$1(this.git6,25),this.git7=darken$1(this.git7,25)),this.gitInv0=this.gitInv0||invert$1(this.git0),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}}const getThemeVariables$1=e=>{const t=new Theme$1;return t.calculate(e),t};class Theme{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=lighten$1(this.contrast,55),this.background="#ffffff",this.tertiaryColor=adjust$2(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert$1(this.primaryColor),this.secondaryTextColor=invert$1(this.secondaryColor),this.tertiaryTextColor=invert$1(this.tertiaryColor),this.lineColor=invert$1(this.background),this.textColor=invert$1(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=lighten$1(this.contrast,55),this.border2=this.contrast,this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||invert$1(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||lighten$1(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||darken$1(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.actorBorder=lighten$1(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.sectionBkgColor=lighten$1(this.contrast,30),this.sectionBkgColor2=lighten$1(this.contrast,30),this.taskBorderColor=darken$1(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=lighten$1(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=darken$1(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust$2(this.primaryColor,{h:64}),this.fillType3=adjust$2(this.secondaryColor,{h:64}),this.fillType4=adjust$2(this.primaryColor,{h:-64}),this.fillType5=adjust$2(this.secondaryColor,{h:-64}),this.fillType6=adjust$2(this.primaryColor,{h:128}),this.fillType7=adjust$2(this.secondaryColor,{h:128});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=darken$1(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||adjust$2(this.primaryColor,{h:-30}),this.git4=this.pie5||adjust$2(this.primaryColor,{h:-60}),this.git5=this.pie6||adjust$2(this.primaryColor,{h:-90}),this.git6=this.pie7||adjust$2(this.primaryColor,{h:60}),this.git7=this.pie8||adjust$2(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||invert$1(this.git0),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}}const getThemeVariables=e=>{const t=new Theme;return t.calculate(e),t},theme={base:{getThemeVariables:getThemeVariables$4},dark:{getThemeVariables:getThemeVariables$3},default:{getThemeVariables:getThemeVariables$2},forest:{getThemeVariables:getThemeVariables$1},neutral:{getThemeVariables}},config$1={theme:"default",themeVariables:theme.default.getThemeVariables(),themeCSS:void 0,maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,deterministicIDSeed:void 0,flowchart:{diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},sequence:{hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",useMaxWidth:!0,topAxis:!1,useWidth:void 0},journey:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},state:{dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},er:{diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12,useMaxWidth:!0},pie:{useWidth:void 0,useMaxWidth:!0},requirement:{useWidth:void 0,useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},gitGraph:{diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0},c4:{useWidth:void 0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,useMaxWidth:!0,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},fontSize:16};config$1.class&&(config$1.class.arrowMarkerAbsolute=config$1.arrowMarkerAbsolute);config$1.gitGraph&&(config$1.gitGraph.arrowMarkerAbsolute=config$1.arrowMarkerAbsolute);const keyify=(e,t="")=>Object.keys(e).reduce((r,n)=>Array.isArray(e[n])?r:typeof e[n]=="object"&&e[n]!==null?[...r,t+n,...keyify(e[n],"")]:[...r,t+n],[]),configKeys=keyify(config$1,""),directive$1=/[%]{2}[{]\s*(?:(?:(\w+)\s*:|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,anyComment=/\s*%%.*\n/gm,detectors={},detectType=function(e,t){e=e.replace(directive$1,"").replace(anyComment,`
`);for(const[r,{detector:n}]of Object.entries(detectors))if(n(e,t))return r;throw new Error(`No diagram type detected for text: ${e}`)},addDetector=(e,t,r)=>{if(detectors[e])throw new Error(`Detector with key ${e} already exists`);detectors[e]={detector:t,loader:r},log$1.debug(`Detector with key ${e} added${r?" with loader":""}`)},getDiagramLoader=e=>detectors[e].loader,assignWithDepth=function(e,t,r){const{depth:n,clobber:o}=Object.assign({depth:2,clobber:!1},r);return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(l=>assignWithDepth(e,l,r)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(l=>{e.indexOf(l)===-1&&e.push(l)}),e):typeof e>"u"||n<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(typeof t<"u"&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(l=>{typeof t[l]=="object"&&(e[l]===void 0||typeof e[l]=="object")?(e[l]===void 0&&(e[l]=Array.isArray(t[l])?[]:{}),e[l]=assignWithDepth(e[l],t[l],{depth:n-1,clobber:o})):(o||typeof e[l]!="object"&&typeof t[l]!="object")&&(e[l]=t[l])}),e)};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_freeGlobal,hasRequired_freeGlobal;function require_freeGlobal(){if(hasRequired_freeGlobal)return _freeGlobal;hasRequired_freeGlobal=1;var e=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal;return _freeGlobal=e,_freeGlobal}var _root,hasRequired_root;function require_root(){if(hasRequired_root)return _root;hasRequired_root=1;var e=require_freeGlobal(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return _root=r,_root}var _Symbol,hasRequired_Symbol;function require_Symbol(){if(hasRequired_Symbol)return _Symbol;hasRequired_Symbol=1;var e=require_root(),t=e.Symbol;return _Symbol=t,_Symbol}var _getRawTag,hasRequired_getRawTag;function require_getRawTag(){if(hasRequired_getRawTag)return _getRawTag;hasRequired_getRawTag=1;var e=require_Symbol(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,o=e?e.toStringTag:void 0;function l(u){var h=r.call(u,o),f=u[o];try{u[o]=void 0;var d=!0}catch{}var p=n.call(u);return d&&(h?u[o]=f:delete u[o]),p}return _getRawTag=l,_getRawTag}var _objectToString,hasRequired_objectToString;function require_objectToString(){if(hasRequired_objectToString)return _objectToString;hasRequired_objectToString=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return _objectToString=r,_objectToString}var _baseGetTag,hasRequired_baseGetTag;function require_baseGetTag(){if(hasRequired_baseGetTag)return _baseGetTag;hasRequired_baseGetTag=1;var e=require_Symbol(),t=require_getRawTag(),r=require_objectToString(),n="[object Null]",o="[object Undefined]",l=e?e.toStringTag:void 0;function u(h){return h==null?h===void 0?o:n:l&&l in Object(h)?t(h):r(h)}return _baseGetTag=u,_baseGetTag}var isObject_1,hasRequiredIsObject;function requireIsObject(){if(hasRequiredIsObject)return isObject_1;hasRequiredIsObject=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return isObject_1=e,isObject_1}var isFunction_1,hasRequiredIsFunction;function requireIsFunction(){if(hasRequiredIsFunction)return isFunction_1;hasRequiredIsFunction=1;var e=require_baseGetTag(),t=requireIsObject(),r="[object AsyncFunction]",n="[object Function]",o="[object GeneratorFunction]",l="[object Proxy]";function u(h){if(!t(h))return!1;var f=e(h);return f==n||f==o||f==r||f==l}return isFunction_1=u,isFunction_1}var _coreJsData,hasRequired_coreJsData;function require_coreJsData(){if(hasRequired_coreJsData)return _coreJsData;hasRequired_coreJsData=1;var e=require_root(),t=e["__core-js_shared__"];return _coreJsData=t,_coreJsData}var _isMasked,hasRequired_isMasked;function require_isMasked(){if(hasRequired_isMasked)return _isMasked;hasRequired_isMasked=1;var e=require_coreJsData(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!t&&t in n}return _isMasked=r,_isMasked}var _toSource,hasRequired_toSource;function require_toSource(){if(hasRequired_toSource)return _toSource;hasRequired_toSource=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return _toSource=r,_toSource}var _baseIsNative,hasRequired_baseIsNative;function require_baseIsNative(){if(hasRequired_baseIsNative)return _baseIsNative;hasRequired_baseIsNative=1;var e=requireIsFunction(),t=require_isMasked(),r=requireIsObject(),n=require_toSource(),o=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,u=Function.prototype,h=Object.prototype,f=u.toString,d=h.hasOwnProperty,p=RegExp("^"+f.call(d).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!r(g)||t(g))return!1;var b=e(g)?p:l;return b.test(n(g))}return _baseIsNative=m,_baseIsNative}var _getValue,hasRequired_getValue;function require_getValue(){if(hasRequired_getValue)return _getValue;hasRequired_getValue=1;function e(t,r){return t==null?void 0:t[r]}return _getValue=e,_getValue}var _getNative,hasRequired_getNative;function require_getNative(){if(hasRequired_getNative)return _getNative;hasRequired_getNative=1;var e=require_baseIsNative(),t=require_getValue();function r(n,o){var l=t(n,o);return e(l)?l:void 0}return _getNative=r,_getNative}var getNative$1=require_getNative(),nativeCreate$4=getNative$1(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function hashGet$1(e){var t=this.__data__;if(nativeCreate$2){var r=t[e];return r===HASH_UNDEFINED$1?void 0:r}return hasOwnProperty$1.call(t,e)?t[e]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function hashHas$1(e){var t=this.__data__;return nativeCreate$1?t[e]!==void 0:hasOwnProperty.call(t,e)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet$1(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=nativeCreate&&t===void 0?HASH_UNDEFINED:t,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1,eq_1,hasRequiredEq;function requireEq(){if(hasRequiredEq)return eq_1;hasRequiredEq=1;function e(t,r){return t===r||t!==t&&r!==r}return eq_1=e,eq_1}var eq=requireEq();function assocIndexOf$4(e,t){for(var r=e.length;r--;)if(eq(e[r][0],t))return r;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(e){var t=this.__data__,r=assocIndexOf$3(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():splice.call(t,r,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(e){var t=this.__data__,r=assocIndexOf$2(t,e);return r<0?void 0:t[r][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(e){return assocIndexOf$1(this.__data__,e)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(e,t){var r=this.__data__,n=assocIndexOf(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$1(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ListCache$1.prototype.clear=listCacheClear;ListCache$1.prototype.delete=listCacheDelete;ListCache$1.prototype.get=listCacheGet;ListCache$1.prototype.has=listCacheHas;ListCache$1.prototype.set=listCacheSet;var _ListCache=ListCache$1,getNative=require_getNative(),root=require_root(),Map$2=getNative(root,"Map"),_Map=Map$2,Hash=_Hash,ListCache=_ListCache,Map$1=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(e,t){var r=e.__data__;return isKeyable(t)?r[typeof t=="string"?"string":"hash"]:r.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(e){var t=getMapData$3(this,e).delete(e);return this.size-=t?1:0,t}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(e){return getMapData$2(this,e).get(e)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(e){return getMapData$1(this,e).has(e)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(e,t){var r=getMapData(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$1(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}MapCache$1.prototype.clear=mapCacheClear;MapCache$1.prototype.delete=mapCacheDelete;MapCache$1.prototype.get=mapCacheGet;MapCache$1.prototype.has=mapCacheHas;MapCache$1.prototype.set=mapCacheSet;var _MapCache=MapCache$1,MapCache=_MapCache,FUNC_ERROR_TEXT="Expected a function";function memoize(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(FUNC_ERROR_TEXT);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],l=r.cache;if(l.has(o))return l.get(o);var u=e.apply(this,n);return r.cache=l.set(o,u)||l,u};return r.cache=new(memoize.Cache||MapCache),r}memoize.Cache=MapCache;var memoize_1=memoize;const d3CurveTypes={curveBasis,curveBasisClosed,curveBasisOpen,curveLinear:curveLinear$1,curveLinearClosed,curveMonotoneX:monotoneX$1,curveMonotoneY:monotoneY$1,curveNatural,curveStep,curveStepAfter:stepAfter$1,curveStepBefore:stepBefore$1},directive=/[%]{2}[{]\s*(?:(?:(\w+)\s*:|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,directiveWithoutOpen=/\s*(?:(?:(\w+)(?=:):|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,detectInit=function(e,t){const r=detectDirective(e,/(?:init\b)|(?:initialize\b)/);let n={};if(Array.isArray(r)){const o=r.map(l=>l.args);directiveSanitizer(o),n=assignWithDepth(n,[...o])}else n=r.args;if(n){let o=detectType(e,t);["config"].forEach(l=>{typeof n[l]<"u"&&(o==="flowchart-v2"&&(o="flowchart"),n[o]=n[l],delete n[l])})}return n},detectDirective=function(e,t=null){try{const r=new RegExp(`[%]{2}(?![{]${directiveWithoutOpen.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(r,"").replace(/'/gm,'"'),log$1.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let n;const o=[];for(;(n=directive.exec(e))!==null;)if(n.index===directive.lastIndex&&directive.lastIndex++,n&&!t||t&&n[1]&&n[1].match(t)||t&&n[2]&&n[2].match(t)){const l=n[1]?n[1]:n[2],u=n[3]?n[3].trim():n[4]?JSON.parse(n[4].trim()):null;o.push({type:l,args:u})}return o.length===0&&o.push({type:e,args:null}),o.length===1?o[0]:o}catch(r){return log$1.error(`ERROR: ${r.message} - Unable to parse directive
      ${t!==null?" type:"+t:""} based on the text:${e}`),{type:null,args:null}}},isSubstringInArray=function(e,t){for(let r=0;r<t.length;r++)if(t[r].match(e))return r;return-1},interpolateToCurve=(e,t)=>{if(!e)return t;const r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return d3CurveTypes[r]||t},formatUrl=(e,t)=>{const r=e.trim();if(r)return t.securityLevel!=="loose"?sanitizeUrl_1(r):r},runFunc=(e,...t)=>{const r=e.split("."),n=r.length-1,o=r[n];let l=window;for(let u=0;u<n;u++)if(l=l[r[u]],!l)return;l[o](...t)},distance=(e,t)=>e&&t?Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0,traverseEdge=e=>{let t,r=0;e.forEach(l=>{r+=distance(l,t),t=l});let n=r/2,o;return t=void 0,e.forEach(l=>{if(t&&!o){const u=distance(l,t);if(u<n)n-=u;else{const h=n/u;h<=0&&(o=t),h>=1&&(o={x:l.x,y:l.y}),h>0&&h<1&&(o={x:(1-h)*t.x+h*l.x,y:(1-h)*t.y+h*l.y})}}t=l}),o},calcLabelPosition=e=>e.length===1?e[0]:traverseEdge(e),calcCardinalityPosition=(e,t,r)=>{let n;log$1.info("our points",t),t[0]!==r&&(t=t.reverse()),t.forEach(p=>{totalDistance+=distance(p,n),n=p});let l=25,u;n=void 0,t.forEach(p=>{if(n&&!u){const m=distance(p,n);if(m<l)l-=m;else{const g=l/m;g<=0&&(u=n),g>=1&&(u={x:p.x,y:p.y}),g>0&&g<1&&(u={x:(1-g)*n.x+g*p.x,y:(1-g)*n.y+g*p.y})}}n=p});const h=e?10:5,f=Math.atan2(t[0].y-u.y,t[0].x-u.x),d={x:0,y:0};return d.x=Math.sin(f)*h+(t[0].x+u.x)/2,d.y=-Math.cos(f)*h+(t[0].y+u.y)/2,d},calcTerminalLabelPosition=(e,t,r)=>{let n=JSON.parse(JSON.stringify(r)),o;log$1.info("our points",n),t!=="start_left"&&t!=="start_right"&&(n=n.reverse()),n.forEach(m=>{o=m});let u=25+e,h;o=void 0,n.forEach(m=>{if(o&&!h){const g=distance(m,o);if(g<u)u-=g;else{const b=u/g;b<=0&&(h=o),b>=1&&(h={x:m.x,y:m.y}),b>0&&b<1&&(h={x:(1-b)*o.x+b*m.x,y:(1-b)*o.y+b*m.y})}}o=m});const f=10+e*.5,d=Math.atan2(n[0].y-h.y,n[0].x-h.x),p={x:0,y:0};return p.x=Math.sin(d)*f+(n[0].x+h.x)/2,p.y=-Math.cos(d)*f+(n[0].y+h.y)/2,t==="start_left"&&(p.x=Math.sin(d+Math.PI)*f+(n[0].x+h.x)/2,p.y=-Math.cos(d+Math.PI)*f+(n[0].y+h.y)/2),t==="end_right"&&(p.x=Math.sin(d-Math.PI)*f+(n[0].x+h.x)/2-5,p.y=-Math.cos(d-Math.PI)*f+(n[0].y+h.y)/2-5),t==="end_left"&&(p.x=Math.sin(d)*f+(n[0].x+h.x)/2-5,p.y=-Math.cos(d)*f+(n[0].y+h.y)/2-5),p},getStylesFromArray=e=>{let t="",r="";for(let n=0;n<e.length;n++)typeof e[n]<"u"&&(e[n].startsWith("color:")||e[n].startsWith("text-align:")?r=r+e[n]+";":t=t+e[n]+";");return{style:t,labelStyle:r}};let cnt$1=0;const generateId$1=()=>(cnt$1++,"id-"+Math.random().toString(36).substr(2,12)+"-"+cnt$1);function makeid(e){let t="";const r="0123456789abcdef",n=r.length;for(let o=0;o<e;o++)t+=r.charAt(Math.floor(Math.random()*n));return t}const random=e=>makeid(e.length),getTextObj$3=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0}},drawSimpleText=function(e,t){const r=t.text.replace(common.lineBreakRegex," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.style("text-anchor",t.anchor),n.style("font-family",t.fontFamily),n.style("font-size",t.fontSize),n.style("font-weight",t.fontWeight),n.attr("fill",t.fill),typeof t.class<"u"&&n.attr("class",t.class);const o=n.append("tspan");return o.attr("x",t.x+t.textMargin*2),o.attr("fill",t.fill),o.text(r),n},wrapLabel=memoize_1((e,t,r)=>{if(!e||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),common.lineBreakRegex.test(e)))return e;const n=e.split(" "),o=[];let l="";return n.forEach((u,h)=>{const f=calculateTextWidth(`${u} `,r),d=calculateTextWidth(l,r);if(f>t){const{hyphenatedStrings:g,remainingWord:b}=breakString(u,t,"-",r);o.push(l,...g),l=b}else d+f>=t?(o.push(l),l=u):l=[l,u].filter(Boolean).join(" ");h+1===n.length&&o.push(l)}),o.filter(u=>u!=="").join(r.joinWith)},(e,t,r)=>`${e}${t}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),breakString=memoize_1((e,t,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);const o=e.split(""),l=[];let u="";return o.forEach((h,f)=>{const d=`${u}${h}`;if(calculateTextWidth(d,n)>=t){const m=f+1,g=o.length===m,b=`${d}${r}`;l.push(g?d:b),u=""}else u=d}),{hyphenatedStrings:l,remainingWord:u}},(e,t,r="-",n)=>`${e}${t}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`),calculateTextHeight=function(e,t){return t=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},t),calculateTextDimensions(e,t).height},calculateTextWidth=function(e,t){return t=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},t),calculateTextDimensions(e,t).width},calculateTextDimensions=memoize_1(function(e,t){t=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},t);const{fontSize:r,fontFamily:n,fontWeight:o}=t;if(!e)return{width:0,height:0};const l=["sans-serif",n],u=e.split(common.lineBreakRegex),h=[],f=select$1("body");if(!f.remove)return{width:0,height:0,lineHeight:0};const d=f.append("svg");for(const m of l){let g=0;const b={width:0,height:0,lineHeight:0};for(const v of u){const T=getTextObj$3();T.text=v;const R=drawSimpleText(d,T).style("font-size",r).style("font-weight",o).style("font-family",m),I=(R._groups||R)[0][0].getBBox();b.width=Math.round(Math.max(b.width,I.width)),g=Math.round(I.height),b.height+=g,b.lineHeight=Math.round(Math.max(b.lineHeight,g))}h.push(b)}d.remove();const p=isNaN(h[1].height)||isNaN(h[1].width)||isNaN(h[1].lineHeight)||h[0].height>h[1].height&&h[0].width>h[1].width&&h[0].lineHeight>h[1].lineHeight?0:1;return h[p]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),initIdGenerator=class{constructor(t,r){this.deterministic=t,this.seed=r,this.count=r?r.length:0}next(){return this.deterministic?this.count++:Date.now()}};let decoder;const entityDecode=function(e){return decoder=decoder||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),decoder.innerHTML=e,unescape(decoder.textContent)},directiveSanitizer=e=>{if(log$1.debug("directiveSanitizer called with",e),typeof e=="object"&&(e.length?e.forEach(t=>directiveSanitizer(t)):Object.keys(e).forEach(t=>{log$1.debug("Checking key",t),t.indexOf("__")===0&&(log$1.debug("sanitize deleting __ option",t),delete e[t]),t.indexOf("proto")>=0&&(log$1.debug("sanitize deleting proto option",t),delete e[t]),t.indexOf("constr")>=0&&(log$1.debug("sanitize deleting constr option",t),delete e[t]),t.indexOf("themeCSS")>=0&&(log$1.debug("sanitizing themeCss option"),e[t]=sanitizeCss(e[t])),t.indexOf("fontFamily")>=0&&(log$1.debug("sanitizing fontFamily option"),e[t]=sanitizeCss(e[t])),t.indexOf("altFontFamily")>=0&&(log$1.debug("sanitizing altFontFamily option"),e[t]=sanitizeCss(e[t])),configKeys.indexOf(t)<0?(log$1.debug("sanitize deleting option",t),delete e[t]):typeof e[t]=="object"&&(log$1.debug("sanitize deleting object",t),directiveSanitizer(e[t]))})),e.themeVariables){const t=Object.keys(e.themeVariables);for(let r=0;r<t.length;r++){const n=t[r],o=e.themeVariables[n];o&&o.match&&!o.match(/^[a-zA-Z0-9#,";()%. ]+$/)&&(e.themeVariables[n]="")}}log$1.debug("After sanitization",e)},sanitizeCss=e=>{let t=0,r=0;for(let n=0;n<e.length;n++){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";e[n]==="{"?t++:e[n]==="}"&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e};function isDetailedError(e){return"str"in e}function getErrorMessage(e){return e instanceof Error?e.message:String(e)}const utils={assignWithDepth,wrapLabel,calculateTextHeight,calculateTextWidth,calculateTextDimensions,detectInit,detectDirective,isSubstringInArray,interpolateToCurve,calcLabelPosition,calcCardinalityPosition,calcTerminalLabelPosition,formatUrl,getStylesFromArray,generateId:generateId$1,random,runFunc,entityDecode,initIdGenerator,directiveSanitizer,sanitizeCss},name="mermaid",version$1="9.2.2",description$1="Markdownish syntax for generating flowcharts, sequence diagrams, class diagrams, gantt charts and git graphs.",main="./dist/mermaid.min.js",module="./dist/mermaid.core.mjs",types="./dist/mermaid.d.ts",type="commonjs",exports={".":{require:"./dist/mermaid.min.js",import:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts"},"./*":"./*"},keywords=["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph"],scripts={clean:"rimraf dist","build:code":"node .esbuild/esbuild.cjs","build:types":"tsc -p ./tsconfig.json --emitDeclarationOnly","build:watch":"yarn build:code --watch","build:esbuild":'concurrently "yarn build:code" "yarn build:types"',build:"yarn clean; yarn build:esbuild",dev:"node .esbuild/serve.cjs","docs:build":"ts-node-esm src/docs.mts","docs:verify":"yarn docs:build --verify","todo-postbuild":"documentation build src/mermaidAPI.ts src/config.ts src/defaultConfig.ts --shallow -f md --markdown-toc false > src/docs/Setup.md && prettier --write src/docs/Setup.md",release:"yarn build",lint:"eslint --cache --ignore-path .gitignore . && yarn lint:jison && prettier --check .","lint:fix":"eslint --fix --ignore-path .gitignore . && prettier --write .","lint:jison":"ts-node-esm src/jison/lint.mts",cypress:"cypress run","cypress:open":"cypress open",e2e:"start-server-and-test dev http://localhost:9000/ cypress","todo-prepare":'concurrently "husky install" "yarn build"',"pre-commit":"lint-staged"},repository={type:"git",url:"https://github.com/mermaid-js/mermaid"},author="Knut Sveidqvist",license="MIT",standard={ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies={"@braintree/sanitize-url":"^6.0.0",d3:"^7.0.0",dagre:"^0.8.5","dagre-d3":"^0.6.4",dompurify:"2.4.0","fast-clone":"^1.5.13",graphlib:"^2.1.8",khroma:"^2.0.0",lodash:"^4.17.21","moment-mini":"^2.24.0","non-layered-tidy-tree-layout":"^2.0.2",stylis:"^4.1.2",uuid:"^9.0.0"},devDependencies={"@applitools/eyes-cypress":"^3.25.7","@commitlint/cli":"^17.1.2","@commitlint/config-conventional":"^17.0.0","@types/d3":"^7.4.0","@types/dompurify":"^2.3.4","@types/eslint":"^8.4.6","@types/express":"^4.17.13","@types/jsdom":"^20.0.0","@types/lodash":"^4.14.185","@types/prettier":"^2.7.0","@types/stylis":"^4.0.2","@types/uuid":"^8.3.4","@typescript-eslint/eslint-plugin":"^5.37.0","@typescript-eslint/parser":"^5.37.0",concurrently:"^7.4.0",coveralls:"^3.1.1",cypress:"^10.0.0","cypress-image-snapshot":"^4.0.1",documentation:"13.2.0",esbuild:"^0.15.8",eslint:"^8.23.1","eslint-config-prettier":"^8.5.0","eslint-plugin-cypress":"^2.12.1","eslint-plugin-html":"^7.1.0","eslint-plugin-jest":"^27.0.4","eslint-plugin-jsdoc":"^39.3.6","eslint-plugin-json":"^3.1.0","eslint-plugin-markdown":"^3.0.0",express:"^4.18.1",globby:"^13.1.2",husky:"^8.0.0","identity-obj-proxy":"^3.0.0",jison:"^0.4.18","js-base64":"3.7.2",jsdom:"^20.0.0","lint-staged":"^13.0.0",moment:"^2.23.0","path-browserify":"^1.0.1",prettier:"^2.7.1","prettier-plugin-jsdoc":"^0.4.2",remark:"^14.0.2",rimraf:"^3.0.2","start-server-and-test":"^1.12.6","ts-node":"^10.9.1",typescript:"^4.8.3","unist-util-flatmap":"^1.0.0"},resolutions={d3:"^7.0.0"},files=["dist","README.md"],sideEffects=["**/*.css","**/*.scss"],pkg={name,version:version$1,description:description$1,main,module,types,type,exports,keywords,scripts,repository,author,license,standard,dependencies,devDependencies,resolutions,files,sideEffects},defaultConfig=Object.freeze(config$1);let siteConfig=assignWithDepth({},defaultConfig),configFromInitialize,directives=[],currentConfig=assignWithDepth({},defaultConfig);const updateCurrentConfig=(e,t)=>{let r=assignWithDepth({},e),n={};for(let o=0;o<t.length;o++){const l=t[o];sanitize(l),n=assignWithDepth(n,l)}if(r=assignWithDepth(r,n),n.theme&&n.theme in theme){const o=assignWithDepth({},configFromInitialize),l=assignWithDepth(o.themeVariables||{},n.themeVariables);r.theme&&r.theme in theme&&(r.themeVariables=theme[r.theme].getThemeVariables(l))}return currentConfig=r,checkConfig(currentConfig),currentConfig},setSiteConfig=e=>(siteConfig=assignWithDepth({},defaultConfig),siteConfig=assignWithDepth(siteConfig,e),e.theme&&theme[e.theme]&&(siteConfig.themeVariables=theme[e.theme].getThemeVariables(e.themeVariables)),updateCurrentConfig(siteConfig,directives),siteConfig),saveConfigFromInitialize=e=>{configFromInitialize=assignWithDepth({},e)},updateSiteConfig=e=>(siteConfig=assignWithDepth(siteConfig,e),updateCurrentConfig(siteConfig,directives),siteConfig),getSiteConfig=()=>assignWithDepth({},siteConfig),setConfig=e=>(checkConfig(e),assignWithDepth(currentConfig,e),getConfig$1()),getConfig$1=()=>assignWithDepth({},currentConfig),sanitize=e=>{var t;["secure",...(t=siteConfig.secure)!=null?t:[]].forEach(r=>{typeof e[r]<"u"&&(log$1.debug(`Denied attempt to modify a secure key ${r}`,e[r]),delete e[r])}),Object.keys(e).forEach(r=>{r.indexOf("__")===0&&delete e[r]}),Object.keys(e).forEach(r=>{typeof e[r]=="string"&&(e[r].indexOf("<")>-1||e[r].indexOf(">")>-1||e[r].indexOf("url(data:")>-1)&&delete e[r],typeof e[r]=="object"&&sanitize(e[r])})},addDirective=e=>{e.fontFamily&&(e.themeVariables?e.themeVariables.fontFamily||(e.themeVariables={fontFamily:e.fontFamily}):e.themeVariables={fontFamily:e.fontFamily}),directives.push(e),updateCurrentConfig(siteConfig,directives)},reset=(e=siteConfig)=>{directives=[],updateCurrentConfig(e,directives)};var ConfigWarning=(e=>(e.LAZY_LOAD_DEPRECATED="The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead.",e))(ConfigWarning||{});const issuedWarnings={},issueWarning=e=>{issuedWarnings[e]||(log$1.warn(ConfigWarning[e]),issuedWarnings[e]=!0)},checkConfig=e=>{!e||(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&issueWarning("LAZY_LOAD_DEPRECATED")},d3Attrs=function(e,t){for(let r of t)e.attr(r[0],r[1])},calculateSvgSizeAttrs=function(e,t,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${t}px;`)):n.set("width",t),n},configureSvgSize=function(e,t,r,n){const o=calculateSvgSizeAttrs(t,r,n);d3Attrs(e,o)},setupGraphViewbox$1=function(e,t,r,n){const o=t.node().getBBox(),l=o.width,u=o.height;log$1.info(`SVG bounds: ${l}x${u}`,o);let h=0,f=0;log$1.info(`Graph bounds: ${h}x${f}`,e),h=l+r*2,f=u+r*2,log$1.info(`Calculated bounds: ${h}x${f}`),configureSvgSize(t,f,h,n);const d=`${o.x-r} ${o.y-r} ${o.width+2*r} ${o.height+2*r}`;t.attr("viewBox",d)},getStyles$d=e=>`g.classGroup text {
  fill: ${e.nodeBorder};
  fill: ${e.classText};
  stroke: none;
  font-family: ${e.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${e.classText};
}
.edgeLabel .label rect {
  fill: ${e.mainBkg};
}
.label text {
  fill: ${e.classText};
}
.edgeLabel .label span {
  background: ${e.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${e.nodeBorder};
  stroke: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.classGroup line {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${e.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${e.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

#compositionStart, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
}

`,getStyles$c=e=>`
  .entityBox {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${e.attributeBackgroundColorOdd};
    stroke: ${e.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${e.attributeBackgroundColorEven};
    stroke: ${e.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${e.tertiaryColor};
    opacity: 0.7;
    background-color: ${e.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${e.lineColor};
    }
`,getStyles$b=()=>"",getStyles$a=e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span {
    color: ${e.titleColor};
  }

  .label text,span {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  .cluster rect {
    fill: ${e.clusterBkg};
    stroke: ${e.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }
`,getStyles$9=e=>`
  .mermaid-main-font {
    font-family: "trebuchet ms", verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  .exclude-range {
    fill: ${e.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${e.sectionBkgColor};
  }

  .section2 {
    fill: ${e.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${e.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${e.titleColor};
  }

  .sectionTitle1 {
    fill: ${e.titleColor};
  }

  .sectionTitle2 {
    fill: ${e.titleColor};
  }

  .sectionTitle3 {
    fill: ${e.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    // font-size: ${e.ganttFontSize};
    // text-height: 14px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${e.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
    text {
      font-family: ${e.fontFamily};
      fill: ${e.textColor};
    }
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${e.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }

  // .taskText:not([font-size]) {
  //   font-size: ${e.ganttFontSize};
  // }

  .taskTextOutsideRight {
    fill: ${e.taskTextDarkColor};
    text-anchor: start;
    // font-size: ${e.ganttFontSize};
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }

  .taskTextOutsideLeft {
    fill: ${e.taskTextDarkColor};
    text-anchor: end;
    // font-size: ${e.ganttFontSize};
  }

  /* Special case clickable */
  .task.clickable {
    cursor: pointer;
  }
  .taskText.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${e.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${e.taskBkgColor};
    stroke: ${e.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${e.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${e.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${e.activeTaskBkgColor};
    stroke: ${e.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${e.doneTaskBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor}    ;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
`,getStyles$8=()=>"",getStyles$7=e=>`
  .pieCircle{
    stroke: ${e.pieStrokeColor};
    stroke-width : ${e.pieStrokeWidth};
    opacity : ${e.pieOpacity};
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${e.pieTitleTextSize};
    fill: ${e.pieTitleTextColor};
    font-family: ${e.fontFamily};
  }
  .slice {
    font-family: ${e.fontFamily};
    fill: ${e.pieSectionTextColor};
    font-size:${e.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${e.pieLegendTextColor};
    font-family: ${e.fontFamily};
    font-size: ${e.pieLegendTextSize};
  }
`,getStyles$6=e=>`

  marker {
    fill: ${e.relationColor};
    stroke: ${e.relationColor};
  }

  marker.cross {
    stroke: ${e.lineColor};
  }

  svg {
    font-family: ${e.fontFamily};
    font-size: ${e.fontSize};
  }

  .reqBox {
    fill: ${e.requirementBackground};
    fill-opacity: 100%;
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${e.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${e.relationLabelBackground};
    fill-opacity: 100%;
  }

  .req-title-line {
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${e.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${e.relationLabelColor};
  }

`,getStyles$5=e=>`.actor {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }

  text.actor > tspan {
    fill: ${e.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${e.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${e.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${e.signalColor};
  }

  #arrowhead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .sequenceNumber {
    fill: ${e.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${e.signalColor};
  }

  #crosshead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .messageText {
    fill: ${e.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${e.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${e.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${e.noteBorderColor};
    fill: ${e.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${e.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation1 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation2 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${e.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
    stroke-width: 2px;
  }
`,getStyles$4=e=>`
defs #statediagram-barbEnd {
    fill: ${e.transitionColor};
    stroke: ${e.transitionColor};
  }
g.stateGroup text {
  fill: ${e.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${e.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${e.stateLabelColor};
}

g.stateGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.stateGroup line {
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${e.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${e.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${e.noteBorderColor};
  fill: ${e.noteBkgColor};

  text {
    fill: ${e.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${e.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel .label text {
  fill: ${e.transitionLabelColor||e.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${e.transitionLabelColor||e.tertiaryTextColor};
}

.stateLabel text {
  fill: ${e.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node .fork-join {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node circle.state-end {
  fill: ${e.innerEndBackground};
  stroke: ${e.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${e.compositeBackground||e.background};
  // stroke: ${e.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${e.stateBkg||e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${e.lineColor};
}

.statediagram-cluster rect {
  fill: ${e.compositeTitleBackground};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${e.stateLabelColor};
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${e.stateBorder||e.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${e.compositeBackground||e.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${e.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${e.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${e.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${e.lineColor};
  stroke: ${e.lineColor};
  stroke-width: 1;
}
`,getStyles$3=e=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${e.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${e.textColor}
  }

  .legend {
    fill: ${e.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${e.textColor}
  }

  .face {
    ${e.faceColor?`fill: ${e.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${e.fillType0?`fill: ${e.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${e.fillType0?`fill: ${e.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${e.fillType0?`fill: ${e.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${e.fillType0?`fill: ${e.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${e.fillType0?`fill: ${e.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${e.fillType0?`fill: ${e.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${e.fillType0?`fill: ${e.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${e.fillType0?`fill: ${e.fillType7}`:""};
  }

  .actor-0 {
    ${e.actor0?`fill: ${e.actor0}`:""};
  }
  .actor-1 {
    ${e.actor1?`fill: ${e.actor1}`:""};
  }
  .actor-2 {
    ${e.actor2?`fill: ${e.actor2}`:""};
  }
  .actor-3 {
    ${e.actor3?`fill: ${e.actor3}`:""};
  }
  .actor-4 {
    ${e.actor4?`fill: ${e.actor4}`:""};
  }
  .actor-5 {
    ${e.actor5?`fill: ${e.actor5}`:""};
  }
`,getStyles$2=e=>`.person {
    stroke: ${e.personBorder};
    fill: ${e.personBkg};
  }
`,themes={flowchart:getStyles$a,"flowchart-v2":getStyles$a,sequence:getStyles$5,gantt:getStyles$9,classDiagram:getStyles$d,"classDiagram-v2":getStyles$d,class:getStyles$d,stateDiagram:getStyles$4,state:getStyles$4,info:getStyles$8,pie:getStyles$7,er:getStyles$c,error:getStyles$b,journey:getStyles$3,requirement:getStyles$6,c4:getStyles$2},getStyles$1=(e,t,r)=>{let n="";return e in themes&&themes[e]?n=themes[e](r):log$1.warn(`No theme found for ${e}`),` {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }

  /* Classes common for multiple diagrams */

  .error-icon {
    fill: ${r.errorBkgColor};
  }
  .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  .edge-thickness-normal {
    stroke-width: 2px;
  }
  .edge-thickness-thick {
    stroke-width: 3.5px
  }
  .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  .marker.cross {
    stroke: ${r.lineColor};
  }

  svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }

  ${n}

  ${t}
`},addStylesForDiagram=(e,t)=>{themes[e]=t},log=log$1,setLogLevel=setLogLevel$1,getConfig=getConfig$1,sanitizeText$4=e=>sanitizeText$5(e,getConfig()),setupGraphViewbox=setupGraphViewbox$1,diagrams={},registerDiagram=(e,t,r)=>{log.debug(`Registering diagram ${e}`),diagrams[e]&&log.warn(`Diagram ${e} already registered.`),diagrams[e]=t,r&&addDetector(e,r),addStylesForDiagram(e,t.styles),t.injectUtils&&t.injectUtils(log,setLogLevel,getConfig,sanitizeText$4,setupGraphViewbox),log.debug(`Registered diagram ${e}. ${Object.keys(diagrams).join(", ")} diagrams registered.`)},getDiagram=e=>{if(log.debug(`Getting diagram ${e}. ${Object.keys(diagrams).join(", ")} diagrams registered.`),e in diagrams)return diagrams[e];throw new DiagramNotFoundError(e)};class DiagramNotFoundError extends Error{constructor(t){super(`Diagram ${t} not found.`)}}var parser$b=function(){var e=function(H,V,z,G){for(z=z||{},G=H.length;G--;z[H[G]]=V);return z},t=[1,4],r=[1,7],n=[1,5],o=[1,9],l=[1,6],u=[2,6],h=[1,16],f=[6,8,14,20,22,24,25,27,29,32,37,40,50,54],d=[8,14,20,22,24,25,27,29,32,37,40],p=[8,13,14,20,22,24,25,27,29,32,37,40],m=[1,26],g=[6,8,14,50,54],b=[8,14,54],v=[1,65],T=[1,66],R=[1,67],I=[8,14,33,35,42,54],N={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,GG:6,document:7,EOF:8,":":9,DIR:10,options:11,body:12,OPT:13,NL:14,line:15,statement:16,commitStatement:17,mergeStatement:18,cherryPickStatement:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,branchStatement:26,CHECKOUT:27,ID:28,BRANCH:29,ORDER:30,NUM:31,CHERRY_PICK:32,COMMIT_ID:33,STR:34,COMMIT_TAG:35,EMPTYSTR:36,MERGE:37,COMMIT_TYPE:38,commitType:39,COMMIT:40,commit_arg:41,COMMIT_MSG:42,NORMAL:43,REVERSE:44,HIGHLIGHT:45,openDirective:46,typeDirective:47,closeDirective:48,argDirective:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,";":54,$accept:0,$end:1},terminals_:{2:"error",6:"GG",8:"EOF",9:":",10:"DIR",13:"OPT",14:"NL",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"CHECKOUT",28:"ID",29:"BRANCH",30:"ORDER",31:"NUM",32:"CHERRY_PICK",33:"COMMIT_ID",34:"STR",35:"COMMIT_TAG",36:"EMPTYSTR",37:"MERGE",38:"COMMIT_TYPE",40:"COMMIT",42:"COMMIT_MSG",43:"NORMAL",44:"REVERSE",45:"HIGHLIGHT",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive",54:";"},productions_:[0,[3,2],[3,2],[3,3],[3,4],[3,5],[7,0],[7,2],[11,2],[11,1],[12,0],[12,2],[15,2],[15,1],[16,1],[16,1],[16,1],[16,2],[16,2],[16,1],[16,1],[16,1],[16,2],[26,2],[26,4],[19,3],[19,5],[19,5],[19,5],[19,5],[18,2],[18,4],[18,4],[18,4],[18,6],[18,6],[18,6],[18,6],[18,6],[18,6],[18,8],[18,8],[18,8],[18,8],[18,8],[18,8],[17,2],[17,3],[17,3],[17,5],[17,5],[17,3],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,3],[17,5],[17,5],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[41,0],[41,1],[39,1],[39,1],[39,1],[5,3],[5,5],[46,1],[47,1],[49,1],[48,1],[4,1],[4,1],[4,1]],performAction:function(V,z,G,P,W,S,U){var L=S.length-1;switch(W){case 3:return S[L];case 4:return S[L-1];case 5:return P.setDirection(S[L-3]),S[L-1];case 7:P.setOptions(S[L-1]),this.$=S[L];break;case 8:S[L-1]+=S[L],this.$=S[L-1];break;case 10:this.$=[];break;case 11:S[L-1].push(S[L]),this.$=S[L-1];break;case 12:this.$=S[L-1];break;case 17:this.$=S[L].trim(),P.setAccTitle(this.$);break;case 18:case 19:this.$=S[L].trim(),P.setAccDescription(this.$);break;case 20:P.addSection(S[L].substr(8)),this.$=S[L].substr(8);break;case 22:P.checkout(S[L]);break;case 23:P.branch(S[L]);break;case 24:P.branch(S[L-2],S[L]);break;case 25:P.cherryPick(S[L],"",void 0);break;case 26:P.cherryPick(S[L-2],"",S[L]);break;case 27:case 29:P.cherryPick(S[L-2],"","");break;case 28:P.cherryPick(S[L],"",S[L-2]);break;case 30:P.merge(S[L],"","","");break;case 31:P.merge(S[L-2],S[L],"","");break;case 32:P.merge(S[L-2],"",S[L],"");break;case 33:P.merge(S[L-2],"","",S[L]);break;case 34:P.merge(S[L-4],S[L],"",S[L-2]);break;case 35:P.merge(S[L-4],"",S[L],S[L-2]);break;case 36:P.merge(S[L-4],"",S[L-2],S[L]);break;case 37:P.merge(S[L-4],S[L-2],S[L],"");break;case 38:P.merge(S[L-4],S[L-2],"",S[L]);break;case 39:P.merge(S[L-4],S[L],S[L-2],"");break;case 40:P.merge(S[L-6],S[L-4],S[L-2],S[L]);break;case 41:P.merge(S[L-6],S[L],S[L-4],S[L-2]);break;case 42:P.merge(S[L-6],S[L-4],S[L],S[L-2]);break;case 43:P.merge(S[L-6],S[L-2],S[L-4],S[L]);break;case 44:P.merge(S[L-6],S[L],S[L-2],S[L-4]);break;case 45:P.merge(S[L-6],S[L-2],S[L],S[L-4]);break;case 46:P.commit(S[L]);break;case 47:P.commit("","",P.commitType.NORMAL,S[L]);break;case 48:P.commit("","",S[L],"");break;case 49:P.commit("","",S[L],S[L-2]);break;case 50:P.commit("","",S[L-2],S[L]);break;case 51:P.commit("",S[L],P.commitType.NORMAL,"");break;case 52:P.commit("",S[L-2],P.commitType.NORMAL,S[L]);break;case 53:P.commit("",S[L],P.commitType.NORMAL,S[L-2]);break;case 54:P.commit("",S[L-2],S[L],"");break;case 55:P.commit("",S[L],S[L-2],"");break;case 56:P.commit("",S[L-4],S[L-2],S[L]);break;case 57:P.commit("",S[L-4],S[L],S[L-2]);break;case 58:P.commit("",S[L-2],S[L-4],S[L]);break;case 59:P.commit("",S[L],S[L-4],S[L-2]);break;case 60:P.commit("",S[L],S[L-2],S[L-4]);break;case 61:P.commit("",S[L-2],S[L],S[L-4]);break;case 62:P.commit(S[L],"",P.commitType.NORMAL,"");break;case 63:P.commit(S[L],"",P.commitType.NORMAL,S[L-2]);break;case 64:P.commit(S[L-2],"",P.commitType.NORMAL,S[L]);break;case 65:P.commit(S[L-2],"",S[L],"");break;case 66:P.commit(S[L],"",S[L-2],"");break;case 67:P.commit(S[L],S[L-2],P.commitType.NORMAL,"");break;case 68:P.commit(S[L-2],S[L],P.commitType.NORMAL,"");break;case 69:P.commit(S[L-4],"",S[L-2],S[L]);break;case 70:P.commit(S[L-4],"",S[L],S[L-2]);break;case 71:P.commit(S[L-2],"",S[L-4],S[L]);break;case 72:P.commit(S[L],"",S[L-4],S[L-2]);break;case 73:P.commit(S[L],"",S[L-2],S[L-4]);break;case 74:P.commit(S[L-2],"",S[L],S[L-4]);break;case 75:P.commit(S[L-4],S[L],S[L-2],"");break;case 76:P.commit(S[L-4],S[L-2],S[L],"");break;case 77:P.commit(S[L-2],S[L],S[L-4],"");break;case 78:P.commit(S[L],S[L-2],S[L-4],"");break;case 79:P.commit(S[L],S[L-4],S[L-2],"");break;case 80:P.commit(S[L-2],S[L-4],S[L],"");break;case 81:P.commit(S[L-4],S[L],P.commitType.NORMAL,S[L-2]);break;case 82:P.commit(S[L-4],S[L-2],P.commitType.NORMAL,S[L]);break;case 83:P.commit(S[L-2],S[L],P.commitType.NORMAL,S[L-4]);break;case 84:P.commit(S[L],S[L-2],P.commitType.NORMAL,S[L-4]);break;case 85:P.commit(S[L],S[L-4],P.commitType.NORMAL,S[L-2]);break;case 86:P.commit(S[L-2],S[L-4],P.commitType.NORMAL,S[L]);break;case 87:P.commit(S[L-6],S[L-4],S[L-2],S[L]);break;case 88:P.commit(S[L-6],S[L-4],S[L],S[L-2]);break;case 89:P.commit(S[L-6],S[L-2],S[L-4],S[L]);break;case 90:P.commit(S[L-6],S[L],S[L-4],S[L-2]);break;case 91:P.commit(S[L-6],S[L-2],S[L],S[L-4]);break;case 92:P.commit(S[L-6],S[L],S[L-2],S[L-4]);break;case 93:P.commit(S[L-4],S[L-6],S[L-2],S[L]);break;case 94:P.commit(S[L-4],S[L-6],S[L],S[L-2]);break;case 95:P.commit(S[L-2],S[L-6],S[L-4],S[L]);break;case 96:P.commit(S[L],S[L-6],S[L-4],S[L-2]);break;case 97:P.commit(S[L-2],S[L-6],S[L],S[L-4]);break;case 98:P.commit(S[L],S[L-6],S[L-2],S[L-4]);break;case 99:P.commit(S[L],S[L-4],S[L-2],S[L-6]);break;case 100:P.commit(S[L-2],S[L-4],S[L],S[L-6]);break;case 101:P.commit(S[L],S[L-2],S[L-4],S[L-6]);break;case 102:P.commit(S[L-2],S[L],S[L-4],S[L-6]);break;case 103:P.commit(S[L-4],S[L-2],S[L],S[L-6]);break;case 104:P.commit(S[L-4],S[L],S[L-2],S[L-6]);break;case 105:P.commit(S[L-2],S[L-4],S[L-6],S[L]);break;case 106:P.commit(S[L],S[L-4],S[L-6],S[L-2]);break;case 107:P.commit(S[L-2],S[L],S[L-6],S[L-4]);break;case 108:P.commit(S[L],S[L-2],S[L-6],S[L-4]);break;case 109:P.commit(S[L-4],S[L-2],S[L-6],S[L]);break;case 110:P.commit(S[L-4],S[L],S[L-6],S[L-2]);break;case 111:this.$="";break;case 112:this.$=S[L];break;case 113:this.$=P.commitType.NORMAL;break;case 114:this.$=P.commitType.REVERSE;break;case 115:this.$=P.commitType.HIGHLIGHT;break;case 118:P.parseDirective("%%{","open_directive");break;case 119:P.parseDirective(S[L],"type_directive");break;case 120:S[L]=S[L].trim().replace(/'/g,'"'),P.parseDirective(S[L],"arg_directive");break;case 121:P.parseDirective("}%%","close_directive","gitGraph");break}},table:[{3:1,4:2,5:3,6:t,8:r,14:n,46:8,50:o,54:l},{1:[3]},{3:10,4:2,5:3,6:t,8:r,14:n,46:8,50:o,54:l},{3:11,4:2,5:3,6:t,8:r,14:n,46:8,50:o,54:l},{7:12,8:u,9:[1,13],10:[1,14],11:15,14:h},e(f,[2,122]),e(f,[2,123]),e(f,[2,124]),{47:17,51:[1,18]},{51:[2,118]},{1:[2,1]},{1:[2,2]},{8:[1,19]},{7:20,8:u,11:15,14:h},{9:[1,21]},e(d,[2,10],{12:22,13:[1,23]}),e(p,[2,9]),{9:[1,25],48:24,53:m},e([9,53],[2,119]),{1:[2,3]},{8:[1,27]},{7:28,8:u,11:15,14:h},{8:[2,7],14:[1,31],15:29,16:30,17:32,18:33,19:34,20:[1,35],22:[1,36],24:[1,37],25:[1,38],26:39,27:[1,40],29:[1,44],32:[1,43],37:[1,42],40:[1,41]},e(p,[2,8]),e(g,[2,116]),{49:45,52:[1,46]},e(g,[2,121]),{1:[2,4]},{8:[1,47]},e(d,[2,11]),{4:48,8:r,14:n,54:l},e(d,[2,13]),e(b,[2,14]),e(b,[2,15]),e(b,[2,16]),{21:[1,49]},{23:[1,50]},e(b,[2,19]),e(b,[2,20]),e(b,[2,21]),{28:[1,51]},e(b,[2,111],{41:52,33:[1,55],34:[1,57],35:[1,53],38:[1,54],42:[1,56]}),{28:[1,58]},{33:[1,59],35:[1,60]},{28:[1,61]},{48:62,53:m},{53:[2,120]},{1:[2,5]},e(d,[2,12]),e(b,[2,17]),e(b,[2,18]),e(b,[2,22]),e(b,[2,46]),{34:[1,63]},{39:64,43:v,44:T,45:R},{34:[1,68]},{34:[1,69]},e(b,[2,112]),e(b,[2,30],{33:[1,70],35:[1,72],38:[1,71]}),{34:[1,73]},{34:[1,74],36:[1,75]},e(b,[2,23],{30:[1,76]}),e(g,[2,117]),e(b,[2,47],{33:[1,78],38:[1,77],42:[1,79]}),e(b,[2,48],{33:[1,81],35:[1,80],42:[1,82]}),e(I,[2,113]),e(I,[2,114]),e(I,[2,115]),e(b,[2,51],{35:[1,83],38:[1,84],42:[1,85]}),e(b,[2,62],{33:[1,88],35:[1,86],38:[1,87]}),{34:[1,89]},{39:90,43:v,44:T,45:R},{34:[1,91]},e(b,[2,25],{35:[1,92]}),{33:[1,93]},{33:[1,94]},{31:[1,95]},{39:96,43:v,44:T,45:R},{34:[1,97]},{34:[1,98]},{34:[1,99]},{34:[1,100]},{34:[1,101]},{34:[1,102]},{39:103,43:v,44:T,45:R},{34:[1,104]},{34:[1,105]},{39:106,43:v,44:T,45:R},{34:[1,107]},e(b,[2,31],{35:[1,109],38:[1,108]}),e(b,[2,32],{33:[1,111],35:[1,110]}),e(b,[2,33],{33:[1,112],38:[1,113]}),{34:[1,114],36:[1,115]},{34:[1,116]},{34:[1,117]},e(b,[2,24]),e(b,[2,49],{33:[1,118],42:[1,119]}),e(b,[2,53],{38:[1,120],42:[1,121]}),e(b,[2,63],{33:[1,123],38:[1,122]}),e(b,[2,50],{33:[1,124],42:[1,125]}),e(b,[2,55],{35:[1,126],42:[1,127]}),e(b,[2,66],{33:[1,129],35:[1,128]}),e(b,[2,52],{38:[1,130],42:[1,131]}),e(b,[2,54],{35:[1,132],42:[1,133]}),e(b,[2,67],{35:[1,135],38:[1,134]}),e(b,[2,64],{33:[1,137],38:[1,136]}),e(b,[2,65],{33:[1,139],35:[1,138]}),e(b,[2,68],{35:[1,141],38:[1,140]}),{39:142,43:v,44:T,45:R},{34:[1,143]},{34:[1,144]},{34:[1,145]},{34:[1,146]},{39:147,43:v,44:T,45:R},e(b,[2,26]),e(b,[2,27]),e(b,[2,28]),e(b,[2,29]),{34:[1,148]},{34:[1,149]},{39:150,43:v,44:T,45:R},{34:[1,151]},{39:152,43:v,44:T,45:R},{34:[1,153]},{34:[1,154]},{34:[1,155]},{34:[1,156]},{34:[1,157]},{34:[1,158]},{34:[1,159]},{39:160,43:v,44:T,45:R},{34:[1,161]},{34:[1,162]},{34:[1,163]},{39:164,43:v,44:T,45:R},{34:[1,165]},{39:166,43:v,44:T,45:R},{34:[1,167]},{34:[1,168]},{34:[1,169]},{39:170,43:v,44:T,45:R},{34:[1,171]},e(b,[2,37],{35:[1,172]}),e(b,[2,38],{38:[1,173]}),e(b,[2,36],{33:[1,174]}),e(b,[2,39],{35:[1,175]}),e(b,[2,34],{38:[1,176]}),e(b,[2,35],{33:[1,177]}),e(b,[2,60],{42:[1,178]}),e(b,[2,73],{33:[1,179]}),e(b,[2,61],{42:[1,180]}),e(b,[2,84],{38:[1,181]}),e(b,[2,74],{33:[1,182]}),e(b,[2,83],{38:[1,183]}),e(b,[2,59],{42:[1,184]}),e(b,[2,72],{33:[1,185]}),e(b,[2,58],{42:[1,186]}),e(b,[2,78],{35:[1,187]}),e(b,[2,71],{33:[1,188]}),e(b,[2,77],{35:[1,189]}),e(b,[2,57],{42:[1,190]}),e(b,[2,85],{38:[1,191]}),e(b,[2,56],{42:[1,192]}),e(b,[2,79],{35:[1,193]}),e(b,[2,80],{35:[1,194]}),e(b,[2,86],{38:[1,195]}),e(b,[2,70],{33:[1,196]}),e(b,[2,81],{38:[1,197]}),e(b,[2,69],{33:[1,198]}),e(b,[2,75],{35:[1,199]}),e(b,[2,76],{35:[1,200]}),e(b,[2,82],{38:[1,201]}),{34:[1,202]},{39:203,43:v,44:T,45:R},{34:[1,204]},{34:[1,205]},{39:206,43:v,44:T,45:R},{34:[1,207]},{34:[1,208]},{34:[1,209]},{34:[1,210]},{39:211,43:v,44:T,45:R},{34:[1,212]},{39:213,43:v,44:T,45:R},{34:[1,214]},{34:[1,215]},{34:[1,216]},{34:[1,217]},{34:[1,218]},{34:[1,219]},{34:[1,220]},{39:221,43:v,44:T,45:R},{34:[1,222]},{34:[1,223]},{34:[1,224]},{39:225,43:v,44:T,45:R},{34:[1,226]},{39:227,43:v,44:T,45:R},{34:[1,228]},{34:[1,229]},{34:[1,230]},{39:231,43:v,44:T,45:R},e(b,[2,40]),e(b,[2,42]),e(b,[2,41]),e(b,[2,43]),e(b,[2,45]),e(b,[2,44]),e(b,[2,101]),e(b,[2,102]),e(b,[2,99]),e(b,[2,100]),e(b,[2,104]),e(b,[2,103]),e(b,[2,108]),e(b,[2,107]),e(b,[2,106]),e(b,[2,105]),e(b,[2,110]),e(b,[2,109]),e(b,[2,98]),e(b,[2,97]),e(b,[2,96]),e(b,[2,95]),e(b,[2,93]),e(b,[2,94]),e(b,[2,92]),e(b,[2,91]),e(b,[2,90]),e(b,[2,89]),e(b,[2,87]),e(b,[2,88])],defaultActions:{9:[2,118],10:[2,1],11:[2,2],19:[2,3],27:[2,4],46:[2,120],47:[2,5]},parseError:function(V,z){if(z.recoverable)this.trace(V);else{var G=new Error(V);throw G.hash=z,G}},parse:function(V){var z=this,G=[0],P=[],W=[null],S=[],U=this.table,L="",ae=0,Q=0,ue=2,_e=1,ke=S.slice.call(arguments,1),de=Object.create(this.lexer),ce={yy:{}};for(var he in this.yy)Object.prototype.hasOwnProperty.call(this.yy,he)&&(ce.yy[he]=this.yy[he]);de.setInput(V,ce.yy),ce.yy.lexer=de,ce.yy.parser=this,typeof de.yylloc>"u"&&(de.yylloc={});var Se=de.yylloc;S.push(Se);var ve=de.options&&de.options.ranges;typeof ce.yy.parseError=="function"?this.parseError=ce.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function me(){var te;return te=P.pop()||de.lex()||_e,typeof te!="number"&&(te instanceof Array&&(P=te,te=P.pop()),te=z.symbols_[te]||te),te}for(var Ce,xe,Ne,pe,J={},oe,ee,Z,ie;;){if(xe=G[G.length-1],this.defaultActions[xe]?Ne=this.defaultActions[xe]:((Ce===null||typeof Ce>"u")&&(Ce=me()),Ne=U[xe]&&U[xe][Ce]),typeof Ne>"u"||!Ne.length||!Ne[0]){var se="";ie=[];for(oe in U[xe])this.terminals_[oe]&&oe>ue&&ie.push("'"+this.terminals_[oe]+"'");de.showPosition?se="Parse error on line "+(ae+1)+`:
`+de.showPosition()+`
Expecting `+ie.join(", ")+", got '"+(this.terminals_[Ce]||Ce)+"'":se="Parse error on line "+(ae+1)+": Unexpected "+(Ce==_e?"end of input":"'"+(this.terminals_[Ce]||Ce)+"'"),this.parseError(se,{text:de.match,token:this.terminals_[Ce]||Ce,line:de.yylineno,loc:Se,expected:ie})}if(Ne[0]instanceof Array&&Ne.length>1)throw new Error("Parse Error: multiple actions possible at state: "+xe+", token: "+Ce);switch(Ne[0]){case 1:G.push(Ce),W.push(de.yytext),S.push(de.yylloc),G.push(Ne[1]),Ce=null,Q=de.yyleng,L=de.yytext,ae=de.yylineno,Se=de.yylloc;break;case 2:if(ee=this.productions_[Ne[1]][1],J.$=W[W.length-ee],J._$={first_line:S[S.length-(ee||1)].first_line,last_line:S[S.length-1].last_line,first_column:S[S.length-(ee||1)].first_column,last_column:S[S.length-1].last_column},ve&&(J._$.range=[S[S.length-(ee||1)].range[0],S[S.length-1].range[1]]),pe=this.performAction.apply(J,[L,Q,ae,ce.yy,Ne[1],W,S].concat(ke)),typeof pe<"u")return pe;ee&&(G=G.slice(0,-1*ee*2),W=W.slice(0,-1*ee),S=S.slice(0,-1*ee)),G.push(this.productions_[Ne[1]][0]),W.push(J.$),S.push(J._$),Z=U[G[G.length-2]][G[G.length-1]],G.push(Z);break;case 3:return!0}}return!0}},q=function(){var H={EOF:1,parseError:function(z,G){if(this.yy.parser)this.yy.parser.parseError(z,G);else throw new Error(z)},setInput:function(V,z){return this.yy=z||this.yy||{},this._input=V,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var V=this._input[0];this.yytext+=V,this.yyleng++,this.offset++,this.match+=V,this.matched+=V;var z=V.match(/(?:\r\n?|\n).*/g);return z?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),V},unput:function(V){var z=V.length,G=V.split(/(?:\r\n?|\n)/g);this._input=V+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-z),this.offset-=z;var P=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),G.length-1&&(this.yylineno-=G.length-1);var W=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:G?(G.length===P.length?this.yylloc.first_column:0)+P[P.length-G.length].length-G[0].length:this.yylloc.first_column-z},this.options.ranges&&(this.yylloc.range=[W[0],W[0]+this.yyleng-z]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(V){this.unput(this.match.slice(V))},pastInput:function(){var V=this.matched.substr(0,this.matched.length-this.match.length);return(V.length>20?"...":"")+V.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var V=this.match;return V.length<20&&(V+=this._input.substr(0,20-V.length)),(V.substr(0,20)+(V.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var V=this.pastInput(),z=new Array(V.length+1).join("-");return V+this.upcomingInput()+`
`+z+"^"},test_match:function(V,z){var G,P,W;if(this.options.backtrack_lexer&&(W={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(W.yylloc.range=this.yylloc.range.slice(0))),P=V[0].match(/(?:\r\n?|\n).*/g),P&&(this.yylineno+=P.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:P?P[P.length-1].length-P[P.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+V[0].length},this.yytext+=V[0],this.match+=V[0],this.matches=V,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(V[0].length),this.matched+=V[0],G=this.performAction.call(this,this.yy,this,z,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),G)return G;if(this._backtrack){for(var S in W)this[S]=W[S];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var V,z,G,P;this._more||(this.yytext="",this.match="");for(var W=this._currentRules(),S=0;S<W.length;S++)if(G=this._input.match(this.rules[W[S]]),G&&(!z||G[0].length>z[0].length)){if(z=G,P=S,this.options.backtrack_lexer){if(V=this.test_match(G,W[S]),V!==!1)return V;if(this._backtrack){z=!1;continue}else return!1}else if(!this.options.flex)break}return z?(V=this.test_match(z,W[P]),V!==!1?V:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var z=this.next();return z||this.lex()},begin:function(z){this.conditionStack.push(z)},popState:function(){var z=this.conditionStack.length-1;return z>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(z){return z=this.conditionStack.length-1-Math.abs(z||0),z>=0?this.conditionStack[z]:"INITIAL"},pushState:function(z){this.begin(z)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(z,G,P,W){switch(P){case 0:return this.begin("open_directive"),50;case 1:return this.begin("type_directive"),51;case 2:return this.popState(),this.begin("arg_directive"),9;case 3:return this.popState(),this.popState(),53;case 4:return 52;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:return 14;case 13:break;case 14:break;case 15:return 6;case 16:return 40;case 17:return 33;case 18:return 38;case 19:return 42;case 20:return 43;case 21:return 44;case 22:return 45;case 23:return 35;case 24:return 29;case 25:return 30;case 26:return 37;case 27:return 32;case 28:return 27;case 29:return 10;case 30:return 10;case 31:return 9;case 32:return"CARET";case 33:this.begin("options");break;case 34:this.popState();break;case 35:return 13;case 36:return 36;case 37:this.begin("string");break;case 38:this.popState();break;case 39:return 34;case 40:return 31;case 41:return 28;case 42:return 8}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit(?=\s|$))/i,/^(?:id:)/i,/^(?:type:)/i,/^(?:msg:)/i,/^(?:NORMAL\b)/i,/^(?:REVERSE\b)/i,/^(?:HIGHLIGHT\b)/i,/^(?:tag:)/i,/^(?:branch(?=\s|$))/i,/^(?:order:)/i,/^(?:merge(?=\s|$))/i,/^(?:cherry-pick(?=\s|$))/i,/^(?:checkout(?=\s|$))/i,/^(?:LR\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:[ \r\n\t]+end\b)/i,/^(?:[\s\S]+(?=[ \r\n\t]+end))/i,/^(?:["]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[0-9]+(?=\s|$))/i,/^(?:\w([-\./\w]*[-\w])?)/i,/^(?:$)/i,/^(?:\s+)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},options:{rules:[34,35],inclusive:!1},string:{rules:[38,39],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,36,37,40,41,42,43],inclusive:!0}}};return H}();N.lexer=q;function F(){this.yy={}}return F.prototype=N,N.Parser=F,new F}();parser$b.parser=parser$b;const gitGraphDetector=e=>e.match(/^\s*gitGraph/)!==null;let title$1="",diagramTitle="",description="";const sanitizeText$3=e=>sanitizeText$5(e,getConfig$1()),clear$g=function(){title$1="",description="",diagramTitle=""},setAccTitle=function(e){title$1=sanitizeText$3(e).replace(/^\s+/g,"")},getAccTitle=function(){return title$1||diagramTitle},setAccDescription=function(e){description=sanitizeText$3(e).replace(/\n\s+/g,`
`)},getAccDescription=function(){return description},setDiagramTitle=function(e){diagramTitle=sanitizeText$3(e)},getDiagramTitle=function(){return diagramTitle};let mainBranchName=getConfig$1().gitGraph.mainBranchName,mainBranchOrder=getConfig$1().gitGraph.mainBranchOrder,commits={},head=null,branchesConfig={};branchesConfig[mainBranchName]={name:mainBranchName,order:mainBranchOrder};let branches={};branches[mainBranchName]=head;let curBranch=mainBranchName,direction$3="LR",seq=0;function getId(){return random({length:7})}const parseDirective$b=function(e,t,r){mermaidAPI.parseDirective(this,e,t,r)};function uniqBy(e,t){const r=Object.create(null);return e.reduce((n,o)=>{const l=t(o);return r[l]||(r[l]=!0,n.push(o)),n},[])}const setDirection$3=function(e){direction$3=e};let options={};const setOptions=function(e){log$1.debug("options str",e),e=e&&e.trim(),e=e||"{}";try{options=JSON.parse(e)}catch(t){log$1.error("error while parsing gitGraph options",t.message)}},getOptions=function(){return options},commit=function(e,t,r,n){log$1.debug("Entering commit:",e,t,r,n),t=common.sanitizeText(t,getConfig$1()),e=common.sanitizeText(e,getConfig$1()),n=common.sanitizeText(n,getConfig$1());const o={id:t||seq+"-"+getId(),message:e,seq:seq++,type:r||commitType$1.NORMAL,tag:n||"",parents:head==null?[]:[head.id],branch:curBranch};head=o,commits[o.id]=o,branches[curBranch]=o.id,log$1.debug("in pushCommit "+o.id)},branch=function(e,t){if(e=common.sanitizeText(e,getConfig$1()),typeof branches[e]>"u")branches[e]=head!=null?head.id:null,branchesConfig[e]={name:e,order:t?parseInt(t,10):null},checkout(e),log$1.debug("in createBranch");else{let r=new Error('Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout '+e+'")');throw r.hash={text:"branch "+e,token:"branch "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+e+'"']},r}},merge=function(e,t,r,n){e=common.sanitizeText(e,getConfig$1()),t=common.sanitizeText(t,getConfig$1());const o=commits[branches[curBranch]],l=commits[branches[e]];if(curBranch===e){let h=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw h.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},h}else if(typeof o>"u"||!o){let h=new Error('Incorrect usage of "merge". Current branch ('+curBranch+")has no commits");throw h.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["commit"]},h}else if(typeof branches[e]>"u"){let h=new Error('Incorrect usage of "merge". Branch to be merged ('+e+") does not exist");throw h.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch "+e]},h}else if(typeof l>"u"||!l){let h=new Error('Incorrect usage of "merge". Branch to be merged ('+e+") has no commits");throw h.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"commit"']},h}else if(o===l){let h=new Error('Incorrect usage of "merge". Both branches have same head');throw h.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},h}else if(t&&typeof commits[t]<"u"){let h=new Error('Incorrect usage of "merge". Commit with id:'+t+" already exists, use different custom Id");throw h.hash={text:"merge "+e+t+r+n,token:"merge "+e+t+r+n,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["merge "+e+" "+t+"_UNIQUE "+r+" "+n]},h}const u={id:t||seq+"-"+getId(),message:"merged branch "+e+" into "+curBranch,seq:seq++,parents:[head==null?null:head.id,branches[e]],branch:curBranch,type:commitType$1.MERGE,customType:r,customId:!!t,tag:n||""};head=u,commits[u.id]=u,branches[curBranch]=u.id,log$1.debug(branches),log$1.debug("in mergeBranch")},cherryPick=function(e,t,r){if(log$1.debug("Entering cherryPick:",e,t,r),e=common.sanitizeText(e,getConfig$1()),t=common.sanitizeText(t,getConfig$1()),r=common.sanitizeText(r,getConfig$1()),!e||typeof commits[e]>"u"){let l=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw l.hash={text:"cherryPick "+e+" "+t,token:"cherryPick "+e+" "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},l}let n=commits[e],o=n.branch;if(n.type===commitType$1.MERGE){let l=new Error('Incorrect usage of "cherryPick". Source commit should not be a merge commit');throw l.hash={text:"cherryPick "+e+" "+t,token:"cherryPick "+e+" "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},l}if(!t||typeof commits[t]>"u"){if(o===curBranch){let h=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw h.hash={text:"cherryPick "+e+" "+t,token:"cherryPick "+e+" "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},h}const l=commits[branches[curBranch]];if(typeof l>"u"||!l){let h=new Error('Incorrect usage of "cherry-pick". Current branch ('+curBranch+")has no commits");throw h.hash={text:"cherryPick "+e+" "+t,token:"cherryPick "+e+" "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},h}const u={id:seq+"-"+getId(),message:"cherry-picked "+n+" into "+curBranch,seq:seq++,parents:[head==null?null:head.id,n.id],branch:curBranch,type:commitType$1.CHERRY_PICK,tag:r!=null?r:"cherry-pick:"+n.id};head=u,commits[u.id]=u,branches[curBranch]=u.id,log$1.debug(branches),log$1.debug("in cherryPick")}},checkout=function(e){if(e=common.sanitizeText(e,getConfig$1()),typeof branches[e]>"u"){let t=new Error('Trying to checkout branch which is not yet created. (Help try using "branch '+e+'")');throw t.hash={text:"checkout "+e,token:"checkout "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"branch '+e+'"']},t}else{curBranch=e;const t=branches[curBranch];head=commits[t]}};function upsert(e,t,r){const n=e.indexOf(t);n===-1?e.push(r):e.splice(n,1,r)}function prettyPrintCommitHistory(e){const t=e.reduce((o,l)=>o.seq>l.seq?o:l,e[0]);let r="";e.forEach(function(o){o===t?r+="	*":r+="	|"});const n=[r,t.id,t.seq];for(let o in branches)branches[o]===t.id&&n.push(o);if(log$1.debug(n.join(" ")),t.parents&&t.parents.length==2){const o=commits[t.parents[0]];upsert(e,t,o),e.push(commits[t.parents[1]])}else{if(t.parents.length==0)return;{const o=commits[t.parents];upsert(e,t,o)}}e=uniqBy(e,o=>o.id),prettyPrintCommitHistory(e)}const prettyPrint=function(){log$1.debug(commits);const e=getCommitsArray()[0];prettyPrintCommitHistory([e])},clear$f=function(){commits={},head=null;let e=getConfig$1().gitGraph.mainBranchName,t=getConfig$1().gitGraph.mainBranchOrder;branches={},branches[e]=null,branchesConfig={},branchesConfig[e]={name:e,order:t},curBranch=e,seq=0,clear$g()},getBranchesAsObjArray=function(){return Object.values(branchesConfig).map((t,r)=>t.order!==null?t:{...t,order:parseFloat(`0.${r}`,10)}).sort((t,r)=>t.order-r.order).map(({name:t})=>({name:t}))},getBranches=function(){return branches},getCommits=function(){return commits},getCommitsArray=function(){const e=Object.keys(commits).map(function(t){return commits[t]});return e.forEach(function(t){log$1.debug(t.id)}),e.sort((t,r)=>t.seq-r.seq),e},getCurrentBranch=function(){return curBranch},getDirection$3=function(){return direction$3},getHead=function(){return head},commitType$1={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},gitGraphDb={parseDirective:parseDirective$b,getConfig:()=>getConfig$1().gitGraph,setDirection:setDirection$3,setOptions,getOptions,commit,branch,merge,cherryPick,checkout,prettyPrint,clear:clear$f,getBranchesAsObjArray,getBranches,getCommits,getCommitsArray,getCurrentBranch,getDirection:getDirection$3,getHead,setAccTitle,getAccTitle,getAccDescription,setAccDescription,commitType:commitType$1};function addSVGAccessibilityFields(e,t,r){if(typeof t.insert>"u")return;let n=e.getAccTitle(),o=e.getAccDescription();t.attr("role","img").attr("aria-labelledby","chart-title-"+r+" chart-desc-"+r),t.insert("desc",":first-child").attr("id","chart-desc-"+r).text(o),t.insert("title",":first-child").attr("id","chart-title-"+r).text(n)}let allCommitsDict={};const commitType={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},THEME_COLOR_LIMIT=8;let branchPos={},commitPos={},lanes=[],maxPos=0;const clear$e=()=>{branchPos={},commitPos={},allCommitsDict={},maxPos=0,lanes=[]},drawText$3=e=>{const t=document.createElementNS("http://www.w3.org/2000/svg","text");let r=[];typeof e=="string"?r=e.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(e)?r=e:r=[];for(let n=0;n<r.length;n++){const o=document.createElementNS("http://www.w3.org/2000/svg","tspan");o.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),o.setAttribute("dy","1em"),o.setAttribute("x","0"),o.setAttribute("class","row"),o.textContent=r[n].trim(),t.appendChild(o)}return t},drawCommits=(e,t,r)=>{const n=getConfig().gitGraph,o=e.append("g").attr("class","commit-bullets"),l=e.append("g").attr("class","commit-labels");let u=0;Object.keys(t).sort((d,p)=>t[d].seq-t[p].seq).forEach(d=>{const p=t[d],m=branchPos[p.branch].pos,g=u+10;if(r){let b,v=typeof p.customType<"u"&&p.customType!==""?p.customType:p.type;switch(v){case commitType.NORMAL:b="commit-normal";break;case commitType.REVERSE:b="commit-reverse";break;case commitType.HIGHLIGHT:b="commit-highlight";break;case commitType.MERGE:b="commit-merge";break;case commitType.CHERRY_PICK:b="commit-cherry-pick";break;default:b="commit-normal"}if(v===commitType.HIGHLIGHT){const T=o.append("rect");T.attr("x",g-10),T.attr("y",m-10),T.attr("height",20),T.attr("width",20),T.attr("class",`commit ${p.id} commit-highlight${branchPos[p.branch].index%THEME_COLOR_LIMIT} ${b}-outer`),o.append("rect").attr("x",g-6).attr("y",m-6).attr("height",12).attr("width",12).attr("class",`commit ${p.id} commit${branchPos[p.branch].index%THEME_COLOR_LIMIT} ${b}-inner`)}else if(v===commitType.CHERRY_PICK)o.append("circle").attr("cx",g).attr("cy",m).attr("r",10).attr("class",`commit ${p.id} ${b}`),o.append("circle").attr("cx",g-3).attr("cy",m+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${p.id} ${b}`),o.append("circle").attr("cx",g+3).attr("cy",m+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${p.id} ${b}`),o.append("line").attr("x1",g+3).attr("y1",m+1).attr("x2",g).attr("y2",m-5).attr("stroke","#fff").attr("class",`commit ${p.id} ${b}`),o.append("line").attr("x1",g-3).attr("y1",m+1).attr("x2",g).attr("y2",m-5).attr("stroke","#fff").attr("class",`commit ${p.id} ${b}`);else{const T=o.append("circle");if(T.attr("cx",g),T.attr("cy",m),T.attr("r",p.type===commitType.MERGE?9:10),T.attr("class",`commit ${p.id} commit${branchPos[p.branch].index%THEME_COLOR_LIMIT}`),v===commitType.MERGE){const R=o.append("circle");R.attr("cx",g),R.attr("cy",m),R.attr("r",6),R.attr("class",`commit ${b} ${p.id} commit${branchPos[p.branch].index%THEME_COLOR_LIMIT}`)}v===commitType.REVERSE&&o.append("path").attr("d",`M ${g-5},${m-5}L${g+5},${m+5}M${g-5},${m+5}L${g+5},${m-5}`).attr("class",`commit ${b} ${p.id} commit${branchPos[p.branch].index%THEME_COLOR_LIMIT}`)}}if(commitPos[p.id]={x:u+10,y:m},r){if(p.type!==commitType.CHERRY_PICK&&(p.customId&&p.type===commitType.MERGE||p.type!==commitType.MERGE)&&n.showCommitLabel){const T=l.append("g"),R=T.insert("rect").attr("class","commit-label-bkg"),I=T.append("text").attr("x",u).attr("y",m+25).attr("class","commit-label").text(p.id);let N=I.node().getBBox();if(R.attr("x",u+10-N.width/2-2).attr("y",m+13.5).attr("width",N.width+2*2).attr("height",N.height+2*2),I.attr("x",u+10-N.width/2),n.rotateCommitLabel){let q=-7.5-(N.width+10)/25*9.5,F=10+N.width/25*8.5;T.attr("transform","translate("+q+", "+F+") rotate("+-45+", "+u+", "+m+")")}}if(p.tag){const T=l.insert("polygon"),R=l.append("circle"),I=l.append("text").attr("y",m-16).attr("class","tag-label").text(p.tag);let N=I.node().getBBox();I.attr("x",u+10-N.width/2);const q=N.height/2,F=m-19.2;T.attr("class","tag-label-bkg").attr("points",`
          ${u-N.width/2-4/2},${F+2}
          ${u-N.width/2-4/2},${F-2}
          ${u+10-N.width/2-4},${F-q-2}
          ${u+10+N.width/2+4},${F-q-2}
          ${u+10+N.width/2+4},${F+q+2}
          ${u+10-N.width/2-4},${F+q+2}`),R.attr("cx",u-N.width/2+4/2).attr("cy",F).attr("r",1.5).attr("class","tag-hole")}}u+=50,u>maxPos&&(maxPos=u)})},hasOverlappingCommits=(e,t,r)=>Object.keys(r).filter(l=>r[l].branch===t.branch&&r[l].seq>e.seq&&r[l].seq<t.seq).length>0,findLane=(e,t,r)=>{const n=r||0,o=e+Math.abs(e-t)/2;if(n>5)return o;let l=!0;for(let h=0;h<lanes.length;h++)Math.abs(lanes[h]-o)<10&&(l=!1);if(l)return lanes.push(o),o;const u=Math.abs(e-t);return findLane(e,t-u/5,n+1)},drawArrow=(e,t,r,n)=>{const o=commitPos[t.id],l=commitPos[r.id],u=hasOverlappingCommits(t,r,n);let h="",f="",d=0,p=0,m=branchPos[r.branch].index,g;if(u){h="A 10 10, 0, 0, 0,",f="A 10 10, 0, 0, 1,",d=10,p=10,m=branchPos[r.branch].index;const b=o.y<l.y?findLane(o.y,l.y):findLane(l.y,o.y);o.y<l.y?g=`M ${o.x} ${o.y} L ${o.x} ${b-d} ${h} ${o.x+p} ${b} L ${l.x-d} ${b} ${f} ${l.x} ${b+p} L ${l.x} ${l.y}`:g=`M ${o.x} ${o.y} L ${o.x} ${b+d} ${f} ${o.x+p} ${b} L ${l.x-d} ${b} ${h} ${l.x} ${b-p} L ${l.x} ${l.y}`}else o.y<l.y&&(h="A 20 20, 0, 0, 0,",d=20,p=20,m=branchPos[r.branch].index,g=`M ${o.x} ${o.y} L ${o.x} ${l.y-d} ${h} ${o.x+p} ${l.y} L ${l.x} ${l.y}`),o.y>l.y&&(h="A 20 20, 0, 0, 0,",d=20,p=20,m=branchPos[t.branch].index,g=`M ${o.x} ${o.y} L ${l.x-d} ${o.y} ${h} ${l.x} ${o.y-p} L ${l.x} ${l.y}`),o.y===l.y&&(m=branchPos[t.branch].index,g=`M ${o.x} ${o.y} L ${o.x} ${l.y-d} ${h} ${o.x+p} ${l.y} L ${l.x} ${l.y}`);e.append("path").attr("d",g).attr("class","arrow arrow"+m%THEME_COLOR_LIMIT)},drawArrows=(e,t)=>{const r=e.append("g").attr("class","commit-arrows");Object.keys(t).forEach(n=>{const o=t[n];o.parents&&o.parents.length>0&&o.parents.forEach(l=>{drawArrow(r,t[l],o,t)})})},drawBranches=(e,t)=>{const r=getConfig().gitGraph,n=e.append("g");t.forEach((o,l)=>{const u=l%THEME_COLOR_LIMIT,h=branchPos[o.name].pos,f=n.append("line");f.attr("x1",0),f.attr("y1",h),f.attr("x2",maxPos),f.attr("y2",h),f.attr("class","branch branch"+u),lanes.push(h);let d=o.name;const p=drawText$3(d),m=n.insert("rect"),b=n.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+u);b.node().appendChild(p);let v=p.getBBox();m.attr("class","branchLabelBkg label"+u).attr("rx",4).attr("ry",4).attr("x",-v.width-4-(r.rotateCommitLabel===!0?30:0)).attr("y",-v.height/2+8).attr("width",v.width+18).attr("height",v.height+4),b.attr("transform","translate("+(-v.width-14-(r.rotateCommitLabel===!0?30:0))+", "+(h-v.height/2-1)+")"),m.attr("transform","translate("+-19+", "+(h-v.height/2)+")")})},draw$f=function(e,t,r,n){clear$e();const o=getConfig(),l=getConfig().gitGraph;log$1.debug("in gitgraph renderer",e+`
`,"id:",t,r),allCommitsDict=n.db.getCommits();const u=n.db.getBranchesAsObjArray();let h=0;u.forEach((d,p)=>{branchPos[d.name]={pos:h,index:p},h+=50+(l.rotateCommitLabel?40:0)});const f=select$1(`[id="${t}"]`);addSVGAccessibilityFields(n.db,f,t),drawCommits(f,allCommitsDict,!1),l.showBranches&&drawBranches(f,u),drawArrows(f,allCommitsDict),drawCommits(f,allCommitsDict,!0),setupGraphViewbox(void 0,f,l.diagramPadding,o.useMaxWidth)},gitGraphRenderer={draw:draw$f},getStyles=e=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(t=>`
        .branch-label${t} { fill: ${e["gitBranchLabel"+t]}; }
        .commit${t} { stroke: ${e["git"+t]}; fill: ${e["git"+t]}; }
        .commit-highlight${t} { stroke: ${e["gitInv"+t]}; fill: ${e["gitInv"+t]}; }
        .label${t}  { fill: ${e["git"+t]}; }
        .arrow${t} { stroke: ${e["git"+t]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${e.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelColor};}
  .commit-label-bkg { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${e.tagLabelFontSize}; fill: ${e.tagLabelColor};}
  .tag-label-bkg { fill: ${e.tagLabelBackground}; stroke: ${e.tagLabelBorder}; }
  .tag-hole { fill: ${e.textColor}; }

  .commit-merge {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }
  .commit-reverse {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  }
`;var parser$a=function(){var e=function(Je,Oe,Me,Fe){for(Me=Me||{},Fe=Je.length;Fe--;Me[Je[Fe]]=Oe);return Me},t=[1,6],r=[1,7],n=[1,8],o=[1,9],l=[1,16],u=[1,11],h=[1,12],f=[1,13],d=[1,14],p=[1,15],m=[1,27],g=[1,33],b=[1,34],v=[1,35],T=[1,36],R=[1,37],I=[1,72],N=[1,73],q=[1,74],F=[1,75],H=[1,76],V=[1,77],z=[1,78],G=[1,38],P=[1,39],W=[1,40],S=[1,41],U=[1,42],L=[1,43],ae=[1,44],Q=[1,45],ue=[1,46],_e=[1,47],ke=[1,48],de=[1,49],ce=[1,50],he=[1,51],Se=[1,52],ve=[1,53],me=[1,54],Ce=[1,55],xe=[1,56],Ne=[1,57],pe=[1,59],J=[1,60],oe=[1,61],ee=[1,62],Z=[1,63],ie=[1,64],se=[1,65],te=[1,66],fe=[1,67],we=[1,68],Ye=[1,69],He=[24,52],je=[24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],Pe=[15,24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],Ee=[1,94],Ie=[1,95],Le=[1,96],Be=[1,97],Te=[15,24,52],dt=[7,8,9,10,18,22,25,26,27,28],Ge=[15,24,43,52],rt=[15,24,43,52,86,87,89,90],it=[15,43],st=[44,46,47,48,49,50,51,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],wt={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,directive:6,direction_tb:7,direction_bt:8,direction_rl:9,direction_lr:10,graphConfig:11,openDirective:12,typeDirective:13,closeDirective:14,NEWLINE:15,":":16,argDirective:17,open_directive:18,type_directive:19,arg_directive:20,close_directive:21,C4_CONTEXT:22,statements:23,EOF:24,C4_CONTAINER:25,C4_COMPONENT:26,C4_DYNAMIC:27,C4_DEPLOYMENT:28,otherStatements:29,diagramStatements:30,otherStatement:31,title:32,accDescription:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,boundaryStatement:39,boundaryStartStatement:40,boundaryStopStatement:41,boundaryStart:42,LBRACE:43,ENTERPRISE_BOUNDARY:44,attributes:45,SYSTEM_BOUNDARY:46,BOUNDARY:47,CONTAINER_BOUNDARY:48,NODE:49,NODE_L:50,NODE_R:51,RBRACE:52,diagramStatement:53,PERSON:54,PERSON_EXT:55,SYSTEM:56,SYSTEM_DB:57,SYSTEM_QUEUE:58,SYSTEM_EXT:59,SYSTEM_EXT_DB:60,SYSTEM_EXT_QUEUE:61,CONTAINER:62,CONTAINER_DB:63,CONTAINER_QUEUE:64,CONTAINER_EXT:65,CONTAINER_EXT_DB:66,CONTAINER_EXT_QUEUE:67,COMPONENT:68,COMPONENT_DB:69,COMPONENT_QUEUE:70,COMPONENT_EXT:71,COMPONENT_EXT_DB:72,COMPONENT_EXT_QUEUE:73,REL:74,BIREL:75,REL_U:76,REL_D:77,REL_L:78,REL_R:79,REL_B:80,REL_INDEX:81,UPDATE_EL_STYLE:82,UPDATE_REL_STYLE:83,UPDATE_LAYOUT_CONFIG:84,attribute:85,STR:86,STR_KEY:87,STR_VALUE:88,ATTRIBUTE:89,ATTRIBUTE_EMPTY:90,$accept:0,$end:1},terminals_:{2:"error",7:"direction_tb",8:"direction_bt",9:"direction_rl",10:"direction_lr",15:"NEWLINE",16:":",18:"open_directive",19:"type_directive",20:"arg_directive",21:"close_directive",22:"C4_CONTEXT",24:"EOF",25:"C4_CONTAINER",26:"C4_COMPONENT",27:"C4_DYNAMIC",28:"C4_DEPLOYMENT",32:"title",33:"accDescription",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",43:"LBRACE",44:"ENTERPRISE_BOUNDARY",46:"SYSTEM_BOUNDARY",47:"BOUNDARY",48:"CONTAINER_BOUNDARY",49:"NODE",50:"NODE_L",51:"NODE_R",52:"RBRACE",54:"PERSON",55:"PERSON_EXT",56:"SYSTEM",57:"SYSTEM_DB",58:"SYSTEM_QUEUE",59:"SYSTEM_EXT",60:"SYSTEM_EXT_DB",61:"SYSTEM_EXT_QUEUE",62:"CONTAINER",63:"CONTAINER_DB",64:"CONTAINER_QUEUE",65:"CONTAINER_EXT",66:"CONTAINER_EXT_DB",67:"CONTAINER_EXT_QUEUE",68:"COMPONENT",69:"COMPONENT_DB",70:"COMPONENT_QUEUE",71:"COMPONENT_EXT",72:"COMPONENT_EXT_DB",73:"COMPONENT_EXT_QUEUE",74:"REL",75:"BIREL",76:"REL_U",77:"REL_D",78:"REL_L",79:"REL_R",80:"REL_B",81:"REL_INDEX",82:"UPDATE_EL_STYLE",83:"UPDATE_REL_STYLE",84:"UPDATE_LAYOUT_CONFIG",86:"STR",87:"STR_KEY",88:"STR_VALUE",89:"ATTRIBUTE",90:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[3,2],[5,1],[5,1],[5,1],[5,1],[4,1],[6,4],[6,6],[12,1],[13,1],[17,1],[14,1],[11,4],[11,4],[11,4],[11,4],[11,4],[23,1],[23,1],[23,2],[29,1],[29,2],[29,3],[31,1],[31,1],[31,2],[31,2],[31,1],[39,3],[40,3],[40,3],[40,4],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[41,1],[30,1],[30,2],[30,3],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,1],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[45,1],[45,2],[85,1],[85,2],[85,1],[85,1]],performAction:function(Oe,Me,Fe,qe,et,Ae,_t){var Re=Ae.length-1;switch(et){case 4:qe.setDirection("TB");break;case 5:qe.setDirection("BT");break;case 6:qe.setDirection("RL");break;case 7:qe.setDirection("LR");break;case 11:qe.parseDirective("%%{","open_directive");break;case 12:break;case 13:Ae[Re]=Ae[Re].trim().replace(/'/g,'"'),qe.parseDirective(Ae[Re],"arg_directive");break;case 14:qe.parseDirective("}%%","close_directive","c4Context");break;case 15:case 16:case 17:case 18:case 19:qe.setC4Type(Ae[Re-3]);break;case 26:qe.setTitle(Ae[Re].substring(6)),this.$=Ae[Re].substring(6);break;case 27:qe.setAccDescription(Ae[Re].substring(15)),this.$=Ae[Re].substring(15);break;case 28:this.$=Ae[Re].trim(),qe.setTitle(this.$);break;case 29:case 30:this.$=Ae[Re].trim(),qe.setAccDescription(this.$);break;case 35:case 36:Ae[Re].splice(2,0,"ENTERPRISE"),qe.addPersonOrSystemBoundary(...Ae[Re]),this.$=Ae[Re];break;case 37:qe.addPersonOrSystemBoundary(...Ae[Re]),this.$=Ae[Re];break;case 38:Ae[Re].splice(2,0,"CONTAINER"),qe.addContainerBoundary(...Ae[Re]),this.$=Ae[Re];break;case 39:qe.addDeploymentNode("node",...Ae[Re]),this.$=Ae[Re];break;case 40:qe.addDeploymentNode("nodeL",...Ae[Re]),this.$=Ae[Re];break;case 41:qe.addDeploymentNode("nodeR",...Ae[Re]),this.$=Ae[Re];break;case 42:qe.popBoundaryParseStack();break;case 46:qe.addPersonOrSystem("person",...Ae[Re]),this.$=Ae[Re];break;case 47:qe.addPersonOrSystem("external_person",...Ae[Re]),this.$=Ae[Re];break;case 48:qe.addPersonOrSystem("system",...Ae[Re]),this.$=Ae[Re];break;case 49:qe.addPersonOrSystem("system_db",...Ae[Re]),this.$=Ae[Re];break;case 50:qe.addPersonOrSystem("system_queue",...Ae[Re]),this.$=Ae[Re];break;case 51:qe.addPersonOrSystem("external_system",...Ae[Re]),this.$=Ae[Re];break;case 52:qe.addPersonOrSystem("external_system_db",...Ae[Re]),this.$=Ae[Re];break;case 53:qe.addPersonOrSystem("external_system_queue",...Ae[Re]),this.$=Ae[Re];break;case 54:qe.addContainer("container",...Ae[Re]),this.$=Ae[Re];break;case 55:qe.addContainer("container_db",...Ae[Re]),this.$=Ae[Re];break;case 56:qe.addContainer("container_queue",...Ae[Re]),this.$=Ae[Re];break;case 57:qe.addContainer("external_container",...Ae[Re]),this.$=Ae[Re];break;case 58:qe.addContainer("external_container_db",...Ae[Re]),this.$=Ae[Re];break;case 59:qe.addContainer("external_container_queue",...Ae[Re]),this.$=Ae[Re];break;case 60:qe.addComponent("component",...Ae[Re]),this.$=Ae[Re];break;case 61:qe.addComponent("component_db",...Ae[Re]),this.$=Ae[Re];break;case 62:qe.addComponent("component_queue",...Ae[Re]),this.$=Ae[Re];break;case 63:qe.addComponent("external_component",...Ae[Re]),this.$=Ae[Re];break;case 64:qe.addComponent("external_component_db",...Ae[Re]),this.$=Ae[Re];break;case 65:qe.addComponent("external_component_queue",...Ae[Re]),this.$=Ae[Re];break;case 67:qe.addRel("rel",...Ae[Re]),this.$=Ae[Re];break;case 68:qe.addRel("birel",...Ae[Re]),this.$=Ae[Re];break;case 69:qe.addRel("rel_u",...Ae[Re]),this.$=Ae[Re];break;case 70:qe.addRel("rel_d",...Ae[Re]),this.$=Ae[Re];break;case 71:qe.addRel("rel_l",...Ae[Re]),this.$=Ae[Re];break;case 72:qe.addRel("rel_r",...Ae[Re]),this.$=Ae[Re];break;case 73:qe.addRel("rel_b",...Ae[Re]),this.$=Ae[Re];break;case 74:Ae[Re].splice(0,1),qe.addRel("rel",...Ae[Re]),this.$=Ae[Re];break;case 75:qe.updateElStyle("update_el_style",...Ae[Re]),this.$=Ae[Re];break;case 76:qe.updateRelStyle("update_rel_style",...Ae[Re]),this.$=Ae[Re];break;case 77:qe.updateLayoutConfig("update_layout_config",...Ae[Re]),this.$=Ae[Re];break;case 78:this.$=[Ae[Re]];break;case 79:Ae[Re].unshift(Ae[Re-1]),this.$=Ae[Re];break;case 80:case 82:this.$=Ae[Re].trim();break;case 81:let lt={};lt[Ae[Re-1].trim()]=Ae[Re].trim(),this.$=lt;break;case 83:this.$="";break}},table:[{3:1,4:2,5:3,6:4,7:t,8:r,9:n,10:o,11:5,12:10,18:l,22:u,25:h,26:f,27:d,28:p},{1:[3]},{1:[2,1]},{1:[2,2]},{3:17,4:2,5:3,6:4,7:t,8:r,9:n,10:o,11:5,12:10,18:l,22:u,25:h,26:f,27:d,28:p},{1:[2,8]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{1:[2,7]},{13:18,19:[1,19]},{15:[1,20]},{15:[1,21]},{15:[1,22]},{15:[1,23]},{15:[1,24]},{19:[2,11]},{1:[2,3]},{14:25,16:[1,26],21:m},e([16,21],[2,12]),{23:28,29:29,30:30,31:31,32:g,33:b,34:v,36:T,38:R,39:58,40:70,42:71,44:I,46:N,47:q,48:F,49:H,50:V,51:z,53:32,54:G,55:P,56:W,57:S,58:U,59:L,60:ae,61:Q,62:ue,63:_e,64:ke,65:de,66:ce,67:he,68:Se,69:ve,70:me,71:Ce,72:xe,73:Ne,74:pe,75:J,76:oe,77:ee,78:Z,79:ie,80:se,81:te,82:fe,83:we,84:Ye},{23:79,29:29,30:30,31:31,32:g,33:b,34:v,36:T,38:R,39:58,40:70,42:71,44:I,46:N,47:q,48:F,49:H,50:V,51:z,53:32,54:G,55:P,56:W,57:S,58:U,59:L,60:ae,61:Q,62:ue,63:_e,64:ke,65:de,66:ce,67:he,68:Se,69:ve,70:me,71:Ce,72:xe,73:Ne,74:pe,75:J,76:oe,77:ee,78:Z,79:ie,80:se,81:te,82:fe,83:we,84:Ye},{23:80,29:29,30:30,31:31,32:g,33:b,34:v,36:T,38:R,39:58,40:70,42:71,44:I,46:N,47:q,48:F,49:H,50:V,51:z,53:32,54:G,55:P,56:W,57:S,58:U,59:L,60:ae,61:Q,62:ue,63:_e,64:ke,65:de,66:ce,67:he,68:Se,69:ve,70:me,71:Ce,72:xe,73:Ne,74:pe,75:J,76:oe,77:ee,78:Z,79:ie,80:se,81:te,82:fe,83:we,84:Ye},{23:81,29:29,30:30,31:31,32:g,33:b,34:v,36:T,38:R,39:58,40:70,42:71,44:I,46:N,47:q,48:F,49:H,50:V,51:z,53:32,54:G,55:P,56:W,57:S,58:U,59:L,60:ae,61:Q,62:ue,63:_e,64:ke,65:de,66:ce,67:he,68:Se,69:ve,70:me,71:Ce,72:xe,73:Ne,74:pe,75:J,76:oe,77:ee,78:Z,79:ie,80:se,81:te,82:fe,83:we,84:Ye},{23:82,29:29,30:30,31:31,32:g,33:b,34:v,36:T,38:R,39:58,40:70,42:71,44:I,46:N,47:q,48:F,49:H,50:V,51:z,53:32,54:G,55:P,56:W,57:S,58:U,59:L,60:ae,61:Q,62:ue,63:_e,64:ke,65:de,66:ce,67:he,68:Se,69:ve,70:me,71:Ce,72:xe,73:Ne,74:pe,75:J,76:oe,77:ee,78:Z,79:ie,80:se,81:te,82:fe,83:we,84:Ye},{15:[1,83]},{17:84,20:[1,85]},{15:[2,14]},{24:[1,86]},e(He,[2,20],{53:32,39:58,40:70,42:71,30:87,44:I,46:N,47:q,48:F,49:H,50:V,51:z,54:G,55:P,56:W,57:S,58:U,59:L,60:ae,61:Q,62:ue,63:_e,64:ke,65:de,66:ce,67:he,68:Se,69:ve,70:me,71:Ce,72:xe,73:Ne,74:pe,75:J,76:oe,77:ee,78:Z,79:ie,80:se,81:te,82:fe,83:we,84:Ye}),e(He,[2,21]),e(je,[2,23],{15:[1,88]}),e(He,[2,43],{15:[1,89]}),e(Pe,[2,26]),e(Pe,[2,27]),{35:[1,90]},{37:[1,91]},e(Pe,[2,30]),{45:92,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:98,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:99,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:100,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:101,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:102,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:103,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:104,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:105,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:106,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:107,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:108,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:109,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:110,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:111,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:112,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:113,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:114,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:115,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:116,85:93,86:Ee,87:Ie,89:Le,90:Be},e(Te,[2,66]),{45:117,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:118,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:119,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:120,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:121,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:122,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:123,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:124,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:125,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:126,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:127,85:93,86:Ee,87:Ie,89:Le,90:Be},{30:128,39:58,40:70,42:71,44:I,46:N,47:q,48:F,49:H,50:V,51:z,53:32,54:G,55:P,56:W,57:S,58:U,59:L,60:ae,61:Q,62:ue,63:_e,64:ke,65:de,66:ce,67:he,68:Se,69:ve,70:me,71:Ce,72:xe,73:Ne,74:pe,75:J,76:oe,77:ee,78:Z,79:ie,80:se,81:te,82:fe,83:we,84:Ye},{15:[1,130],43:[1,129]},{45:131,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:132,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:133,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:134,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:135,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:136,85:93,86:Ee,87:Ie,89:Le,90:Be},{45:137,85:93,86:Ee,87:Ie,89:Le,90:Be},{24:[1,138]},{24:[1,139]},{24:[1,140]},{24:[1,141]},e(dt,[2,9]),{14:142,21:m},{21:[2,13]},{1:[2,15]},e(He,[2,22]),e(je,[2,24],{31:31,29:143,32:g,33:b,34:v,36:T,38:R}),e(He,[2,44],{29:29,30:30,31:31,53:32,39:58,40:70,42:71,23:144,32:g,33:b,34:v,36:T,38:R,44:I,46:N,47:q,48:F,49:H,50:V,51:z,54:G,55:P,56:W,57:S,58:U,59:L,60:ae,61:Q,62:ue,63:_e,64:ke,65:de,66:ce,67:he,68:Se,69:ve,70:me,71:Ce,72:xe,73:Ne,74:pe,75:J,76:oe,77:ee,78:Z,79:ie,80:se,81:te,82:fe,83:we,84:Ye}),e(Pe,[2,28]),e(Pe,[2,29]),e(Te,[2,46]),e(Ge,[2,78],{85:93,45:145,86:Ee,87:Ie,89:Le,90:Be}),e(rt,[2,80]),{88:[1,146]},e(rt,[2,82]),e(rt,[2,83]),e(Te,[2,47]),e(Te,[2,48]),e(Te,[2,49]),e(Te,[2,50]),e(Te,[2,51]),e(Te,[2,52]),e(Te,[2,53]),e(Te,[2,54]),e(Te,[2,55]),e(Te,[2,56]),e(Te,[2,57]),e(Te,[2,58]),e(Te,[2,59]),e(Te,[2,60]),e(Te,[2,61]),e(Te,[2,62]),e(Te,[2,63]),e(Te,[2,64]),e(Te,[2,65]),e(Te,[2,67]),e(Te,[2,68]),e(Te,[2,69]),e(Te,[2,70]),e(Te,[2,71]),e(Te,[2,72]),e(Te,[2,73]),e(Te,[2,74]),e(Te,[2,75]),e(Te,[2,76]),e(Te,[2,77]),{41:147,52:[1,148]},{15:[1,149]},{43:[1,150]},e(it,[2,35]),e(it,[2,36]),e(it,[2,37]),e(it,[2,38]),e(it,[2,39]),e(it,[2,40]),e(it,[2,41]),{1:[2,16]},{1:[2,17]},{1:[2,18]},{1:[2,19]},{15:[1,151]},e(je,[2,25]),e(He,[2,45]),e(Ge,[2,79]),e(rt,[2,81]),e(Te,[2,31]),e(Te,[2,42]),e(st,[2,32]),e(st,[2,33],{15:[1,152]}),e(dt,[2,10]),e(st,[2,34])],defaultActions:{2:[2,1],3:[2,2],5:[2,8],6:[2,4],7:[2,5],8:[2,6],9:[2,7],16:[2,11],17:[2,3],27:[2,14],85:[2,13],86:[2,15],138:[2,16],139:[2,17],140:[2,18],141:[2,19]},parseError:function(Oe,Me){if(Me.recoverable)this.trace(Oe);else{var Fe=new Error(Oe);throw Fe.hash=Me,Fe}},parse:function(Oe){var Me=this,Fe=[0],qe=[],et=[null],Ae=[],_t=this.table,Re="",lt=0,xt=0,bt=2,$t=1,kt=Ae.slice.call(arguments,1),tt=Object.create(this.lexer),ht={yy:{}};for(var vt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,vt)&&(ht.yy[vt]=this.yy[vt]);tt.setInput(Oe,ht.yy),ht.yy.lexer=tt,ht.yy.parser=this,typeof tt.yylloc>"u"&&(tt.yylloc={});var gt=tt.yylloc;Ae.push(gt);var tr=tt.options&&tt.options.ranges;typeof ht.yy.parseError=="function"?this.parseError=ht.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ht(){var ot;return ot=qe.pop()||tt.lex()||$t,typeof ot!="number"&&(ot instanceof Array&&(qe=ot,ot=qe.pop()),ot=Me.symbols_[ot]||ot),ot}for(var St,ft,Nt,Pt,Lt={},qt,Xe,ye,Ue;;){if(ft=Fe[Fe.length-1],this.defaultActions[ft]?Nt=this.defaultActions[ft]:((St===null||typeof St>"u")&&(St=Ht()),Nt=_t[ft]&&_t[ft][St]),typeof Nt>"u"||!Nt.length||!Nt[0]){var Ve="";Ue=[];for(qt in _t[ft])this.terminals_[qt]&&qt>bt&&Ue.push("'"+this.terminals_[qt]+"'");tt.showPosition?Ve="Parse error on line "+(lt+1)+`:
`+tt.showPosition()+`
Expecting `+Ue.join(", ")+", got '"+(this.terminals_[St]||St)+"'":Ve="Parse error on line "+(lt+1)+": Unexpected "+(St==$t?"end of input":"'"+(this.terminals_[St]||St)+"'"),this.parseError(Ve,{text:tt.match,token:this.terminals_[St]||St,line:tt.yylineno,loc:gt,expected:Ue})}if(Nt[0]instanceof Array&&Nt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ft+", token: "+St);switch(Nt[0]){case 1:Fe.push(St),et.push(tt.yytext),Ae.push(tt.yylloc),Fe.push(Nt[1]),St=null,xt=tt.yyleng,Re=tt.yytext,lt=tt.yylineno,gt=tt.yylloc;break;case 2:if(Xe=this.productions_[Nt[1]][1],Lt.$=et[et.length-Xe],Lt._$={first_line:Ae[Ae.length-(Xe||1)].first_line,last_line:Ae[Ae.length-1].last_line,first_column:Ae[Ae.length-(Xe||1)].first_column,last_column:Ae[Ae.length-1].last_column},tr&&(Lt._$.range=[Ae[Ae.length-(Xe||1)].range[0],Ae[Ae.length-1].range[1]]),Pt=this.performAction.apply(Lt,[Re,xt,lt,ht.yy,Nt[1],et,Ae].concat(kt)),typeof Pt<"u")return Pt;Xe&&(Fe=Fe.slice(0,-1*Xe*2),et=et.slice(0,-1*Xe),Ae=Ae.slice(0,-1*Xe)),Fe.push(this.productions_[Nt[1]][0]),et.push(Lt.$),Ae.push(Lt._$),ye=_t[Fe[Fe.length-2]][Fe[Fe.length-1]],Fe.push(ye);break;case 3:return!0}}return!0}},nt=function(){var Je={EOF:1,parseError:function(Me,Fe){if(this.yy.parser)this.yy.parser.parseError(Me,Fe);else throw new Error(Me)},setInput:function(Oe,Me){return this.yy=Me||this.yy||{},this._input=Oe,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Oe=this._input[0];this.yytext+=Oe,this.yyleng++,this.offset++,this.match+=Oe,this.matched+=Oe;var Me=Oe.match(/(?:\r\n?|\n).*/g);return Me?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Oe},unput:function(Oe){var Me=Oe.length,Fe=Oe.split(/(?:\r\n?|\n)/g);this._input=Oe+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Me),this.offset-=Me;var qe=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Fe.length-1&&(this.yylineno-=Fe.length-1);var et=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Fe?(Fe.length===qe.length?this.yylloc.first_column:0)+qe[qe.length-Fe.length].length-Fe[0].length:this.yylloc.first_column-Me},this.options.ranges&&(this.yylloc.range=[et[0],et[0]+this.yyleng-Me]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Oe){this.unput(this.match.slice(Oe))},pastInput:function(){var Oe=this.matched.substr(0,this.matched.length-this.match.length);return(Oe.length>20?"...":"")+Oe.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Oe=this.match;return Oe.length<20&&(Oe+=this._input.substr(0,20-Oe.length)),(Oe.substr(0,20)+(Oe.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Oe=this.pastInput(),Me=new Array(Oe.length+1).join("-");return Oe+this.upcomingInput()+`
`+Me+"^"},test_match:function(Oe,Me){var Fe,qe,et;if(this.options.backtrack_lexer&&(et={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(et.yylloc.range=this.yylloc.range.slice(0))),qe=Oe[0].match(/(?:\r\n?|\n).*/g),qe&&(this.yylineno+=qe.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:qe?qe[qe.length-1].length-qe[qe.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Oe[0].length},this.yytext+=Oe[0],this.match+=Oe[0],this.matches=Oe,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Oe[0].length),this.matched+=Oe[0],Fe=this.performAction.call(this,this.yy,this,Me,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Fe)return Fe;if(this._backtrack){for(var Ae in et)this[Ae]=et[Ae];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Oe,Me,Fe,qe;this._more||(this.yytext="",this.match="");for(var et=this._currentRules(),Ae=0;Ae<et.length;Ae++)if(Fe=this._input.match(this.rules[et[Ae]]),Fe&&(!Me||Fe[0].length>Me[0].length)){if(Me=Fe,qe=Ae,this.options.backtrack_lexer){if(Oe=this.test_match(Fe,et[Ae]),Oe!==!1)return Oe;if(this._backtrack){Me=!1;continue}else return!1}else if(!this.options.flex)break}return Me?(Oe=this.test_match(Me,et[qe]),Oe!==!1?Oe:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Me=this.next();return Me||this.lex()},begin:function(Me){this.conditionStack.push(Me)},popState:function(){var Me=this.conditionStack.length-1;return Me>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Me){return Me=this.conditionStack.length-1-Math.abs(Me||0),Me>=0?this.conditionStack[Me]:"INITIAL"},pushState:function(Me){this.begin(Me)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Me,Fe,qe,et){switch(qe){case 0:return this.begin("open_directive"),18;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 10;case 5:return this.begin("type_directive"),19;case 6:return this.popState(),this.begin("arg_directive"),16;case 7:return this.popState(),this.popState(),21;case 8:return 20;case 9:return 32;case 10:return 33;case 11:return this.begin("acc_title"),34;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),36;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:break;case 19:c;break;case 20:return 15;case 21:break;case 22:return 22;case 23:return 25;case 24:return 26;case 25:return 27;case 26:return 28;case 27:return this.begin("person_ext"),55;case 28:return this.begin("person"),54;case 29:return this.begin("system_ext_queue"),61;case 30:return this.begin("system_ext_db"),60;case 31:return this.begin("system_ext"),59;case 32:return this.begin("system_queue"),58;case 33:return this.begin("system_db"),57;case 34:return this.begin("system"),56;case 35:return this.begin("boundary"),47;case 36:return this.begin("enterprise_boundary"),44;case 37:return this.begin("system_boundary"),46;case 38:return this.begin("container_ext_queue"),67;case 39:return this.begin("container_ext_db"),66;case 40:return this.begin("container_ext"),65;case 41:return this.begin("container_queue"),64;case 42:return this.begin("container_db"),63;case 43:return this.begin("container"),62;case 44:return this.begin("container_boundary"),48;case 45:return this.begin("component_ext_queue"),73;case 46:return this.begin("component_ext_db"),72;case 47:return this.begin("component_ext"),71;case 48:return this.begin("component_queue"),70;case 49:return this.begin("component_db"),69;case 50:return this.begin("component"),68;case 51:return this.begin("node"),49;case 52:return this.begin("node"),49;case 53:return this.begin("node_l"),50;case 54:return this.begin("node_r"),51;case 55:return this.begin("rel"),74;case 56:return this.begin("birel"),75;case 57:return this.begin("rel_u"),76;case 58:return this.begin("rel_u"),76;case 59:return this.begin("rel_d"),77;case 60:return this.begin("rel_d"),77;case 61:return this.begin("rel_l"),78;case 62:return this.begin("rel_l"),78;case 63:return this.begin("rel_r"),79;case 64:return this.begin("rel_r"),79;case 65:return this.begin("rel_b"),80;case 66:return this.begin("rel_index"),81;case 67:return this.begin("update_el_style"),82;case 68:return this.begin("update_rel_style"),83;case 69:return this.begin("update_layout_config"),84;case 70:return"EOF_IN_STRUCT";case 71:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 72:this.begin("attribute");break;case 73:this.popState(),this.popState();break;case 74:return 90;case 75:break;case 76:return 90;case 77:this.begin("string");break;case 78:this.popState();break;case 79:return"STR";case 80:this.begin("string_kv");break;case 81:return this.begin("string_kv_key"),"STR_KEY";case 82:this.popState(),this.begin("string_kv_value");break;case 83:return"STR_VALUE";case 84:this.popState(),this.popState();break;case 85:return"STR";case 86:return"LBRACE";case 87:return"RBRACE";case 88:return"SPACE";case 89:return"EOL";case 90:return 24}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},string_kv_value:{rules:[83,84],inclusive:!1},string_kv_key:{rules:[82],inclusive:!1},string_kv:{rules:[81],inclusive:!1},string:{rules:[78,79],inclusive:!1},attribute:{rules:[73,74,75,76,77,80,85],inclusive:!1},update_layout_config:{rules:[70,71,72,73],inclusive:!1},update_rel_style:{rules:[70,71,72,73],inclusive:!1},update_el_style:{rules:[70,71,72,73],inclusive:!1},rel_b:{rules:[70,71,72,73],inclusive:!1},rel_r:{rules:[70,71,72,73],inclusive:!1},rel_l:{rules:[70,71,72,73],inclusive:!1},rel_d:{rules:[70,71,72,73],inclusive:!1},rel_u:{rules:[70,71,72,73],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[70,71,72,73],inclusive:!1},node_r:{rules:[70,71,72,73],inclusive:!1},node_l:{rules:[70,71,72,73],inclusive:!1},node:{rules:[70,71,72,73],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[70,71,72,73],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[70,71,72,73],inclusive:!1},component_ext:{rules:[70,71,72,73],inclusive:!1},component_queue:{rules:[70,71,72,73],inclusive:!1},component_db:{rules:[70,71,72,73],inclusive:!1},component:{rules:[70,71,72,73],inclusive:!1},container_boundary:{rules:[70,71,72,73],inclusive:!1},container_ext_queue:{rules:[],inclusive:!1},container_ext_db:{rules:[70,71,72,73],inclusive:!1},container_ext:{rules:[70,71,72,73],inclusive:!1},container_queue:{rules:[70,71,72,73],inclusive:!1},container_db:{rules:[70,71,72,73],inclusive:!1},container:{rules:[70,71,72,73],inclusive:!1},birel:{rules:[70,71,72,73],inclusive:!1},system_boundary:{rules:[70,71,72,73],inclusive:!1},enterprise_boundary:{rules:[70,71,72,73],inclusive:!1},boundary:{rules:[70,71,72,73],inclusive:!1},system_ext_queue:{rules:[70,71,72,73],inclusive:!1},system_ext_db:{rules:[70,71,72,73],inclusive:!1},system_ext:{rules:[70,71,72,73],inclusive:!1},system_queue:{rules:[70,71,72,73],inclusive:!1},system_db:{rules:[70,71,72,73],inclusive:!1},system:{rules:[70,71,72,73],inclusive:!1},person_ext:{rules:[70,71,72,73],inclusive:!1},person:{rules:[70,71,72,73],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,86,87,88,89,90],inclusive:!0}}};return Je}();wt.lexer=nt;function Ke(){this.yy={}}return Ke.prototype=wt,wt.Parser=Ke,new Ke}();parser$a.parser=parser$a;const c4Detector=e=>e.match(/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/)!==null;let c4ShapeArray=[],boundaryParseStack=[""],currentBoundaryParse="global",parentBoundaryParse="",boundarys=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],rels=[],title="",wrapEnabled$1=!1,c4ShapeInRow$1=4,c4BoundaryInRow$1=2;var c4Type;const getC4Type=function(){return c4Type},setC4Type=function(e){c4Type=sanitizeText$5(e,getConfig$1())},parseDirective$a=function(e,t,r){mermaidAPI.parseDirective(this,e,t,r)},addRel=function(e,t,r,n,o,l,u,h,f){if(e==null||t===void 0||t===null||r===void 0||r===null||n===void 0||n===null)return;let d={};const p=rels.find(m=>m.from===t&&m.to===r);if(p?d=p:rels.push(d),d.type=e,d.from=t,d.to=r,d.label={text:n},o==null)d.techn={text:""};else if(typeof o=="object"){let[m,g]=Object.entries(o)[0];d[m]={text:g}}else d.techn={text:o};if(l==null)d.descr={text:""};else if(typeof l=="object"){let[m,g]=Object.entries(l)[0];d[m]={text:g}}else d.descr={text:l};if(typeof u=="object"){let[m,g]=Object.entries(u)[0];d[m]=g}else d.sprite=u;if(typeof h=="object"){let[m,g]=Object.entries(h)[0];d[m]=g}else d.tags=h;if(typeof f=="object"){let[m,g]=Object.entries(f)[0];d[m]=g}else d.link=f;d.wrap=autoWrap$1()},addPersonOrSystem=function(e,t,r,n,o,l,u){if(t===null||r===null)return;let h={};const f=c4ShapeArray.find(d=>d.alias===t);if(f&&t===f.alias?h=f:(h.alias=t,c4ShapeArray.push(h)),r==null?h.label={text:""}:h.label={text:r},n==null)h.descr={text:""};else if(typeof n=="object"){let[d,p]=Object.entries(n)[0];h[d]={text:p}}else h.descr={text:n};if(typeof o=="object"){let[d,p]=Object.entries(o)[0];h[d]=p}else h.sprite=o;if(typeof l=="object"){let[d,p]=Object.entries(l)[0];h[d]=p}else h.tags=l;if(typeof u=="object"){let[d,p]=Object.entries(u)[0];h[d]=p}else h.link=u;h.typeC4Shape={text:e},h.parentBoundary=currentBoundaryParse,h.wrap=autoWrap$1()},addContainer=function(e,t,r,n,o,l,u,h){if(t===null||r===null)return;let f={};const d=c4ShapeArray.find(p=>p.alias===t);if(d&&t===d.alias?f=d:(f.alias=t,c4ShapeArray.push(f)),r==null?f.label={text:""}:f.label={text:r},n==null)f.techn={text:""};else if(typeof n=="object"){let[p,m]=Object.entries(n)[0];f[p]={text:m}}else f.techn={text:n};if(o==null)f.descr={text:""};else if(typeof o=="object"){let[p,m]=Object.entries(o)[0];f[p]={text:m}}else f.descr={text:o};if(typeof l=="object"){let[p,m]=Object.entries(l)[0];f[p]=m}else f.sprite=l;if(typeof u=="object"){let[p,m]=Object.entries(u)[0];f[p]=m}else f.tags=u;if(typeof h=="object"){let[p,m]=Object.entries(h)[0];f[p]=m}else f.link=h;f.wrap=autoWrap$1(),f.typeC4Shape={text:e},f.parentBoundary=currentBoundaryParse},addComponent=function(e,t,r,n,o,l,u,h){if(t===null||r===null)return;let f={};const d=c4ShapeArray.find(p=>p.alias===t);if(d&&t===d.alias?f=d:(f.alias=t,c4ShapeArray.push(f)),r==null?f.label={text:""}:f.label={text:r},n==null)f.techn={text:""};else if(typeof n=="object"){let[p,m]=Object.entries(n)[0];f[p]={text:m}}else f.techn={text:n};if(o==null)f.descr={text:""};else if(typeof o=="object"){let[p,m]=Object.entries(o)[0];f[p]={text:m}}else f.descr={text:o};if(typeof l=="object"){let[p,m]=Object.entries(l)[0];f[p]=m}else f.sprite=l;if(typeof u=="object"){let[p,m]=Object.entries(u)[0];f[p]=m}else f.tags=u;if(typeof h=="object"){let[p,m]=Object.entries(h)[0];f[p]=m}else f.link=h;f.wrap=autoWrap$1(),f.typeC4Shape={text:e},f.parentBoundary=currentBoundaryParse},addPersonOrSystemBoundary=function(e,t,r,n,o){if(e===null||t===null)return;let l={};const u=boundarys.find(h=>h.alias===e);if(u&&e===u.alias?l=u:(l.alias=e,boundarys.push(l)),t==null?l.label={text:""}:l.label={text:t},r==null)l.type={text:"system"};else if(typeof r=="object"){let[h,f]=Object.entries(r)[0];l[h]={text:f}}else l.type={text:r};if(typeof n=="object"){let[h,f]=Object.entries(n)[0];l[h]=f}else l.tags=n;if(typeof o=="object"){let[h,f]=Object.entries(o)[0];l[h]=f}else l.link=o;l.parentBoundary=currentBoundaryParse,l.wrap=autoWrap$1(),parentBoundaryParse=currentBoundaryParse,currentBoundaryParse=e,boundaryParseStack.push(parentBoundaryParse)},addContainerBoundary=function(e,t,r,n,o){if(e===null||t===null)return;let l={};const u=boundarys.find(h=>h.alias===e);if(u&&e===u.alias?l=u:(l.alias=e,boundarys.push(l)),t==null?l.label={text:""}:l.label={text:t},r==null)l.type={text:"container"};else if(typeof r=="object"){let[h,f]=Object.entries(r)[0];l[h]={text:f}}else l.type={text:r};if(typeof n=="object"){let[h,f]=Object.entries(n)[0];l[h]=f}else l.tags=n;if(typeof o=="object"){let[h,f]=Object.entries(o)[0];l[h]=f}else l.link=o;l.parentBoundary=currentBoundaryParse,l.wrap=autoWrap$1(),parentBoundaryParse=currentBoundaryParse,currentBoundaryParse=e,boundaryParseStack.push(parentBoundaryParse)},addDeploymentNode=function(e,t,r,n,o,l,u,h){if(t===null||r===null)return;let f={};const d=boundarys.find(p=>p.alias===t);if(d&&t===d.alias?f=d:(f.alias=t,boundarys.push(f)),r==null?f.label={text:""}:f.label={text:r},n==null)f.type={text:"node"};else if(typeof n=="object"){let[p,m]=Object.entries(n)[0];f[p]={text:m}}else f.type={text:n};if(o==null)f.descr={text:""};else if(typeof o=="object"){let[p,m]=Object.entries(o)[0];f[p]={text:m}}else f.descr={text:o};if(typeof u=="object"){let[p,m]=Object.entries(u)[0];f[p]=m}else f.tags=u;if(typeof h=="object"){let[p,m]=Object.entries(h)[0];f[p]=m}else f.link=h;f.nodeType=e,f.parentBoundary=currentBoundaryParse,f.wrap=autoWrap$1(),parentBoundaryParse=currentBoundaryParse,currentBoundaryParse=t,boundaryParseStack.push(parentBoundaryParse)},popBoundaryParseStack=function(){currentBoundaryParse=parentBoundaryParse,boundaryParseStack.pop(),parentBoundaryParse=boundaryParseStack.pop(),boundaryParseStack.push(parentBoundaryParse)},updateElStyle=function(e,t,r,n,o,l,u,h,f,d,p){let m=c4ShapeArray.find(g=>g.alias===t);if(!(m===void 0&&(m=boundarys.find(g=>g.alias===t),m===void 0))){if(r!=null)if(typeof r=="object"){let[g,b]=Object.entries(r)[0];m[g]=b}else m.bgColor=r;if(n!=null)if(typeof n=="object"){let[g,b]=Object.entries(n)[0];m[g]=b}else m.fontColor=n;if(o!=null)if(typeof o=="object"){let[g,b]=Object.entries(o)[0];m[g]=b}else m.borderColor=o;if(l!=null)if(typeof l=="object"){let[g,b]=Object.entries(l)[0];m[g]=b}else m.shadowing=l;if(u!=null)if(typeof u=="object"){let[g,b]=Object.entries(u)[0];m[g]=b}else m.shape=u;if(h!=null)if(typeof h=="object"){let[g,b]=Object.entries(h)[0];m[g]=b}else m.sprite=h;if(f!=null)if(typeof f=="object"){let[g,b]=Object.entries(f)[0];m[g]=b}else m.techn=f;if(d!=null)if(typeof d=="object"){let[g,b]=Object.entries(d)[0];m[g]=b}else m.legendText=d;if(p!=null)if(typeof p=="object"){let[g,b]=Object.entries(p)[0];m[g]=b}else m.legendSprite=p}},updateRelStyle=function(e,t,r,n,o,l,u){const h=rels.find(f=>f.from===t&&f.to===r);if(h!==void 0){if(n!=null)if(typeof n=="object"){let[f,d]=Object.entries(n)[0];h[f]=d}else h.textColor=n;if(o!=null)if(typeof o=="object"){let[f,d]=Object.entries(o)[0];h[f]=d}else h.lineColor=o;if(l!=null)if(typeof l=="object"){let[f,d]=Object.entries(l)[0];h[f]=parseInt(d)}else h.offsetX=parseInt(l);if(u!=null)if(typeof u=="object"){let[f,d]=Object.entries(u)[0];h[f]=parseInt(d)}else h.offsetY=parseInt(u)}},updateLayoutConfig=function(e,t,r){let n=c4ShapeInRow$1,o=c4BoundaryInRow$1;if(typeof t=="object"){const l=Object.values(t)[0];n=parseInt(l)}else n=parseInt(t);if(typeof r=="object"){const l=Object.values(r)[0];o=parseInt(l)}else o=parseInt(r);n>=1&&(c4ShapeInRow$1=n),o>=1&&(c4BoundaryInRow$1=o)},getC4ShapeInRow=function(){return c4ShapeInRow$1},getC4BoundaryInRow=function(){return c4BoundaryInRow$1},getCurrentBoundaryParse=function(){return currentBoundaryParse},getParentBoundaryParse=function(){return parentBoundaryParse},getC4ShapeArray=function(e){return e==null?c4ShapeArray:c4ShapeArray.filter(t=>t.parentBoundary===e)},getC4Shape=function(e){return c4ShapeArray.find(t=>t.alias===e)},getC4ShapeKeys=function(e){return Object.keys(getC4ShapeArray(e))},getBoundarys=function(e){return e==null?boundarys:boundarys.filter(t=>t.parentBoundary===e)},getRels=function(){return rels},getTitle=function(){return title},setWrap$1=function(e){wrapEnabled$1=e},autoWrap$1=function(){return wrapEnabled$1},clear$d=function(){c4ShapeArray=[],boundarys=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],parentBoundaryParse="",currentBoundaryParse="global",boundaryParseStack=[""],rels=[],boundaryParseStack=[""],title="",wrapEnabled$1=!1,c4ShapeInRow$1=4,c4BoundaryInRow$1=2},LINETYPE$1={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},ARROWTYPE$1={FILLED:0,OPEN:1},PLACEMENT$1={LEFTOF:0,RIGHTOF:1,OVER:2},setTitle=function(e){title=sanitizeText$5(e,getConfig$1())},c4Db={addPersonOrSystem,addPersonOrSystemBoundary,addContainer,addContainerBoundary,addComponent,addDeploymentNode,popBoundaryParseStack,addRel,updateElStyle,updateRelStyle,updateLayoutConfig,autoWrap:autoWrap$1,setWrap:setWrap$1,getC4ShapeArray,getC4Shape,getC4ShapeKeys,getBoundarys,getCurrentBoundaryParse,getParentBoundaryParse,getRels,getTitle,getC4Type,getC4ShapeInRow,getC4BoundaryInRow,setAccTitle,getAccTitle,getAccDescription,setAccDescription,parseDirective:parseDirective$a,getConfig:()=>getConfig$1().c4,clear:clear$d,LINETYPE:LINETYPE$1,ARROWTYPE:ARROWTYPE$1,PLACEMENT:PLACEMENT$1,setTitle,setC4Type},drawRect$2=function(e,t){const r=e.append("rect");if(r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),r.attr("rx",t.rx),r.attr("ry",t.ry),t.attrs!=="undefined"&&t.attrs!==null)for(let n in t.attrs)r.attr(n,t.attrs[n]);return t.class!=="undefined"&&r.attr("class",t.class),r},drawImage$1=function(e,t,r,n,o,l){const u=e.append("image");u.attr("width",t),u.attr("height",r),u.attr("x",n),u.attr("y",o);let h=l.startsWith("data:image/png;base64")?l:sanitizeUrl_1(l);u.attr("xlink:href",h)},drawEmbeddedImage$1=function(e,t,r,n){const o=e.append("use");o.attr("x",t),o.attr("y",r);var l=sanitizeUrl_1(n);o.attr("xlink:href","#"+l)},drawText$2=function(e,t){let r=0,n=0;const o=t.text.split(common.lineBreakRegex);let l=[],u=0,h=()=>t.y;if(typeof t.valign<"u"&&typeof t.textMargin<"u"&&t.textMargin>0)switch(t.valign){case"top":case"start":h=()=>Math.round(t.y+t.textMargin);break;case"middle":case"center":h=()=>Math.round(t.y+(r+n+t.textMargin)/2);break;case"bottom":case"end":h=()=>Math.round(t.y+(r+n+2*t.textMargin)-t.textMargin);break}if(typeof t.anchor<"u"&&typeof t.textMargin<"u"&&typeof t.width<"u")switch(t.anchor){case"left":case"start":t.x=Math.round(t.x+t.textMargin),t.anchor="start",t.dominantBaseline="text-after-edge",t.alignmentBaseline="middle";break;case"middle":case"center":t.x=Math.round(t.x+t.width/2),t.anchor="middle",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"right":case"end":t.x=Math.round(t.x+t.width-t.textMargin),t.anchor="end",t.dominantBaseline="text-before-edge",t.alignmentBaseline="middle";break}for(let f=0;f<o.length;f++){let d=o[f];typeof t.textMargin<"u"&&t.textMargin===0&&typeof t.fontSize<"u"&&(u=f*t.fontSize);const p=e.append("text");if(p.attr("x",t.x),p.attr("y",h()),typeof t.anchor<"u"&&p.attr("text-anchor",t.anchor).attr("dominant-baseline",t.dominantBaseline).attr("alignment-baseline",t.alignmentBaseline),typeof t.fontFamily<"u"&&p.style("font-family",t.fontFamily),typeof t.fontSize<"u"&&p.style("font-size",t.fontSize),typeof t.fontWeight<"u"&&p.style("font-weight",t.fontWeight),typeof t.fill<"u"&&p.attr("fill",t.fill),typeof t.class<"u"&&p.attr("class",t.class),typeof t.dy<"u"?p.attr("dy",t.dy):u!==0&&p.attr("dy",u),t.tspan){const m=p.append("tspan");m.attr("x",t.x),typeof t.fill<"u"&&m.attr("fill",t.fill),m.text(d)}else p.text(d);typeof t.valign<"u"&&typeof t.textMargin<"u"&&t.textMargin>0&&(n+=(p._groups||p)[0][0].getBBox().height,r=n),l.push(p)}return l},drawLabel$2=function(e,t){function r(o,l,u,h,f){return o+","+l+" "+(o+u)+","+l+" "+(o+u)+","+(l+h-f)+" "+(o+u-f*1.2)+","+(l+h)+" "+o+","+(l+h)}const n=e.append("polygon");return n.attr("points",r(t.x,t.y,t.width,t.height,7)),n.attr("class","labelBox"),t.y=t.y+t.height/2,drawText$2(e,t),n},drawRels$1=(e,t,r)=>{const n=e.append("g");let o=0;for(let l of t){let u=l.textColor?l.textColor:"#444444",h=l.lineColor?l.lineColor:"#444444",f=l.offsetX?parseInt(l.offsetX):0,d=l.offsetY?parseInt(l.offsetY):0,p="";if(o===0){let g=n.append("line");g.attr("x1",l.startPoint.x),g.attr("y1",l.startPoint.y),g.attr("x2",l.endPoint.x),g.attr("y2",l.endPoint.y),g.attr("stroke-width","1"),g.attr("stroke",h),g.style("fill","none"),l.type!=="rel_b"&&g.attr("marker-end","url("+p+"#arrowhead)"),(l.type==="birel"||l.type==="rel_b")&&g.attr("marker-start","url("+p+"#arrowend)"),o=-1}else{let g=n.append("path");g.attr("fill","none").attr("stroke-width","1").attr("stroke",h).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",l.startPoint.x).replaceAll("starty",l.startPoint.y).replaceAll("controlx",l.startPoint.x+(l.endPoint.x-l.startPoint.x)/2-(l.endPoint.x-l.startPoint.x)/4).replaceAll("controly",l.startPoint.y+(l.endPoint.y-l.startPoint.y)/2).replaceAll("stopx",l.endPoint.x).replaceAll("stopy",l.endPoint.y)),l.type!=="rel_b"&&g.attr("marker-end","url("+p+"#arrowhead)"),(l.type==="birel"||l.type==="rel_b")&&g.attr("marker-start","url("+p+"#arrowend)")}let m=r.messageFont();_drawTextCandidateFunc$2(r)(l.label.text,n,Math.min(l.startPoint.x,l.endPoint.x)+Math.abs(l.endPoint.x-l.startPoint.x)/2+f,Math.min(l.startPoint.y,l.endPoint.y)+Math.abs(l.endPoint.y-l.startPoint.y)/2+d,l.label.width,l.label.height,{fill:u},m),l.techn&&l.techn.text!==""&&(m=r.messageFont(),_drawTextCandidateFunc$2(r)("["+l.techn.text+"]",n,Math.min(l.startPoint.x,l.endPoint.x)+Math.abs(l.endPoint.x-l.startPoint.x)/2+f,Math.min(l.startPoint.y,l.endPoint.y)+Math.abs(l.endPoint.y-l.startPoint.y)/2+r.messageFontSize+5+d,Math.max(l.label.width,l.techn.width),l.techn.height,{fill:u,"font-style":"italic"},m))}},drawBoundary$1=function(e,t,r){const n=e.append("g");let o=t.bgColor?t.bgColor:"none",l=t.borderColor?t.borderColor:"#444444",u=t.fontColor?t.fontColor:"black",h={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};t.nodeType&&(h={"stroke-width":1});let f={x:t.x,y:t.y,fill:o,stroke:l,width:t.width,height:t.height,rx:2.5,ry:2.5,attrs:h};drawRect$2(n,f);let d=r.boundaryFont();d.fontWeight="bold",d.fontSize=d.fontSize+2,d.fontColor=u,_drawTextCandidateFunc$2(r)(t.label.text,n,t.x,t.y+t.label.Y,t.width,t.height,{fill:"#444444"},d),t.type&&t.type.text!==""&&(d=r.boundaryFont(),d.fontColor=u,_drawTextCandidateFunc$2(r)(t.type.text,n,t.x,t.y+t.type.Y,t.width,t.height,{fill:"#444444"},d)),t.descr&&t.descr.text!==""&&(d=r.boundaryFont(),d.fontSize=d.fontSize-2,d.fontColor=u,_drawTextCandidateFunc$2(r)(t.descr.text,n,t.x,t.y+t.descr.Y,t.width,t.height,{fill:"#444444"},d))},drawC4Shape=function(e,t,r){let n=t.bgColor?t.bgColor:r[t.typeC4Shape.text+"_bg_color"],o=t.borderColor?t.borderColor:r[t.typeC4Shape.text+"_border_color"],l=t.fontColor?t.fontColor:"#FFFFFF",u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(t.typeC4Shape.text){case"person":u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}const h=e.append("g");h.attr("class","person-man");const f=getNoteRect$2();switch(t.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":f.x=t.x,f.y=t.y,f.fill=n,f.width=t.width,f.height=t.height,f.style="stroke:"+o+";stroke-width:0.5;",f.rx=2.5,f.ry=2.5,drawRect$2(h,f);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":h.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",o).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2).replaceAll("height",t.height)),h.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",o).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":h.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",o).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("width",t.width).replaceAll("half",t.height/2)),h.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",o).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",t.x+t.width).replaceAll("starty",t.y).replaceAll("half",t.height/2));break}let d=getC4ShapeFont(r,t.typeC4Shape.text);switch(h.append("text").attr("fill",l).attr("font-family",d.fontFamily).attr("font-size",d.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",t.typeC4Shape.width).attr("x",t.x+t.width/2-t.typeC4Shape.width/2).attr("y",t.y+t.typeC4Shape.Y).text("<<"+t.typeC4Shape.text+">>"),t.typeC4Shape.text){case"person":case"external_person":drawImage$1(h,48,48,t.x+t.width/2-24,t.y+t.image.Y,u);break}let p=r[t.typeC4Shape.text+"Font"]();return p.fontWeight="bold",p.fontSize=p.fontSize+2,p.fontColor=l,_drawTextCandidateFunc$2(r)(t.label.text,h,t.x,t.y+t.label.Y,t.width,t.height,{fill:l},p),p=r[t.typeC4Shape.text+"Font"](),p.fontColor=l,t.thchn&&t.thchn.text!==""?_drawTextCandidateFunc$2(r)(t.thchn.text,h,t.x,t.y+t.thchn.Y,t.width,t.height,{fill:l,"font-style":"italic"},p):t.type&&t.type.text!==""&&_drawTextCandidateFunc$2(r)(t.type.text,h,t.x,t.y+t.type.Y,t.width,t.height,{fill:l,"font-style":"italic"},p),t.descr&&t.descr.text!==""&&(p=r.personFont(),p.fontColor=l,_drawTextCandidateFunc$2(r)(t.descr.text,h,t.x,t.y+t.descr.Y,t.width,t.height,{fill:l},p)),t.height},insertDatabaseIcon$1=function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},insertComputerIcon$1=function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},insertClockIcon$1=function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},insertArrowHead$1=function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},insertArrowEnd=function(e){e.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},insertArrowFilledHead$1=function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},insertDynamicNumber=function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},insertArrowCrossHead$1=function(e){const r=e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);r.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),r.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},getTextObj$2=function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},getNoteRect$2=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},getC4ShapeFont=(e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),_drawTextCandidateFunc$2=function(){function e(o,l,u,h,f,d,p){const m=l.append("text").attr("x",u+f/2).attr("y",h+d/2+5).style("text-anchor","middle").text(o);n(m,p)}function t(o,l,u,h,f,d,p,m){const{fontSize:g,fontFamily:b,fontWeight:v}=m,T=o.split(common.lineBreakRegex);for(let R=0;R<T.length;R++){const I=R*g-g*(T.length-1)/2,N=l.append("text").attr("x",u+f/2).attr("y",h).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",g).style("font-weight",v).style("font-family",b);N.append("tspan").attr("dy",I).text(T[R]).attr("alignment-baseline","mathematical"),n(N,p)}}function r(o,l,u,h,f,d,p,m){const g=l.append("switch"),v=g.append("foreignObject").attr("x",u).attr("y",h).attr("width",f).attr("height",d).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");v.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(o),t(o,g,u,h,f,d,p,m),n(v,p)}function n(o,l){for(const u in l)l.hasOwnProperty(u)&&o.attr(u,l[u])}return function(o){return o.textPlacement==="fo"?r:o.textPlacement==="old"?e:t}}(),svgDraw$3={drawRect:drawRect$2,drawText:drawText$2,drawLabel:drawLabel$2,drawBoundary:drawBoundary$1,drawC4Shape,drawRels:drawRels$1,drawImage:drawImage$1,drawEmbeddedImage:drawEmbeddedImage$1,insertArrowHead:insertArrowHead$1,insertArrowEnd,insertArrowFilledHead:insertArrowFilledHead$1,insertDynamicNumber,insertArrowCrossHead:insertArrowCrossHead$1,insertDatabaseIcon:insertDatabaseIcon$1,insertComputerIcon:insertComputerIcon$1,insertClockIcon:insertClockIcon$1,getTextObj:getTextObj$2,getNoteRect:getNoteRect$2,sanitizeUrl:sanitizeUrl_1};let globalBoundaryMaxX=0,globalBoundaryMaxY=0,c4ShapeInRow=4,c4BoundaryInRow=2;parser$a.yy=c4Db;let conf$a={};class Bounds{constructor(t){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,setConf$a(t.db.getConfig())}setData(t,r,n,o){this.nextData.startx=this.data.startx=t,this.nextData.stopx=this.data.stopx=r,this.nextData.starty=this.data.starty=n,this.nextData.stopy=this.data.stopy=o}updateVal(t,r,n,o){typeof t[r]>"u"?t[r]=n:t[r]=o(n,t[r])}insert(t){this.nextData.cnt=this.nextData.cnt+1;let r=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+t.margin:this.nextData.stopx+t.margin*2,n=r+t.width,o=this.nextData.starty+t.margin*2,l=o+t.height;(r>=this.data.widthLimit||n>=this.data.widthLimit||this.nextData.cnt>c4ShapeInRow)&&(r=this.nextData.startx+t.margin+conf$a.nextLinePaddingX,o=this.nextData.stopy+t.margin*2,this.nextData.stopx=n=r+t.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=l=o+t.height,this.nextData.cnt=1),t.x=r,t.y=o,this.updateVal(this.data,"startx",r,Math.min),this.updateVal(this.data,"starty",o,Math.min),this.updateVal(this.data,"stopx",n,Math.max),this.updateVal(this.data,"stopy",l,Math.max),this.updateVal(this.nextData,"startx",r,Math.min),this.updateVal(this.nextData,"starty",o,Math.min),this.updateVal(this.nextData,"stopx",n,Math.max),this.updateVal(this.nextData,"stopy",l,Math.max)}init(t){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},setConf$a(t.db.getConfig())}bumpLastMargin(t){this.data.stopx+=t,this.data.stopy+=t}}const setConf$a=function(e){assignWithDepth(conf$a,e),e.fontFamily&&(conf$a.personFontFamily=conf$a.systemFontFamily=conf$a.messageFontFamily=e.fontFamily),e.fontSize&&(conf$a.personFontSize=conf$a.systemFontSize=conf$a.messageFontSize=e.fontSize),e.fontWeight&&(conf$a.personFontWeight=conf$a.systemFontWeight=conf$a.messageFontWeight=e.fontWeight)},c4ShapeFont=(e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),boundaryFont=e=>({fontFamily:e.boundaryFontFamily,fontSize:e.boundaryFontSize,fontWeight:e.boundaryFontWeight}),messageFont$1=e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight});function calcC4ShapeTextWH(e,t,r,n,o){if(!t[e].width)if(r)t[e].text=wrapLabel(t[e].text,o,n),t[e].textLines=t[e].text.split(common.lineBreakRegex).length,t[e].width=o,t[e].height=calculateTextHeight(t[e].text,n);else{let l=t[e].text.split(common.lineBreakRegex);t[e].textLines=l.length;let u=0;t[e].height=0,t[e].width=0;for(let h=0;h<l.length;h++)t[e].width=Math.max(calculateTextWidth(l[h],n),t[e].width),u=calculateTextHeight(l[h],n),t[e].height=t[e].height+u}}const drawBoundary=function(e,t,r){t.x=r.data.startx,t.y=r.data.starty,t.width=r.data.stopx-r.data.startx,t.height=r.data.stopy-r.data.starty,t.label.y=conf$a.c4ShapeMargin-35;let n=t.wrap&&conf$a.wrap,o=boundaryFont(conf$a);o.fontSize=o.fontSize+2,o.fontWeight="bold";let l=calculateTextWidth(t.label.text,o);calcC4ShapeTextWH("label",t,n,o,l),svgDraw$3.drawBoundary(e,t,conf$a)},drawC4ShapeArray=function(e,t,r,n){let o=0;for(let l=0;l<n.length;l++){o=0;const u=r[n[l]];let h=c4ShapeFont(conf$a,u.typeC4Shape.text);switch(h.fontSize=h.fontSize-2,u.typeC4Shape.width=calculateTextWidth("<<"+u.typeC4Shape.text+">>",h),u.typeC4Shape.height=h.fontSize+2,u.typeC4Shape.Y=conf$a.c4ShapePadding,o=u.typeC4Shape.Y+u.typeC4Shape.height-4,u.image={width:0,height:0,Y:0},u.typeC4Shape.text){case"person":case"external_person":u.image.width=48,u.image.height=48,u.image.Y=o,o=u.image.Y+u.image.height;break}u.sprite&&(u.image.width=48,u.image.height=48,u.image.Y=o,o=u.image.Y+u.image.height);let f=u.wrap&&conf$a.wrap,d=conf$a.width-conf$a.c4ShapePadding*2,p=c4ShapeFont(conf$a,u.typeC4Shape.text);if(p.fontSize=p.fontSize+2,p.fontWeight="bold",calcC4ShapeTextWH("label",u,f,p,d),u.label.Y=o+8,o=u.label.Y+u.label.height,u.type&&u.type.text!==""){u.type.text="["+u.type.text+"]";let b=c4ShapeFont(conf$a,u.typeC4Shape.text);calcC4ShapeTextWH("type",u,f,b,d),u.type.Y=o+5,o=u.type.Y+u.type.height}else if(u.techn&&u.techn.text!==""){u.techn.text="["+u.techn.text+"]";let b=c4ShapeFont(conf$a,u.techn.text);calcC4ShapeTextWH("techn",u,f,b,d),u.techn.Y=o+5,o=u.techn.Y+u.techn.height}let m=o,g=u.label.width;if(u.descr&&u.descr.text!==""){let b=c4ShapeFont(conf$a,u.typeC4Shape.text);calcC4ShapeTextWH("descr",u,f,b,d),u.descr.Y=o+20,o=u.descr.Y+u.descr.height,g=Math.max(u.label.width,u.descr.width),m=o-u.descr.textLines*5}g=g+conf$a.c4ShapePadding,u.width=Math.max(u.width||conf$a.width,g,conf$a.width),u.height=Math.max(u.height||conf$a.height,m,conf$a.height),u.margin=u.margin||conf$a.c4ShapeMargin,e.insert(u),svgDraw$3.drawC4Shape(t,u,conf$a)}e.bumpLastMargin(conf$a.c4ShapeMargin)};class Point{constructor(t,r){this.x=t,this.y=r}}let getIntersectPoint=function(e,t){let r=e.x,n=e.y,o=t.x,l=t.y,u=r+e.width/2,h=n+e.height/2,f=Math.abs(r-o),d=Math.abs(n-l),p=d/f,m=e.height/e.width,g=null;return n==l&&r<o?g=new Point(r+e.width,h):n==l&&r>o?g=new Point(r,h):r==o&&n<l?g=new Point(u,n+e.height):r==o&&n>l&&(g=new Point(u,n)),r>o&&n<l?m>=p?g=new Point(r,h+p*e.width/2):g=new Point(u-f/d*e.height/2,n+e.height):r<o&&n<l?m>=p?g=new Point(r+e.width,h+p*e.width/2):g=new Point(u+f/d*e.height/2,n+e.height):r<o&&n>l?m>=p?g=new Point(r+e.width,h-p*e.width/2):g=new Point(u+e.height/2*f/d,n):r>o&&n>l&&(m>=p?g=new Point(r,h-e.width/2*p):g=new Point(u-e.height/2*f/d,n)),g},getIntersectPoints=function(e,t){let r={x:0,y:0};r.x=t.x+t.width/2,r.y=t.y+t.height/2;let n=getIntersectPoint(e,r);r.x=e.x+e.width/2,r.y=e.y+e.height/2;let o=getIntersectPoint(t,r);return{startPoint:n,endPoint:o}};const drawRels=function(e,t,r,n){let o=0;for(let l of t){o=o+1;let u=l.wrap&&conf$a.wrap,h=messageFont$1(conf$a);n.db.getC4Type()==="C4Dynamic"&&(l.label.text=o+": "+l.label.text);let d=calculateTextWidth(l.label.text,h);calcC4ShapeTextWH("label",l,u,h,d),l.techn&&l.techn.text!==""&&(d=calculateTextWidth(l.techn.text,h),calcC4ShapeTextWH("techn",l,u,h,d)),l.descr&&l.descr.text!==""&&(d=calculateTextWidth(l.descr.text,h),calcC4ShapeTextWH("descr",l,u,h,d));let p=r(l.from),m=r(l.to),g=getIntersectPoints(p,m);l.startPoint=g.startPoint,l.endPoint=g.endPoint}svgDraw$3.drawRels(e,t,conf$a)};function drawInsideBoundary(e,t,r,n,o){let l=new Bounds(o);l.data.widthLimit=r.data.widthLimit/Math.min(c4BoundaryInRow,n.length);for(let u=0;u<n.length;u++){let h=n[u],f=0;h.image={width:0,height:0,Y:0},h.sprite&&(h.image.width=48,h.image.height=48,h.image.Y=f,f=h.image.Y+h.image.height);let d=h.wrap&&conf$a.wrap,p=boundaryFont(conf$a);if(p.fontSize=p.fontSize+2,p.fontWeight="bold",calcC4ShapeTextWH("label",h,d,p,l.data.widthLimit),h.label.Y=f+8,f=h.label.Y+h.label.height,h.type&&h.type.text!==""){h.type.text="["+h.type.text+"]";let v=boundaryFont(conf$a);calcC4ShapeTextWH("type",h,d,v,l.data.widthLimit),h.type.Y=f+5,f=h.type.Y+h.type.height}if(h.descr&&h.descr.text!==""){let v=boundaryFont(conf$a);v.fontSize=v.fontSize-2,calcC4ShapeTextWH("descr",h,d,v,l.data.widthLimit),h.descr.Y=f+20,f=h.descr.Y+h.descr.height}if(u==0||u%c4BoundaryInRow===0){let v=r.data.startx+conf$a.diagramMarginX,T=r.data.stopy+conf$a.diagramMarginY+f;l.setData(v,v,T,T)}else{let v=l.data.stopx!==l.data.startx?l.data.stopx+conf$a.diagramMarginX:l.data.startx,T=l.data.starty;l.setData(v,v,T,T)}l.name=h.alias;let m=o.db.getC4ShapeArray(h.alias),g=o.db.getC4ShapeKeys(h.alias);g.length>0&&drawC4ShapeArray(l,e,m,g),t=h.alias;let b=o.db.getBoundarys(t);b.length>0&&drawInsideBoundary(e,t,l,b,o),h.alias!=="global"&&drawBoundary(e,h,l),r.data.stopy=Math.max(l.data.stopy+conf$a.c4ShapeMargin,r.data.stopy),r.data.stopx=Math.max(l.data.stopx+conf$a.c4ShapeMargin,r.data.stopx),globalBoundaryMaxX=Math.max(globalBoundaryMaxX,r.data.stopx),globalBoundaryMaxY=Math.max(globalBoundaryMaxY,r.data.stopy)}}const draw$e=function(e,t,r,n){conf$a=getConfig$1().c4;const o=getConfig$1().securityLevel;let l;o==="sandbox"&&(l=select$1("#i"+t));const u=select$1(o==="sandbox"?l.nodes()[0].contentDocument.body:"body");let h=n.db;n.db.setWrap(conf$a.wrap),c4ShapeInRow=h.getC4ShapeInRow(),c4BoundaryInRow=h.getC4BoundaryInRow(),log$1.debug(`C:${JSON.stringify(conf$a,null,2)}`);const f=o==="sandbox"?u.select(`[id="${t}"]`):select$1(`[id="${t}"]`);svgDraw$3.insertComputerIcon(f),svgDraw$3.insertDatabaseIcon(f),svgDraw$3.insertClockIcon(f);let d=new Bounds(n);d.setData(conf$a.diagramMarginX,conf$a.diagramMarginX,conf$a.diagramMarginY,conf$a.diagramMarginY),d.data.widthLimit=screen.availWidth,globalBoundaryMaxX=conf$a.diagramMarginX,globalBoundaryMaxY=conf$a.diagramMarginY;const p=n.db.getTitle();let m=n.db.getBoundarys("");drawInsideBoundary(f,"",d,m,n),svgDraw$3.insertArrowHead(f),svgDraw$3.insertArrowEnd(f),svgDraw$3.insertArrowCrossHead(f),svgDraw$3.insertArrowFilledHead(f),drawRels(f,n.db.getRels(),n.db.getC4Shape,n),d.data.stopx=globalBoundaryMaxX,d.data.stopy=globalBoundaryMaxY;const g=d.data;let v=g.stopy-g.starty+2*conf$a.diagramMarginY;const R=g.stopx-g.startx+2*conf$a.diagramMarginX;p&&f.append("text").text(p).attr("x",(g.stopx-g.startx)/2-4*conf$a.diagramMarginX).attr("y",g.starty+conf$a.diagramMarginY),configureSvgSize(f,v,R,conf$a.useMaxWidth);const I=p?60:0;f.attr("viewBox",g.startx-conf$a.diagramMarginX+" -"+(conf$a.diagramMarginY+I)+" "+R+" "+(v+I)),addSVGAccessibilityFields(parser$a.yy,f,t),log$1.debug("models:",g)},c4Renderer={drawPersonOrSystemArray:drawC4ShapeArray,drawBoundary,setConf:setConf$a,draw:draw$e};var parser$9=function(){var e=function(pe,J,oe,ee){for(oe=oe||{},ee=pe.length;ee--;oe[pe[ee]]=J);return oe},t=[1,3],r=[1,7],n=[1,8],o=[1,9],l=[1,10],u=[1,13],h=[1,12],f=[1,16,25],d=[1,20],p=[1,31],m=[1,32],g=[1,33],b=[1,35],v=[1,38],T=[1,36],R=[1,37],I=[1,39],N=[1,40],q=[1,41],F=[1,42],H=[1,45],V=[1,46],z=[1,47],G=[1,48],P=[16,25],W=[1,62],S=[1,63],U=[1,64],L=[1,65],ae=[1,66],Q=[1,67],ue=[1,68],_e=[16,25,32,44,45,53,56,57,58,59,60,61,62,67,69],ke=[16,25,30,32,44,45,49,53,56,57,58,59,60,61,62,67,69,84,85,86,87],de=[5,8,9,10,11,16,19,23,25],ce=[53,84,85,86,87],he=[53,61,62,84,85,86,87],Se=[53,56,57,58,59,60,84,85,86,87],ve=[16,25,32],me=[1,100],Ce={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statments:5,direction:6,directive:7,direction_tb:8,direction_bt:9,direction_rl:10,direction_lr:11,graphConfig:12,openDirective:13,typeDirective:14,closeDirective:15,NEWLINE:16,":":17,argDirective:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,CLASS_DIAGRAM:23,statements:24,EOF:25,statement:26,className:27,alphaNumToken:28,classLiteralName:29,GENERICTYPE:30,relationStatement:31,LABEL:32,classStatement:33,methodStatement:34,annotationStatement:35,clickStatement:36,cssClassStatement:37,acc_title:38,acc_title_value:39,acc_descr:40,acc_descr_value:41,acc_descr_multiline_value:42,CLASS:43,STYLE_SEPARATOR:44,STRUCT_START:45,members:46,STRUCT_STOP:47,ANNOTATION_START:48,ANNOTATION_END:49,MEMBER:50,SEPARATOR:51,relation:52,STR:53,relationType:54,lineType:55,AGGREGATION:56,EXTENSION:57,COMPOSITION:58,DEPENDENCY:59,LOLLIPOP:60,LINE:61,DOTTED_LINE:62,CALLBACK:63,LINK:64,LINK_TARGET:65,CLICK:66,CALLBACK_NAME:67,CALLBACK_ARGS:68,HREF:69,CSSCLASS:70,commentToken:71,textToken:72,graphCodeTokens:73,textNoTagsToken:74,TAGSTART:75,TAGEND:76,"==":77,"--":78,PCT:79,DEFAULT:80,SPACE:81,MINUS:82,keywords:83,UNICODE_TEXT:84,NUM:85,ALPHA:86,BQUOTE_STR:87,$accept:0,$end:1},terminals_:{2:"error",5:"statments",8:"direction_tb",9:"direction_bt",10:"direction_rl",11:"direction_lr",16:"NEWLINE",17:":",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",23:"CLASS_DIAGRAM",25:"EOF",30:"GENERICTYPE",32:"LABEL",38:"acc_title",39:"acc_title_value",40:"acc_descr",41:"acc_descr_value",42:"acc_descr_multiline_value",43:"CLASS",44:"STYLE_SEPARATOR",45:"STRUCT_START",47:"STRUCT_STOP",48:"ANNOTATION_START",49:"ANNOTATION_END",50:"MEMBER",51:"SEPARATOR",53:"STR",56:"AGGREGATION",57:"EXTENSION",58:"COMPOSITION",59:"DEPENDENCY",60:"LOLLIPOP",61:"LINE",62:"DOTTED_LINE",63:"CALLBACK",64:"LINK",65:"LINK_TARGET",66:"CLICK",67:"CALLBACK_NAME",68:"CALLBACK_ARGS",69:"HREF",70:"CSSCLASS",73:"graphCodeTokens",75:"TAGSTART",76:"TAGEND",77:"==",78:"--",79:"PCT",80:"DEFAULT",81:"SPACE",82:"MINUS",83:"keywords",84:"UNICODE_TEXT",85:"NUM",86:"ALPHA",87:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[3,1],[3,2],[6,1],[6,1],[6,1],[6,1],[4,1],[7,4],[7,6],[13,1],[14,1],[18,1],[15,1],[12,4],[24,1],[24,2],[24,3],[27,1],[27,1],[27,2],[27,2],[27,2],[26,1],[26,2],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,2],[26,2],[26,1],[33,2],[33,4],[33,5],[33,7],[35,4],[46,1],[46,2],[34,1],[34,2],[34,1],[34,1],[31,3],[31,4],[31,4],[31,5],[52,3],[52,2],[52,2],[52,1],[54,1],[54,1],[54,1],[54,1],[54,1],[55,1],[55,1],[36,3],[36,4],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[37,3],[71,1],[71,1],[72,1],[72,1],[72,1],[72,1],[72,1],[72,1],[72,1],[74,1],[74,1],[74,1],[74,1],[28,1],[28,1],[28,1],[29,1]],performAction:function(J,oe,ee,Z,ie,se,te){var fe=se.length-1;switch(ie){case 5:Z.setDirection("TB");break;case 6:Z.setDirection("BT");break;case 7:Z.setDirection("RL");break;case 8:Z.setDirection("LR");break;case 12:Z.parseDirective("%%{","open_directive");break;case 13:Z.parseDirective(se[fe],"type_directive");break;case 14:se[fe]=se[fe].trim().replace(/'/g,'"'),Z.parseDirective(se[fe],"arg_directive");break;case 15:Z.parseDirective("}%%","close_directive","class");break;case 20:case 21:this.$=se[fe];break;case 22:this.$=se[fe-1]+se[fe];break;case 23:case 24:this.$=se[fe-1]+"~"+se[fe];break;case 25:Z.addRelation(se[fe]);break;case 26:se[fe-1].title=Z.cleanupLabel(se[fe]),Z.addRelation(se[fe-1]);break;case 34:this.$=se[fe].trim(),Z.setAccTitle(this.$);break;case 35:case 36:this.$=se[fe].trim(),Z.setAccDescription(this.$);break;case 37:Z.addClass(se[fe]);break;case 38:Z.addClass(se[fe-2]),Z.setCssClass(se[fe-2],se[fe]);break;case 39:Z.addClass(se[fe-3]),Z.addMembers(se[fe-3],se[fe-1]);break;case 40:Z.addClass(se[fe-5]),Z.setCssClass(se[fe-5],se[fe-3]),Z.addMembers(se[fe-5],se[fe-1]);break;case 41:Z.addAnnotation(se[fe],se[fe-2]);break;case 42:this.$=[se[fe]];break;case 43:se[fe].push(se[fe-1]),this.$=se[fe];break;case 44:break;case 45:Z.addMember(se[fe-1],Z.cleanupLabel(se[fe]));break;case 46:break;case 47:break;case 48:this.$={id1:se[fe-2],id2:se[fe],relation:se[fe-1],relationTitle1:"none",relationTitle2:"none"};break;case 49:this.$={id1:se[fe-3],id2:se[fe],relation:se[fe-1],relationTitle1:se[fe-2],relationTitle2:"none"};break;case 50:this.$={id1:se[fe-3],id2:se[fe],relation:se[fe-2],relationTitle1:"none",relationTitle2:se[fe-1]};break;case 51:this.$={id1:se[fe-4],id2:se[fe],relation:se[fe-2],relationTitle1:se[fe-3],relationTitle2:se[fe-1]};break;case 52:this.$={type1:se[fe-2],type2:se[fe],lineType:se[fe-1]};break;case 53:this.$={type1:"none",type2:se[fe],lineType:se[fe-1]};break;case 54:this.$={type1:se[fe-1],type2:"none",lineType:se[fe]};break;case 55:this.$={type1:"none",type2:"none",lineType:se[fe]};break;case 56:this.$=Z.relationType.AGGREGATION;break;case 57:this.$=Z.relationType.EXTENSION;break;case 58:this.$=Z.relationType.COMPOSITION;break;case 59:this.$=Z.relationType.DEPENDENCY;break;case 60:this.$=Z.relationType.LOLLIPOP;break;case 61:this.$=Z.lineType.LINE;break;case 62:this.$=Z.lineType.DOTTED_LINE;break;case 63:case 69:this.$=se[fe-2],Z.setClickEvent(se[fe-1],se[fe]);break;case 64:case 70:this.$=se[fe-3],Z.setClickEvent(se[fe-2],se[fe-1]),Z.setTooltip(se[fe-2],se[fe]);break;case 65:case 73:this.$=se[fe-2],Z.setLink(se[fe-1],se[fe]);break;case 66:this.$=se[fe-3],Z.setLink(se[fe-2],se[fe-1],se[fe]);break;case 67:case 75:this.$=se[fe-3],Z.setLink(se[fe-2],se[fe-1]),Z.setTooltip(se[fe-2],se[fe]);break;case 68:case 76:this.$=se[fe-4],Z.setLink(se[fe-3],se[fe-2],se[fe]),Z.setTooltip(se[fe-3],se[fe-1]);break;case 71:this.$=se[fe-3],Z.setClickEvent(se[fe-2],se[fe-1],se[fe]);break;case 72:this.$=se[fe-4],Z.setClickEvent(se[fe-3],se[fe-2],se[fe-1]),Z.setTooltip(se[fe-3],se[fe]);break;case 74:this.$=se[fe-3],Z.setLink(se[fe-2],se[fe-1],se[fe]);break;case 77:Z.setCssClass(se[fe-1],se[fe]);break}},table:[{3:1,4:2,5:t,6:4,7:5,8:r,9:n,10:o,11:l,12:6,13:11,19:u,23:h},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{3:14,4:2,5:t,6:4,7:5,8:r,9:n,10:o,11:l,12:6,13:11,19:u,23:h},{1:[2,9]},e(f,[2,5]),e(f,[2,6]),e(f,[2,7]),e(f,[2,8]),{14:15,20:[1,16]},{16:[1,17]},{20:[2,12]},{1:[2,4]},{15:18,17:[1,19],22:d},e([17,22],[2,13]),{6:30,7:29,8:r,9:n,10:o,11:l,13:11,19:u,24:21,26:22,27:34,28:43,29:44,31:23,33:24,34:25,35:26,36:27,37:28,38:p,40:m,42:g,43:b,48:v,50:T,51:R,63:I,64:N,66:q,70:F,84:H,85:V,86:z,87:G},{16:[1,49]},{18:50,21:[1,51]},{16:[2,15]},{25:[1,52]},{16:[1,53],25:[2,17]},e(P,[2,25],{32:[1,54]}),e(P,[2,27]),e(P,[2,28]),e(P,[2,29]),e(P,[2,30]),e(P,[2,31]),e(P,[2,32]),e(P,[2,33]),{39:[1,55]},{41:[1,56]},e(P,[2,36]),e(P,[2,44],{52:57,54:60,55:61,32:[1,59],53:[1,58],56:W,57:S,58:U,59:L,60:ae,61:Q,62:ue}),{27:69,28:43,29:44,84:H,85:V,86:z,87:G},e(P,[2,46]),e(P,[2,47]),{28:70,84:H,85:V,86:z},{27:71,28:43,29:44,84:H,85:V,86:z,87:G},{27:72,28:43,29:44,84:H,85:V,86:z,87:G},{27:73,28:43,29:44,84:H,85:V,86:z,87:G},{53:[1,74]},e(_e,[2,20],{28:43,29:44,27:75,30:[1,76],84:H,85:V,86:z,87:G}),e(_e,[2,21],{30:[1,77]}),e(ke,[2,91]),e(ke,[2,92]),e(ke,[2,93]),e([16,25,30,32,44,45,53,56,57,58,59,60,61,62,67,69],[2,94]),e(de,[2,10]),{15:78,22:d},{22:[2,14]},{1:[2,16]},{6:30,7:29,8:r,9:n,10:o,11:l,13:11,19:u,24:79,25:[2,18],26:22,27:34,28:43,29:44,31:23,33:24,34:25,35:26,36:27,37:28,38:p,40:m,42:g,43:b,48:v,50:T,51:R,63:I,64:N,66:q,70:F,84:H,85:V,86:z,87:G},e(P,[2,26]),e(P,[2,34]),e(P,[2,35]),{27:80,28:43,29:44,53:[1,81],84:H,85:V,86:z,87:G},{52:82,54:60,55:61,56:W,57:S,58:U,59:L,60:ae,61:Q,62:ue},e(P,[2,45]),{55:83,61:Q,62:ue},e(ce,[2,55],{54:84,56:W,57:S,58:U,59:L,60:ae}),e(he,[2,56]),e(he,[2,57]),e(he,[2,58]),e(he,[2,59]),e(he,[2,60]),e(Se,[2,61]),e(Se,[2,62]),e(P,[2,37],{44:[1,85],45:[1,86]}),{49:[1,87]},{53:[1,88]},{53:[1,89]},{67:[1,90],69:[1,91]},{28:92,84:H,85:V,86:z},e(_e,[2,22]),e(_e,[2,23]),e(_e,[2,24]),{16:[1,93]},{25:[2,19]},e(ve,[2,48]),{27:94,28:43,29:44,84:H,85:V,86:z,87:G},{27:95,28:43,29:44,53:[1,96],84:H,85:V,86:z,87:G},e(ce,[2,54],{54:97,56:W,57:S,58:U,59:L,60:ae}),e(ce,[2,53]),{28:98,84:H,85:V,86:z},{46:99,50:me},{27:101,28:43,29:44,84:H,85:V,86:z,87:G},e(P,[2,63],{53:[1,102]}),e(P,[2,65],{53:[1,104],65:[1,103]}),e(P,[2,69],{53:[1,105],68:[1,106]}),e(P,[2,73],{53:[1,108],65:[1,107]}),e(P,[2,77]),e(de,[2,11]),e(ve,[2,50]),e(ve,[2,49]),{27:109,28:43,29:44,84:H,85:V,86:z,87:G},e(ce,[2,52]),e(P,[2,38],{45:[1,110]}),{47:[1,111]},{46:112,47:[2,42],50:me},e(P,[2,41]),e(P,[2,64]),e(P,[2,66]),e(P,[2,67],{65:[1,113]}),e(P,[2,70]),e(P,[2,71],{53:[1,114]}),e(P,[2,74]),e(P,[2,75],{65:[1,115]}),e(ve,[2,51]),{46:116,50:me},e(P,[2,39]),{47:[2,43]},e(P,[2,68]),e(P,[2,72]),e(P,[2,76]),{47:[1,117]},e(P,[2,40])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],6:[2,9],13:[2,12],14:[2,4],20:[2,15],51:[2,14],52:[2,16],79:[2,19],112:[2,43]},parseError:function(J,oe){if(oe.recoverable)this.trace(J);else{var ee=new Error(J);throw ee.hash=oe,ee}},parse:function(J){var oe=this,ee=[0],Z=[],ie=[null],se=[],te=this.table,fe="",we=0,Ye=0,He=2,je=1,Pe=se.slice.call(arguments,1),Ee=Object.create(this.lexer),Ie={yy:{}};for(var Le in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Le)&&(Ie.yy[Le]=this.yy[Le]);Ee.setInput(J,Ie.yy),Ie.yy.lexer=Ee,Ie.yy.parser=this,typeof Ee.yylloc>"u"&&(Ee.yylloc={});var Be=Ee.yylloc;se.push(Be);var Te=Ee.options&&Ee.options.ranges;typeof Ie.yy.parseError=="function"?this.parseError=Ie.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function dt(){var Fe;return Fe=Z.pop()||Ee.lex()||je,typeof Fe!="number"&&(Fe instanceof Array&&(Z=Fe,Fe=Z.pop()),Fe=oe.symbols_[Fe]||Fe),Fe}for(var Ge,rt,it,st,wt={},nt,Ke,Je,Oe;;){if(rt=ee[ee.length-1],this.defaultActions[rt]?it=this.defaultActions[rt]:((Ge===null||typeof Ge>"u")&&(Ge=dt()),it=te[rt]&&te[rt][Ge]),typeof it>"u"||!it.length||!it[0]){var Me="";Oe=[];for(nt in te[rt])this.terminals_[nt]&&nt>He&&Oe.push("'"+this.terminals_[nt]+"'");Ee.showPosition?Me="Parse error on line "+(we+1)+`:
`+Ee.showPosition()+`
Expecting `+Oe.join(", ")+", got '"+(this.terminals_[Ge]||Ge)+"'":Me="Parse error on line "+(we+1)+": Unexpected "+(Ge==je?"end of input":"'"+(this.terminals_[Ge]||Ge)+"'"),this.parseError(Me,{text:Ee.match,token:this.terminals_[Ge]||Ge,line:Ee.yylineno,loc:Be,expected:Oe})}if(it[0]instanceof Array&&it.length>1)throw new Error("Parse Error: multiple actions possible at state: "+rt+", token: "+Ge);switch(it[0]){case 1:ee.push(Ge),ie.push(Ee.yytext),se.push(Ee.yylloc),ee.push(it[1]),Ge=null,Ye=Ee.yyleng,fe=Ee.yytext,we=Ee.yylineno,Be=Ee.yylloc;break;case 2:if(Ke=this.productions_[it[1]][1],wt.$=ie[ie.length-Ke],wt._$={first_line:se[se.length-(Ke||1)].first_line,last_line:se[se.length-1].last_line,first_column:se[se.length-(Ke||1)].first_column,last_column:se[se.length-1].last_column},Te&&(wt._$.range=[se[se.length-(Ke||1)].range[0],se[se.length-1].range[1]]),st=this.performAction.apply(wt,[fe,Ye,we,Ie.yy,it[1],ie,se].concat(Pe)),typeof st<"u")return st;Ke&&(ee=ee.slice(0,-1*Ke*2),ie=ie.slice(0,-1*Ke),se=se.slice(0,-1*Ke)),ee.push(this.productions_[it[1]][0]),ie.push(wt.$),se.push(wt._$),Je=te[ee[ee.length-2]][ee[ee.length-1]],ee.push(Je);break;case 3:return!0}}return!0}},xe=function(){var pe={EOF:1,parseError:function(oe,ee){if(this.yy.parser)this.yy.parser.parseError(oe,ee);else throw new Error(oe)},setInput:function(J,oe){return this.yy=oe||this.yy||{},this._input=J,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var J=this._input[0];this.yytext+=J,this.yyleng++,this.offset++,this.match+=J,this.matched+=J;var oe=J.match(/(?:\r\n?|\n).*/g);return oe?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),J},unput:function(J){var oe=J.length,ee=J.split(/(?:\r\n?|\n)/g);this._input=J+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-oe),this.offset-=oe;var Z=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ee.length-1&&(this.yylineno-=ee.length-1);var ie=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ee?(ee.length===Z.length?this.yylloc.first_column:0)+Z[Z.length-ee.length].length-ee[0].length:this.yylloc.first_column-oe},this.options.ranges&&(this.yylloc.range=[ie[0],ie[0]+this.yyleng-oe]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(J){this.unput(this.match.slice(J))},pastInput:function(){var J=this.matched.substr(0,this.matched.length-this.match.length);return(J.length>20?"...":"")+J.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var J=this.match;return J.length<20&&(J+=this._input.substr(0,20-J.length)),(J.substr(0,20)+(J.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var J=this.pastInput(),oe=new Array(J.length+1).join("-");return J+this.upcomingInput()+`
`+oe+"^"},test_match:function(J,oe){var ee,Z,ie;if(this.options.backtrack_lexer&&(ie={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ie.yylloc.range=this.yylloc.range.slice(0))),Z=J[0].match(/(?:\r\n?|\n).*/g),Z&&(this.yylineno+=Z.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Z?Z[Z.length-1].length-Z[Z.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+J[0].length},this.yytext+=J[0],this.match+=J[0],this.matches=J,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(J[0].length),this.matched+=J[0],ee=this.performAction.call(this,this.yy,this,oe,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ee)return ee;if(this._backtrack){for(var se in ie)this[se]=ie[se];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var J,oe,ee,Z;this._more||(this.yytext="",this.match="");for(var ie=this._currentRules(),se=0;se<ie.length;se++)if(ee=this._input.match(this.rules[ie[se]]),ee&&(!oe||ee[0].length>oe[0].length)){if(oe=ee,Z=se,this.options.backtrack_lexer){if(J=this.test_match(ee,ie[se]),J!==!1)return J;if(this._backtrack){oe=!1;continue}else return!1}else if(!this.options.flex)break}return oe?(J=this.test_match(oe,ie[Z]),J!==!1?J:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var oe=this.next();return oe||this.lex()},begin:function(oe){this.conditionStack.push(oe)},popState:function(){var oe=this.conditionStack.length-1;return oe>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(oe){return oe=this.conditionStack.length-1-Math.abs(oe||0),oe>=0?this.conditionStack[oe]:"INITIAL"},pushState:function(oe){this.begin(oe)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(oe,ee,Z,ie){switch(Z){case 0:return this.begin("open_directive"),19;case 1:return 8;case 2:return 9;case 3:return 10;case 4:return 11;case 5:return this.begin("type_directive"),20;case 6:return this.popState(),this.begin("arg_directive"),17;case 7:return this.popState(),this.popState(),22;case 8:return 21;case 9:break;case 10:break;case 11:return this.begin("acc_title"),38;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),40;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:return 16;case 19:break;case 20:return 23;case 21:return 23;case 22:return this.begin("struct"),45;case 23:return"EDGE_STATE";case 24:return"EOF_IN_STRUCT";case 25:return"OPEN_IN_STRUCT";case 26:return this.popState(),47;case 27:break;case 28:return"MEMBER";case 29:return 43;case 30:return 70;case 31:return 63;case 32:return 64;case 33:return 66;case 34:return 48;case 35:return 49;case 36:this.begin("generic");break;case 37:this.popState();break;case 38:return"GENERICTYPE";case 39:this.begin("string");break;case 40:this.popState();break;case 41:return"STR";case 42:this.begin("bqstring");break;case 43:this.popState();break;case 44:return"BQUOTE_STR";case 45:this.begin("href");break;case 46:this.popState();break;case 47:return 69;case 48:this.begin("callback_name");break;case 49:this.popState();break;case 50:this.popState(),this.begin("callback_args");break;case 51:return 67;case 52:this.popState();break;case 53:return 68;case 54:return 65;case 55:return 65;case 56:return 65;case 57:return 65;case 58:return 57;case 59:return 57;case 60:return 59;case 61:return 59;case 62:return 58;case 63:return 56;case 64:return 60;case 65:return 61;case 66:return 62;case 67:return 32;case 68:return 44;case 69:return 82;case 70:return"DOT";case 71:return"PLUS";case 72:return 79;case 73:return"EQUALS";case 74:return"EQUALS";case 75:return 86;case 76:return"PUNCTUATION";case 77:return 85;case 78:return 84;case 79:return 81;case 80:return 25}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:[{])/,/^(?:\[\*\])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:class\b)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[`])/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},callback_args:{rules:[52,53],inclusive:!1},callback_name:{rules:[49,50,51],inclusive:!1},href:{rules:[46,47],inclusive:!1},struct:{rules:[23,24,25,26,27,28],inclusive:!1},generic:{rules:[37,38],inclusive:!1},bqstring:{rules:[43,44],inclusive:!1},string:{rules:[40,41],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,29,30,31,32,33,34,35,36,39,42,45,48,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80],inclusive:!0}}};return pe}();Ce.lexer=xe;function Ne(){this.yy={}}return Ne.prototype=Ce,Ce.Parser=Ne,new Ne}();parser$9.parser=parser$9;const classDetector=(e,t)=>{var r;return((r=t==null?void 0:t.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:e.match(/^\s*classDiagram/)!==null},classDetectorV2=(e,t)=>{var r;return e.match(/^\s*classDiagram/)!==null&&((r=t==null?void 0:t.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!0:e.match(/^\s*classDiagram-v2/)!==null},MERMAID_DOM_ID_PREFIX$1="classid-";let relations$1=[],classes$2={},classCounter=0,funs$2=[];const sanitizeText$2=e=>common.sanitizeText(e,getConfig$1()),parseDirective$9=function(e,t,r){mermaidAPI.parseDirective(this,e,t,r)},splitClassNameAndType=function(e){let t="",r=e;if(e.indexOf("~")>0){let n=e.split("~");r=n[0],t=common.sanitizeText(n[1],getConfig$1())}return{className:r,type:t}},addClass$1=function(e){let t=splitClassNameAndType(e);typeof classes$2[t.className]<"u"||(classes$2[t.className]={id:t.className,type:t.type,cssClasses:[],methods:[],members:[],annotations:[],domId:MERMAID_DOM_ID_PREFIX$1+t.className+"-"+classCounter},classCounter++)},lookUpDomId$1=function(e){const t=Object.keys(classes$2);for(let r=0;r<t.length;r++)if(classes$2[t[r]].id===e)return classes$2[t[r]].domId},clear$c=function(){relations$1=[],classes$2={},funs$2=[],funs$2.push(setupToolTips$1),clear$g()},getClass=function(e){return classes$2[e]},getClasses$5=function(){return classes$2},getRelations$1=function(){return relations$1},addRelation$1=function(e){log$1.debug("Adding relation: "+JSON.stringify(e)),addClass$1(e.id1),addClass$1(e.id2),e.id1=splitClassNameAndType(e.id1).className,e.id2=splitClassNameAndType(e.id2).className,e.relationTitle1=common.sanitizeText(e.relationTitle1.trim(),getConfig$1()),e.relationTitle2=common.sanitizeText(e.relationTitle2.trim(),getConfig$1()),relations$1.push(e)},addAnnotation=function(e,t){const r=splitClassNameAndType(e).className;classes$2[r].annotations.push(t)},addMember=function(e,t){const r=splitClassNameAndType(e).className,n=classes$2[r];if(typeof t=="string"){const o=t.trim();o.startsWith("<<")&&o.endsWith(">>")?n.annotations.push(sanitizeText$2(o.substring(2,o.length-2))):o.indexOf(")")>0?n.methods.push(sanitizeText$2(o)):o&&n.members.push(sanitizeText$2(o))}},addMembers=function(e,t){Array.isArray(t)&&(t.reverse(),t.forEach(r=>addMember(e,r)))},cleanupLabel$1=function(e){return e.substring(0,1)===":"?common.sanitizeText(e.substr(1).trim(),getConfig$1()):sanitizeText$2(e.trim())},setCssClass=function(e,t){e.split(",").forEach(function(r){let n=r;r[0].match(/\d/)&&(n=MERMAID_DOM_ID_PREFIX$1+n),typeof classes$2[n]<"u"&&classes$2[n].cssClasses.push(t)})},setTooltip$1=function(e,t){const r=getConfig$1();e.split(",").forEach(function(n){typeof t<"u"&&(classes$2[n].tooltip=common.sanitizeText(t,r))})},getTooltip$1=function(e){return classes$2[e].tooltip},setLink$2=function(e,t,r){const n=getConfig$1();e.split(",").forEach(function(o){let l=o;o[0].match(/\d/)&&(l=MERMAID_DOM_ID_PREFIX$1+l),typeof classes$2[l]<"u"&&(classes$2[l].link=utils.formatUrl(t,n),n.securityLevel==="sandbox"?classes$2[l].linkTarget="_top":typeof r=="string"?classes$2[l].linkTarget=sanitizeText$2(r):classes$2[l].linkTarget="_blank")}),setCssClass(e,"clickable")},setClickEvent$2=function(e,t,r){e.split(",").forEach(function(n){setClickFunc(n,t,r),classes$2[n].haveCallback=!0}),setCssClass(e,"clickable")},setClickFunc=function(e,t,r){const n=getConfig$1();let o=e,l=lookUpDomId$1(o);if(n.securityLevel==="loose"&&!(typeof t>"u")&&typeof classes$2[o]<"u"){let u=[];if(typeof r=="string"){u=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let h=0;h<u.length;h++){let f=u[h].trim();f.charAt(0)==='"'&&f.charAt(f.length-1)==='"'&&(f=f.substr(1,f.length-2)),u[h]=f}}u.length===0&&u.push(l),funs$2.push(function(){const h=document.querySelector(`[id="${l}"]`);h!==null&&h.addEventListener("click",function(){utils.runFunc(t,...u)},!1)})}},bindFunctions$2=function(e){funs$2.forEach(function(t){t(e)})},lineType$1={LINE:0,DOTTED_LINE:1},relationType$1={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},setupToolTips$1=function(e){let t=select$1(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=select$1("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),select$1(e).select("svg").selectAll("g.node").on("mouseover",function(){const o=select$1(this);if(o.attr("title")===null)return;const u=this.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(o.attr("title")).style("left",window.scrollX+u.left+(u.right-u.left)/2+"px").style("top",window.scrollY+u.top-14+document.body.scrollTop+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),o.classed("hover",!0)}).on("mouseout",function(){t.transition().duration(500).style("opacity",0),select$1(this).classed("hover",!1)})};funs$2.push(setupToolTips$1);let direction$2="TB";const getDirection$2=()=>direction$2,setDirection$2=e=>{direction$2=e},classDb={parseDirective:parseDirective$9,setAccTitle,getAccTitle,getAccDescription,setAccDescription,getConfig:()=>getConfig$1().class,addClass:addClass$1,bindFunctions:bindFunctions$2,clear:clear$c,getClass,getClasses:getClasses$5,addAnnotation,getRelations:getRelations$1,addRelation:addRelation$1,getDirection:getDirection$2,setDirection:setDirection$2,addMember,addMembers,cleanupLabel:cleanupLabel$1,lineType:lineType$1,relationType:relationType$1,setClickEvent:setClickEvent$2,setCssClass,setLink:setLink$2,getTooltip:getTooltip$1,setTooltip:setTooltip$1,lookUpDomId:lookUpDomId$1};let edgeCount$1=0;const drawEdge$1=function(e,t,r,n,o){const l=function(N){switch(N){case o.db.relationType.AGGREGATION:return"aggregation";case o.db.EXTENSION:return"extension";case o.db.COMPOSITION:return"composition";case o.db.DEPENDENCY:return"dependency";case o.db.LOLLIPOP:return"lollipop"}};t.points=t.points.filter(N=>!Number.isNaN(N.y));const u=t.points,h=line$2().x(function(N){return N.x}).y(function(N){return N.y}).curve(curveBasis),f=e.append("path").attr("d",h(u)).attr("id","edge"+edgeCount$1).attr("class","relation");let d="";n.arrowMarkerAbsolute&&(d=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,d=d.replace(/\(/g,"\\("),d=d.replace(/\)/g,"\\)")),r.relation.lineType==1&&f.attr("class","relation dashed-line"),r.relation.type1!=="none"&&f.attr("marker-start","url("+d+"#"+l(r.relation.type1)+"Start)"),r.relation.type2!=="none"&&f.attr("marker-end","url("+d+"#"+l(r.relation.type2)+"End)");let p,m;const g=t.points.length;let b=utils.calcLabelPosition(t.points);p=b.x,m=b.y;let v,T,R,I;if(g%2!==0&&g>1){let N=utils.calcCardinalityPosition(r.relation.type1!=="none",t.points,t.points[0]),q=utils.calcCardinalityPosition(r.relation.type2!=="none",t.points,t.points[g-1]);log$1.debug("cardinality_1_point "+JSON.stringify(N)),log$1.debug("cardinality_2_point "+JSON.stringify(q)),v=N.x,T=N.y,R=q.x,I=q.y}if(typeof r.title<"u"){const N=e.append("g").attr("class","classLabel"),q=N.append("text").attr("class","label").attr("x",p).attr("y",m).attr("fill","red").attr("text-anchor","middle").text(r.title);window.label=q;const F=q.node().getBBox();N.insert("rect",":first-child").attr("class","box").attr("x",F.x-n.padding/2).attr("y",F.y-n.padding/2).attr("width",F.width+n.padding).attr("height",F.height+n.padding)}log$1.info("Rendering relation "+JSON.stringify(r)),typeof r.relationTitle1<"u"&&r.relationTitle1!=="none"&&e.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",v).attr("y",T).attr("fill","black").attr("font-size","6").text(r.relationTitle1),typeof r.relationTitle2<"u"&&r.relationTitle2!=="none"&&e.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",R).attr("y",I).attr("fill","black").attr("font-size","6").text(r.relationTitle2),edgeCount$1++},drawClass=function(e,t,r,n){log$1.debug("Rendering class ",t,r);const o=t.id,l={id:o,label:t.id,width:0,height:0},u=e.append("g").attr("id",n.db.lookUpDomId(o)).attr("class","classGroup");let h;t.link?h=u.append("svg:a").attr("xlink:href",t.link).attr("target",t.linkTarget).append("text").attr("y",r.textHeight+r.padding).attr("x",0):h=u.append("text").attr("y",r.textHeight+r.padding).attr("x",0);let f=!0;t.annotations.forEach(function(H){const V=h.append("tspan").text("\xAB"+H+"\xBB");f||V.attr("dy",r.textHeight),f=!1});let d=t.id;t.type!==void 0&&t.type!==""&&(d+="<"+t.type+">");const p=h.append("tspan").text(d).attr("class","title");f||p.attr("dy",r.textHeight);const m=h.node().getBBox().height,g=u.append("line").attr("x1",0).attr("y1",r.padding+m+r.dividerMargin/2).attr("y2",r.padding+m+r.dividerMargin/2),b=u.append("text").attr("x",r.padding).attr("y",m+r.dividerMargin+r.textHeight).attr("fill","white").attr("class","classText");f=!0,t.members.forEach(function(H){addTspan(b,H,f,r),f=!1});const v=b.node().getBBox(),T=u.append("line").attr("x1",0).attr("y1",r.padding+m+r.dividerMargin+v.height).attr("y2",r.padding+m+r.dividerMargin+v.height),R=u.append("text").attr("x",r.padding).attr("y",m+2*r.dividerMargin+v.height+r.textHeight).attr("fill","white").attr("class","classText");f=!0,t.methods.forEach(function(H){addTspan(R,H,f,r),f=!1});const I=u.node().getBBox();var N=" ";t.cssClasses.length>0&&(N=N+t.cssClasses.join(" "));const F=u.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",I.width+2*r.padding).attr("height",I.height+r.padding+.5*r.dividerMargin).attr("class",N).node().getBBox().width;return h.node().childNodes.forEach(function(H){H.setAttribute("x",(F-H.getBBox().width)/2)}),t.tooltip&&h.insert("title").text(t.tooltip),g.attr("x2",F),T.attr("x2",F),l.width=F,l.height=I.height+r.padding+.5*r.dividerMargin,l},parseMember=function(e){const t=/^(\+|-|~|#)?(\w+)(~\w+~|\[\])?\s+(\w+) *(\*|\$)?$/,r=/^([+|\-|~|#])?(\w+) *\( *(.*)\) *(\*|\$)? *(\w*[~|[\]]*\s*\w*~?)$/;let n=e.match(t),o=e.match(r);return n&&!o?buildFieldDisplay(n):o?buildMethodDisplay(o):buildLegacyDisplay(e)},buildFieldDisplay=function(e){let t="",r="";try{let n=e[1]?e[1].trim():"",o=e[2]?e[2].trim():"",l=e[3]?parseGenericTypes(e[3].trim()):"",u=e[4]?e[4].trim():"",h=e[5]?e[5].trim():"";r=n+o+l+" "+u,t=parseClassifier(h)}catch{r=e}return{displayText:r,cssStyle:t}},buildMethodDisplay=function(e){let t="",r="";try{let n=e[1]?e[1].trim():"",o=e[2]?e[2].trim():"",l=e[3]?parseGenericTypes(e[3].trim()):"",u=e[4]?e[4].trim():"",h=e[5]?" : "+parseGenericTypes(e[5]).trim():"";r=n+o+"("+l+")"+h,t=parseClassifier(u)}catch{r=e}return{displayText:r,cssStyle:t}},buildLegacyDisplay=function(e){let t="",r="",n="",o=e.indexOf("("),l=e.indexOf(")");if(o>1&&l>o&&l<=e.length){let u="",h="",f=e.substring(0,1);f.match(/\w/)?h=e.substring(0,o).trim():(f.match(/\+|-|~|#/)&&(u=f),h=e.substring(1,o).trim());const d=e.substring(o+1,l);e.substring(l+1,1),r=parseClassifier(e.substring(l+1,l+2)),t=u+h+"("+parseGenericTypes(d.trim())+")",l<e.length&&(n=e.substring(l+2).trim(),n!==""&&(n=" : "+parseGenericTypes(n),t+=n))}else t=parseGenericTypes(e);return{displayText:t,cssStyle:r}},addTspan=function(e,t,r,n){let o=parseMember(t);const l=e.append("tspan").attr("x",n.padding).text(o.displayText);o.cssStyle!==""&&l.attr("style",o.cssStyle),r||l.attr("dy",n.textHeight)},parseClassifier=function(e){switch(e){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},svgDraw$2={drawClass,drawEdge:drawEdge$1,parseMember};let idCache={};const padding=20,getGraphId=function(e){const t=Object.entries(idCache).find(r=>r[1].label===e);if(t)return t[0]},insertMarkers$3=function(e){e.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),e.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},draw$d=function(e,t,r,n){const o=getConfig$1().class;idCache={},log$1.info("Rendering diagram "+e);const l=getConfig$1().securityLevel;let u;l==="sandbox"&&(u=select$1("#i"+t));const h=select$1(l==="sandbox"?u.nodes()[0].contentDocument.body:"body"),f=h.select(`[id='${t}']`);insertMarkers$3(f);const d=new graphlib$2.Graph({multigraph:!0});d.setGraph({isMultiGraph:!0}),d.setDefaultEdgeLabel(function(){return{}});const p=n.db.getClasses(),m=Object.keys(p);for(let I=0;I<m.length;I++){const N=p[m[I]],q=svgDraw$2.drawClass(f,N,o,n);idCache[q.id]=q,d.setNode(q.id,q),log$1.info("Org height: "+q.height)}n.db.getRelations().forEach(function(I){log$1.info("tjoho"+getGraphId(I.id1)+getGraphId(I.id2)+JSON.stringify(I)),d.setEdge(getGraphId(I.id1),getGraphId(I.id2),{relation:I},I.title||"DEFAULT")}),dagre$1.layout(d),d.nodes().forEach(function(I){typeof I<"u"&&typeof d.node(I)<"u"&&(log$1.debug("Node "+I+": "+JSON.stringify(d.node(I))),h.select("#"+n.db.lookUpDomId(I)).attr("transform","translate("+(d.node(I).x-d.node(I).width/2)+","+(d.node(I).y-d.node(I).height/2)+" )"))}),d.edges().forEach(function(I){typeof I<"u"&&typeof d.edge(I)<"u"&&(log$1.debug("Edge "+I.v+" -> "+I.w+": "+JSON.stringify(d.edge(I))),svgDraw$2.drawEdge(f,d.edge(I),d.edge(I).relation,o,n))});const b=f.node().getBBox(),v=b.width+padding*2,T=b.height+padding*2;configureSvgSize(f,T,v,o.useMaxWidth);const R=`${b.x-padding} ${b.y-padding} ${v} ${T}`;log$1.debug(`viewBox ${R}`),f.attr("viewBox",R),addSVGAccessibilityFields(n.db,f,t)},classRenderer={draw:draw$d},insertMarkers$2=(e,t,r,n)=>{t.forEach(o=>{markers$1[o](e,r,n)})},extension=(e,t,r)=>{log$1.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",t+"-extensionStart").attr("class","marker extension "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition=(e,t)=>{e.append("defs").append("marker").attr("id",t+"-compositionStart").attr("class","marker composition "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation=(e,t)=>{e.append("defs").append("marker").attr("id",t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency=(e,t)=>{e.append("defs").append("marker").attr("id",t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},lollipop=(e,t)=>{e.append("defs").append("marker").attr("id",t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","white").attr("cx",6).attr("cy",7).attr("r",6)},point=(e,t)=>{e.append("marker").attr("id",t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",10).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle$1=(e,t)=>{e.append("marker").attr("id",t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross=(e,t)=>{e.append("marker").attr("id",t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb=(e,t)=>{e.append("defs").append("marker").attr("id",t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},markers$1={extension,composition,aggregation,dependency,lollipop,point,circle:circle$1,cross,barb};function applyStyle$1(e,t){t&&e.attr("style",t)}function addHtmlLabel$1(e){const t=select$1(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div"),n=e.label,o=e.isNode?"nodeLabel":"edgeLabel";return r.html('<span class="'+o+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+n+"</span>"),applyStyle$1(r,e.labelStyle),r.style("display","inline-block"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}const createLabel=(e,t,r,n)=>{let o=e||"";if(typeof o=="object"&&(o=o[0]),evaluate(getConfig$1().flowchart.htmlLabels)){o=o.replace(/\\n|\n/g,"<br />"),log$1.info("vertexText"+o);const l={isNode:n,label:decodeEntities(o).replace(/fa[lrsb]?:fa-[\w-]+/g,h=>`<i class='${h.replace(":"," ")}'></i>`),labelStyle:t.replace("fill:","color:")};return addHtmlLabel$1(l)}else{const l=document.createElementNS("http://www.w3.org/2000/svg","text");l.setAttribute("style",t.replace("color:","fill:"));let u=[];typeof o=="string"?u=o.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(o)?u=o:u=[];for(let h=0;h<u.length;h++){const f=document.createElementNS("http://www.w3.org/2000/svg","tspan");f.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),f.setAttribute("dy","1em"),f.setAttribute("x","0"),r?f.setAttribute("class","title-row"):f.setAttribute("class","row"),f.textContent=u[h].trim(),l.appendChild(f)}return l}},labelHelper=(e,t,r,n)=>{let o;r?o=r:o="node default";const l=e.insert("g").attr("class",o).attr("id",t.domId||t.id),u=l.insert("g").attr("class","label").attr("style",t.labelStyle);let h;typeof t.labelText>"u"?h="":h=typeof t.labelText=="string"?t.labelText:t.labelText[0];const f=u.node().appendChild(createLabel(sanitizeText$5(decodeEntities(h),getConfig$1()),t.labelStyle,!1,n));let d=f.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const m=f.children[0],g=select$1(f);d=m.getBoundingClientRect(),g.attr("width",d.width),g.attr("height",d.height)}const p=t.padding/2;return u.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),{shapeSvg:l,bbox:d,halfPadding:p,label:u}},updateNodeBounds=(e,t)=>{const r=t.node().getBBox();e.width=r.width,e.height=r.height};function insertPolygonShape$1(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(o){return o.x+","+o.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}let clusterDb={},decendants={},parents={};const clear$b=()=>{decendants={},parents={},clusterDb={}},isDecendant=(e,t)=>(log$1.trace("In isDecendant",t," ",e," = ",decendants[t].indexOf(e)>=0),decendants[t].indexOf(e)>=0),edgeInCluster=(e,t)=>(log$1.info("Decendants of ",t," is ",decendants[t]),log$1.info("Edge is ",e),e.v===t||e.w===t?!1:decendants[t]?!!(decendants[t].indexOf(e.v)>=0||isDecendant(e.v,t)||isDecendant(e.w,t)||decendants[t].indexOf(e.w)>=0):(log$1.debug("Tilt, ",t,",not in decendants"),!1)),copy=(e,t,r,n)=>{log$1.warn("Copying children of ",e,"root",n,"data",t.node(e),n);const o=t.children(e)||[];e!==n&&o.push(e),log$1.warn("Copying (nodes) clusterId",e,"nodes",o),o.forEach(l=>{if(t.children(l).length>0)copy(l,t,r,n);else{const u=t.node(l);log$1.info("cp ",l," to ",n," with parent ",e),r.setNode(l,u),n!==t.parent(l)&&(log$1.warn("Setting parent",l,t.parent(l)),r.setParent(l,t.parent(l))),e!==n&&l!==e?(log$1.debug("Setting parent",l,e),r.setParent(l,e)):(log$1.info("In copy ",e,"root",n,"data",t.node(e),n),log$1.debug("Not Setting parent for node=",l,"cluster!==rootId",e!==n,"node!==clusterId",l!==e));const h=t.edges(l);log$1.debug("Copying Edges",h),h.forEach(f=>{log$1.info("Edge",f);const d=t.edge(f.v,f.w,f.name);log$1.info("Edge data",d,n);try{edgeInCluster(f,n)?(log$1.info("Copying as ",f.v,f.w,d,f.name),r.setEdge(f.v,f.w,d,f.name),log$1.info("newGraph edges ",r.edges(),r.edge(r.edges()[0]))):log$1.info("Skipping copy of edge ",f.v,"-->",f.w," rootId: ",n," clusterId:",e)}catch(p){log$1.error(p)}})}log$1.debug("Removing node",l),t.removeNode(l)})},extractDecendants=(e,t)=>{const r=t.children(e);let n=[].concat(r);for(let o=0;o<r.length;o++)parents[r[o]]=e,n=n.concat(extractDecendants(r[o],t));return n},findNonClusterChild=(e,t)=>{log$1.trace("Searching",e);const r=t.children(e);if(log$1.trace("Searching children of id ",e,r),r.length<1)return log$1.trace("This is a valid node",e),e;for(let n=0;n<r.length;n++){const o=findNonClusterChild(r[n],t);if(o)return log$1.trace("Found replacement for",e," => ",o),o}},getAnchorId=e=>!clusterDb[e]||!clusterDb[e].externalConnections?e:clusterDb[e]?clusterDb[e].id:e,adjustClustersAndEdges=(e,t)=>{if(!e||t>10){log$1.debug("Opting out, no graph ");return}else log$1.debug("Opting in, graph ");e.nodes().forEach(function(r){e.children(r).length>0&&(log$1.warn("Cluster identified",r," Replacement id in edges: ",findNonClusterChild(r,e)),decendants[r]=extractDecendants(r,e),clusterDb[r]={id:findNonClusterChild(r,e),clusterData:e.node(r)})}),e.nodes().forEach(function(r){const n=e.children(r),o=e.edges();n.length>0?(log$1.debug("Cluster identified",r,decendants),o.forEach(l=>{if(l.v!==r&&l.w!==r){const u=isDecendant(l.v,r),h=isDecendant(l.w,r);u^h&&(log$1.warn("Edge: ",l," leaves cluster ",r),log$1.warn("Decendants of XXX ",r,": ",decendants[r]),clusterDb[r].externalConnections=!0)}})):log$1.debug("Not a cluster ",r,decendants)}),e.edges().forEach(function(r){const n=e.edge(r);log$1.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(r)),log$1.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(e.edge(r)));let o=r.v,l=r.w;if(log$1.warn("Fix XXX",clusterDb,"ids:",r.v,r.w,"Translateing: ",clusterDb[r.v]," --- ",clusterDb[r.w]),clusterDb[r.v]&&clusterDb[r.w]&&clusterDb[r.v]===clusterDb[r.w]){log$1.warn("Fixing and trixing link to self - removing XXX",r.v,r.w,r.name),log$1.warn("Fixing and trixing - removing XXX",r.v,r.w,r.name),o=getAnchorId(r.v),l=getAnchorId(r.w),e.removeEdge(r.v,r.w,r.name);const u=r.w+"---"+r.v;e.setNode(u,{domId:u,id:u,labelStyle:"",labelText:n.label,padding:0,shape:"labelRect",style:""});const h=JSON.parse(JSON.stringify(n)),f=JSON.parse(JSON.stringify(n));h.label="",h.arrowTypeEnd="none",f.label="",h.fromCluster=r.v,f.toCluster=r.v,e.setEdge(o,u,h,r.name+"-cyclic-special"),e.setEdge(u,l,f,r.name+"-cyclic-special")}else(clusterDb[r.v]||clusterDb[r.w])&&(log$1.warn("Fixing and trixing - removing XXX",r.v,r.w,r.name),o=getAnchorId(r.v),l=getAnchorId(r.w),e.removeEdge(r.v,r.w,r.name),o!==r.v&&(n.fromCluster=r.v),l!==r.w&&(n.toCluster=r.w),log$1.warn("Fix Replacing with XXX",o,l,r.name),e.setEdge(o,l,n,r.name))}),log$1.warn("Adjusted Graph",graphlib$2.json.write(e)),extractor(e,0),log$1.trace(clusterDb)},extractor=(e,t)=>{if(log$1.warn("extractor - ",t,graphlib$2.json.write(e),e.children("D")),t>10){log$1.error("Bailing out");return}let r=e.nodes(),n=!1;for(let o=0;o<r.length;o++){const l=r[o],u=e.children(l);n=n||u.length>0}if(!n){log$1.debug("Done, no node has children",e.nodes());return}log$1.debug("Nodes = ",r,t);for(let o=0;o<r.length;o++){const l=r[o];if(log$1.debug("Extracting node",l,clusterDb,clusterDb[l]&&!clusterDb[l].externalConnections,!e.parent(l),e.node(l),e.children("D")," Depth ",t),!clusterDb[l])log$1.debug("Not a cluster",l,t);else if(!clusterDb[l].externalConnections&&e.children(l)&&e.children(l).length>0){log$1.warn("Cluster without external connections, without a parent and with children",l,t);let h=e.graph().rankdir==="TB"?"LR":"TB";clusterDb[l]&&clusterDb[l].clusterData&&clusterDb[l].clusterData.dir&&(h=clusterDb[l].clusterData.dir,log$1.warn("Fixing dir",clusterDb[l].clusterData.dir,h));const f=new graphlib$2.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:h,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});log$1.warn("Old graph before copy",graphlib$2.json.write(e)),copy(l,e,f,l),e.setNode(l,{clusterNode:!0,id:l,clusterData:clusterDb[l].clusterData,labelText:clusterDb[l].labelText,graph:f}),log$1.warn("New graph after copy node: (",l,")",graphlib$2.json.write(f)),log$1.debug("Old graph after copy",graphlib$2.json.write(e))}else log$1.warn("Cluster ** ",l," **not meeting the criteria !externalConnections:",!clusterDb[l].externalConnections," no parent: ",!e.parent(l)," children ",e.children(l)&&e.children(l).length>0,e.children("D"),t),log$1.debug(clusterDb)}r=e.nodes(),log$1.warn("New list of nodes",r);for(let o=0;o<r.length;o++){const l=r[o],u=e.node(l);log$1.warn(" Now next level",l,u),u.clusterNode&&extractor(u.graph,t+1)}},sorter=(e,t)=>{if(t.length===0)return[];let r=Object.assign(t);return t.forEach(n=>{const o=e.children(n),l=sorter(e,o);r=r.concat(l)}),r},sortNodesByHierarchy=e=>sorter(e,e.children());function intersectNode(e,t){return e.intersect(t)}function intersectEllipse(e,t,r,n){var o=e.x,l=e.y,u=o-n.x,h=l-n.y,f=Math.sqrt(t*t*h*h+r*r*u*u),d=Math.abs(t*r*u/f);n.x<o&&(d=-d);var p=Math.abs(t*r*h/f);return n.y<l&&(p=-p),{x:o+d,y:l+p}}function intersectCircle(e,t,r){return intersectEllipse(e,t,t,r)}function intersectLine(e,t,r,n){var o,l,u,h,f,d,p,m,g,b,v,T,R,I,N;if(o=t.y-e.y,u=e.x-t.x,f=t.x*e.y-e.x*t.y,g=o*r.x+u*r.y+f,b=o*n.x+u*n.y+f,!(g!==0&&b!==0&&sameSign(g,b))&&(l=n.y-r.y,h=r.x-n.x,d=n.x*r.y-r.x*n.y,p=l*e.x+h*e.y+d,m=l*t.x+h*t.y+d,!(p!==0&&m!==0&&sameSign(p,m))&&(v=o*h-l*u,v!==0)))return T=Math.abs(v/2),R=u*d-h*f,I=R<0?(R-T)/v:(R+T)/v,R=l*f-o*d,N=R<0?(R-T)/v:(R+T)/v,{x:I,y:N}}function sameSign(e,t){return e*t>0}function intersectPolygon(e,t,r){var n=e.x,o=e.y,l=[],u=Number.POSITIVE_INFINITY,h=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(v){u=Math.min(u,v.x),h=Math.min(h,v.y)}):(u=Math.min(u,t.x),h=Math.min(h,t.y));for(var f=n-e.width/2-u,d=o-e.height/2-h,p=0;p<t.length;p++){var m=t[p],g=t[p<t.length-1?p+1:0],b=intersectLine(e,r,{x:f+m.x,y:d+m.y},{x:f+g.x,y:d+g.y});b&&l.push(b)}return l.length?(l.length>1&&l.sort(function(v,T){var R=v.x-r.x,I=v.y-r.y,N=Math.sqrt(R*R+I*I),q=T.x-r.x,F=T.y-r.y,H=Math.sqrt(q*q+F*F);return N<H?-1:N===H?0:1}),l[0]):e}const intersectRect=(e,t)=>{var r=e.x,n=e.y,o=t.x-r,l=t.y-n,u=e.width/2,h=e.height/2,f,d;return Math.abs(l)*u>Math.abs(o)*h?(l<0&&(h=-h),f=l===0?0:h*o/l,d=h):(o<0&&(u=-u),f=u,d=o===0?0:u*l/o),{x:r+f,y:n+d}},intersect={node:intersectNode,circle:intersectCircle,ellipse:intersectEllipse,polygon:intersectPolygon,rect:intersectRect},note=(e,t)=>{const{shapeSvg:r,bbox:n,halfPadding:o}=labelHelper(e,t,"node "+t.classes,!0);log$1.info("Classes = ",t.classes);const l=r.insert("rect",":first-child");return l.attr("rx",t.rx).attr("ry",t.ry).attr("x",-n.width/2-o).attr("y",-n.height/2-o).attr("width",n.width+t.padding).attr("height",n.height+t.padding),updateNodeBounds(t,l),t.intersect=function(u){return intersect.rect(t,u)},r},question$1=(e,t)=>{const{shapeSvg:r,bbox:n}=labelHelper(e,t,void 0,!0),o=n.width+t.padding,l=n.height+t.padding,u=o+l,h=[{x:u/2,y:0},{x:u,y:-u/2},{x:u/2,y:-u},{x:0,y:-u/2}];log$1.info("Question main (Circle)");const f=insertPolygonShape$1(r,u,u,h);return f.attr("style",t.style),updateNodeBounds(t,f),t.intersect=function(d){return log$1.warn("Intersect called"),intersect.polygon(t,h,d)},r},choice=(e,t)=>{const r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=28,o=[{x:0,y:n/2},{x:n/2,y:0},{x:0,y:-n/2},{x:-n/2,y:0}];return r.insert("polygon",":first-child").attr("points",o.map(function(u){return u.x+","+u.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),t.width=28,t.height=28,t.intersect=function(u){return intersect.circle(t,14,u)},r},hexagon$1=(e,t)=>{const{shapeSvg:r,bbox:n}=labelHelper(e,t,void 0,!0),o=4,l=n.height+t.padding,u=l/o,h=n.width+2*u+t.padding,f=[{x:u,y:0},{x:h-u,y:0},{x:h,y:-l/2},{x:h-u,y:-l},{x:u,y:-l},{x:0,y:-l/2}],d=insertPolygonShape$1(r,h,l,f);return d.attr("style",t.style),updateNodeBounds(t,d),t.intersect=function(p){return intersect.polygon(t,f,p)},r},rect_left_inv_arrow$1=(e,t)=>{const{shapeSvg:r,bbox:n}=labelHelper(e,t,void 0,!0),o=n.width+t.padding,l=n.height+t.padding,u=[{x:-l/2,y:0},{x:o,y:0},{x:o,y:-l},{x:-l/2,y:-l},{x:0,y:-l/2}];return insertPolygonShape$1(r,o,l,u).attr("style",t.style),t.width=o+l,t.height=l,t.intersect=function(f){return intersect.polygon(t,u,f)},r},lean_right$1=(e,t)=>{const{shapeSvg:r,bbox:n}=labelHelper(e,t,void 0,!0),o=n.width+t.padding,l=n.height+t.padding,u=[{x:-2*l/6,y:0},{x:o-l/6,y:0},{x:o+2*l/6,y:-l},{x:l/6,y:-l}],h=insertPolygonShape$1(r,o,l,u);return h.attr("style",t.style),updateNodeBounds(t,h),t.intersect=function(f){return intersect.polygon(t,u,f)},r},lean_left$1=(e,t)=>{const{shapeSvg:r,bbox:n}=labelHelper(e,t,void 0,!0),o=n.width+t.padding,l=n.height+t.padding,u=[{x:2*l/6,y:0},{x:o+l/6,y:0},{x:o-2*l/6,y:-l},{x:-l/6,y:-l}],h=insertPolygonShape$1(r,o,l,u);return h.attr("style",t.style),updateNodeBounds(t,h),t.intersect=function(f){return intersect.polygon(t,u,f)},r},trapezoid$1=(e,t)=>{const{shapeSvg:r,bbox:n}=labelHelper(e,t,void 0,!0),o=n.width+t.padding,l=n.height+t.padding,u=[{x:-2*l/6,y:0},{x:o+2*l/6,y:0},{x:o-l/6,y:-l},{x:l/6,y:-l}],h=insertPolygonShape$1(r,o,l,u);return h.attr("style",t.style),updateNodeBounds(t,h),t.intersect=function(f){return intersect.polygon(t,u,f)},r},inv_trapezoid$1=(e,t)=>{const{shapeSvg:r,bbox:n}=labelHelper(e,t,void 0,!0),o=n.width+t.padding,l=n.height+t.padding,u=[{x:l/6,y:0},{x:o-l/6,y:0},{x:o+2*l/6,y:-l},{x:-2*l/6,y:-l}],h=insertPolygonShape$1(r,o,l,u);return h.attr("style",t.style),updateNodeBounds(t,h),t.intersect=function(f){return intersect.polygon(t,u,f)},r},rect_right_inv_arrow$1=(e,t)=>{const{shapeSvg:r,bbox:n}=labelHelper(e,t,void 0,!0),o=n.width+t.padding,l=n.height+t.padding,u=[{x:0,y:0},{x:o+l/2,y:0},{x:o,y:-l/2},{x:o+l/2,y:-l},{x:0,y:-l}],h=insertPolygonShape$1(r,o,l,u);return h.attr("style",t.style),updateNodeBounds(t,h),t.intersect=function(f){return intersect.polygon(t,u,f)},r},cylinder$1=(e,t)=>{const{shapeSvg:r,bbox:n}=labelHelper(e,t,void 0,!0),o=n.width+t.padding,l=o/2,u=l/(2.5+o/50),h=n.height+u+t.padding,f="M 0,"+u+" a "+l+","+u+" 0,0,0 "+o+" 0 a "+l+","+u+" 0,0,0 "+-o+" 0 l 0,"+h+" a "+l+","+u+" 0,0,0 "+o+" 0 l 0,"+-h,d=r.attr("label-offset-y",u).insert("path",":first-child").attr("style",t.style).attr("d",f).attr("transform","translate("+-o/2+","+-(h/2+u)+")");return updateNodeBounds(t,d),t.intersect=function(p){const m=intersect.rect(t,p),g=m.x-t.x;if(l!=0&&(Math.abs(g)<t.width/2||Math.abs(g)==t.width/2&&Math.abs(m.y-t.y)>t.height/2-u)){let b=u*u*(1-g*g/(l*l));b!=0&&(b=Math.sqrt(b)),b=u-b,p.y-t.y>0&&(b=-b),m.y+=b}return m},r},rect$1=(e,t)=>{const{shapeSvg:r,bbox:n,halfPadding:o}=labelHelper(e,t,"node "+t.classes,!0);log$1.trace("Classes = ",t.classes);const l=r.insert("rect",":first-child"),u=n.width+t.padding,h=n.height+t.padding;if(l.attr("class","basic label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",-n.width/2-o).attr("y",-n.height/2-o).attr("width",u).attr("height",h),t.props){const f=new Set(Object.keys(t.props));t.props.borders&&(applyNodePropertyBorders(l,t.props.borders,u,h),f.delete("borders")),f.forEach(d=>{log$1.warn(`Unknown node property ${d}`)})}return updateNodeBounds(t,l),t.intersect=function(f){return intersect.rect(t,f)},r},labelRect=(e,t)=>{const{shapeSvg:r}=labelHelper(e,t,"label",!0);log$1.trace("Classes = ",t.classes);const n=r.insert("rect",":first-child"),o=0,l=0;if(n.attr("width",o).attr("height",l),r.attr("class","label edgeLabel"),t.props){const u=new Set(Object.keys(t.props));t.props.borders&&(applyNodePropertyBorders(n,t.props.borders,o,l),u.delete("borders")),u.forEach(h=>{log$1.warn(`Unknown node property ${h}`)})}return updateNodeBounds(t,n),t.intersect=function(u){return intersect.rect(t,u)},r};function applyNodePropertyBorders(e,t,r,n){const o=[],l=h=>{o.push(h),o.push(0)},u=h=>{o.push(0),o.push(h)};t.includes("t")?(log$1.debug("add top border"),l(r)):u(r),t.includes("r")?(log$1.debug("add right border"),l(n)):u(n),t.includes("b")?(log$1.debug("add bottom border"),l(r)):u(r),t.includes("l")?(log$1.debug("add left border"),l(n)):u(n),e.attr("stroke-dasharray",o.join(" "))}const rectWithTitle=(e,t)=>{let r;t.classes?r="node "+t.classes:r="node default";const n=e.insert("g").attr("class",r).attr("id",t.domId||t.id),o=n.insert("rect",":first-child"),l=n.insert("line"),u=n.insert("g").attr("class","label"),h=t.labelText.flat?t.labelText.flat():t.labelText;let f="";typeof h=="object"?f=h[0]:f=h,log$1.info("Label text abc79",f,h,typeof h=="object");const d=u.node().appendChild(createLabel(f,t.labelStyle,!0,!0));let p={width:0,height:0};if(evaluate(getConfig$1().flowchart.htmlLabels)){const T=d.children[0],R=select$1(d);p=T.getBoundingClientRect(),R.attr("width",p.width),R.attr("height",p.height)}log$1.info("Text 2",h);const m=h.slice(1,h.length);let g=d.getBBox();const b=u.node().appendChild(createLabel(m.join?m.join("<br/>"):m,t.labelStyle,!0,!0));if(evaluate(getConfig$1().flowchart.htmlLabels)){const T=b.children[0],R=select$1(b);p=T.getBoundingClientRect(),R.attr("width",p.width),R.attr("height",p.height)}const v=t.padding/2;return select$1(b).attr("transform","translate( "+(p.width>g.width?0:(g.width-p.width)/2)+", "+(g.height+v+5)+")"),select$1(d).attr("transform","translate( "+(p.width<g.width?0:-(g.width-p.width)/2)+", "+0+")"),p=u.node().getBBox(),u.attr("transform","translate("+-p.width/2+", "+(-p.height/2-v+3)+")"),o.attr("class","outer title-state").attr("x",-p.width/2-v).attr("y",-p.height/2-v).attr("width",p.width+t.padding).attr("height",p.height+t.padding),l.attr("class","divider").attr("x1",-p.width/2-v).attr("x2",p.width/2+v).attr("y1",-p.height/2-v+g.height+v).attr("y2",-p.height/2-v+g.height+v),updateNodeBounds(t,o),t.intersect=function(T){return intersect.rect(t,T)},n},stadium$1=(e,t)=>{const{shapeSvg:r,bbox:n}=labelHelper(e,t,void 0,!0),o=n.height+t.padding,l=n.width+o/4+t.padding,u=r.insert("rect",":first-child").attr("style",t.style).attr("rx",o/2).attr("ry",o/2).attr("x",-l/2).attr("y",-o/2).attr("width",l).attr("height",o);return updateNodeBounds(t,u),t.intersect=function(h){return intersect.rect(t,h)},r},circle=(e,t)=>{const{shapeSvg:r,bbox:n,halfPadding:o}=labelHelper(e,t,void 0,!0),l=r.insert("circle",":first-child");return l.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+o).attr("width",n.width+t.padding).attr("height",n.height+t.padding),log$1.info("Circle main"),updateNodeBounds(t,l),t.intersect=function(u){return log$1.info("Circle intersect",t,n.width/2+o,u),intersect.circle(t,n.width/2+o,u)},r},doublecircle=(e,t)=>{const{shapeSvg:r,bbox:n,halfPadding:o}=labelHelper(e,t,void 0,!0),l=5,u=r.insert("g",":first-child"),h=u.insert("circle"),f=u.insert("circle");return h.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+o+l).attr("width",n.width+t.padding+l*2).attr("height",n.height+t.padding+l*2),f.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+o).attr("width",n.width+t.padding).attr("height",n.height+t.padding),log$1.info("DoubleCircle main"),updateNodeBounds(t,h),t.intersect=function(d){return log$1.info("DoubleCircle intersect",t,n.width/2+o+l,d),intersect.circle(t,n.width/2+o+l,d)},r},subroutine$1=(e,t)=>{const{shapeSvg:r,bbox:n}=labelHelper(e,t,void 0,!0),o=n.width+t.padding,l=n.height+t.padding,u=[{x:0,y:0},{x:o,y:0},{x:o,y:-l},{x:0,y:-l},{x:0,y:0},{x:-8,y:0},{x:o+8,y:0},{x:o+8,y:-l},{x:-8,y:-l},{x:-8,y:0}],h=insertPolygonShape$1(r,o,l,u);return h.attr("style",t.style),updateNodeBounds(t,h),t.intersect=function(f){return intersect.polygon(t,u,f)},r},start=(e,t)=>{const r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=r.insert("circle",":first-child");return n.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),updateNodeBounds(t,n),t.intersect=function(o){return intersect.circle(t,7,o)},r},forkJoin=(e,t,r)=>{const n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let o=70,l=10;r==="LR"&&(o=10,l=70);const u=n.append("rect").attr("x",-1*o/2).attr("y",-1*l/2).attr("width",o).attr("height",l).attr("class","fork-join");return updateNodeBounds(t,u),t.height=t.height+t.padding/2,t.width=t.width+t.padding/2,t.intersect=function(h){return intersect.rect(t,h)},n},end=(e,t)=>{const r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=r.insert("circle",":first-child"),o=r.insert("circle",":first-child");return o.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),n.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),updateNodeBounds(t,o),t.intersect=function(l){return intersect.circle(t,7,l)},r},class_box=(e,t)=>{const r=t.padding/2,n=4,o=8;let l;t.classes?l="node "+t.classes:l="node default";const u=e.insert("g").attr("class",l).attr("id",t.domId||t.id),h=u.insert("rect",":first-child"),f=u.insert("line"),d=u.insert("line");let p=0,m=n;const g=u.insert("g").attr("class","label");let b=0;const v=t.classData.annotations&&t.classData.annotations[0],T=t.classData.annotations[0]?"\xAB"+t.classData.annotations[0]+"\xBB":"",R=g.node().appendChild(createLabel(T,t.labelStyle,!0,!0));let I=R.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const G=R.children[0],P=select$1(R);I=G.getBoundingClientRect(),P.attr("width",I.width),P.attr("height",I.height)}t.classData.annotations[0]&&(m+=I.height+n,p+=I.width);let N=t.classData.id;t.classData.type!==void 0&&t.classData.type!==""&&(getConfig$1().flowchart.htmlLabels?N+="&lt;"+t.classData.type+"&gt;":N+="<"+t.classData.type+">");const q=g.node().appendChild(createLabel(N,t.labelStyle,!0,!0));select$1(q).attr("class","classTitle");let F=q.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const G=q.children[0],P=select$1(q);F=G.getBoundingClientRect(),P.attr("width",F.width),P.attr("height",F.height)}m+=F.height+n,F.width>p&&(p=F.width);const H=[];t.classData.members.forEach(G=>{const P=parseMember(G);let W=P.displayText;getConfig$1().flowchart.htmlLabels&&(W=W.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const S=g.node().appendChild(createLabel(W,P.cssStyle?P.cssStyle:t.labelStyle,!0,!0));let U=S.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const L=S.children[0],ae=select$1(S);U=L.getBoundingClientRect(),ae.attr("width",U.width),ae.attr("height",U.height)}U.width>p&&(p=U.width),m+=U.height+n,H.push(S)}),m+=o;const V=[];if(t.classData.methods.forEach(G=>{const P=parseMember(G);let W=P.displayText;getConfig$1().flowchart.htmlLabels&&(W=W.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const S=g.node().appendChild(createLabel(W,P.cssStyle?P.cssStyle:t.labelStyle,!0,!0));let U=S.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const L=S.children[0],ae=select$1(S);U=L.getBoundingClientRect(),ae.attr("width",U.width),ae.attr("height",U.height)}U.width>p&&(p=U.width),m+=U.height+n,V.push(S)}),m+=o,v){let G=(p-I.width)/2;select$1(R).attr("transform","translate( "+(-1*p/2+G)+", "+-1*m/2+")"),b=I.height+n}let z=(p-F.width)/2;return select$1(q).attr("transform","translate( "+(-1*p/2+z)+", "+(-1*m/2+b)+")"),b+=F.height+n,f.attr("class","divider").attr("x1",-p/2-r).attr("x2",p/2+r).attr("y1",-m/2-r+o+b).attr("y2",-m/2-r+o+b),b+=o,H.forEach(G=>{select$1(G).attr("transform","translate( "+-p/2+", "+(-1*m/2+b+o/2)+")"),b+=F.height+n}),b+=o,d.attr("class","divider").attr("x1",-p/2-r).attr("x2",p/2+r).attr("y1",-m/2-r+o+b).attr("y2",-m/2-r+o+b),b+=o,V.forEach(G=>{select$1(G).attr("transform","translate( "+-p/2+", "+(-1*m/2+b)+")"),b+=F.height+n}),h.attr("class","outer title-state").attr("x",-p/2-r).attr("y",-(m/2)-r).attr("width",p+t.padding).attr("height",m+t.padding),updateNodeBounds(t,h),t.intersect=function(G){return intersect.rect(t,G)},u},shapes$1={question:question$1,rect:rect$1,labelRect,rectWithTitle,choice,circle,doublecircle,stadium:stadium$1,hexagon:hexagon$1,rect_left_inv_arrow:rect_left_inv_arrow$1,lean_right:lean_right$1,lean_left:lean_left$1,trapezoid:trapezoid$1,inv_trapezoid:inv_trapezoid$1,rect_right_inv_arrow:rect_right_inv_arrow$1,cylinder:cylinder$1,start,end,note,subroutine:subroutine$1,fork:forkJoin,join:forkJoin,class_box};let nodeElems={};const insertNode=(e,t,r)=>{let n,o;if(t.link){let l;getConfig$1().securityLevel==="sandbox"?l="_top":t.linkTarget&&(l=t.linkTarget||"_blank"),n=e.insert("svg:a").attr("xlink:href",t.link).attr("target",l),o=shapes$1[t.shape](n,t,r)}else o=shapes$1[t.shape](e,t,r),n=o;t.tooltip&&o.attr("title",t.tooltip),t.class&&o.attr("class","node default "+t.class),nodeElems[t.id]=n,t.haveCallback&&nodeElems[t.id].attr("class",nodeElems[t.id].attr("class")+" clickable")},setNodeElem=(e,t)=>{nodeElems[t.id]=e},clear$a=()=>{nodeElems={}},positionNode=e=>{const t=nodeElems[e.id];log$1.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const r=8,n=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+n-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),n},rect=(e,t)=>{log$1.trace("Creating subgraph rect for ",t.id,t);const r=e.insert("g").attr("class","cluster"+(t.class?" "+t.class:"")).attr("id",t.id),n=r.insert("rect",":first-child"),o=r.insert("g").attr("class","cluster-label"),l=o.node().appendChild(createLabel(t.labelText,t.labelStyle,void 0,!0));let u=l.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const m=l.children[0],g=select$1(l);u=m.getBoundingClientRect(),g.attr("width",u.width),g.attr("height",u.height)}const h=0*t.padding,f=h/2,d=t.width<=u.width+h?u.width+h:t.width;t.width<=u.width+h?t.diff=(u.width-t.width)/2-t.padding/2:t.diff=-t.padding/2,log$1.trace("Data ",t,JSON.stringify(t)),n.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-d/2).attr("y",t.y-t.height/2-f).attr("width",d).attr("height",t.height+h),o.attr("transform","translate("+(t.x-u.width/2)+", "+(t.y-t.height/2+t.padding/3)+")");const p=n.node().getBBox();return t.width=p.width,t.height=p.height,t.intersect=function(m){return intersectRect(t,m)},r},noteGroup=(e,t)=>{const r=e.insert("g").attr("class","note-cluster").attr("id",t.id),n=r.insert("rect",":first-child"),o=0*t.padding,l=o/2;n.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-l).attr("y",t.y-t.height/2-l).attr("width",t.width+o).attr("height",t.height+o).attr("fill","none");const u=n.node().getBBox();return t.width=u.width,t.height=u.height,t.intersect=function(h){return intersectRect(t,h)},r},roundedWithTitle=(e,t)=>{const r=e.insert("g").attr("class",t.classes).attr("id",t.id),n=r.insert("rect",":first-child"),o=r.insert("g").attr("class","cluster-label"),l=r.append("rect"),u=o.node().appendChild(createLabel(t.labelText,t.labelStyle,void 0,!0));let h=u.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const g=u.children[0],b=select$1(u);h=g.getBoundingClientRect(),b.attr("width",h.width),b.attr("height",h.height)}h=u.getBBox();const f=0*t.padding,d=f/2,p=t.width<=h.width+t.padding?h.width+t.padding:t.width;t.width<=h.width+t.padding?t.diff=(h.width+t.padding*0-t.width)/2:t.diff=-t.padding/2,n.attr("class","outer").attr("x",t.x-p/2-d).attr("y",t.y-t.height/2-d).attr("width",p+f).attr("height",t.height+f),l.attr("class","inner").attr("x",t.x-p/2-d).attr("y",t.y-t.height/2-d+h.height-1).attr("width",p+f).attr("height",t.height+f-h.height-3),o.attr("transform","translate("+(t.x-h.width/2)+", "+(t.y-t.height/2-t.padding/3+(evaluate(getConfig$1().flowchart.htmlLabels)?5:3))+")");const m=n.node().getBBox();return t.height=m.height,t.intersect=function(g){return intersectRect(t,g)},r},divider=(e,t)=>{const r=e.insert("g").attr("class",t.classes).attr("id",t.id),n=r.insert("rect",":first-child"),o=0*t.padding,l=o/2;n.attr("class","divider").attr("x",t.x-t.width/2-l).attr("y",t.y-t.height/2).attr("width",t.width+o).attr("height",t.height+o);const u=n.node().getBBox();return t.width=u.width,t.height=u.height,t.diff=-t.padding/2,t.intersect=function(h){return intersectRect(t,h)},r},shapes={rect,roundedWithTitle,noteGroup,divider};let clusterElems={};const insertCluster=(e,t)=>{log$1.trace("Inserting cluster");const r=t.shape||"rect";clusterElems[t.id]=shapes[r](e,t)},clear$9=()=>{clusterElems={}};let edgeLabels={},terminalLabels={};const clear$8=()=>{edgeLabels={},terminalLabels={}},insertEdgeLabel=(e,t)=>{const r=createLabel(t.label,t.labelStyle),n=e.insert("g").attr("class","edgeLabel"),o=n.insert("g").attr("class","label");o.node().appendChild(r);let l=r.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const h=r.children[0],f=select$1(r);l=h.getBoundingClientRect(),f.attr("width",l.width),f.attr("height",l.height)}o.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),edgeLabels[t.id]=n,t.width=l.width,t.height=l.height;let u;if(t.startLabelLeft){const h=createLabel(t.startLabelLeft,t.labelStyle),f=e.insert("g").attr("class","edgeTerminals"),d=f.insert("g").attr("class","inner");u=d.node().appendChild(h);const p=h.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),terminalLabels[t.id]||(terminalLabels[t.id]={}),terminalLabels[t.id].startLeft=f,setTerminalWidth(u,t.startLabelLeft)}if(t.startLabelRight){const h=createLabel(t.startLabelRight,t.labelStyle),f=e.insert("g").attr("class","edgeTerminals"),d=f.insert("g").attr("class","inner");u=f.node().appendChild(h),d.node().appendChild(h);const p=h.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),terminalLabels[t.id]||(terminalLabels[t.id]={}),terminalLabels[t.id].startRight=f,setTerminalWidth(u,t.startLabelRight)}if(t.endLabelLeft){const h=createLabel(t.endLabelLeft,t.labelStyle),f=e.insert("g").attr("class","edgeTerminals"),d=f.insert("g").attr("class","inner");u=d.node().appendChild(h);const p=h.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),f.node().appendChild(h),terminalLabels[t.id]||(terminalLabels[t.id]={}),terminalLabels[t.id].endLeft=f,setTerminalWidth(u,t.endLabelLeft)}if(t.endLabelRight){const h=createLabel(t.endLabelRight,t.labelStyle),f=e.insert("g").attr("class","edgeTerminals"),d=f.insert("g").attr("class","inner");u=d.node().appendChild(h);const p=h.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),f.node().appendChild(h),terminalLabels[t.id]||(terminalLabels[t.id]={}),terminalLabels[t.id].endRight=f,setTerminalWidth(u,t.endLabelRight)}};function setTerminalWidth(e,t){getConfig$1().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}const positionEdgeLabel=(e,t)=>{log$1.info("Moving label abc78 ",e.id,e.label,edgeLabels[e.id]);let r=t.updatedPath?t.updatedPath:t.originalPath;if(e.label){const n=edgeLabels[e.id];let o=e.x,l=e.y;if(r){const u=utils.calcLabelPosition(r);log$1.info("Moving label from (",o,",",l,") to (",u.x,",",u.y,") abc78")}n.attr("transform","translate("+o+", "+l+")")}if(e.startLabelLeft){const n=terminalLabels[e.id].startLeft;let o=e.x,l=e.y;if(r){const u=utils.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);o=u.x,l=u.y}n.attr("transform","translate("+o+", "+l+")")}if(e.startLabelRight){const n=terminalLabels[e.id].startRight;let o=e.x,l=e.y;if(r){const u=utils.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);o=u.x,l=u.y}n.attr("transform","translate("+o+", "+l+")")}if(e.endLabelLeft){const n=terminalLabels[e.id].endLeft;let o=e.x,l=e.y;if(r){const u=utils.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);o=u.x,l=u.y}n.attr("transform","translate("+o+", "+l+")")}if(e.endLabelRight){const n=terminalLabels[e.id].endRight;let o=e.x,l=e.y;if(r){const u=utils.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);o=u.x,l=u.y}n.attr("transform","translate("+o+", "+l+")")}},outsideNode=(e,t)=>{const r=e.x,n=e.y,o=Math.abs(t.x-r),l=Math.abs(t.y-n),u=e.width/2,h=e.height/2;return o>=u||l>=h},intersection=(e,t,r)=>{log$1.warn(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const n=e.x,o=e.y,l=Math.abs(n-r.x),u=e.width/2;let h=r.x<t.x?u-l:u+l;const f=e.height/2,d=Math.abs(t.y-r.y),p=Math.abs(t.x-r.x);if(Math.abs(o-t.y)*u>Math.abs(n-t.x)*f){let m=r.y<t.y?t.y-f-o:o-f-t.y;h=p*m/d;const g={x:r.x<t.x?r.x+h:r.x-p+h,y:r.y<t.y?r.y+d-m:r.y-d+m};return h===0&&(g.x=t.x,g.y=t.y),p===0&&(g.x=t.x),d===0&&(g.y=t.y),log$1.warn(`abc89 topp/bott calc, Q ${d}, q ${m}, R ${p}, r ${h}`,g),g}else{r.x<t.x?h=t.x-u-n:h=n-u-t.x;let m=d*h/p,g=r.x<t.x?r.x+p-h:r.x-p+h,b=r.y<t.y?r.y+m:r.y-m;return log$1.warn(`sides calc abc89, Q ${d}, q ${m}, R ${p}, r ${h}`,{_x:g,_y:b}),h===0&&(g=t.x,b=t.y),p===0&&(g=t.x),d===0&&(b=t.y),{x:g,y:b}}},cutPathAtIntersect=(e,t)=>{log$1.warn("abc88 cutPathAtIntersect",e,t);let r=[],n=e[0],o=!1;return e.forEach(l=>{if(log$1.info("abc88 checking point",l,t),!outsideNode(t,l)&&!o){const u=intersection(t,n,l);log$1.warn("abc88 inside",l,n,u),log$1.warn("abc88 intersection",u);let h=!1;r.forEach(f=>{h=h||f.x===u.x&&f.y===u.y}),r.find(f=>f.x===u.x&&f.y===u.y)?log$1.warn("abc88 no intersect",u,r):r.push(u),o=!0}else log$1.warn("abc88 outside",l,n),n=l,o||r.push(l)}),log$1.warn("abc88 returning points",r),r},insertEdge=function(e,t,r,n,o,l){let u=r.points,h=!1;const f=l.node(t.v);var d=l.node(t.w);log$1.info("abc88 InsertEdge: ",r),d.intersect&&f.intersect&&(u=u.slice(1,r.points.length-1),u.unshift(f.intersect(u[0])),log$1.info("Last point",u[u.length-1],d,d.intersect(u[u.length-1])),u.push(d.intersect(u[u.length-1]))),r.toCluster&&(log$1.info("to cluster abc88",n[r.toCluster]),u=cutPathAtIntersect(r.points,n[r.toCluster].node),h=!0),r.fromCluster&&(log$1.info("from cluster abc88",n[r.fromCluster]),u=cutPathAtIntersect(u.reverse(),n[r.fromCluster].node).reverse(),h=!0);const p=u.filter(I=>!Number.isNaN(I.y));let m;o==="graph"||o==="flowchart"?m=r.curve||curveBasis:m=curveBasis;const g=line$2().x(function(I){return I.x}).y(function(I){return I.y}).curve(m);let b;switch(r.thickness){case"normal":b="edge-thickness-normal";break;case"thick":b="edge-thickness-thick";break;case"invisible":b="edge-thickness-thick";break;default:b=""}switch(r.pattern){case"solid":b+=" edge-pattern-solid";break;case"dotted":b+=" edge-pattern-dotted";break;case"dashed":b+=" edge-pattern-dashed";break}const v=e.append("path").attr("d",g(p)).attr("id",r.id).attr("class"," "+b+(r.classes?" "+r.classes:"")).attr("style",r.style);let T="";switch((getConfig$1().flowchart.arrowMarkerAbsolute||getConfig$1().state.arrowMarkerAbsolute)&&(T=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,T=T.replace(/\(/g,"\\("),T=T.replace(/\)/g,"\\)")),log$1.info("arrowTypeStart",r.arrowTypeStart),log$1.info("arrowTypeEnd",r.arrowTypeEnd),r.arrowTypeStart){case"arrow_cross":v.attr("marker-start","url("+T+"#"+o+"-crossStart)");break;case"arrow_point":v.attr("marker-start","url("+T+"#"+o+"-pointStart)");break;case"arrow_barb":v.attr("marker-start","url("+T+"#"+o+"-barbStart)");break;case"arrow_circle":v.attr("marker-start","url("+T+"#"+o+"-circleStart)");break;case"aggregation":v.attr("marker-start","url("+T+"#"+o+"-aggregationStart)");break;case"extension":v.attr("marker-start","url("+T+"#"+o+"-extensionStart)");break;case"composition":v.attr("marker-start","url("+T+"#"+o+"-compositionStart)");break;case"dependency":v.attr("marker-start","url("+T+"#"+o+"-dependencyStart)");break;case"lollipop":v.attr("marker-start","url("+T+"#"+o+"-lollipopStart)");break}switch(r.arrowTypeEnd){case"arrow_cross":v.attr("marker-end","url("+T+"#"+o+"-crossEnd)");break;case"arrow_point":v.attr("marker-end","url("+T+"#"+o+"-pointEnd)");break;case"arrow_barb":v.attr("marker-end","url("+T+"#"+o+"-barbEnd)");break;case"arrow_circle":v.attr("marker-end","url("+T+"#"+o+"-circleEnd)");break;case"aggregation":v.attr("marker-end","url("+T+"#"+o+"-aggregationEnd)");break;case"extension":v.attr("marker-end","url("+T+"#"+o+"-extensionEnd)");break;case"composition":v.attr("marker-end","url("+T+"#"+o+"-compositionEnd)");break;case"dependency":v.attr("marker-end","url("+T+"#"+o+"-dependencyEnd)");break;case"lollipop":v.attr("marker-end","url("+T+"#"+o+"-lollipopEnd)");break}let R={};return h&&(R.updatedPath=u),R.originalPath=r.points,R},recursiveRender=(e,t,r,n)=>{log$1.info("Graph in recursive render: XXX",graphlib$2.json.write(t),n);const o=t.graph().rankdir;log$1.trace("Dir in recursive render - dir:",o);const l=e.insert("g").attr("class","root");t.nodes()?log$1.info("Recursive render XXX",t.nodes()):log$1.info("No nodes found for",t),t.edges().length>0&&log$1.trace("Recursive edges",t.edge(t.edges()[0]));const u=l.insert("g").attr("class","clusters"),h=l.insert("g").attr("class","edgePaths"),f=l.insert("g").attr("class","edgeLabels"),d=l.insert("g").attr("class","nodes");t.nodes().forEach(function(m){const g=t.node(m);if(typeof n<"u"){const b=JSON.parse(JSON.stringify(n.clusterData));log$1.info("Setting data for cluster XXX (",m,") ",b,n),t.setNode(n.id,b),t.parent(m)||(log$1.trace("Setting parent",m,n.id),t.setParent(m,n.id,b))}if(log$1.info("(Insert) Node XXX"+m+": "+JSON.stringify(t.node(m))),g&&g.clusterNode){log$1.info("Cluster identified",m,g.width,t.node(m));const b=recursiveRender(d,g.graph,r,t.node(m)),v=b.elem;updateNodeBounds(g,v),g.diff=b.diff||0,log$1.info("Node bounds (abc123)",m,g,g.width,g.x,g.y),setNodeElem(v,g),log$1.warn("Recursive render complete ",v,g)}else t.children(m).length>0?(log$1.info("Cluster - the non recursive path XXX",m,g.id,g,t),log$1.info(findNonClusterChild(g.id,t)),clusterDb[g.id]={id:findNonClusterChild(g.id,t),node:g}):(log$1.info("Node - the non recursive path",m,g.id,g),insertNode(d,t.node(m),o))}),t.edges().forEach(function(m){const g=t.edge(m.v,m.w,m.name);log$1.info("Edge "+m.v+" -> "+m.w+": "+JSON.stringify(m)),log$1.info("Edge "+m.v+" -> "+m.w+": ",m," ",JSON.stringify(t.edge(m))),log$1.info("Fix",clusterDb,"ids:",m.v,m.w,"Translateing: ",clusterDb[m.v],clusterDb[m.w]),insertEdgeLabel(f,g)}),t.edges().forEach(function(m){log$1.info("Edge "+m.v+" -> "+m.w+": "+JSON.stringify(m))}),log$1.info("#############################################"),log$1.info("###                Layout                 ###"),log$1.info("#############################################"),log$1.info(t),dagre$1.layout(t),log$1.info("Graph after layout:",graphlib$2.json.write(t));let p=0;return sortNodesByHierarchy(t).forEach(function(m){const g=t.node(m);log$1.info("Position "+m+": "+JSON.stringify(t.node(m))),log$1.info("Position "+m+": ("+g.x,","+g.y,") width: ",g.width," height: ",g.height),g&&g.clusterNode?positionNode(g):t.children(m).length>0?(insertCluster(u,g),clusterDb[g.id].node=g):positionNode(g)}),t.edges().forEach(function(m){const g=t.edge(m);log$1.info("Edge "+m.v+" -> "+m.w+": "+JSON.stringify(g),g);const b=insertEdge(h,m,g,clusterDb,r,t);positionEdgeLabel(g,b)}),t.nodes().forEach(function(m){const g=t.node(m);log$1.info(m,g.type,g.diff),g.type==="group"&&(p=g.diff)}),{elem:l,diff:p}},render$1=(e,t,r,n,o)=>{insertMarkers$2(e,r,n,o),clear$a(),clear$8(),clear$9(),clear$b(),log$1.warn("Graph at first:",graphlib$2.json.write(t)),adjustClustersAndEdges(t),log$1.warn("Graph after:",graphlib$2.json.write(t)),recursiveRender(e,t,n)},sanitizeText$1=e=>common.sanitizeText(e,getConfig$1()),addClasses=function(e,t,r,n){const o=Object.keys(e);log$1.info("keys:",o),log$1.info(e),o.forEach(function(l){const u=e[l];let h="";u.cssClasses.length>0&&(h=h+" "+u.cssClasses.join(" "));const f={labelStyle:""};let d=u.text!==void 0?u.text:u.id,p=0,m="";switch(u.type){case"class":m="class_box";break;default:m="class_box"}t.setNode(u.id,{labelStyle:f.labelStyle,shape:m,labelText:sanitizeText$1(d),classData:u,rx:p,ry:p,class:h,style:f.style,id:u.id,domId:u.domId,tooltip:n.db.getTooltip(u.id)||"",haveCallback:u.haveCallback,link:u.link,width:u.type==="group"?500:void 0,type:u.type,padding:getConfig$1().flowchart.padding}),log$1.info("setNode",{labelStyle:f.labelStyle,shape:m,labelText:d,rx:p,ry:p,class:h,style:f.style,id:u.id,width:u.type==="group"?500:void 0,type:u.type,padding:getConfig$1().flowchart.padding})})},addRelations=function(e,t){const r=getConfig$1().flowchart;let n=0;e.forEach(function(o){n++;const l={};l.classes="relation",l.pattern=o.relation.lineType==1?"dashed":"solid",l.id="id"+n,o.type==="arrow_open"?l.arrowhead="none":l.arrowhead="normal",log$1.info(l,o),l.startLabelRight=o.relationTitle1==="none"?"":o.relationTitle1,l.endLabelLeft=o.relationTitle2==="none"?"":o.relationTitle2,l.arrowTypeStart=getArrowMarker(o.relation.type1),l.arrowTypeEnd=getArrowMarker(o.relation.type2);let u="",h="";if(typeof o.style<"u"){const f=getStylesFromArray(o.style);u=f.style,h=f.labelStyle}else u="fill:none";l.style=u,l.labelStyle=h,typeof o.interpolate<"u"?l.curve=interpolateToCurve(o.interpolate,curveLinear$1):typeof e.defaultInterpolate<"u"?l.curve=interpolateToCurve(e.defaultInterpolate,curveLinear$1):l.curve=interpolateToCurve(r.curve,curveLinear$1),o.text=o.title,typeof o.text>"u"?typeof o.style<"u"&&(l.arrowheadStyle="fill: #333"):(l.arrowheadStyle="fill: #333",l.labelpos="c",getConfig$1().flowchart.htmlLabels?(l.labelType="html",l.label='<span class="edgeLabel">'+o.text+"</span>"):(l.labelType="text",l.label=o.text.replace(common.lineBreakRegex,`
`),typeof o.style>"u"&&(l.style=l.style||"stroke: #333; stroke-width: 1.5px;fill:none"),l.labelStyle=l.labelStyle.replace("color:","fill:"))),t.setEdge(o.id1,o.id2,l,n)})},setConf$9=function(e){Object.keys(e).forEach(function(r){e[r]})},draw$c=function(e,t,r,n){log$1.info("Drawing class - ",t);const o=getConfig$1().flowchart,l=getConfig$1().securityLevel;log$1.info("config:",o);const u=o.nodeSpacing||50,h=o.rankSpacing||50,f=new graphlib$2.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:n.db.getDirection(),nodesep:u,ranksep:h,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),d=n.db.getClasses(),p=n.db.getRelations();log$1.info(p),addClasses(d,f,t,n),addRelations(p,f);let m;l==="sandbox"&&(m=select$1("#i"+t));const g=select$1(l==="sandbox"?m.nodes()[0].contentDocument.body:"body"),b=g.select(`[id="${t}"]`),v=g.select("#"+t+" g");if(render$1(v,f,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",t),setupGraphViewbox$1(f,b,o.diagramPadding,o.useMaxWidth),!o.htmlLabels){const T=l==="sandbox"?m.nodes()[0].contentDocument:document,R=T.querySelectorAll('[id="'+t+'"] .edgeLabel .label');for(let I=0;I<R.length;I++){const N=R[I],q=N.getBBox(),F=T.createElementNS("http://www.w3.org/2000/svg","rect");F.setAttribute("rx",0),F.setAttribute("ry",0),F.setAttribute("width",q.width),F.setAttribute("height",q.height),N.insertBefore(F,N.firstChild)}}addSVGAccessibilityFields(n.db,b,t)};function getArrowMarker(e){let t;switch(e){case 0:t="aggregation";break;case 1:t="extension";break;case 2:t="composition";break;case 3:t="dependency";break;case 4:t="lollipop";break;default:t="none"}return t}const classRendererV2={setConf:setConf$9,draw:draw$c};var parser$8=function(){var e=function(P,W,S,U){for(S=S||{},U=P.length;U--;S[P[U]]=W);return S},t=[1,2],r=[1,5],n=[6,9,11,23,25,27,29,30,31,49],o=[1,17],l=[1,18],u=[1,19],h=[1,20],f=[1,21],d=[1,22],p=[1,25],m=[1,30],g=[1,31],b=[1,32],v=[1,33],T=[6,9,11,15,20,23,25,27,29,30,31,42,43,44,45,49],R=[1,45],I=[30,31,46,47],N=[4,6,9,11,23,25,27,29,30,31,49],q=[42,43,44,45],F=[22,37],H=[1,64],V={trace:function(){},yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,entityName:17,relSpec:18,role:19,BLOCK_START:20,attributes:21,BLOCK_STOP:22,title:23,title_value:24,acc_title:25,acc_title_value:26,acc_descr:27,acc_descr_value:28,acc_descr_multiline_value:29,ALPHANUM:30,ENTITY_NAME:31,attribute:32,attributeType:33,attributeName:34,attributeKeyType:35,attributeComment:36,ATTRIBUTE_WORD:37,ATTRIBUTE_KEY:38,COMMENT:39,cardinality:40,relType:41,ZERO_OR_ONE:42,ZERO_OR_MORE:43,ONE_OR_MORE:44,ONLY_ONE:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,open_directive:49,type_directive:50,arg_directive:51,close_directive:52,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",20:"BLOCK_START",22:"BLOCK_STOP",23:"title",24:"title_value",25:"acc_title",26:"acc_title_value",27:"acc_descr",28:"acc_descr_value",29:"acc_descr_multiline_value",30:"ALPHANUM",31:"ENTITY_NAME",37:"ATTRIBUTE_WORD",38:"ATTRIBUTE_KEY",39:"COMMENT",42:"ZERO_OR_ONE",43:"ZERO_OR_MORE",44:"ONE_OR_MORE",45:"ONLY_ONE",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD",49:"open_directive",50:"type_directive",51:"arg_directive",52:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[10,2],[10,2],[10,2],[10,1],[17,1],[17,1],[21,1],[21,2],[32,2],[32,3],[32,3],[32,4],[33,1],[34,1],[35,1],[36,1],[18,3],[40,1],[40,1],[40,1],[40,1],[41,1],[41,1],[19,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(W,S,U,L,ae,Q,ue){var _e=Q.length-1;switch(ae){case 1:break;case 3:this.$=[];break;case 4:Q[_e-1].push(Q[_e]),this.$=Q[_e-1];break;case 5:case 6:this.$=Q[_e];break;case 7:case 8:this.$=[];break;case 12:L.addEntity(Q[_e-4]),L.addEntity(Q[_e-2]),L.addRelationship(Q[_e-4],Q[_e],Q[_e-2],Q[_e-3]);break;case 13:L.addEntity(Q[_e-3]),L.addAttributes(Q[_e-3],Q[_e-1]);break;case 14:L.addEntity(Q[_e-2]);break;case 15:L.addEntity(Q[_e]);break;case 16:case 17:this.$=Q[_e].trim(),L.setAccTitle(this.$);break;case 18:case 19:this.$=Q[_e].trim(),L.setAccDescription(this.$);break;case 20:case 41:this.$=Q[_e];break;case 21:case 39:case 40:this.$=Q[_e].replace(/"/g,"");break;case 22:this.$=[Q[_e]];break;case 23:Q[_e].push(Q[_e-1]),this.$=Q[_e];break;case 24:this.$={attributeType:Q[_e-1],attributeName:Q[_e]};break;case 25:this.$={attributeType:Q[_e-2],attributeName:Q[_e-1],attributeKeyType:Q[_e]};break;case 26:this.$={attributeType:Q[_e-2],attributeName:Q[_e-1],attributeComment:Q[_e]};break;case 27:this.$={attributeType:Q[_e-3],attributeName:Q[_e-2],attributeKeyType:Q[_e-1],attributeComment:Q[_e]};break;case 28:case 29:case 30:this.$=Q[_e];break;case 31:this.$=Q[_e].replace(/"/g,"");break;case 32:this.$={cardA:Q[_e],relType:Q[_e-1],cardB:Q[_e-2]};break;case 33:this.$=L.Cardinality.ZERO_OR_ONE;break;case 34:this.$=L.Cardinality.ZERO_OR_MORE;break;case 35:this.$=L.Cardinality.ONE_OR_MORE;break;case 36:this.$=L.Cardinality.ONLY_ONE;break;case 37:this.$=L.Identification.NON_IDENTIFYING;break;case 38:this.$=L.Identification.IDENTIFYING;break;case 42:L.parseDirective("%%{","open_directive");break;case 43:L.parseDirective(Q[_e],"type_directive");break;case 44:Q[_e]=Q[_e].trim().replace(/'/g,'"'),L.parseDirective(Q[_e],"arg_directive");break;case 45:L.parseDirective("}%%","close_directive","er");break}},table:[{3:1,4:t,7:3,12:4,49:r},{1:[3]},e(n,[2,3],{5:6}),{3:7,4:t,7:3,12:4,49:r},{13:8,50:[1,9]},{50:[2,42]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:o,25:l,27:u,29:h,30:f,31:d,49:r},{1:[2,2]},{14:23,15:[1,24],52:p},e([15,52],[2,43]),e(n,[2,8],{1:[2,1]}),e(n,[2,4]),{7:15,10:26,12:4,17:16,23:o,25:l,27:u,29:h,30:f,31:d,49:r},e(n,[2,6]),e(n,[2,7]),e(n,[2,11]),e(n,[2,15],{18:27,40:29,20:[1,28],42:m,43:g,44:b,45:v}),{24:[1,34]},{26:[1,35]},{28:[1,36]},e(n,[2,19]),e(T,[2,20]),e(T,[2,21]),{11:[1,37]},{16:38,51:[1,39]},{11:[2,45]},e(n,[2,5]),{17:40,30:f,31:d},{21:41,22:[1,42],32:43,33:44,37:R},{41:46,46:[1,47],47:[1,48]},e(I,[2,33]),e(I,[2,34]),e(I,[2,35]),e(I,[2,36]),e(n,[2,16]),e(n,[2,17]),e(n,[2,18]),e(N,[2,9]),{14:49,52:p},{52:[2,44]},{15:[1,50]},{22:[1,51]},e(n,[2,14]),{21:52,22:[2,22],32:43,33:44,37:R},{34:53,37:[1,54]},{37:[2,28]},{40:55,42:m,43:g,44:b,45:v},e(q,[2,37]),e(q,[2,38]),{11:[1,56]},{19:57,30:[1,60],31:[1,59],48:[1,58]},e(n,[2,13]),{22:[2,23]},e(F,[2,24],{35:61,36:62,38:[1,63],39:H}),e([22,37,38,39],[2,29]),e([30,31],[2,32]),e(N,[2,10]),e(n,[2,12]),e(n,[2,39]),e(n,[2,40]),e(n,[2,41]),e(F,[2,25],{36:65,39:H}),e(F,[2,26]),e([22,37,39],[2,30]),e(F,[2,31]),e(F,[2,27])],defaultActions:{5:[2,42],7:[2,2],25:[2,45],39:[2,44],45:[2,28],52:[2,23]},parseError:function(W,S){if(S.recoverable)this.trace(W);else{var U=new Error(W);throw U.hash=S,U}},parse:function(W){var S=this,U=[0],L=[],ae=[null],Q=[],ue=this.table,_e="",ke=0,de=0,ce=2,he=1,Se=Q.slice.call(arguments,1),ve=Object.create(this.lexer),me={yy:{}};for(var Ce in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ce)&&(me.yy[Ce]=this.yy[Ce]);ve.setInput(W,me.yy),me.yy.lexer=ve,me.yy.parser=this,typeof ve.yylloc>"u"&&(ve.yylloc={});var xe=ve.yylloc;Q.push(xe);var Ne=ve.options&&ve.options.ranges;typeof me.yy.parseError=="function"?this.parseError=me.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function pe(){var He;return He=L.pop()||ve.lex()||he,typeof He!="number"&&(He instanceof Array&&(L=He,He=L.pop()),He=S.symbols_[He]||He),He}for(var J,oe,ee,Z,ie={},se,te,fe,we;;){if(oe=U[U.length-1],this.defaultActions[oe]?ee=this.defaultActions[oe]:((J===null||typeof J>"u")&&(J=pe()),ee=ue[oe]&&ue[oe][J]),typeof ee>"u"||!ee.length||!ee[0]){var Ye="";we=[];for(se in ue[oe])this.terminals_[se]&&se>ce&&we.push("'"+this.terminals_[se]+"'");ve.showPosition?Ye="Parse error on line "+(ke+1)+`:
`+ve.showPosition()+`
Expecting `+we.join(", ")+", got '"+(this.terminals_[J]||J)+"'":Ye="Parse error on line "+(ke+1)+": Unexpected "+(J==he?"end of input":"'"+(this.terminals_[J]||J)+"'"),this.parseError(Ye,{text:ve.match,token:this.terminals_[J]||J,line:ve.yylineno,loc:xe,expected:we})}if(ee[0]instanceof Array&&ee.length>1)throw new Error("Parse Error: multiple actions possible at state: "+oe+", token: "+J);switch(ee[0]){case 1:U.push(J),ae.push(ve.yytext),Q.push(ve.yylloc),U.push(ee[1]),J=null,de=ve.yyleng,_e=ve.yytext,ke=ve.yylineno,xe=ve.yylloc;break;case 2:if(te=this.productions_[ee[1]][1],ie.$=ae[ae.length-te],ie._$={first_line:Q[Q.length-(te||1)].first_line,last_line:Q[Q.length-1].last_line,first_column:Q[Q.length-(te||1)].first_column,last_column:Q[Q.length-1].last_column},Ne&&(ie._$.range=[Q[Q.length-(te||1)].range[0],Q[Q.length-1].range[1]]),Z=this.performAction.apply(ie,[_e,de,ke,me.yy,ee[1],ae,Q].concat(Se)),typeof Z<"u")return Z;te&&(U=U.slice(0,-1*te*2),ae=ae.slice(0,-1*te),Q=Q.slice(0,-1*te)),U.push(this.productions_[ee[1]][0]),ae.push(ie.$),Q.push(ie._$),fe=ue[U[U.length-2]][U[U.length-1]],U.push(fe);break;case 3:return!0}}return!0}},z=function(){var P={EOF:1,parseError:function(S,U){if(this.yy.parser)this.yy.parser.parseError(S,U);else throw new Error(S)},setInput:function(W,S){return this.yy=S||this.yy||{},this._input=W,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var W=this._input[0];this.yytext+=W,this.yyleng++,this.offset++,this.match+=W,this.matched+=W;var S=W.match(/(?:\r\n?|\n).*/g);return S?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),W},unput:function(W){var S=W.length,U=W.split(/(?:\r\n?|\n)/g);this._input=W+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-S),this.offset-=S;var L=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),U.length-1&&(this.yylineno-=U.length-1);var ae=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:U?(U.length===L.length?this.yylloc.first_column:0)+L[L.length-U.length].length-U[0].length:this.yylloc.first_column-S},this.options.ranges&&(this.yylloc.range=[ae[0],ae[0]+this.yyleng-S]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(W){this.unput(this.match.slice(W))},pastInput:function(){var W=this.matched.substr(0,this.matched.length-this.match.length);return(W.length>20?"...":"")+W.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var W=this.match;return W.length<20&&(W+=this._input.substr(0,20-W.length)),(W.substr(0,20)+(W.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var W=this.pastInput(),S=new Array(W.length+1).join("-");return W+this.upcomingInput()+`
`+S+"^"},test_match:function(W,S){var U,L,ae;if(this.options.backtrack_lexer&&(ae={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ae.yylloc.range=this.yylloc.range.slice(0))),L=W[0].match(/(?:\r\n?|\n).*/g),L&&(this.yylineno+=L.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:L?L[L.length-1].length-L[L.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+W[0].length},this.yytext+=W[0],this.match+=W[0],this.matches=W,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(W[0].length),this.matched+=W[0],U=this.performAction.call(this,this.yy,this,S,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),U)return U;if(this._backtrack){for(var Q in ae)this[Q]=ae[Q];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var W,S,U,L;this._more||(this.yytext="",this.match="");for(var ae=this._currentRules(),Q=0;Q<ae.length;Q++)if(U=this._input.match(this.rules[ae[Q]]),U&&(!S||U[0].length>S[0].length)){if(S=U,L=Q,this.options.backtrack_lexer){if(W=this.test_match(U,ae[Q]),W!==!1)return W;if(this._backtrack){S=!1;continue}else return!1}else if(!this.options.flex)break}return S?(W=this.test_match(S,ae[L]),W!==!1?W:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var S=this.next();return S||this.lex()},begin:function(S){this.conditionStack.push(S)},popState:function(){var S=this.conditionStack.length-1;return S>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(S){return S=this.conditionStack.length-1-Math.abs(S||0),S>=0?this.conditionStack[S]:"INITIAL"},pushState:function(S){this.begin(S)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(S,U,L,ae){switch(L){case 0:return this.begin("acc_title"),25;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),27;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.begin("open_directive"),49;case 8:return this.begin("type_directive"),50;case 9:return this.popState(),this.begin("arg_directive"),15;case 10:return this.popState(),this.popState(),52;case 11:return 51;case 12:break;case 13:break;case 14:return 11;case 15:break;case 16:return 9;case 17:return 31;case 18:return 48;case 19:return 4;case 20:return this.begin("block"),20;case 21:break;case 22:return 38;case 23:return 37;case 24:return 37;case 25:return 39;case 26:break;case 27:return this.popState(),22;case 28:return U.yytext[0];case 29:return 42;case 30:return 43;case 31:return 44;case 32:return 45;case 33:return 42;case 34:return 43;case 35:return 44;case 36:return 46;case 37:return 47;case 38:return 46;case 39:return 46;case 40:return 30;case 41:return U.yytext[0];case 42:return 6}},rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[A-Za-z][A-Za-z0-9\-_\[\]]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\|o\b)/i,/^(?:\}o\b)/i,/^(?:\}\|)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},open_directive:{rules:[8],inclusive:!1},type_directive:{rules:[9,10],inclusive:!1},arg_directive:{rules:[10,11],inclusive:!1},block:{rules:[21,22,23,24,25,26,27,28],inclusive:!1},INITIAL:{rules:[0,2,4,7,12,13,14,15,16,17,18,19,20,29,30,31,32,33,34,35,36,37,38,39,40,41,42],inclusive:!0}}};return P}();V.lexer=z;function G(){this.yy={}}return G.prototype=V,V.Parser=G,new G}();parser$8.parser=parser$8;const erDetector=e=>e.match(/^\s*erDiagram/)!==null;let entities={},relationships=[];const Cardinality={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE"},Identification={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},parseDirective$8=function(e,t,r){mermaidAPI.parseDirective(this,e,t,r)},addEntity=function(e){return typeof entities[e]>"u"&&(entities[e]={attributes:[]},log$1.info("Added new entity :",e)),entities[e]},getEntities=()=>entities,addAttributes=function(e,t){let r=addEntity(e),n;for(n=t.length-1;n>=0;n--)r.attributes.push(t[n]),log$1.debug("Added attribute ",t[n].attributeName)},addRelationship$1=function(e,t,r,n){let o={entityA:e,roleA:t,entityB:r,relSpec:n};relationships.push(o),log$1.debug("Added new relationship :",o)},getRelationships$1=()=>relationships,clear$7=function(){entities={},relationships=[],clear$g()},erDb={Cardinality,Identification,parseDirective:parseDirective$8,getConfig:()=>getConfig$1().er,addEntity,addAttributes,getEntities,addRelationship:addRelationship$1,getRelationships:getRelationships$1,clear:clear$7,setAccTitle,getAccTitle,setAccDescription,getAccDescription},ERMarkers={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END"},insertMarkers$1=function(e,t){let r;e.append("defs").append("marker").attr("id",ERMarkers.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",ERMarkers.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),r=e.append("defs").append("marker").attr("id",ERMarkers.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M9,0 L9,18"),r=e.append("defs").append("marker").attr("id",ERMarkers.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M21,0 L21,18"),e.append("defs").append("marker").attr("id",ERMarkers.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",ERMarkers.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),r=e.append("defs").append("marker").attr("id",ERMarkers.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),r=e.append("defs").append("marker").attr("id",ERMarkers.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},erMarkers={ERMarkers,insertMarkers:insertMarkers$1},BAD_ID_CHARS_REGEXP=/[^A-Za-z0-9]([\W])*/g;let conf$9={},entityNameIds=new Map;const setConf$8=function(e){const t=Object.keys(e);for(let r=0;r<t.length;r++)conf$9[t[r]]=e[t[r]]},drawAttributes=(e,t,r)=>{const n=conf$9.entityPadding/3,o=conf$9.entityPadding/3,l=conf$9.fontSize*.85,u=t.node().getBBox(),h=[];let f=!1,d=!1,p=0,m=0,g=0,b=0,v=u.height+n*2,T=1;r.forEach(q=>{q.attributeKeyType!==void 0&&(f=!0),q.attributeComment!==void 0&&(d=!0)}),r.forEach(q=>{const F=`${t.node().id}-attr-${T}`;let H=0;const V=parseGenericTypes(q.attributeType),z=e.append("text").attr("class","er entityLabel").attr("id",`${F}-type`).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+getConfig$1().fontFamily+"; font-size: "+l+"px").text(V),G=e.append("text").attr("class","er entityLabel").attr("id",`${F}-name`).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+getConfig$1().fontFamily+"; font-size: "+l+"px").text(q.attributeName),P={};P.tn=z,P.nn=G;const W=z.node().getBBox(),S=G.node().getBBox();if(p=Math.max(p,W.width),m=Math.max(m,S.width),H=Math.max(W.height,S.height),f){const U=e.append("text").attr("class","er entityLabel").attr("id",`${F}-key`).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+getConfig$1().fontFamily+"; font-size: "+l+"px").text(q.attributeKeyType||"");P.kn=U;const L=U.node().getBBox();g=Math.max(g,L.width),H=Math.max(H,L.height)}if(d){const U=e.append("text").attr("class","er entityLabel").attr("id",`${F}-comment`).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+getConfig$1().fontFamily+"; font-size: "+l+"px").text(q.attributeComment||"");P.cn=U;const L=U.node().getBBox();b=Math.max(b,L.width),H=Math.max(H,L.height)}P.height=H,h.push(P),v+=H+n*2,T+=1});let R=4;f&&(R+=2),d&&(R+=2);const I=p+m+g+b,N={width:Math.max(conf$9.minEntityWidth,Math.max(u.width+conf$9.entityPadding*2,I+o*R)),height:r.length>0?v:Math.max(conf$9.minEntityHeight,u.height+conf$9.entityPadding*2)};if(r.length>0){const q=Math.max(0,(N.width-I-o*R)/(R/2));t.attr("transform","translate("+N.width/2+","+(n+u.height/2)+")");let F=u.height+n*2,H="attributeBoxOdd";h.forEach(V=>{const z=F+n+V.height/2;V.tn.attr("transform","translate("+o+","+z+")");const G=e.insert("rect","#"+V.tn.node().id).attr("class",`er ${H}`).attr("fill",conf$9.fill).attr("fill-opacity","100%").attr("stroke",conf$9.stroke).attr("x",0).attr("y",F).attr("width",p+o*2+q).attr("height",V.height+n*2),P=parseFloat(G.attr("x"))+parseFloat(G.attr("width"));V.nn.attr("transform","translate("+(P+o)+","+z+")");const W=e.insert("rect","#"+V.nn.node().id).attr("class",`er ${H}`).attr("fill",conf$9.fill).attr("fill-opacity","100%").attr("stroke",conf$9.stroke).attr("x",P).attr("y",F).attr("width",m+o*2+q).attr("height",V.height+n*2);let S=parseFloat(W.attr("x"))+parseFloat(W.attr("width"));if(f){V.kn.attr("transform","translate("+(S+o)+","+z+")");const U=e.insert("rect","#"+V.kn.node().id).attr("class",`er ${H}`).attr("fill",conf$9.fill).attr("fill-opacity","100%").attr("stroke",conf$9.stroke).attr("x",S).attr("y",F).attr("width",g+o*2+q).attr("height",V.height+n*2);S=parseFloat(U.attr("x"))+parseFloat(U.attr("width"))}d&&(V.cn.attr("transform","translate("+(S+o)+","+z+")"),e.insert("rect","#"+V.cn.node().id).attr("class",`er ${H}`).attr("fill",conf$9.fill).attr("fill-opacity","100%").attr("stroke",conf$9.stroke).attr("x",S).attr("y",F).attr("width",b+o*2+q).attr("height",V.height+n*2)),F+=V.height+n*2,H=H==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else N.height=Math.max(conf$9.minEntityHeight,v),t.attr("transform","translate("+N.width/2+","+N.height/2+")");return N},drawEntities=function(e,t,r){const n=Object.keys(t);let o;return n.forEach(function(l){const u=generateId(l,"entity");entityNameIds.set(l,u);const h=e.append("g").attr("id",u);o=o===void 0?u:o;const f="text-"+u,d=h.append("text").attr("class","er entityLabel").attr("id",f).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("style","font-family: "+getConfig$1().fontFamily+"; font-size: "+conf$9.fontSize+"px").text(l),{width:p,height:m}=drawAttributes(h,d,t[l].attributes),b=h.insert("rect","#"+f).attr("class","er entityBox").attr("fill",conf$9.fill).attr("fill-opacity","100%").attr("stroke",conf$9.stroke).attr("x",0).attr("y",0).attr("width",p).attr("height",m).node().getBBox();r.setNode(u,{width:b.width,height:b.height,shape:"rect",id:u})}),o},adjustEntities$1=function(e,t){t.nodes().forEach(function(r){typeof r<"u"&&typeof t.node(r)<"u"&&e.select("#"+r).attr("transform","translate("+(t.node(r).x-t.node(r).width/2)+","+(t.node(r).y-t.node(r).height/2)+" )")})},getEdgeName=function(e){return(e.entityA+e.roleA+e.entityB).replace(/\s/g,"")},addRelationships$1=function(e,t){return e.forEach(function(r){t.setEdge(entityNameIds.get(r.entityA),entityNameIds.get(r.entityB),{relationship:r},getEdgeName(r))}),e};let relCnt$1=0;const drawRelationshipFromLayout$1=function(e,t,r,n,o){relCnt$1++;const l=r.edge(entityNameIds.get(t.entityA),entityNameIds.get(t.entityB),getEdgeName(t)),u=line$2().x(function(v){return v.x}).y(function(v){return v.y}).curve(curveBasis),h=e.insert("path","#"+n).attr("class","er relationshipLine").attr("d",u(l.points)).attr("stroke",conf$9.stroke).attr("fill","none");t.relSpec.relType===o.db.Identification.NON_IDENTIFYING&&h.attr("stroke-dasharray","8,8");let f="";switch(conf$9.arrowMarkerAbsolute&&(f=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,f=f.replace(/\(/g,"\\("),f=f.replace(/\)/g,"\\)")),t.relSpec.cardA){case o.db.Cardinality.ZERO_OR_ONE:h.attr("marker-end","url("+f+"#"+erMarkers.ERMarkers.ZERO_OR_ONE_END+")");break;case o.db.Cardinality.ZERO_OR_MORE:h.attr("marker-end","url("+f+"#"+erMarkers.ERMarkers.ZERO_OR_MORE_END+")");break;case o.db.Cardinality.ONE_OR_MORE:h.attr("marker-end","url("+f+"#"+erMarkers.ERMarkers.ONE_OR_MORE_END+")");break;case o.db.Cardinality.ONLY_ONE:h.attr("marker-end","url("+f+"#"+erMarkers.ERMarkers.ONLY_ONE_END+")");break}switch(t.relSpec.cardB){case o.db.Cardinality.ZERO_OR_ONE:h.attr("marker-start","url("+f+"#"+erMarkers.ERMarkers.ZERO_OR_ONE_START+")");break;case o.db.Cardinality.ZERO_OR_MORE:h.attr("marker-start","url("+f+"#"+erMarkers.ERMarkers.ZERO_OR_MORE_START+")");break;case o.db.Cardinality.ONE_OR_MORE:h.attr("marker-start","url("+f+"#"+erMarkers.ERMarkers.ONE_OR_MORE_START+")");break;case o.db.Cardinality.ONLY_ONE:h.attr("marker-start","url("+f+"#"+erMarkers.ERMarkers.ONLY_ONE_START+")");break}const d=h.node().getTotalLength(),p=h.node().getPointAtLength(d*.5),m="rel"+relCnt$1,b=e.append("text").attr("class","er relationshipLabel").attr("id",m).attr("x",p.x).attr("y",p.y).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("style","font-family: "+getConfig$1().fontFamily+"; font-size: "+conf$9.fontSize+"px").text(t.roleA).node().getBBox();e.insert("rect","#"+m).attr("class","er relationshipLabelBox").attr("x",p.x-b.width/2).attr("y",p.y-b.height/2).attr("width",b.width).attr("height",b.height).attr("fill","white").attr("fill-opacity","85%")},draw$b=function(e,t,r,n){conf$9=getConfig$1().er,log$1.info("Drawing ER diagram");const o=getConfig$1().securityLevel;let l;o==="sandbox"&&(l=select$1("#i"+t));const h=select$1(o==="sandbox"?l.nodes()[0].contentDocument.body:"body").select(`[id='${t}']`);erMarkers.insertMarkers(h,conf$9);let f;f=new graphlib$2.Graph({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:conf$9.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});const d=drawEntities(h,n.db.getEntities(),f),p=addRelationships$1(n.db.getRelationships(),f);dagre$1.layout(f),adjustEntities$1(h,f),p.forEach(function(T){drawRelationshipFromLayout$1(h,T,f,d,n)});const m=conf$9.diagramPadding,g=h.node().getBBox(),b=g.width+m*2,v=g.height+m*2;configureSvgSize(h,v,b,conf$9.useMaxWidth),h.attr("viewBox",`${g.x-m} ${g.y-m} ${b} ${v}`),addSVGAccessibilityFields(n.db,h,t)};function generateId(e="",t=""){const r=e.replace(BAD_ID_CHARS_REGEXP,"");return`${strWithHyphen(t)}${strWithHyphen(r)}${v4()}`}function strWithHyphen(e=""){return e.length>0?`${e}-`:""}const erRenderer={setConf:setConf$8,draw:draw$b};var parser$7=function(){var e=function(Gt,at,ct,pt){for(ct=ct||{},pt=Gt.length;pt--;ct[Gt[pt]]=at);return ct},t=[1,9],r=[1,7],n=[1,6],o=[1,8],l=[1,20,21,22,23,38,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],u=[2,10],h=[1,20],f=[1,21],d=[1,22],p=[1,23],m=[1,30],g=[1,32],b=[1,33],v=[1,34],T=[1,62],R=[1,48],I=[1,52],N=[1,36],q=[1,37],F=[1,38],H=[1,39],V=[1,40],z=[1,56],G=[1,63],P=[1,51],W=[1,53],S=[1,55],U=[1,59],L=[1,60],ae=[1,41],Q=[1,42],ue=[1,43],_e=[1,44],ke=[1,61],de=[1,50],ce=[1,54],he=[1,57],Se=[1,58],ve=[1,49],me=[1,66],Ce=[1,71],xe=[1,20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Ne=[1,75],pe=[1,74],J=[1,76],oe=[20,21,23,81,82],ee=[1,99],Z=[1,104],ie=[1,107],se=[1,108],te=[1,101],fe=[1,106],we=[1,109],Ye=[1,102],He=[1,114],je=[1,113],Pe=[1,103],Ee=[1,105],Ie=[1,110],Le=[1,111],Be=[1,112],Te=[1,115],dt=[20,21,22,23,81,82],Ge=[20,21,22,23,53,81,82],rt=[20,21,22,23,40,52,53,55,57,59,61,63,65,66,67,69,71,73,74,76,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],it=[20,21,23],st=[20,21,23,52,66,67,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],wt=[1,12,20,21,22,23,24,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],nt=[52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],Ke=[1,149],Je=[1,157],Oe=[1,158],Me=[1,159],Fe=[1,160],qe=[1,144],et=[1,145],Ae=[1,141],_t=[1,152],Re=[1,153],lt=[1,154],xt=[1,155],bt=[1,156],$t=[1,161],kt=[1,162],tt=[1,147],ht=[1,150],vt=[1,146],gt=[1,143],tr=[20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Ht=[1,165],St=[20,21,22,23,26,52,66,67,91,105,106,109,111,112,122,123,124,125,126,127],ft=[20,21,22,23,24,26,38,40,41,42,52,56,58,60,62,64,66,67,68,70,72,73,75,77,81,82,86,87,88,89,90,91,92,95,105,106,109,111,112,113,114,122,123,124,125,126,127],Nt=[12,21,22,24],Pt=[22,106],Lt=[1,250],qt=[1,245],Xe=[1,246],ye=[1,254],Ue=[1,251],Ve=[1,248],ot=[1,247],Mt=[1,249],At=[1,252],Rt=[1,253],Ut=[1,255],It=[1,273],rr=[20,21,23,106],Tt=[20,21,22,23,66,67,86,102,105,106,109,110,111,112,113],Qt={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,openDirective:6,typeDirective:7,closeDirective:8,separator:9,":":10,argDirective:11,open_directive:12,type_directive:13,arg_directive:14,close_directive:15,graphConfig:16,document:17,line:18,statement:19,SEMI:20,NEWLINE:21,SPACE:22,EOF:23,GRAPH:24,NODIR:25,DIR:26,FirstStmtSeperator:27,ending:28,endToken:29,spaceList:30,spaceListNewline:31,verticeStatement:32,styleStatement:33,linkStyleStatement:34,classDefStatement:35,classStatement:36,clickStatement:37,subgraph:38,text:39,SQS:40,SQE:41,end:42,direction:43,acc_title:44,acc_title_value:45,acc_descr:46,acc_descr_value:47,acc_descr_multiline_value:48,link:49,node:50,vertex:51,AMP:52,STYLE_SEPARATOR:53,idString:54,DOUBLECIRCLESTART:55,DOUBLECIRCLEEND:56,PS:57,PE:58,"(-":59,"-)":60,STADIUMSTART:61,STADIUMEND:62,SUBROUTINESTART:63,SUBROUTINEEND:64,VERTEX_WITH_PROPS_START:65,ALPHA:66,COLON:67,PIPE:68,CYLINDERSTART:69,CYLINDEREND:70,DIAMOND_START:71,DIAMOND_STOP:72,TAGEND:73,TRAPSTART:74,TRAPEND:75,INVTRAPSTART:76,INVTRAPEND:77,linkStatement:78,arrowText:79,TESTSTR:80,START_LINK:81,LINK:82,textToken:83,STR:84,keywords:85,STYLE:86,LINKSTYLE:87,CLASSDEF:88,CLASS:89,CLICK:90,DOWN:91,UP:92,textNoTags:93,textNoTagsToken:94,DEFAULT:95,stylesOpt:96,alphaNum:97,CALLBACKNAME:98,CALLBACKARGS:99,HREF:100,LINK_TARGET:101,HEX:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,MINUS:109,UNIT:110,BRKT:111,DOT:112,PCT:113,TAGSTART:114,alphaNumToken:115,idStringToken:116,alphaNumStatement:117,direction_tb:118,direction_bt:119,direction_rl:120,direction_lr:121,PUNCTUATION:122,UNICODE_TEXT:123,PLUS:124,EQUALS:125,MULT:126,UNDERSCORE:127,graphCodeTokens:128,ARROW_CROSS:129,ARROW_POINT:130,ARROW_CIRCLE:131,ARROW_OPEN:132,QUOTE:133,$accept:0,$end:1},terminals_:{2:"error",10:":",12:"open_directive",13:"type_directive",14:"arg_directive",15:"close_directive",20:"SEMI",21:"NEWLINE",22:"SPACE",23:"EOF",24:"GRAPH",25:"NODIR",26:"DIR",38:"subgraph",40:"SQS",41:"SQE",42:"end",44:"acc_title",45:"acc_title_value",46:"acc_descr",47:"acc_descr_value",48:"acc_descr_multiline_value",52:"AMP",53:"STYLE_SEPARATOR",55:"DOUBLECIRCLESTART",56:"DOUBLECIRCLEEND",57:"PS",58:"PE",59:"(-",60:"-)",61:"STADIUMSTART",62:"STADIUMEND",63:"SUBROUTINESTART",64:"SUBROUTINEEND",65:"VERTEX_WITH_PROPS_START",66:"ALPHA",67:"COLON",68:"PIPE",69:"CYLINDERSTART",70:"CYLINDEREND",71:"DIAMOND_START",72:"DIAMOND_STOP",73:"TAGEND",74:"TRAPSTART",75:"TRAPEND",76:"INVTRAPSTART",77:"INVTRAPEND",80:"TESTSTR",81:"START_LINK",82:"LINK",84:"STR",86:"STYLE",87:"LINKSTYLE",88:"CLASSDEF",89:"CLASS",90:"CLICK",91:"DOWN",92:"UP",95:"DEFAULT",98:"CALLBACKNAME",99:"CALLBACKARGS",100:"HREF",101:"LINK_TARGET",102:"HEX",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"MINUS",110:"UNIT",111:"BRKT",112:"DOT",113:"PCT",114:"TAGSTART",118:"direction_tb",119:"direction_bt",120:"direction_rl",121:"direction_lr",122:"PUNCTUATION",123:"UNICODE_TEXT",124:"PLUS",125:"EQUALS",126:"MULT",127:"UNDERSCORE",129:"ARROW_CROSS",130:"ARROW_POINT",131:"ARROW_CIRCLE",132:"ARROW_OPEN",133:"QUOTE"},productions_:[0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[19,2],[19,2],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[50,1],[50,5],[50,3],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,8],[51,4],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,4],[51,4],[51,1],[49,2],[49,3],[49,3],[49,1],[49,3],[78,1],[79,3],[39,1],[39,2],[39,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[93,1],[93,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[103,1],[103,3],[96,1],[96,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[94,1],[94,1],[94,1],[94,1],[54,1],[54,2],[97,1],[97,2],[117,1],[117,1],[117,1],[117,1],[43,1],[43,1],[43,1],[43,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1]],performAction:function(at,ct,pt,Ze,Dt,ge,fr){var be=ge.length-1;switch(Dt){case 5:Ze.parseDirective("%%{","open_directive");break;case 6:Ze.parseDirective(ge[be],"type_directive");break;case 7:ge[be]=ge[be].trim().replace(/'/g,'"'),Ze.parseDirective(ge[be],"arg_directive");break;case 8:Ze.parseDirective("}%%","close_directive","flowchart");break;case 10:this.$=[];break;case 11:(!Array.isArray(ge[be])||ge[be].length>0)&&ge[be-1].push(ge[be]),this.$=ge[be-1];break;case 12:case 82:case 84:case 96:case 152:case 154:case 155:this.$=ge[be];break;case 19:Ze.setDirection("TB"),this.$="TB";break;case 20:Ze.setDirection(ge[be-1]),this.$=ge[be-1];break;case 35:this.$=ge[be-1].nodes;break;case 36:case 37:case 38:case 39:case 40:this.$=[];break;case 41:this.$=Ze.addSubGraph(ge[be-6],ge[be-1],ge[be-4]);break;case 42:this.$=Ze.addSubGraph(ge[be-3],ge[be-1],ge[be-3]);break;case 43:this.$=Ze.addSubGraph(void 0,ge[be-1],void 0);break;case 45:this.$=ge[be].trim(),Ze.setAccTitle(this.$);break;case 46:case 47:this.$=ge[be].trim(),Ze.setAccDescription(this.$);break;case 51:Ze.addLink(ge[be-2].stmt,ge[be],ge[be-1]),this.$={stmt:ge[be],nodes:ge[be].concat(ge[be-2].nodes)};break;case 52:Ze.addLink(ge[be-3].stmt,ge[be-1],ge[be-2]),this.$={stmt:ge[be-1],nodes:ge[be-1].concat(ge[be-3].nodes)};break;case 53:this.$={stmt:ge[be-1],nodes:ge[be-1]};break;case 54:this.$={stmt:ge[be],nodes:ge[be]};break;case 55:this.$=[ge[be]];break;case 56:this.$=ge[be-4].concat(ge[be]);break;case 57:this.$=[ge[be-2]],Ze.setClass(ge[be-2],ge[be]);break;case 58:this.$=ge[be-3],Ze.addVertex(ge[be-3],ge[be-1],"square");break;case 59:this.$=ge[be-3],Ze.addVertex(ge[be-3],ge[be-1],"doublecircle");break;case 60:this.$=ge[be-5],Ze.addVertex(ge[be-5],ge[be-2],"circle");break;case 61:this.$=ge[be-3],Ze.addVertex(ge[be-3],ge[be-1],"ellipse");break;case 62:this.$=ge[be-3],Ze.addVertex(ge[be-3],ge[be-1],"stadium");break;case 63:this.$=ge[be-3],Ze.addVertex(ge[be-3],ge[be-1],"subroutine");break;case 64:this.$=ge[be-7],Ze.addVertex(ge[be-7],ge[be-1],"rect",void 0,void 0,void 0,Object.fromEntries([[ge[be-5],ge[be-3]]]));break;case 65:this.$=ge[be-3],Ze.addVertex(ge[be-3],ge[be-1],"cylinder");break;case 66:this.$=ge[be-3],Ze.addVertex(ge[be-3],ge[be-1],"round");break;case 67:this.$=ge[be-3],Ze.addVertex(ge[be-3],ge[be-1],"diamond");break;case 68:this.$=ge[be-5],Ze.addVertex(ge[be-5],ge[be-2],"hexagon");break;case 69:this.$=ge[be-3],Ze.addVertex(ge[be-3],ge[be-1],"odd");break;case 70:this.$=ge[be-3],Ze.addVertex(ge[be-3],ge[be-1],"trapezoid");break;case 71:this.$=ge[be-3],Ze.addVertex(ge[be-3],ge[be-1],"inv_trapezoid");break;case 72:this.$=ge[be-3],Ze.addVertex(ge[be-3],ge[be-1],"lean_right");break;case 73:this.$=ge[be-3],Ze.addVertex(ge[be-3],ge[be-1],"lean_left");break;case 74:this.$=ge[be],Ze.addVertex(ge[be]);break;case 75:ge[be-1].text=ge[be],this.$=ge[be-1];break;case 76:case 77:ge[be-2].text=ge[be-1],this.$=ge[be-2];break;case 78:this.$=ge[be];break;case 79:var Yt=Ze.destructLink(ge[be],ge[be-2]);this.$={type:Yt.type,stroke:Yt.stroke,length:Yt.length,text:ge[be-1]};break;case 80:var Yt=Ze.destructLink(ge[be]);this.$={type:Yt.type,stroke:Yt.stroke,length:Yt.length};break;case 81:this.$=ge[be-1];break;case 83:case 97:case 153:this.$=ge[be-1]+""+ge[be];break;case 98:case 99:this.$=ge[be-4],Ze.addClass(ge[be-2],ge[be]);break;case 100:this.$=ge[be-4],Ze.setClass(ge[be-2],ge[be]);break;case 101:case 109:this.$=ge[be-1],Ze.setClickEvent(ge[be-1],ge[be]);break;case 102:case 110:this.$=ge[be-3],Ze.setClickEvent(ge[be-3],ge[be-2]),Ze.setTooltip(ge[be-3],ge[be]);break;case 103:this.$=ge[be-2],Ze.setClickEvent(ge[be-2],ge[be-1],ge[be]);break;case 104:this.$=ge[be-4],Ze.setClickEvent(ge[be-4],ge[be-3],ge[be-2]),Ze.setTooltip(ge[be-4],ge[be]);break;case 105:case 111:this.$=ge[be-1],Ze.setLink(ge[be-1],ge[be]);break;case 106:case 112:this.$=ge[be-3],Ze.setLink(ge[be-3],ge[be-2]),Ze.setTooltip(ge[be-3],ge[be]);break;case 107:case 113:this.$=ge[be-3],Ze.setLink(ge[be-3],ge[be-2],ge[be]);break;case 108:case 114:this.$=ge[be-5],Ze.setLink(ge[be-5],ge[be-4],ge[be]),Ze.setTooltip(ge[be-5],ge[be-2]);break;case 115:this.$=ge[be-4],Ze.addVertex(ge[be-2],void 0,void 0,ge[be]);break;case 116:case 118:this.$=ge[be-4],Ze.updateLink(ge[be-2],ge[be]);break;case 117:this.$=ge[be-4],Ze.updateLink([ge[be-2]],ge[be]);break;case 119:this.$=ge[be-8],Ze.updateLinkInterpolate([ge[be-6]],ge[be-2]),Ze.updateLink([ge[be-6]],ge[be]);break;case 120:this.$=ge[be-8],Ze.updateLinkInterpolate(ge[be-6],ge[be-2]),Ze.updateLink(ge[be-6],ge[be]);break;case 121:this.$=ge[be-6],Ze.updateLinkInterpolate([ge[be-4]],ge[be]);break;case 122:this.$=ge[be-6],Ze.updateLinkInterpolate(ge[be-4],ge[be]);break;case 123:case 125:this.$=[ge[be]];break;case 124:case 126:ge[be-2].push(ge[be]),this.$=ge[be-2];break;case 128:this.$=ge[be-1]+ge[be];break;case 150:this.$=ge[be];break;case 151:this.$=ge[be-1]+""+ge[be];break;case 156:this.$="v";break;case 157:this.$="-";break;case 158:this.$={stmt:"dir",value:"TB"};break;case 159:this.$={stmt:"dir",value:"BT"};break;case 160:this.$={stmt:"dir",value:"RL"};break;case 161:this.$={stmt:"dir",value:"LR"};break}},table:[{3:1,4:2,5:3,6:5,12:t,16:4,21:r,22:n,24:o},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:t,16:4,21:r,22:n,24:o},e(l,u,{17:11}),{7:12,13:[1,13]},{16:14,21:r,22:n,24:o},{16:15,21:r,22:n,24:o},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:h,21:f,22:d,23:p,32:24,33:25,34:26,35:27,36:28,37:29,38:m,43:31,44:g,46:b,48:v,50:35,51:45,52:T,54:46,66:R,67:I,86:N,87:q,88:F,89:H,90:V,91:z,95:G,105:P,106:W,109:S,111:U,112:L,116:47,118:ae,119:Q,120:ue,121:_e,122:ke,123:de,124:ce,125:he,126:Se,127:ve},{8:64,10:[1,65],15:me},e([10,15],[2,6]),e(l,[2,17]),e(l,[2,18]),e(l,[2,19]),{20:[1,68],21:[1,69],22:Ce,27:67,30:70},e(xe,[2,11]),e(xe,[2,12]),e(xe,[2,13]),e(xe,[2,14]),e(xe,[2,15]),e(xe,[2,16]),{9:72,20:Ne,21:pe,23:J,49:73,78:77,81:[1,78],82:[1,79]},{9:80,20:Ne,21:pe,23:J},{9:81,20:Ne,21:pe,23:J},{9:82,20:Ne,21:pe,23:J},{9:83,20:Ne,21:pe,23:J},{9:84,20:Ne,21:pe,23:J},{9:86,20:Ne,21:pe,22:[1,85],23:J},e(xe,[2,44]),{45:[1,87]},{47:[1,88]},e(xe,[2,47]),e(oe,[2,54],{30:89,22:Ce}),{22:[1,90]},{22:[1,91]},{22:[1,92]},{22:[1,93]},{26:ee,52:Z,66:ie,67:se,84:[1,97],91:te,97:96,98:[1,94],100:[1,95],105:fe,106:we,109:Ye,111:He,112:je,115:100,117:98,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},e(xe,[2,158]),e(xe,[2,159]),e(xe,[2,160]),e(xe,[2,161]),e(dt,[2,55],{53:[1,116]}),e(Ge,[2,74],{116:129,40:[1,117],52:T,55:[1,118],57:[1,119],59:[1,120],61:[1,121],63:[1,122],65:[1,123],66:R,67:I,69:[1,124],71:[1,125],73:[1,126],74:[1,127],76:[1,128],91:z,95:G,105:P,106:W,109:S,111:U,112:L,122:ke,123:de,124:ce,125:he,126:Se,127:ve}),e(rt,[2,150]),e(rt,[2,175]),e(rt,[2,176]),e(rt,[2,177]),e(rt,[2,178]),e(rt,[2,179]),e(rt,[2,180]),e(rt,[2,181]),e(rt,[2,182]),e(rt,[2,183]),e(rt,[2,184]),e(rt,[2,185]),e(rt,[2,186]),e(rt,[2,187]),e(rt,[2,188]),e(rt,[2,189]),e(rt,[2,190]),{9:130,20:Ne,21:pe,23:J},{11:131,14:[1,132]},e(it,[2,8]),e(l,[2,20]),e(l,[2,26]),e(l,[2,27]),{21:[1,133]},e(st,[2,34],{30:134,22:Ce}),e(xe,[2,35]),{50:135,51:45,52:T,54:46,66:R,67:I,91:z,95:G,105:P,106:W,109:S,111:U,112:L,116:47,122:ke,123:de,124:ce,125:he,126:Se,127:ve},e(wt,[2,48]),e(wt,[2,49]),e(wt,[2,50]),e(nt,[2,78],{79:136,68:[1,138],80:[1,137]}),{22:Ke,24:Je,26:Oe,38:Me,39:139,42:Fe,52:Z,66:ie,67:se,73:qe,81:et,83:140,84:Ae,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},e([52,66,67,68,80,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,80]),e(xe,[2,36]),e(xe,[2,37]),e(xe,[2,38]),e(xe,[2,39]),e(xe,[2,40]),{22:Ke,24:Je,26:Oe,38:Me,39:163,42:Fe,52:Z,66:ie,67:se,73:qe,81:et,83:140,84:Ae,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},e(tr,u,{17:164}),e(xe,[2,45]),e(xe,[2,46]),e(oe,[2,53],{52:Ht}),{26:ee,52:Z,66:ie,67:se,91:te,97:166,102:[1,167],105:fe,106:we,109:Ye,111:He,112:je,115:100,117:98,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{95:[1,168],103:169,105:[1,170]},{26:ee,52:Z,66:ie,67:se,91:te,95:[1,171],97:172,105:fe,106:we,109:Ye,111:He,112:je,115:100,117:98,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{26:ee,52:Z,66:ie,67:se,91:te,97:173,105:fe,106:we,109:Ye,111:He,112:je,115:100,117:98,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},e(it,[2,101],{22:[1,174],99:[1,175]}),e(it,[2,105],{22:[1,176]}),e(it,[2,109],{115:100,117:178,22:[1,177],26:ee,52:Z,66:ie,67:se,91:te,105:fe,106:we,109:Ye,111:He,112:je,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te}),e(it,[2,111],{22:[1,179]}),e(St,[2,152]),e(St,[2,154]),e(St,[2,155]),e(St,[2,156]),e(St,[2,157]),e(ft,[2,162]),e(ft,[2,163]),e(ft,[2,164]),e(ft,[2,165]),e(ft,[2,166]),e(ft,[2,167]),e(ft,[2,168]),e(ft,[2,169]),e(ft,[2,170]),e(ft,[2,171]),e(ft,[2,172]),e(ft,[2,173]),e(ft,[2,174]),{52:T,54:180,66:R,67:I,91:z,95:G,105:P,106:W,109:S,111:U,112:L,116:47,122:ke,123:de,124:ce,125:he,126:Se,127:ve},{22:Ke,24:Je,26:Oe,38:Me,39:181,42:Fe,52:Z,66:ie,67:se,73:qe,81:et,83:140,84:Ae,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{22:Ke,24:Je,26:Oe,38:Me,39:182,42:Fe,52:Z,66:ie,67:se,73:qe,81:et,83:140,84:Ae,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{22:Ke,24:Je,26:Oe,38:Me,39:184,42:Fe,52:Z,57:[1,183],66:ie,67:se,73:qe,81:et,83:140,84:Ae,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{22:Ke,24:Je,26:Oe,38:Me,39:185,42:Fe,52:Z,66:ie,67:se,73:qe,81:et,83:140,84:Ae,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{22:Ke,24:Je,26:Oe,38:Me,39:186,42:Fe,52:Z,66:ie,67:se,73:qe,81:et,83:140,84:Ae,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{22:Ke,24:Je,26:Oe,38:Me,39:187,42:Fe,52:Z,66:ie,67:se,73:qe,81:et,83:140,84:Ae,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{66:[1,188]},{22:Ke,24:Je,26:Oe,38:Me,39:189,42:Fe,52:Z,66:ie,67:se,73:qe,81:et,83:140,84:Ae,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{22:Ke,24:Je,26:Oe,38:Me,39:190,42:Fe,52:Z,66:ie,67:se,71:[1,191],73:qe,81:et,83:140,84:Ae,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{22:Ke,24:Je,26:Oe,38:Me,39:192,42:Fe,52:Z,66:ie,67:se,73:qe,81:et,83:140,84:Ae,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{22:Ke,24:Je,26:Oe,38:Me,39:193,42:Fe,52:Z,66:ie,67:se,73:qe,81:et,83:140,84:Ae,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{22:Ke,24:Je,26:Oe,38:Me,39:194,42:Fe,52:Z,66:ie,67:se,73:qe,81:et,83:140,84:Ae,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},e(rt,[2,151]),e(Nt,[2,3]),{8:195,15:me},{15:[2,7]},e(l,[2,28]),e(st,[2,33]),e(oe,[2,51],{30:196,22:Ce}),e(nt,[2,75],{22:[1,197]}),{22:[1,198]},{22:Ke,24:Je,26:Oe,38:Me,39:199,42:Fe,52:Z,66:ie,67:se,73:qe,81:et,83:140,84:Ae,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{22:Ke,24:Je,26:Oe,38:Me,42:Fe,52:Z,66:ie,67:se,73:qe,81:et,82:[1,200],83:201,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},e(ft,[2,82]),e(ft,[2,84]),e(ft,[2,140]),e(ft,[2,141]),e(ft,[2,142]),e(ft,[2,143]),e(ft,[2,144]),e(ft,[2,145]),e(ft,[2,146]),e(ft,[2,147]),e(ft,[2,148]),e(ft,[2,149]),e(ft,[2,85]),e(ft,[2,86]),e(ft,[2,87]),e(ft,[2,88]),e(ft,[2,89]),e(ft,[2,90]),e(ft,[2,91]),e(ft,[2,92]),e(ft,[2,93]),e(ft,[2,94]),e(ft,[2,95]),{9:203,20:Ne,21:pe,22:Ke,23:J,24:Je,26:Oe,38:Me,40:[1,202],42:Fe,52:Z,66:ie,67:se,73:qe,81:et,83:201,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{18:18,19:19,20:h,21:f,22:d,23:p,32:24,33:25,34:26,35:27,36:28,37:29,38:m,42:[1,204],43:31,44:g,46:b,48:v,50:35,51:45,52:T,54:46,66:R,67:I,86:N,87:q,88:F,89:H,90:V,91:z,95:G,105:P,106:W,109:S,111:U,112:L,116:47,118:ae,119:Q,120:ue,121:_e,122:ke,123:de,124:ce,125:he,126:Se,127:ve},{22:Ce,30:205},{22:[1,206],26:ee,52:Z,66:ie,67:se,91:te,105:fe,106:we,109:Ye,111:He,112:je,115:100,117:178,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{22:[1,207]},{22:[1,208]},{22:[1,209],106:[1,210]},e(Pt,[2,123]),{22:[1,211]},{22:[1,212],26:ee,52:Z,66:ie,67:se,91:te,105:fe,106:we,109:Ye,111:He,112:je,115:100,117:178,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{22:[1,213],26:ee,52:Z,66:ie,67:se,91:te,105:fe,106:we,109:Ye,111:He,112:je,115:100,117:178,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{84:[1,214]},e(it,[2,103],{22:[1,215]}),{84:[1,216],101:[1,217]},{84:[1,218]},e(St,[2,153]),{84:[1,219],101:[1,220]},e(dt,[2,57],{116:129,52:T,66:R,67:I,91:z,95:G,105:P,106:W,109:S,111:U,112:L,122:ke,123:de,124:ce,125:he,126:Se,127:ve}),{22:Ke,24:Je,26:Oe,38:Me,41:[1,221],42:Fe,52:Z,66:ie,67:se,73:qe,81:et,83:201,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{22:Ke,24:Je,26:Oe,38:Me,42:Fe,52:Z,56:[1,222],66:ie,67:se,73:qe,81:et,83:201,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{22:Ke,24:Je,26:Oe,38:Me,39:223,42:Fe,52:Z,66:ie,67:se,73:qe,81:et,83:140,84:Ae,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{22:Ke,24:Je,26:Oe,38:Me,42:Fe,52:Z,58:[1,224],66:ie,67:se,73:qe,81:et,83:201,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{22:Ke,24:Je,26:Oe,38:Me,42:Fe,52:Z,60:[1,225],66:ie,67:se,73:qe,81:et,83:201,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{22:Ke,24:Je,26:Oe,38:Me,42:Fe,52:Z,62:[1,226],66:ie,67:se,73:qe,81:et,83:201,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{22:Ke,24:Je,26:Oe,38:Me,42:Fe,52:Z,64:[1,227],66:ie,67:se,73:qe,81:et,83:201,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{67:[1,228]},{22:Ke,24:Je,26:Oe,38:Me,42:Fe,52:Z,66:ie,67:se,70:[1,229],73:qe,81:et,83:201,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{22:Ke,24:Je,26:Oe,38:Me,42:Fe,52:Z,66:ie,67:se,72:[1,230],73:qe,81:et,83:201,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{22:Ke,24:Je,26:Oe,38:Me,39:231,42:Fe,52:Z,66:ie,67:se,73:qe,81:et,83:140,84:Ae,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{22:Ke,24:Je,26:Oe,38:Me,41:[1,232],42:Fe,52:Z,66:ie,67:se,73:qe,81:et,83:201,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{22:Ke,24:Je,26:Oe,38:Me,42:Fe,52:Z,66:ie,67:se,73:qe,75:[1,233],77:[1,234],81:et,83:201,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{22:Ke,24:Je,26:Oe,38:Me,42:Fe,52:Z,66:ie,67:se,73:qe,75:[1,236],77:[1,235],81:et,83:201,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{9:237,20:Ne,21:pe,23:J},e(oe,[2,52],{52:Ht}),e(nt,[2,77]),e(nt,[2,76]),{22:Ke,24:Je,26:Oe,38:Me,42:Fe,52:Z,66:ie,67:se,68:[1,238],73:qe,81:et,83:201,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},e(nt,[2,79]),e(ft,[2,83]),{22:Ke,24:Je,26:Oe,38:Me,39:239,42:Fe,52:Z,66:ie,67:se,73:qe,81:et,83:140,84:Ae,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},e(tr,u,{17:240}),e(xe,[2,43]),{51:241,52:T,54:46,66:R,67:I,91:z,95:G,105:P,106:W,109:S,111:U,112:L,116:47,122:ke,123:de,124:ce,125:he,126:Se,127:ve},{22:Lt,66:qt,67:Xe,86:ye,96:242,102:Ue,105:Ve,107:243,108:244,109:ot,110:Mt,111:At,112:Rt,113:Ut},{22:Lt,66:qt,67:Xe,86:ye,96:256,102:Ue,105:Ve,107:243,108:244,109:ot,110:Mt,111:At,112:Rt,113:Ut},{22:Lt,66:qt,67:Xe,86:ye,96:257,102:Ue,104:[1,258],105:Ve,107:243,108:244,109:ot,110:Mt,111:At,112:Rt,113:Ut},{22:Lt,66:qt,67:Xe,86:ye,96:259,102:Ue,104:[1,260],105:Ve,107:243,108:244,109:ot,110:Mt,111:At,112:Rt,113:Ut},{105:[1,261]},{22:Lt,66:qt,67:Xe,86:ye,96:262,102:Ue,105:Ve,107:243,108:244,109:ot,110:Mt,111:At,112:Rt,113:Ut},{22:Lt,66:qt,67:Xe,86:ye,96:263,102:Ue,105:Ve,107:243,108:244,109:ot,110:Mt,111:At,112:Rt,113:Ut},{26:ee,52:Z,66:ie,67:se,91:te,97:264,105:fe,106:we,109:Ye,111:He,112:je,115:100,117:98,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},e(it,[2,102]),{84:[1,265]},e(it,[2,106],{22:[1,266]}),e(it,[2,107]),e(it,[2,110]),e(it,[2,112],{22:[1,267]}),e(it,[2,113]),e(Ge,[2,58]),e(Ge,[2,59]),{22:Ke,24:Je,26:Oe,38:Me,42:Fe,52:Z,58:[1,268],66:ie,67:se,73:qe,81:et,83:201,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},e(Ge,[2,66]),e(Ge,[2,61]),e(Ge,[2,62]),e(Ge,[2,63]),{66:[1,269]},e(Ge,[2,65]),e(Ge,[2,67]),{22:Ke,24:Je,26:Oe,38:Me,42:Fe,52:Z,66:ie,67:se,72:[1,270],73:qe,81:et,83:201,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},e(Ge,[2,69]),e(Ge,[2,70]),e(Ge,[2,72]),e(Ge,[2,71]),e(Ge,[2,73]),e(Nt,[2,4]),e([22,52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,81]),{22:Ke,24:Je,26:Oe,38:Me,41:[1,271],42:Fe,52:Z,66:ie,67:se,73:qe,81:et,83:201,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{18:18,19:19,20:h,21:f,22:d,23:p,32:24,33:25,34:26,35:27,36:28,37:29,38:m,42:[1,272],43:31,44:g,46:b,48:v,50:35,51:45,52:T,54:46,66:R,67:I,86:N,87:q,88:F,89:H,90:V,91:z,95:G,105:P,106:W,109:S,111:U,112:L,116:47,118:ae,119:Q,120:ue,121:_e,122:ke,123:de,124:ce,125:he,126:Se,127:ve},e(dt,[2,56]),e(it,[2,115],{106:It}),e(rr,[2,125],{108:274,22:Lt,66:qt,67:Xe,86:ye,102:Ue,105:Ve,109:ot,110:Mt,111:At,112:Rt,113:Ut}),e(Tt,[2,127]),e(Tt,[2,129]),e(Tt,[2,130]),e(Tt,[2,131]),e(Tt,[2,132]),e(Tt,[2,133]),e(Tt,[2,134]),e(Tt,[2,135]),e(Tt,[2,136]),e(Tt,[2,137]),e(Tt,[2,138]),e(Tt,[2,139]),e(it,[2,116],{106:It}),e(it,[2,117],{106:It}),{22:[1,275]},e(it,[2,118],{106:It}),{22:[1,276]},e(Pt,[2,124]),e(it,[2,98],{106:It}),e(it,[2,99],{106:It}),e(it,[2,100],{115:100,117:178,26:ee,52:Z,66:ie,67:se,91:te,105:fe,106:we,109:Ye,111:He,112:je,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te}),e(it,[2,104]),{101:[1,277]},{101:[1,278]},{58:[1,279]},{68:[1,280]},{72:[1,281]},{9:282,20:Ne,21:pe,23:J},e(xe,[2,42]),{22:Lt,66:qt,67:Xe,86:ye,102:Ue,105:Ve,107:283,108:244,109:ot,110:Mt,111:At,112:Rt,113:Ut},e(Tt,[2,128]),{26:ee,52:Z,66:ie,67:se,91:te,97:284,105:fe,106:we,109:Ye,111:He,112:je,115:100,117:98,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{26:ee,52:Z,66:ie,67:se,91:te,97:285,105:fe,106:we,109:Ye,111:He,112:je,115:100,117:98,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},e(it,[2,108]),e(it,[2,114]),e(Ge,[2,60]),{22:Ke,24:Je,26:Oe,38:Me,39:286,42:Fe,52:Z,66:ie,67:se,73:qe,81:et,83:140,84:Ae,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},e(Ge,[2,68]),e(tr,u,{17:287}),e(rr,[2,126],{108:274,22:Lt,66:qt,67:Xe,86:ye,102:Ue,105:Ve,109:ot,110:Mt,111:At,112:Rt,113:Ut}),e(it,[2,121],{115:100,117:178,22:[1,288],26:ee,52:Z,66:ie,67:se,91:te,105:fe,106:we,109:Ye,111:He,112:je,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te}),e(it,[2,122],{115:100,117:178,22:[1,289],26:ee,52:Z,66:ie,67:se,91:te,105:fe,106:we,109:Ye,111:He,112:je,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te}),{22:Ke,24:Je,26:Oe,38:Me,41:[1,290],42:Fe,52:Z,66:ie,67:se,73:qe,81:et,83:201,85:151,86:_t,87:Re,88:lt,89:xt,90:bt,91:$t,92:kt,94:142,95:tt,105:fe,106:we,109:ht,111:He,112:je,113:vt,114:gt,115:148,122:Pe,123:Ee,124:Ie,125:Le,126:Be,127:Te},{18:18,19:19,20:h,21:f,22:d,23:p,32:24,33:25,34:26,35:27,36:28,37:29,38:m,42:[1,291],43:31,44:g,46:b,48:v,50:35,51:45,52:T,54:46,66:R,67:I,86:N,87:q,88:F,89:H,90:V,91:z,95:G,105:P,106:W,109:S,111:U,112:L,116:47,118:ae,119:Q,120:ue,121:_e,122:ke,123:de,124:ce,125:he,126:Se,127:ve},{22:Lt,66:qt,67:Xe,86:ye,96:292,102:Ue,105:Ve,107:243,108:244,109:ot,110:Mt,111:At,112:Rt,113:Ut},{22:Lt,66:qt,67:Xe,86:ye,96:293,102:Ue,105:Ve,107:243,108:244,109:ot,110:Mt,111:At,112:Rt,113:Ut},e(Ge,[2,64]),e(xe,[2,41]),e(it,[2,119],{106:It}),e(it,[2,120],{106:It})],defaultActions:{2:[2,1],9:[2,5],10:[2,2],132:[2,7]},parseError:function(at,ct){if(ct.recoverable)this.trace(at);else{var pt=new Error(at);throw pt.hash=ct,pt}},parse:function(at){var ct=this,pt=[0],Ze=[],Dt=[null],ge=[],fr=this.table,be="",Yt=0,Cr=0,qr=2,Er=1,Ar=ge.slice.call(arguments,1),Bt=Object.create(this.lexer),Jt={yy:{}};for(var er in this.yy)Object.prototype.hasOwnProperty.call(this.yy,er)&&(Jt.yy[er]=this.yy[er]);Bt.setInput(at,Jt.yy),Jt.yy.lexer=Bt,Jt.yy.parser=this,typeof Bt.yylloc>"u"&&(Bt.yylloc={});var dr=Bt.yylloc;ge.push(dr);var wr=Bt.options&&Bt.options.ranges;typeof Jt.yy.parseError=="function"?this.parseError=Jt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Rr(){var jt;return jt=Ze.pop()||Bt.lex()||Er,typeof jt!="number"&&(jt instanceof Array&&(Ze=jt,jt=Ze.pop()),jt=ct.symbols_[jt]||jt),jt}for(var zt,Et,Vt,nr,Kt={},ir,Wt,Tr,yr;;){if(Et=pt[pt.length-1],this.defaultActions[Et]?Vt=this.defaultActions[Et]:((zt===null||typeof zt>"u")&&(zt=Rr()),Vt=fr[Et]&&fr[Et][zt]),typeof Vt>"u"||!Vt.length||!Vt[0]){var pr="";yr=[];for(ir in fr[Et])this.terminals_[ir]&&ir>qr&&yr.push("'"+this.terminals_[ir]+"'");Bt.showPosition?pr="Parse error on line "+(Yt+1)+`:
`+Bt.showPosition()+`
Expecting `+yr.join(", ")+", got '"+(this.terminals_[zt]||zt)+"'":pr="Parse error on line "+(Yt+1)+": Unexpected "+(zt==Er?"end of input":"'"+(this.terminals_[zt]||zt)+"'"),this.parseError(pr,{text:Bt.match,token:this.terminals_[zt]||zt,line:Bt.yylineno,loc:dr,expected:yr})}if(Vt[0]instanceof Array&&Vt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Et+", token: "+zt);switch(Vt[0]){case 1:pt.push(zt),Dt.push(Bt.yytext),ge.push(Bt.yylloc),pt.push(Vt[1]),zt=null,Cr=Bt.yyleng,be=Bt.yytext,Yt=Bt.yylineno,dr=Bt.yylloc;break;case 2:if(Wt=this.productions_[Vt[1]][1],Kt.$=Dt[Dt.length-Wt],Kt._$={first_line:ge[ge.length-(Wt||1)].first_line,last_line:ge[ge.length-1].last_line,first_column:ge[ge.length-(Wt||1)].first_column,last_column:ge[ge.length-1].last_column},wr&&(Kt._$.range=[ge[ge.length-(Wt||1)].range[0],ge[ge.length-1].range[1]]),nr=this.performAction.apply(Kt,[be,Cr,Yt,Jt.yy,Vt[1],Dt,ge].concat(Ar)),typeof nr<"u")return nr;Wt&&(pt=pt.slice(0,-1*Wt*2),Dt=Dt.slice(0,-1*Wt),ge=ge.slice(0,-1*Wt)),pt.push(this.productions_[Vt[1]][0]),Dt.push(Kt.$),ge.push(Kt._$),Tr=fr[pt[pt.length-2]][pt[pt.length-1]],pt.push(Tr);break;case 3:return!0}}return!0}},Sr=function(){var Gt={EOF:1,parseError:function(ct,pt){if(this.yy.parser)this.yy.parser.parseError(ct,pt);else throw new Error(ct)},setInput:function(at,ct){return this.yy=ct||this.yy||{},this._input=at,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var at=this._input[0];this.yytext+=at,this.yyleng++,this.offset++,this.match+=at,this.matched+=at;var ct=at.match(/(?:\r\n?|\n).*/g);return ct?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),at},unput:function(at){var ct=at.length,pt=at.split(/(?:\r\n?|\n)/g);this._input=at+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ct),this.offset-=ct;var Ze=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),pt.length-1&&(this.yylineno-=pt.length-1);var Dt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:pt?(pt.length===Ze.length?this.yylloc.first_column:0)+Ze[Ze.length-pt.length].length-pt[0].length:this.yylloc.first_column-ct},this.options.ranges&&(this.yylloc.range=[Dt[0],Dt[0]+this.yyleng-ct]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(at){this.unput(this.match.slice(at))},pastInput:function(){var at=this.matched.substr(0,this.matched.length-this.match.length);return(at.length>20?"...":"")+at.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var at=this.match;return at.length<20&&(at+=this._input.substr(0,20-at.length)),(at.substr(0,20)+(at.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var at=this.pastInput(),ct=new Array(at.length+1).join("-");return at+this.upcomingInput()+`
`+ct+"^"},test_match:function(at,ct){var pt,Ze,Dt;if(this.options.backtrack_lexer&&(Dt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Dt.yylloc.range=this.yylloc.range.slice(0))),Ze=at[0].match(/(?:\r\n?|\n).*/g),Ze&&(this.yylineno+=Ze.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ze?Ze[Ze.length-1].length-Ze[Ze.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+at[0].length},this.yytext+=at[0],this.match+=at[0],this.matches=at,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(at[0].length),this.matched+=at[0],pt=this.performAction.call(this,this.yy,this,ct,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),pt)return pt;if(this._backtrack){for(var ge in Dt)this[ge]=Dt[ge];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var at,ct,pt,Ze;this._more||(this.yytext="",this.match="");for(var Dt=this._currentRules(),ge=0;ge<Dt.length;ge++)if(pt=this._input.match(this.rules[Dt[ge]]),pt&&(!ct||pt[0].length>ct[0].length)){if(ct=pt,Ze=ge,this.options.backtrack_lexer){if(at=this.test_match(pt,Dt[ge]),at!==!1)return at;if(this._backtrack){ct=!1;continue}else return!1}else if(!this.options.flex)break}return ct?(at=this.test_match(ct,Dt[Ze]),at!==!1?at:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var ct=this.next();return ct||this.lex()},begin:function(ct){this.conditionStack.push(ct)},popState:function(){var ct=this.conditionStack.length-1;return ct>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(ct){return ct=this.conditionStack.length-1-Math.abs(ct||0),ct>=0?this.conditionStack[ct]:"INITIAL"},pushState:function(ct){this.begin(ct)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(ct,pt,Ze,Dt){switch(Ze){case 0:return this.begin("open_directive"),12;case 1:return this.begin("type_directive"),13;case 2:return this.popState(),this.begin("arg_directive"),10;case 3:return this.popState(),this.popState(),15;case 4:return 14;case 5:break;case 6:break;case 7:return this.begin("acc_title"),44;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),46;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:this.begin("string");break;case 15:this.popState();break;case 16:return"STR";case 17:return 86;case 18:return 95;case 19:return 87;case 20:return 104;case 21:return 88;case 22:return 89;case 23:this.begin("href");break;case 24:this.popState();break;case 25:return 100;case 26:this.begin("callbackname");break;case 27:this.popState();break;case 28:this.popState(),this.begin("callbackargs");break;case 29:return 98;case 30:this.popState();break;case 31:return 99;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 90;case 35:return ct.lex.firstGraph()&&this.begin("dir"),24;case 36:return ct.lex.firstGraph()&&this.begin("dir"),24;case 37:return 38;case 38:return 42;case 39:return 101;case 40:return 101;case 41:return 101;case 42:return 101;case 43:return this.popState(),25;case 44:return this.popState(),26;case 45:return this.popState(),26;case 46:return this.popState(),26;case 47:return this.popState(),26;case 48:return this.popState(),26;case 49:return this.popState(),26;case 50:return this.popState(),26;case 51:return this.popState(),26;case 52:return this.popState(),26;case 53:return this.popState(),26;case 54:return 118;case 55:return 119;case 56:return 120;case 57:return 121;case 58:return 105;case 59:return 111;case 60:return 53;case 61:return 67;case 62:return 52;case 63:return 20;case 64:return 106;case 65:return 126;case 66:return 82;case 67:return 82;case 68:return 82;case 69:return 82;case 70:return 81;case 71:return 81;case 72:return 81;case 73:return 59;case 74:return 60;case 75:return 61;case 76:return 62;case 77:return 63;case 78:return 64;case 79:return 65;case 80:return 69;case 81:return 70;case 82:return 55;case 83:return 56;case 84:return 109;case 85:return 112;case 86:return 127;case 87:return 124;case 88:return 113;case 89:return 125;case 90:return 125;case 91:return 114;case 92:return 73;case 93:return 92;case 94:return"SEP";case 95:return 91;case 96:return 66;case 97:return 75;case 98:return 74;case 99:return 77;case 100:return 76;case 101:return 122;case 102:return 123;case 103:return 68;case 104:return 57;case 105:return 58;case 106:return 40;case 107:return 41;case 108:return 71;case 109:return 72;case 110:return 133;case 111:return 21;case 112:return 22;case 113:return 23}},rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)[^\n]*)/,/^(?:[^\}]%%[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\[)/,/^(?:\]\))/,/^(?:\[\[)/,/^(?:\]\])/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\])/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:-)/,/^(?:\.)/,/^(?:[\_])/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\])/,/^(?:\[\/)/,/^(?:\/\])/,/^(?:\[\\)/,/^(?:[!"#$%&'*+,-.`?\\_/])/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[30,31],inclusive:!1},callbackname:{rules:[27,28,29],inclusive:!1},href:{rules:[24,25],inclusive:!1},click:{rules:[33,34],inclusive:!1},vertex:{rules:[],inclusive:!1},dir:{rules:[43,44,45,46,47,48,49,50,51,52,53],inclusive:!1},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},string:{rules:[15,16],inclusive:!1},INITIAL:{rules:[0,5,6,7,9,11,14,17,18,19,20,21,22,23,26,32,35,36,37,38,39,40,41,42,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113],inclusive:!0}}};return Gt}();Qt.lexer=Sr;function xr(){this.yy={}}return xr.prototype=Qt,Qt.Parser=xr,new xr}();parser$7.parser=parser$7;const flowDetector=(e,t)=>{var r;return((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:e.match(/^\s*graph/)!==null},flowDetectorV2=(e,t)=>{var r;return((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"&&e.match(/^\s*graph/)!==null?!0:e.match(/^\s*flowchart/)!==null},MERMAID_DOM_ID_PREFIX="flowchart-";let vertexCounter=0,config=getConfig$1(),vertices={},edges=[],classes$1=[],subGraphs=[],subGraphLookup={},tooltips={},subCount=0,firstGraphFlag=!0,direction$1,version,funs$1=[];const sanitizeText=e=>common.sanitizeText(e,config),parseDirective$7=function(e,t,r){mermaidAPI.parseDirective(this,e,t,r)},lookUpDomId=function(e){const t=Object.keys(vertices);for(let r=0;r<t.length;r++)if(vertices[t[r]].id===e)return vertices[t[r]].domId;return e},addVertex=function(e,t,r,n,o,l,u={}){let h,f=e;typeof f>"u"||f.trim().length!==0&&(typeof vertices[f]>"u"&&(vertices[f]={id:f,domId:MERMAID_DOM_ID_PREFIX+f+"-"+vertexCounter,styles:[],classes:[]}),vertexCounter++,typeof t<"u"?(config=getConfig$1(),h=sanitizeText(t.trim()),h[0]==='"'&&h[h.length-1]==='"'&&(h=h.substring(1,h.length-1)),vertices[f].text=h):typeof vertices[f].text>"u"&&(vertices[f].text=e),typeof r<"u"&&(vertices[f].type=r),typeof n<"u"&&n!==null&&n.forEach(function(d){vertices[f].styles.push(d)}),typeof o<"u"&&o!==null&&o.forEach(function(d){vertices[f].classes.push(d)}),typeof l<"u"&&(vertices[f].dir=l),vertices[f].props=u)},addSingleLink=function(e,t,r,n){const u={start:e,end:t,type:void 0,text:""};n=r.text,typeof n<"u"&&(u.text=sanitizeText(n.trim()),u.text[0]==='"'&&u.text[u.text.length-1]==='"'&&(u.text=u.text.substring(1,u.text.length-1))),typeof r<"u"&&(u.type=r.type,u.stroke=r.stroke,u.length=r.length),edges.push(u)},addLink=function(e,t,r,n){let o,l;for(o=0;o<e.length;o++)for(l=0;l<t.length;l++)addSingleLink(e[o],t[l],r,n)},updateLinkInterpolate=function(e,t){e.forEach(function(r){r==="default"?edges.defaultInterpolate=t:edges[r].interpolate=t})},updateLink=function(e,t){e.forEach(function(r){r==="default"?edges.defaultStyle=t:(utils.isSubstringInArray("fill",t)===-1&&t.push("fill:none"),edges[r].style=t)})},addClass=function(e,t){typeof classes$1[e]>"u"&&(classes$1[e]={id:e,styles:[],textStyles:[]}),typeof t<"u"&&t!==null&&t.forEach(function(r){if(r.match("color")){const o=r.replace("fill","bgFill").replace("color","fill");classes$1[e].textStyles.push(o)}classes$1[e].styles.push(r)})},setDirection$1=function(e){direction$1=e,direction$1.match(/.*</)&&(direction$1="RL"),direction$1.match(/.*\^/)&&(direction$1="BT"),direction$1.match(/.*>/)&&(direction$1="LR"),direction$1.match(/.*v/)&&(direction$1="TB")},setClass$1=function(e,t){e.split(",").forEach(function(r){let n=r;typeof vertices[n]<"u"&&vertices[n].classes.push(t),typeof subGraphLookup[n]<"u"&&subGraphLookup[n].classes.push(t)})},setTooltip=function(e,t){e.split(",").forEach(function(r){typeof t<"u"&&(tooltips[version==="gen-1"?lookUpDomId(r):r]=sanitizeText(t))})},setClickFun$1=function(e,t,r){let n=lookUpDomId(e);if(getConfig$1().securityLevel!=="loose"||typeof t>"u")return;let o=[];if(typeof r=="string"){o=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let l=0;l<o.length;l++){let u=o[l].trim();u.charAt(0)==='"'&&u.charAt(u.length-1)==='"'&&(u=u.substr(1,u.length-2)),o[l]=u}}o.length===0&&o.push(e),typeof vertices[e]<"u"&&(vertices[e].haveCallback=!0,funs$1.push(function(){const l=document.querySelector(`[id="${n}"]`);l!==null&&l.addEventListener("click",function(){utils.runFunc(t,...o)},!1)}))},setLink$1=function(e,t,r){e.split(",").forEach(function(n){typeof vertices[n]<"u"&&(vertices[n].link=utils.formatUrl(t,config),vertices[n].linkTarget=r)}),setClass$1(e,"clickable")},getTooltip=function(e){return tooltips[e]},setClickEvent$1=function(e,t,r){e.split(",").forEach(function(n){setClickFun$1(n,t,r)}),setClass$1(e,"clickable")},bindFunctions$1=function(e){funs$1.forEach(function(t){t(e)})},getDirection$1=function(){return direction$1.trim()},getVertices=function(){return vertices},getEdges=function(){return edges},getClasses$4=function(){return classes$1},setupToolTips=function(e){let t=select$1(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=select$1("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),select$1(e).select("svg").selectAll("g.node").on("mouseover",function(){const o=select$1(this);if(o.attr("title")===null)return;const u=this.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(o.attr("title")).style("left",window.scrollX+u.left+(u.right-u.left)/2+"px").style("top",window.scrollY+u.top-14+document.body.scrollTop+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),o.classed("hover",!0)}).on("mouseout",function(){t.transition().duration(500).style("opacity",0),select$1(this).classed("hover",!1)})};funs$1.push(setupToolTips);const clear$6=function(e="gen-1"){vertices={},classes$1={},edges=[],funs$1=[setupToolTips],subGraphs=[],subGraphLookup={},subCount=0,tooltips=[],firstGraphFlag=!0,version=e,clear$g()},setGen=e=>{version=e||"gen-1"},defaultStyle=function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},addSubGraph=function(e,t,r){let n=e.trim(),o=r.trim();n===o&&o.match(/\s/)&&(n=void 0);function l(p){const m={boolean:{},number:{},string:{}},g=[];let b;return{nodeList:p.filter(function(T){const R=typeof T;return T.stmt&&T.stmt==="dir"?(b=T.value,!1):T.trim()===""?!1:R in m?m[R].hasOwnProperty(T)?!1:m[R][T]=!0:g.indexOf(T)>=0?!1:g.push(T)}),dir:b}}let u=[];const{nodeList:h,dir:f}=l(u.concat.apply(u,t));if(u=h,version==="gen-1")for(let p=0;p<u.length;p++)u[p]=lookUpDomId(u[p]);n=n||"subGraph"+subCount,o=o||"",o=sanitizeText(o),subCount=subCount+1;const d={id:n,nodes:u,title:o.trim(),classes:[],dir:f};return log$1.info("Adding",d.id,d.nodes,d.dir),d.nodes=makeUniq(d,subGraphs).nodes,subGraphs.push(d),subGraphLookup[n]=d,n},getPosForId=function(e){for(let t=0;t<subGraphs.length;t++)if(subGraphs[t].id===e)return t;return-1};let secCount=-1;const posCrossRef=[],indexNodes2=function(e,t){const r=subGraphs[t].nodes;if(secCount=secCount+1,secCount>2e3)return;if(posCrossRef[secCount]=t,subGraphs[t].id===e)return{result:!0,count:0};let n=0,o=1;for(;n<r.length;){const l=getPosForId(r[n]);if(l>=0){const u=indexNodes2(e,l);if(u.result)return{result:!0,count:o+u.count};o=o+u.count}n=n+1}return{result:!1,count:o}},getDepthFirstPos=function(e){return posCrossRef[e]},indexNodes=function(){secCount=-1,subGraphs.length>0&&indexNodes2("none",subGraphs.length-1)},getSubGraphs=function(){return subGraphs},firstGraph=()=>firstGraphFlag?(firstGraphFlag=!1,!0):!1,destructStartLink=e=>{let t=e.trim(),r="arrow_open";switch(t[0]){case"<":r="arrow_point",t=t.slice(1);break;case"x":r="arrow_cross",t=t.slice(1);break;case"o":r="arrow_circle",t=t.slice(1);break}let n="normal";return t.indexOf("=")!==-1&&(n="thick"),t.indexOf(".")!==-1&&(n="dotted"),{type:r,stroke:n}},countChar=(e,t)=>{const r=t.length;let n=0;for(let o=0;o<r;++o)t[o]===e&&++n;return n},destructEndLink=e=>{const t=e.trim();let r=t.slice(0,-1),n="arrow_open";switch(t.slice(-1)){case"x":n="arrow_cross",t[0]==="x"&&(n="double_"+n,r=r.slice(1));break;case">":n="arrow_point",t[0]==="<"&&(n="double_"+n,r=r.slice(1));break;case"o":n="arrow_circle",t[0]==="o"&&(n="double_"+n,r=r.slice(1));break}let o="normal",l=r.length-1;r[0]==="="&&(o="thick"),r[0]==="~"&&(o="invisible");let u=countChar(".",r);return u&&(o="dotted",l=u),{type:n,stroke:o,length:l}},destructLink=(e,t)=>{const r=destructEndLink(e);let n;if(t){if(n=destructStartLink(t),n.stroke!==r.stroke)return{type:"INVALID",stroke:"INVALID"};if(n.type==="arrow_open")n.type=r.type;else{if(n.type!==r.type)return{type:"INVALID",stroke:"INVALID"};n.type="double_"+n.type}return n.type==="double_arrow"&&(n.type="double_arrow_point"),n.length=r.length,n}return r},exists=(e,t)=>{let r=!1;return e.forEach(n=>{n.nodes.indexOf(t)>=0&&(r=!0)}),r},makeUniq=(e,t)=>{const r=[];return e.nodes.forEach((n,o)=>{exists(t,n)||r.push(e.nodes[o])}),{nodes:r}},flowDb={parseDirective:parseDirective$7,defaultConfig:()=>defaultConfig.flowchart,setAccTitle,getAccTitle,getAccDescription,setAccDescription,addVertex,lookUpDomId,addLink,updateLinkInterpolate,updateLink,addClass,setDirection:setDirection$1,setClass:setClass$1,setTooltip,getTooltip,setClickEvent:setClickEvent$1,setLink:setLink$1,bindFunctions:bindFunctions$1,getDirection:getDirection$1,getVertices,getEdges,getClasses:getClasses$4,clear:clear$6,setGen,defaultStyle,addSubGraph,getDepthFirstPos,indexNodes,getSubGraphs,destructLink,lex:{firstGraph},exists,makeUniq};function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var identity_1,hasRequiredIdentity;function requireIdentity(){if(hasRequiredIdentity)return identity_1;hasRequiredIdentity=1;function e(t){return t}return identity_1=e,identity_1}var _apply,hasRequired_apply;function require_apply(){if(hasRequired_apply)return _apply;hasRequired_apply=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return _apply=e,_apply}var _overRest,hasRequired_overRest;function require_overRest(){if(hasRequired_overRest)return _overRest;hasRequired_overRest=1;var e=require_apply(),t=Math.max;function r(n,o,l){return o=t(o===void 0?n.length-1:o,0),function(){for(var u=arguments,h=-1,f=t(u.length-o,0),d=Array(f);++h<f;)d[h]=u[o+h];h=-1;for(var p=Array(o+1);++h<o;)p[h]=u[h];return p[o]=l(d),e(n,this,p)}}return _overRest=r,_overRest}var constant_1,hasRequiredConstant;function requireConstant(){if(hasRequiredConstant)return constant_1;hasRequiredConstant=1;function e(t){return function(){return t}}return constant_1=e,constant_1}var _defineProperty,hasRequired_defineProperty;function require_defineProperty(){if(hasRequired_defineProperty)return _defineProperty;hasRequired_defineProperty=1;var e=require_getNative(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return _defineProperty=t,_defineProperty}var _baseSetToString,hasRequired_baseSetToString;function require_baseSetToString(){if(hasRequired_baseSetToString)return _baseSetToString;hasRequired_baseSetToString=1;var e=requireConstant(),t=require_defineProperty(),r=requireIdentity(),n=t?function(o,l){return t(o,"toString",{configurable:!0,enumerable:!1,value:e(l),writable:!0})}:r;return _baseSetToString=n,_baseSetToString}var _shortOut,hasRequired_shortOut;function require_shortOut(){if(hasRequired_shortOut)return _shortOut;hasRequired_shortOut=1;var e=800,t=16,r=Date.now;function n(o){var l=0,u=0;return function(){var h=r(),f=t-(h-u);if(u=h,f>0){if(++l>=e)return arguments[0]}else l=0;return o.apply(void 0,arguments)}}return _shortOut=n,_shortOut}var _setToString,hasRequired_setToString;function require_setToString(){if(hasRequired_setToString)return _setToString;hasRequired_setToString=1;var e=require_baseSetToString(),t=require_shortOut(),r=t(e);return _setToString=r,_setToString}var _baseRest,hasRequired_baseRest;function require_baseRest(){if(hasRequired_baseRest)return _baseRest;hasRequired_baseRest=1;var e=requireIdentity(),t=require_overRest(),r=require_setToString();function n(o,l){return r(t(o,l,e),o+"")}return _baseRest=n,_baseRest}var isLength_1,hasRequiredIsLength;function requireIsLength(){if(hasRequiredIsLength)return isLength_1;hasRequiredIsLength=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return isLength_1=t,isLength_1}var isArrayLike_1,hasRequiredIsArrayLike;function requireIsArrayLike(){if(hasRequiredIsArrayLike)return isArrayLike_1;hasRequiredIsArrayLike=1;var e=requireIsFunction(),t=requireIsLength();function r(n){return n!=null&&t(n.length)&&!e(n)}return isArrayLike_1=r,isArrayLike_1}var _isIndex,hasRequired_isIndex;function require_isIndex(){if(hasRequired_isIndex)return _isIndex;hasRequired_isIndex=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,o){var l=typeof n;return o=o==null?e:o,!!o&&(l=="number"||l!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<o}return _isIndex=r,_isIndex}var _isIterateeCall,hasRequired_isIterateeCall;function require_isIterateeCall(){if(hasRequired_isIterateeCall)return _isIterateeCall;hasRequired_isIterateeCall=1;var e=requireEq(),t=requireIsArrayLike(),r=require_isIndex(),n=requireIsObject();function o(l,u,h){if(!n(h))return!1;var f=typeof u;return(f=="number"?t(h)&&r(u,h.length):f=="string"&&u in h)?e(h[u],l):!1}return _isIterateeCall=o,_isIterateeCall}var _baseTimes,hasRequired_baseTimes;function require_baseTimes(){if(hasRequired_baseTimes)return _baseTimes;hasRequired_baseTimes=1;function e(t,r){for(var n=-1,o=Array(t);++n<t;)o[n]=r(n);return o}return _baseTimes=e,_baseTimes}var isObjectLike_1,hasRequiredIsObjectLike;function requireIsObjectLike(){if(hasRequiredIsObjectLike)return isObjectLike_1;hasRequiredIsObjectLike=1;function e(t){return t!=null&&typeof t=="object"}return isObjectLike_1=e,isObjectLike_1}var _baseIsArguments,hasRequired_baseIsArguments;function require_baseIsArguments(){if(hasRequired_baseIsArguments)return _baseIsArguments;hasRequired_baseIsArguments=1;var e=require_baseGetTag(),t=requireIsObjectLike(),r="[object Arguments]";function n(o){return t(o)&&e(o)==r}return _baseIsArguments=n,_baseIsArguments}var isArguments_1,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments_1;hasRequiredIsArguments=1;var e=require_baseIsArguments(),t=requireIsObjectLike(),r=Object.prototype,n=r.hasOwnProperty,o=r.propertyIsEnumerable,l=e(function(){return arguments}())?e:function(u){return t(u)&&n.call(u,"callee")&&!o.call(u,"callee")};return isArguments_1=l,isArguments_1}var isArray_1,hasRequiredIsArray;function requireIsArray(){if(hasRequiredIsArray)return isArray_1;hasRequiredIsArray=1;var e=Array.isArray;return isArray_1=e,isArray_1}var isBuffer={exports:{}},stubFalse_1,hasRequiredStubFalse;function requireStubFalse(){if(hasRequiredStubFalse)return stubFalse_1;hasRequiredStubFalse=1;function e(){return!1}return stubFalse_1=e,stubFalse_1}var hasRequiredIsBuffer;function requireIsBuffer(){return hasRequiredIsBuffer||(hasRequiredIsBuffer=1,function(e,t){var r=require_root(),n=requireStubFalse(),o=t&&!t.nodeType&&t,l=o&&!0&&e&&!e.nodeType&&e,u=l&&l.exports===o,h=u?r.Buffer:void 0,f=h?h.isBuffer:void 0,d=f||n;e.exports=d}(isBuffer,isBuffer.exports)),isBuffer.exports}var _baseIsTypedArray,hasRequired_baseIsTypedArray;function require_baseIsTypedArray(){if(hasRequired_baseIsTypedArray)return _baseIsTypedArray;hasRequired_baseIsTypedArray=1;var e=require_baseGetTag(),t=requireIsLength(),r=requireIsObjectLike(),n="[object Arguments]",o="[object Array]",l="[object Boolean]",u="[object Date]",h="[object Error]",f="[object Function]",d="[object Map]",p="[object Number]",m="[object Object]",g="[object RegExp]",b="[object Set]",v="[object String]",T="[object WeakMap]",R="[object ArrayBuffer]",I="[object DataView]",N="[object Float32Array]",q="[object Float64Array]",F="[object Int8Array]",H="[object Int16Array]",V="[object Int32Array]",z="[object Uint8Array]",G="[object Uint8ClampedArray]",P="[object Uint16Array]",W="[object Uint32Array]",S={};S[N]=S[q]=S[F]=S[H]=S[V]=S[z]=S[G]=S[P]=S[W]=!0,S[n]=S[o]=S[R]=S[l]=S[I]=S[u]=S[h]=S[f]=S[d]=S[p]=S[m]=S[g]=S[b]=S[v]=S[T]=!1;function U(L){return r(L)&&t(L.length)&&!!S[e(L)]}return _baseIsTypedArray=U,_baseIsTypedArray}var _baseUnary,hasRequired_baseUnary;function require_baseUnary(){if(hasRequired_baseUnary)return _baseUnary;hasRequired_baseUnary=1;function e(t){return function(r){return t(r)}}return _baseUnary=e,_baseUnary}var _nodeUtil={exports:{}},hasRequired_nodeUtil;function require_nodeUtil(){return hasRequired_nodeUtil||(hasRequired_nodeUtil=1,function(e,t){var r=require_freeGlobal(),n=t&&!t.nodeType&&t,o=n&&!0&&e&&!e.nodeType&&e,l=o&&o.exports===n,u=l&&r.process,h=function(){try{var f=o&&o.require&&o.require("util").types;return f||u&&u.binding&&u.binding("util")}catch{}}();e.exports=h}(_nodeUtil,_nodeUtil.exports)),_nodeUtil.exports}var isTypedArray_1,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray_1;hasRequiredIsTypedArray=1;var e=require_baseIsTypedArray(),t=require_baseUnary(),r=require_nodeUtil(),n=r&&r.isTypedArray,o=n?t(n):e;return isTypedArray_1=o,isTypedArray_1}var _arrayLikeKeys,hasRequired_arrayLikeKeys;function require_arrayLikeKeys(){if(hasRequired_arrayLikeKeys)return _arrayLikeKeys;hasRequired_arrayLikeKeys=1;var e=require_baseTimes(),t=requireIsArguments(),r=requireIsArray(),n=requireIsBuffer(),o=require_isIndex(),l=requireIsTypedArray(),u=Object.prototype,h=u.hasOwnProperty;function f(d,p){var m=r(d),g=!m&&t(d),b=!m&&!g&&n(d),v=!m&&!g&&!b&&l(d),T=m||g||b||v,R=T?e(d.length,String):[],I=R.length;for(var N in d)(p||h.call(d,N))&&!(T&&(N=="length"||b&&(N=="offset"||N=="parent")||v&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||o(N,I)))&&R.push(N);return R}return _arrayLikeKeys=f,_arrayLikeKeys}var _isPrototype,hasRequired_isPrototype;function require_isPrototype(){if(hasRequired_isPrototype)return _isPrototype;hasRequired_isPrototype=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,o=typeof n=="function"&&n.prototype||e;return r===o}return _isPrototype=t,_isPrototype}var _nativeKeysIn,hasRequired_nativeKeysIn;function require_nativeKeysIn(){if(hasRequired_nativeKeysIn)return _nativeKeysIn;hasRequired_nativeKeysIn=1;function e(t){var r=[];if(t!=null)for(var n in Object(t))r.push(n);return r}return _nativeKeysIn=e,_nativeKeysIn}var _baseKeysIn,hasRequired_baseKeysIn;function require_baseKeysIn(){if(hasRequired_baseKeysIn)return _baseKeysIn;hasRequired_baseKeysIn=1;var e=requireIsObject(),t=require_isPrototype(),r=require_nativeKeysIn(),n=Object.prototype,o=n.hasOwnProperty;function l(u){if(!e(u))return r(u);var h=t(u),f=[];for(var d in u)d=="constructor"&&(h||!o.call(u,d))||f.push(d);return f}return _baseKeysIn=l,_baseKeysIn}var keysIn_1,hasRequiredKeysIn;function requireKeysIn(){if(hasRequiredKeysIn)return keysIn_1;hasRequiredKeysIn=1;var e=require_arrayLikeKeys(),t=require_baseKeysIn(),r=requireIsArrayLike();function n(o){return r(o)?e(o,!0):t(o)}return keysIn_1=n,keysIn_1}var defaults_1,hasRequiredDefaults;function requireDefaults(){if(hasRequiredDefaults)return defaults_1;hasRequiredDefaults=1;var e=require_baseRest(),t=requireEq(),r=require_isIterateeCall(),n=requireKeysIn(),o=Object.prototype,l=o.hasOwnProperty,u=e(function(h,f){h=Object(h);var d=-1,p=f.length,m=p>2?f[2]:void 0;for(m&&r(f[0],f[1],m)&&(p=1);++d<p;)for(var g=f[d],b=n(g),v=-1,T=b.length;++v<T;){var R=b[v],I=h[R];(I===void 0||t(I,o[R])&&!l.call(h,R))&&(h[R]=g[R])}return h});return defaults_1=u,defaults_1}var each={exports:{}},_arrayEach,hasRequired_arrayEach;function require_arrayEach(){if(hasRequired_arrayEach)return _arrayEach;hasRequired_arrayEach=1;function e(t,r){for(var n=-1,o=t==null?0:t.length;++n<o&&r(t[n],n,t)!==!1;);return t}return _arrayEach=e,_arrayEach}var _createBaseFor,hasRequired_createBaseFor;function require_createBaseFor(){if(hasRequired_createBaseFor)return _createBaseFor;hasRequired_createBaseFor=1;function e(t){return function(r,n,o){for(var l=-1,u=Object(r),h=o(r),f=h.length;f--;){var d=h[t?f:++l];if(n(u[d],d,u)===!1)break}return r}}return _createBaseFor=e,_createBaseFor}var _baseFor,hasRequired_baseFor;function require_baseFor(){if(hasRequired_baseFor)return _baseFor;hasRequired_baseFor=1;var e=require_createBaseFor(),t=e();return _baseFor=t,_baseFor}var _overArg,hasRequired_overArg;function require_overArg(){if(hasRequired_overArg)return _overArg;hasRequired_overArg=1;function e(t,r){return function(n){return t(r(n))}}return _overArg=e,_overArg}var _nativeKeys,hasRequired_nativeKeys;function require_nativeKeys(){if(hasRequired_nativeKeys)return _nativeKeys;hasRequired_nativeKeys=1;var e=require_overArg(),t=e(Object.keys,Object);return _nativeKeys=t,_nativeKeys}var _baseKeys,hasRequired_baseKeys;function require_baseKeys(){if(hasRequired_baseKeys)return _baseKeys;hasRequired_baseKeys=1;var e=require_isPrototype(),t=require_nativeKeys(),r=Object.prototype,n=r.hasOwnProperty;function o(l){if(!e(l))return t(l);var u=[];for(var h in Object(l))n.call(l,h)&&h!="constructor"&&u.push(h);return u}return _baseKeys=o,_baseKeys}var keys_1,hasRequiredKeys;function requireKeys(){if(hasRequiredKeys)return keys_1;hasRequiredKeys=1;var e=require_arrayLikeKeys(),t=require_baseKeys(),r=requireIsArrayLike();function n(o){return r(o)?e(o):t(o)}return keys_1=n,keys_1}var _baseForOwn,hasRequired_baseForOwn;function require_baseForOwn(){if(hasRequired_baseForOwn)return _baseForOwn;hasRequired_baseForOwn=1;var e=require_baseFor(),t=requireKeys();function r(n,o){return n&&e(n,o,t)}return _baseForOwn=r,_baseForOwn}var _createBaseEach,hasRequired_createBaseEach;function require_createBaseEach(){if(hasRequired_createBaseEach)return _createBaseEach;hasRequired_createBaseEach=1;var e=requireIsArrayLike();function t(r,n){return function(o,l){if(o==null)return o;if(!e(o))return r(o,l);for(var u=o.length,h=n?u:-1,f=Object(o);(n?h--:++h<u)&&l(f[h],h,f)!==!1;);return o}}return _createBaseEach=t,_createBaseEach}var _baseEach,hasRequired_baseEach;function require_baseEach(){if(hasRequired_baseEach)return _baseEach;hasRequired_baseEach=1;var e=require_baseForOwn(),t=require_createBaseEach(),r=t(e);return _baseEach=r,_baseEach}var _castFunction,hasRequired_castFunction;function require_castFunction(){if(hasRequired_castFunction)return _castFunction;hasRequired_castFunction=1;var e=requireIdentity();function t(r){return typeof r=="function"?r:e}return _castFunction=t,_castFunction}var forEach_1,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach_1;hasRequiredForEach=1;var e=require_arrayEach(),t=require_baseEach(),r=require_castFunction(),n=requireIsArray();function o(l,u){var h=n(l)?e:t;return h(l,r(u))}return forEach_1=o,forEach_1}var hasRequiredEach;function requireEach(){return hasRequiredEach||(hasRequiredEach=1,function(e){e.exports=requireForEach()}(each)),each.exports}var _getPrototype,hasRequired_getPrototype;function require_getPrototype(){if(hasRequired_getPrototype)return _getPrototype;hasRequired_getPrototype=1;var e=require_overArg(),t=e(Object.getPrototypeOf,Object);return _getPrototype=t,_getPrototype}var isPlainObject_1,hasRequiredIsPlainObject;function requireIsPlainObject(){if(hasRequiredIsPlainObject)return isPlainObject_1;hasRequiredIsPlainObject=1;var e=require_baseGetTag(),t=require_getPrototype(),r=requireIsObjectLike(),n="[object Object]",o=Function.prototype,l=Object.prototype,u=o.toString,h=l.hasOwnProperty,f=u.call(Object);function d(p){if(!r(p)||e(p)!=n)return!1;var m=t(p);if(m===null)return!0;var g=h.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&u.call(g)==f}return isPlainObject_1=d,isPlainObject_1}var isSymbol_1,hasRequiredIsSymbol;function requireIsSymbol(){if(hasRequiredIsSymbol)return isSymbol_1;hasRequiredIsSymbol=1;var e=require_baseGetTag(),t=requireIsObjectLike(),r="[object Symbol]";function n(o){return typeof o=="symbol"||t(o)&&e(o)==r}return isSymbol_1=n,isSymbol_1}var _isKey,hasRequired_isKey;function require_isKey(){if(hasRequired_isKey)return _isKey;hasRequired_isKey=1;var e=requireIsArray(),t=requireIsSymbol(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function o(l,u){if(e(l))return!1;var h=typeof l;return h=="number"||h=="symbol"||h=="boolean"||l==null||t(l)?!0:n.test(l)||!r.test(l)||u!=null&&l in Object(u)}return _isKey=o,_isKey}var _memoizeCapped,hasRequired_memoizeCapped;function require_memoizeCapped(){if(hasRequired_memoizeCapped)return _memoizeCapped;hasRequired_memoizeCapped=1;var e=memoize_1,t=500;function r(n){var o=e(n,function(u){return l.size===t&&l.clear(),u}),l=o.cache;return o}return _memoizeCapped=r,_memoizeCapped}var _stringToPath,hasRequired_stringToPath;function require_stringToPath(){if(hasRequired_stringToPath)return _stringToPath;hasRequired_stringToPath=1;var e=require_memoizeCapped(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(o){var l=[];return o.charCodeAt(0)===46&&l.push(""),o.replace(t,function(u,h,f,d){l.push(f?d.replace(r,"$1"):h||u)}),l});return _stringToPath=n,_stringToPath}var _arrayMap,hasRequired_arrayMap;function require_arrayMap(){if(hasRequired_arrayMap)return _arrayMap;hasRequired_arrayMap=1;function e(t,r){for(var n=-1,o=t==null?0:t.length,l=Array(o);++n<o;)l[n]=r(t[n],n,t);return l}return _arrayMap=e,_arrayMap}var _baseToString,hasRequired_baseToString;function require_baseToString(){if(hasRequired_baseToString)return _baseToString;hasRequired_baseToString=1;var e=require_Symbol(),t=require_arrayMap(),r=requireIsArray(),n=requireIsSymbol(),o=1/0,l=e?e.prototype:void 0,u=l?l.toString:void 0;function h(f){if(typeof f=="string")return f;if(r(f))return t(f,h)+"";if(n(f))return u?u.call(f):"";var d=f+"";return d=="0"&&1/f==-o?"-0":d}return _baseToString=h,_baseToString}var toString_1,hasRequiredToString;function requireToString(){if(hasRequiredToString)return toString_1;hasRequiredToString=1;var e=require_baseToString();function t(r){return r==null?"":e(r)}return toString_1=t,toString_1}var _castPath,hasRequired_castPath;function require_castPath(){if(hasRequired_castPath)return _castPath;hasRequired_castPath=1;var e=requireIsArray(),t=require_isKey(),r=require_stringToPath(),n=requireToString();function o(l,u){return e(l)?l:t(l,u)?[l]:r(n(l))}return _castPath=o,_castPath}var _toKey,hasRequired_toKey;function require_toKey(){if(hasRequired_toKey)return _toKey;hasRequired_toKey=1;var e=requireIsSymbol(),t=1/0;function r(n){if(typeof n=="string"||e(n))return n;var o=n+"";return o=="0"&&1/n==-t?"-0":o}return _toKey=r,_toKey}var _baseGet,hasRequired_baseGet;function require_baseGet(){if(hasRequired_baseGet)return _baseGet;hasRequired_baseGet=1;var e=require_castPath(),t=require_toKey();function r(n,o){o=e(o,n);for(var l=0,u=o.length;n!=null&&l<u;)n=n[t(o[l++])];return l&&l==u?n:void 0}return _baseGet=r,_baseGet}var _baseAssignValue,hasRequired_baseAssignValue;function require_baseAssignValue(){if(hasRequired_baseAssignValue)return _baseAssignValue;hasRequired_baseAssignValue=1;var e=require_defineProperty();function t(r,n,o){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:o,writable:!0}):r[n]=o}return _baseAssignValue=t,_baseAssignValue}var _assignValue,hasRequired_assignValue;function require_assignValue(){if(hasRequired_assignValue)return _assignValue;hasRequired_assignValue=1;var e=require_baseAssignValue(),t=requireEq(),r=Object.prototype,n=r.hasOwnProperty;function o(l,u,h){var f=l[u];(!(n.call(l,u)&&t(f,h))||h===void 0&&!(u in l))&&e(l,u,h)}return _assignValue=o,_assignValue}var _baseSet,hasRequired_baseSet;function require_baseSet(){if(hasRequired_baseSet)return _baseSet;hasRequired_baseSet=1;var e=require_assignValue(),t=require_castPath(),r=require_isIndex(),n=requireIsObject(),o=require_toKey();function l(u,h,f,d){if(!n(u))return u;h=t(h,u);for(var p=-1,m=h.length,g=m-1,b=u;b!=null&&++p<m;){var v=o(h[p]),T=f;if(v==="__proto__"||v==="constructor"||v==="prototype")return u;if(p!=g){var R=b[v];T=d?d(R,v,b):void 0,T===void 0&&(T=n(R)?R:r(h[p+1])?[]:{})}e(b,v,T),b=b[v]}return u}return _baseSet=l,_baseSet}var _basePickBy,hasRequired_basePickBy;function require_basePickBy(){if(hasRequired_basePickBy)return _basePickBy;hasRequired_basePickBy=1;var e=require_baseGet(),t=require_baseSet(),r=require_castPath();function n(o,l,u){for(var h=-1,f=l.length,d={};++h<f;){var p=l[h],m=e(o,p);u(m,p)&&t(d,r(p,o),m)}return d}return _basePickBy=n,_basePickBy}var _baseHasIn,hasRequired_baseHasIn;function require_baseHasIn(){if(hasRequired_baseHasIn)return _baseHasIn;hasRequired_baseHasIn=1;function e(t,r){return t!=null&&r in Object(t)}return _baseHasIn=e,_baseHasIn}var _hasPath,hasRequired_hasPath;function require_hasPath(){if(hasRequired_hasPath)return _hasPath;hasRequired_hasPath=1;var e=require_castPath(),t=requireIsArguments(),r=requireIsArray(),n=require_isIndex(),o=requireIsLength(),l=require_toKey();function u(h,f,d){f=e(f,h);for(var p=-1,m=f.length,g=!1;++p<m;){var b=l(f[p]);if(!(g=h!=null&&d(h,b)))break;h=h[b]}return g||++p!=m?g:(m=h==null?0:h.length,!!m&&o(m)&&n(b,m)&&(r(h)||t(h)))}return _hasPath=u,_hasPath}var hasIn_1,hasRequiredHasIn;function requireHasIn(){if(hasRequiredHasIn)return hasIn_1;hasRequiredHasIn=1;var e=require_baseHasIn(),t=require_hasPath();function r(n,o){return n!=null&&t(n,o,e)}return hasIn_1=r,hasIn_1}var _basePick,hasRequired_basePick;function require_basePick(){if(hasRequired_basePick)return _basePick;hasRequired_basePick=1;var e=require_basePickBy(),t=requireHasIn();function r(n,o){return e(n,o,function(l,u){return t(n,u)})}return _basePick=r,_basePick}var _arrayPush,hasRequired_arrayPush;function require_arrayPush(){if(hasRequired_arrayPush)return _arrayPush;hasRequired_arrayPush=1;function e(t,r){for(var n=-1,o=r.length,l=t.length;++n<o;)t[l+n]=r[n];return t}return _arrayPush=e,_arrayPush}var _isFlattenable,hasRequired_isFlattenable;function require_isFlattenable(){if(hasRequired_isFlattenable)return _isFlattenable;hasRequired_isFlattenable=1;var e=require_Symbol(),t=requireIsArguments(),r=requireIsArray(),n=e?e.isConcatSpreadable:void 0;function o(l){return r(l)||t(l)||!!(n&&l&&l[n])}return _isFlattenable=o,_isFlattenable}var _baseFlatten,hasRequired_baseFlatten;function require_baseFlatten(){if(hasRequired_baseFlatten)return _baseFlatten;hasRequired_baseFlatten=1;var e=require_arrayPush(),t=require_isFlattenable();function r(n,o,l,u,h){var f=-1,d=n.length;for(l||(l=t),h||(h=[]);++f<d;){var p=n[f];o>0&&l(p)?o>1?r(p,o-1,l,u,h):e(h,p):u||(h[h.length]=p)}return h}return _baseFlatten=r,_baseFlatten}var flatten_1,hasRequiredFlatten;function requireFlatten(){if(hasRequiredFlatten)return flatten_1;hasRequiredFlatten=1;var e=require_baseFlatten();function t(r){var n=r==null?0:r.length;return n?e(r,1):[]}return flatten_1=t,flatten_1}var _flatRest,hasRequired_flatRest;function require_flatRest(){if(hasRequired_flatRest)return _flatRest;hasRequired_flatRest=1;var e=requireFlatten(),t=require_overRest(),r=require_setToString();function n(o){return r(t(o,void 0,e),o+"")}return _flatRest=n,_flatRest}var pick_1,hasRequiredPick;function requirePick(){if(hasRequiredPick)return pick_1;hasRequiredPick=1;var e=require_basePick(),t=require_flatRest(),r=t(function(n,o){return n==null?{}:e(n,o)});return pick_1=r,pick_1}var _baseHas,hasRequired_baseHas;function require_baseHas(){if(hasRequired_baseHas)return _baseHas;hasRequired_baseHas=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n,o){return n!=null&&t.call(n,o)}return _baseHas=r,_baseHas}var has_1,hasRequiredHas;function requireHas(){if(hasRequiredHas)return has_1;hasRequiredHas=1;var e=require_baseHas(),t=require_hasPath();function r(n,o){return n!=null&&t(n,o,e)}return has_1=r,has_1}var _baseRange,hasRequired_baseRange;function require_baseRange(){if(hasRequired_baseRange)return _baseRange;hasRequired_baseRange=1;var e=Math.ceil,t=Math.max;function r(n,o,l,u){for(var h=-1,f=t(e((o-n)/(l||1)),0),d=Array(f);f--;)d[u?f:++h]=n,n+=l;return d}return _baseRange=r,_baseRange}var _trimmedEndIndex,hasRequired_trimmedEndIndex;function require_trimmedEndIndex(){if(hasRequired_trimmedEndIndex)return _trimmedEndIndex;hasRequired_trimmedEndIndex=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return _trimmedEndIndex=t,_trimmedEndIndex}var _baseTrim,hasRequired_baseTrim;function require_baseTrim(){if(hasRequired_baseTrim)return _baseTrim;hasRequired_baseTrim=1;var e=require_trimmedEndIndex(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return _baseTrim=r,_baseTrim}var toNumber_1,hasRequiredToNumber;function requireToNumber(){if(hasRequiredToNumber)return toNumber_1;hasRequiredToNumber=1;var e=require_baseTrim(),t=requireIsObject(),r=requireIsSymbol(),n=0/0,o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,h=parseInt;function f(d){if(typeof d=="number")return d;if(r(d))return n;if(t(d)){var p=typeof d.valueOf=="function"?d.valueOf():d;d=t(p)?p+"":p}if(typeof d!="string")return d===0?d:+d;d=e(d);var m=l.test(d);return m||u.test(d)?h(d.slice(2),m?2:8):o.test(d)?n:+d}return toNumber_1=f,toNumber_1}var toFinite_1,hasRequiredToFinite;function requireToFinite(){if(hasRequiredToFinite)return toFinite_1;hasRequiredToFinite=1;var e=requireToNumber(),t=1/0,r=17976931348623157e292;function n(o){if(!o)return o===0?o:0;if(o=e(o),o===t||o===-t){var l=o<0?-1:1;return l*r}return o===o?o:0}return toFinite_1=n,toFinite_1}var _createRange,hasRequired_createRange;function require_createRange(){if(hasRequired_createRange)return _createRange;hasRequired_createRange=1;var e=require_baseRange(),t=require_isIterateeCall(),r=requireToFinite();function n(o){return function(l,u,h){return h&&typeof h!="number"&&t(l,u,h)&&(u=h=void 0),l=r(l),u===void 0?(u=l,l=0):u=r(u),h=h===void 0?l<u?1:-1:r(h),e(l,u,h,o)}}return _createRange=n,_createRange}var range_1,hasRequiredRange;function requireRange(){if(hasRequiredRange)return range_1;hasRequiredRange=1;var e=require_createRange(),t=e();return range_1=t,range_1}var uniqueId_1,hasRequiredUniqueId;function requireUniqueId(){if(hasRequiredUniqueId)return uniqueId_1;hasRequiredUniqueId=1;var e=requireToString(),t=0;function r(n){var o=++t;return e(n)+o}return uniqueId_1=r,uniqueId_1}var lodash;if(typeof commonjsRequire=="function")try{lodash={defaults:requireDefaults(),each:requireEach(),isFunction:requireIsFunction(),isPlainObject:requireIsPlainObject(),pick:requirePick(),has:requireHas(),range:requireRange(),uniqueId:requireUniqueId()}}catch{}lodash||(lodash=window._);var lodash_1=lodash,_=lodash_1,util$1={isSubgraph,edgeToId,applyStyle,applyClass,applyTransition};function isSubgraph(e,t){return!!e.children(t).length}function edgeToId(e){return escapeId(e.v)+":"+escapeId(e.w)+":"+escapeId(e.name)}var ID_DELIM=/:/g;function escapeId(e){return e?String(e).replace(ID_DELIM,"\\:"):""}function applyStyle(e,t){t&&e.attr("style",t)}function applyClass(e,t,r){t&&e.attr("class",t).attr("class",r+" "+e.attr("class"))}function applyTransition(e,t){var r=t.graph();if(_.isPlainObject(r)){var n=r.transition;if(_.isFunction(n))return n(e)}return e}var util=util$1,addHtmlLabel_1=addHtmlLabel;function addHtmlLabel(e,t){var r=e.append("foreignObject").attr("width","100000"),n=r.append("xhtml:div");n.attr("xmlns","http://www.w3.org/1999/xhtml");var o=t.label;switch(typeof o){case"function":n.insert(o);break;case"object":n.insert(function(){return o});break;default:n.html(o)}util.applyStyle(n,t.labelStyle),n.style("display","inline-block"),n.style("white-space","nowrap");var l=n.node().getBoundingClientRect();return r.attr("width",l.width).attr("height",l.height),r}function question(e,t,r){const n=t.width,o=t.height,l=(n+o)*.9,u=[{x:l/2,y:0},{x:l,y:-l/2},{x:l/2,y:-l},{x:0,y:-l/2}],h=insertPolygonShape(e,l,l,u);return r.intersect=function(f){return dagreD3.intersect.polygon(r,u,f)},h}function hexagon(e,t,r){const o=t.height,l=o/4,u=t.width+2*l,h=[{x:l,y:0},{x:u-l,y:0},{x:u,y:-o/2},{x:u-l,y:-o},{x:l,y:-o},{x:0,y:-o/2}],f=insertPolygonShape(e,u,o,h);return r.intersect=function(d){return dagreD3.intersect.polygon(r,h,d)},f}function rect_left_inv_arrow(e,t,r){const n=t.width,o=t.height,l=[{x:-o/2,y:0},{x:n,y:0},{x:n,y:-o},{x:-o/2,y:-o},{x:0,y:-o/2}],u=insertPolygonShape(e,n,o,l);return r.intersect=function(h){return dagreD3.intersect.polygon(r,l,h)},u}function lean_right(e,t,r){const n=t.width,o=t.height,l=[{x:-2*o/6,y:0},{x:n-o/6,y:0},{x:n+2*o/6,y:-o},{x:o/6,y:-o}],u=insertPolygonShape(e,n,o,l);return r.intersect=function(h){return dagreD3.intersect.polygon(r,l,h)},u}function lean_left(e,t,r){const n=t.width,o=t.height,l=[{x:2*o/6,y:0},{x:n+o/6,y:0},{x:n-2*o/6,y:-o},{x:-o/6,y:-o}],u=insertPolygonShape(e,n,o,l);return r.intersect=function(h){return dagreD3.intersect.polygon(r,l,h)},u}function trapezoid(e,t,r){const n=t.width,o=t.height,l=[{x:-2*o/6,y:0},{x:n+2*o/6,y:0},{x:n-o/6,y:-o},{x:o/6,y:-o}],u=insertPolygonShape(e,n,o,l);return r.intersect=function(h){return dagreD3.intersect.polygon(r,l,h)},u}function inv_trapezoid(e,t,r){const n=t.width,o=t.height,l=[{x:o/6,y:0},{x:n-o/6,y:0},{x:n+2*o/6,y:-o},{x:-2*o/6,y:-o}],u=insertPolygonShape(e,n,o,l);return r.intersect=function(h){return dagreD3.intersect.polygon(r,l,h)},u}function rect_right_inv_arrow(e,t,r){const n=t.width,o=t.height,l=[{x:0,y:0},{x:n+o/2,y:0},{x:n,y:-o/2},{x:n+o/2,y:-o},{x:0,y:-o}],u=insertPolygonShape(e,n,o,l);return r.intersect=function(h){return dagreD3.intersect.polygon(r,l,h)},u}function stadium(e,t,r){const n=t.height,o=t.width+n/4,l=e.insert("rect",":first-child").attr("rx",n/2).attr("ry",n/2).attr("x",-o/2).attr("y",-n/2).attr("width",o).attr("height",n);return r.intersect=function(u){return dagreD3.intersect.rect(r,u)},l}function subroutine(e,t,r){const n=t.width,o=t.height,l=[{x:0,y:0},{x:n,y:0},{x:n,y:-o},{x:0,y:-o},{x:0,y:0},{x:-8,y:0},{x:n+8,y:0},{x:n+8,y:-o},{x:-8,y:-o},{x:-8,y:0}],u=insertPolygonShape(e,n,o,l);return r.intersect=function(h){return dagreD3.intersect.polygon(r,l,h)},u}function cylinder(e,t,r){const n=t.width,o=n/2,l=o/(2.5+n/50),u=t.height+l,h="M 0,"+l+" a "+o+","+l+" 0,0,0 "+n+" 0 a "+o+","+l+" 0,0,0 "+-n+" 0 l 0,"+u+" a "+o+","+l+" 0,0,0 "+n+" 0 l 0,"+-u,f=e.attr("label-offset-y",l).insert("path",":first-child").attr("d",h).attr("transform","translate("+-n/2+","+-(u/2+l)+")");return r.intersect=function(d){const p=dagreD3.intersect.rect(r,d),m=p.x-r.x;if(o!=0&&(Math.abs(m)<r.width/2||Math.abs(m)==r.width/2&&Math.abs(p.y-r.y)>r.height/2-l)){let g=l*l*(1-m*m/(o*o));g!=0&&(g=Math.sqrt(g)),g=l-g,d.y-r.y>0&&(g=-g),p.y+=g}return p},f}function addToRender(e){e.shapes().question=question,e.shapes().hexagon=hexagon,e.shapes().stadium=stadium,e.shapes().subroutine=subroutine,e.shapes().cylinder=cylinder,e.shapes().rect_left_inv_arrow=rect_left_inv_arrow,e.shapes().lean_right=lean_right,e.shapes().lean_left=lean_left,e.shapes().trapezoid=trapezoid,e.shapes().inv_trapezoid=inv_trapezoid,e.shapes().rect_right_inv_arrow=rect_right_inv_arrow}function addToRenderV2(e){e({question}),e({hexagon}),e({stadium}),e({subroutine}),e({cylinder}),e({rect_left_inv_arrow}),e({lean_right}),e({lean_left}),e({trapezoid}),e({inv_trapezoid}),e({rect_right_inv_arrow})}function insertPolygonShape(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(o){return o.x+","+o.y}).join(" ")).attr("transform","translate("+-t/2+","+r/2+")")}const flowChartShapes={addToRender,addToRenderV2},conf$8={},setConf$7=function(e){const t=Object.keys(e);for(let r=0;r<t.length;r++)conf$8[t[r]]=e[t[r]]},addVertices$1=function(e,t,r,n,o,l){const u=n?n.select(`[id="${r}"]`):select$1(`[id="${r}"]`),h=o||document;Object.keys(e).forEach(function(d){const p=e[d];let m="default";p.classes.length>0&&(m=p.classes.join(" "));const g=getStylesFromArray(p.styles);let b=p.text!==void 0?p.text:p.id,v;if(evaluate(getConfig$1().flowchart.htmlLabels)){const I={label:b.replace(/fa[lrsb]?:fa-[\w-]+/g,N=>`<i class='${N.replace(":"," ")}'></i>`)};v=addHtmlLabel_1(u,I).node(),v.parentNode.removeChild(v)}else{const I=h.createElementNS("http://www.w3.org/2000/svg","text");I.setAttribute("style",g.labelStyle.replace("color:","fill:"));const N=b.split(common.lineBreakRegex);for(let q=0;q<N.length;q++){const F=h.createElementNS("http://www.w3.org/2000/svg","tspan");F.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),F.setAttribute("dy","1em"),F.setAttribute("x","1"),F.textContent=N[q],I.appendChild(F)}v=I}let T=0,R="";switch(p.type){case"round":T=5,R="rect";break;case"square":R="rect";break;case"diamond":R="question";break;case"hexagon":R="hexagon";break;case"odd":R="rect_left_inv_arrow";break;case"lean_right":R="lean_right";break;case"lean_left":R="lean_left";break;case"trapezoid":R="trapezoid";break;case"inv_trapezoid":R="inv_trapezoid";break;case"odd_right":R="rect_left_inv_arrow";break;case"circle":R="circle";break;case"ellipse":R="ellipse";break;case"stadium":R="stadium";break;case"subroutine":R="subroutine";break;case"cylinder":R="cylinder";break;case"group":R="rect";break;default:R="rect"}log$1.warn("Adding node",p.id,p.domId),t.setNode(l.db.lookUpDomId(p.id),{labelType:"svg",labelStyle:g.labelStyle,shape:R,label:v,rx:T,ry:T,class:m,style:g.style,id:l.db.lookUpDomId(p.id)})})},addEdges$1=function(e,t,r){let n=0,o,l;if(typeof e.defaultStyle<"u"){const u=getStylesFromArray(e.defaultStyle);o=u.style,l=u.labelStyle}e.forEach(function(u){n++;var h="L-"+u.start+"-"+u.end,f="LS-"+u.start,d="LE-"+u.end;const p={};u.type==="arrow_open"?p.arrowhead="none":p.arrowhead="normal";let m="",g="";if(typeof u.style<"u"){const b=getStylesFromArray(u.style);m=b.style,g=b.labelStyle}else switch(u.stroke){case"normal":m="fill:none",typeof o<"u"&&(m=o),typeof l<"u"&&(g=l);break;case"dotted":m="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":m=" stroke-width: 3.5px;fill:none";break}p.style=m,p.labelStyle=g,typeof u.interpolate<"u"?p.curve=interpolateToCurve(u.interpolate,curveLinear$1):typeof e.defaultInterpolate<"u"?p.curve=interpolateToCurve(e.defaultInterpolate,curveLinear$1):p.curve=interpolateToCurve(conf$8.curve,curveLinear$1),typeof u.text>"u"?typeof u.style<"u"&&(p.arrowheadStyle="fill: #333"):(p.arrowheadStyle="fill: #333",p.labelpos="c",evaluate(getConfig$1().flowchart.htmlLabels)?(p.labelType="html",p.label=`<span id="L-${h}" class="edgeLabel L-${f}' L-${d}" style="${p.labelStyle}">${u.text.replace(/fa[lrsb]?:fa-[\w-]+/g,b=>`<i class='${b.replace(":"," ")}'></i>`)}</span>`):(p.labelType="text",p.label=u.text.replace(common.lineBreakRegex,`
`),typeof u.style>"u"&&(p.style=p.style||"stroke: #333; stroke-width: 1.5px;fill:none"),p.labelStyle=p.labelStyle.replace("color:","fill:"))),p.id=h,p.class=f+" "+d,p.minlen=u.length||1,t.setEdge(r.db.lookUpDomId(u.start),r.db.lookUpDomId(u.end),p,n)})},getClasses$3=function(e,t){log$1.info("Extracting classes"),t.db.clear();try{return t.parse(e),t.db.getClasses()}catch{return}},draw$a=function(e,t,r,n){log$1.info("Drawing flowchart"),n.db.clear();const{securityLevel:o,flowchart:l}=getConfig$1();let u;o==="sandbox"&&(u=select$1("#i"+t));const h=select$1(o==="sandbox"?u.nodes()[0].contentDocument.body:"body"),f=o==="sandbox"?u.nodes()[0].contentDocument:document;try{n.parser.parse(e)}catch{log$1.debug("Parsing failed")}let d=n.db.getDirection();typeof d>"u"&&(d="TD");const p=l.nodeSpacing||50,m=l.rankSpacing||50,g=new graphlib$2.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:d,nodesep:p,ranksep:m,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});let b;const v=n.db.getSubGraphs();for(let z=v.length-1;z>=0;z--)b=v[z],n.db.addVertex(b.id,b.title,"group",void 0,b.classes);const T=n.db.getVertices();log$1.warn("Get vertices",T);const R=n.db.getEdges();let I=0;for(I=v.length-1;I>=0;I--){b=v[I],selectAll$1("cluster").append("text");for(let z=0;z<b.nodes.length;z++)log$1.warn("Setting subgraph",b.nodes[z],n.db.lookUpDomId(b.nodes[z]),n.db.lookUpDomId(b.id)),g.setParent(n.db.lookUpDomId(b.nodes[z]),n.db.lookUpDomId(b.id))}addVertices$1(T,g,t,h,f,n),addEdges$1(R,g,n);const N=dagreD3.render,q=new N;flowChartShapes.addToRender(q),q.arrows().none=function(G,P,W,S){const L=G.append("marker").attr("id",P).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 0 0 L 0 0 z");dagreD3.util.applyStyle(L,W[S+"Style"])},q.arrows().normal=function(G,P){G.append("marker").attr("id",P).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")};const F=h.select(`[id="${t}"]`);addSVGAccessibilityFields(n.db,F,t);const H=h.select("#"+t+" g");for(q(H,g),H.selectAll("g.node").attr("title",function(){return n.db.getTooltip(this.id)}),n.db.indexNodes("subGraph"+I),I=0;I<v.length;I++)if(b=v[I],b.title!=="undefined"){const z=f.querySelectorAll("#"+t+' [id="'+n.db.lookUpDomId(b.id)+'"] rect'),G=f.querySelectorAll("#"+t+' [id="'+n.db.lookUpDomId(b.id)+'"]'),P=z[0].x.baseVal.value,W=z[0].y.baseVal.value,S=z[0].width.baseVal.value,L=select$1(G[0]).select(".label");L.attr("transform",`translate(${P+S/2}, ${W+14})`),L.attr("id",t+"Text");for(let ae=0;ae<b.classes.length;ae++)G[0].classList.add(b.classes[ae])}if(!l.htmlLabels){const z=f.querySelectorAll('[id="'+t+'"] .edgeLabel .label');for(let G=0;G<z.length;G++){const P=z[G],W=P.getBBox(),S=f.createElementNS("http://www.w3.org/2000/svg","rect");S.setAttribute("rx",0),S.setAttribute("ry",0),S.setAttribute("width",W.width),S.setAttribute("height",W.height),P.insertBefore(S,P.firstChild)}}setupGraphViewbox$1(g,F,l.diagramPadding,l.useMaxWidth),Object.keys(T).forEach(function(z){const G=T[z];if(G.link){const P=h.select("#"+t+' [id="'+n.db.lookUpDomId(z)+'"]');if(P){const W=f.createElementNS("http://www.w3.org/2000/svg","a");W.setAttributeNS("http://www.w3.org/2000/svg","class",G.classes.join(" ")),W.setAttributeNS("http://www.w3.org/2000/svg","href",G.link),W.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),o==="sandbox"?W.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):G.linkTarget&&W.setAttributeNS("http://www.w3.org/2000/svg","target",G.linkTarget);const S=P.insert(function(){return W},":first-child"),U=P.select(".label-container");U&&S.append(function(){return U.node()});const L=P.select(".label");L&&S.append(function(){return L.node()})}}})},flowRenderer={setConf:setConf$7,addVertices:addVertices$1,addEdges:addEdges$1,getClasses:getClasses$3,draw:draw$a},conf$7={},setConf$6=function(e){const t=Object.keys(e);for(let r=0;r<t.length;r++)conf$7[t[r]]=e[t[r]]},addVertices=function(e,t,r,n,o,l){const u=n.select(`[id="${r}"]`);Object.keys(e).forEach(function(f){const d=e[f];let p="default";d.classes.length>0&&(p=d.classes.join(" "));const m=getStylesFromArray(d.styles);let g=d.text!==void 0?d.text:d.id,b;if(evaluate(getConfig$1().flowchart.htmlLabels)){const R={label:g.replace(/fa[lrsb]?:fa-[\w-]+/g,I=>`<i class='${I.replace(":"," ")}'></i>`)};b=addHtmlLabel_1(u,R).node(),b.parentNode.removeChild(b)}else{const R=o.createElementNS("http://www.w3.org/2000/svg","text");R.setAttribute("style",m.labelStyle.replace("color:","fill:"));const I=g.split(common.lineBreakRegex);for(let N=0;N<I.length;N++){const q=o.createElementNS("http://www.w3.org/2000/svg","tspan");q.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),q.setAttribute("dy","1em"),q.setAttribute("x","1"),q.textContent=I[N],R.appendChild(q)}b=R}let v=0,T="";switch(d.type){case"round":v=5,T="rect";break;case"square":T="rect";break;case"diamond":T="question";break;case"hexagon":T="hexagon";break;case"odd":T="rect_left_inv_arrow";break;case"lean_right":T="lean_right";break;case"lean_left":T="lean_left";break;case"trapezoid":T="trapezoid";break;case"inv_trapezoid":T="inv_trapezoid";break;case"odd_right":T="rect_left_inv_arrow";break;case"circle":T="circle";break;case"ellipse":T="ellipse";break;case"stadium":T="stadium";break;case"subroutine":T="subroutine";break;case"cylinder":T="cylinder";break;case"group":T="rect";break;case"doublecircle":T="doublecircle";break;default:T="rect"}t.setNode(d.id,{labelStyle:m.labelStyle,shape:T,labelText:g,rx:v,ry:v,class:p,style:m.style,id:d.id,link:d.link,linkTarget:d.linkTarget,tooltip:l.db.getTooltip(d.id)||"",domId:l.db.lookUpDomId(d.id),haveCallback:d.haveCallback,width:d.type==="group"?500:void 0,dir:d.dir,type:d.type,props:d.props,padding:getConfig$1().flowchart.padding}),log$1.info("setNode",{labelStyle:m.labelStyle,shape:T,labelText:g,rx:v,ry:v,class:p,style:m.style,id:d.id,domId:l.db.lookUpDomId(d.id),width:d.type==="group"?500:void 0,type:d.type,dir:d.dir,props:d.props,padding:getConfig$1().flowchart.padding})})},addEdges=function(e,t,r){log$1.info("abc78 edges = ",e);let n=0,o={},l,u;if(typeof e.defaultStyle<"u"){const h=getStylesFromArray(e.defaultStyle);l=h.style,u=h.labelStyle}e.forEach(function(h){n++;var f="L-"+h.start+"-"+h.end;typeof o[f]>"u"?(o[f]=0,log$1.info("abc78 new entry",f,o[f])):(o[f]++,log$1.info("abc78 new entry",f,o[f]));let d=f+"-"+o[f];log$1.info("abc78 new link id to be used is",f,d,o[f]);var p="LS-"+h.start,m="LE-"+h.end;const g={style:"",labelStyle:""};switch(g.minlen=h.length||1,h.type==="arrow_open"?g.arrowhead="none":g.arrowhead="normal",g.arrowTypeStart="arrow_open",g.arrowTypeEnd="arrow_open",h.type){case"double_arrow_cross":g.arrowTypeStart="arrow_cross";case"arrow_cross":g.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":g.arrowTypeStart="arrow_point";case"arrow_point":g.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":g.arrowTypeStart="arrow_circle";case"arrow_circle":g.arrowTypeEnd="arrow_circle";break}let b="",v="";switch(h.stroke){case"normal":b="fill:none;",typeof l<"u"&&(b=l),typeof u<"u"&&(v=u),g.thickness="normal",g.pattern="solid";break;case"dotted":g.thickness="normal",g.pattern="dotted",g.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":g.thickness="thick",g.pattern="solid",g.style="stroke-width: 3.5px;fill:none;";break;case"invisible":g.thickness="invisible",g.pattern="solid",g.style="stroke-width: 0;fill:none;";break}if(typeof h.style<"u"){const T=getStylesFromArray(h.style);b=T.style,v=T.labelStyle}g.style=g.style+=b,g.labelStyle=g.labelStyle+=v,typeof h.interpolate<"u"?g.curve=interpolateToCurve(h.interpolate,curveLinear$1):typeof e.defaultInterpolate<"u"?g.curve=interpolateToCurve(e.defaultInterpolate,curveLinear$1):g.curve=interpolateToCurve(conf$7.curve,curveLinear$1),typeof h.text>"u"?typeof h.style<"u"&&(g.arrowheadStyle="fill: #333"):(g.arrowheadStyle="fill: #333",g.labelpos="c"),g.labelType="text",g.label=h.text.replace(common.lineBreakRegex,`
`),typeof h.style>"u"&&(g.style=g.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),g.labelStyle=g.labelStyle.replace("color:","fill:"),g.id=d,g.classes="flowchart-link "+p+" "+m,t.setEdge(h.start,h.end,g,n)})},getClasses$2=function(e,t){log$1.info("Extracting classes"),t.db.clear();try{return t.parse(e),t.db.getClasses()}catch{return}},draw$9=function(e,t,r,n){log$1.info("Drawing flowchart"),n.db.clear(),flowDb.setGen("gen-2"),n.parser.parse(e);let o=n.db.getDirection();typeof o>"u"&&(o="TD");const{securityLevel:l,flowchart:u}=getConfig$1(),h=u.nodeSpacing||50,f=u.rankSpacing||50;let d;l==="sandbox"&&(d=select$1("#i"+t));const p=select$1(l==="sandbox"?d.nodes()[0].contentDocument.body:"body"),m=l==="sandbox"?d.nodes()[0].contentDocument:document,g=new graphlib$2.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:o,nodesep:h,ranksep:f,marginx:0,marginy:0}).setDefaultEdgeLabel(function(){return{}});let b;const v=n.db.getSubGraphs();log$1.info("Subgraphs - ",v);for(let H=v.length-1;H>=0;H--)b=v[H],log$1.info("Subgraph - ",b),n.db.addVertex(b.id,b.title,"group",void 0,b.classes,b.dir);const T=n.db.getVertices(),R=n.db.getEdges();log$1.info(R);let I=0;for(I=v.length-1;I>=0;I--){b=v[I],selectAll$1("cluster").append("text");for(let H=0;H<b.nodes.length;H++)log$1.info("Setting up subgraphs",b.nodes[H],b.id),g.setParent(b.nodes[H],b.id)}addVertices(T,g,t,p,m,n),addEdges(R,g);const N=p.select(`[id="${t}"]`);addSVGAccessibilityFields(n.db,N,t);const q=p.select("#"+t+" g");if(render$1(q,g,["point","circle","cross"],"flowchart",t),setupGraphViewbox$1(g,N,u.diagramPadding,u.useMaxWidth),n.db.indexNodes("subGraph"+I),!u.htmlLabels){const H=m.querySelectorAll('[id="'+t+'"] .edgeLabel .label');for(let V=0;V<H.length;V++){const z=H[V],G=z.getBBox(),P=m.createElementNS("http://www.w3.org/2000/svg","rect");P.setAttribute("rx",0),P.setAttribute("ry",0),P.setAttribute("width",G.width),P.setAttribute("height",G.height),z.insertBefore(P,z.firstChild)}}Object.keys(T).forEach(function(H){const V=T[H];if(V.link){const z=select$1("#"+t+' [id="'+H+'"]');if(z){const G=m.createElementNS("http://www.w3.org/2000/svg","a");G.setAttributeNS("http://www.w3.org/2000/svg","class",V.classes.join(" ")),G.setAttributeNS("http://www.w3.org/2000/svg","href",V.link),G.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),l==="sandbox"?G.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):V.linkTarget&&G.setAttributeNS("http://www.w3.org/2000/svg","target",V.linkTarget);const P=z.insert(function(){return G},":first-child"),W=z.select(".label-container");W&&P.append(function(){return W.node()});const S=z.select(".label");S&&P.append(function(){return S.node()})}}})},flowRendererV2={setConf:setConf$6,addVertices,addEdges,getClasses:getClasses$2,draw:draw$9};var parser$6=function(){var e=function(z,G,P,W){for(P=P||{},W=z.length;W--;P[z[W]]=G);return P},t=[1,3],r=[1,5],n=[7,9,11,12,13,14,15,16,17,18,19,20,22,24,25,27,34,39],o=[1,15],l=[1,16],u=[1,17],h=[1,18],f=[1,19],d=[1,20],p=[1,21],m=[1,22],g=[1,23],b=[1,24],v=[1,25],T=[1,26],R=[1,28],I=[1,30],N=[1,33],q=[5,7,9,11,12,13,14,15,16,17,18,19,20,22,24,25,27,34,39],F={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,dateFormat:12,inclusiveEndDates:13,topAxis:14,axisFormat:15,excludes:16,includes:17,todayMarker:18,title:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,clickStatement:26,taskTxt:27,taskData:28,openDirective:29,typeDirective:30,closeDirective:31,":":32,argDirective:33,click:34,callbackname:35,callbackargs:36,href:37,clickStatementDebug:38,open_directive:39,type_directive:40,arg_directive:41,close_directive:42,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",12:"dateFormat",13:"inclusiveEndDates",14:"topAxis",15:"axisFormat",16:"excludes",17:"includes",18:"todayMarker",19:"title",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"taskTxt",28:"taskData",32:":",34:"click",35:"callbackname",36:"callbackargs",37:"href",39:"open_directive",40:"type_directive",41:"arg_directive",42:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[26,2],[26,3],[26,3],[26,4],[26,3],[26,4],[26,2],[38,2],[38,3],[38,3],[38,4],[38,3],[38,4],[38,2],[29,1],[30,1],[33,1],[31,1]],performAction:function(G,P,W,S,U,L,ae){var Q=L.length-1;switch(U){case 2:return L[Q-1];case 3:this.$=[];break;case 4:L[Q-1].push(L[Q]),this.$=L[Q-1];break;case 5:case 6:this.$=L[Q];break;case 7:case 8:this.$=[];break;case 9:S.setDateFormat(L[Q].substr(11)),this.$=L[Q].substr(11);break;case 10:S.enableInclusiveEndDates(),this.$=L[Q].substr(18);break;case 11:S.TopAxis(),this.$=L[Q].substr(8);break;case 12:S.setAxisFormat(L[Q].substr(11)),this.$=L[Q].substr(11);break;case 13:S.setExcludes(L[Q].substr(9)),this.$=L[Q].substr(9);break;case 14:S.setIncludes(L[Q].substr(9)),this.$=L[Q].substr(9);break;case 15:S.setTodayMarker(L[Q].substr(12)),this.$=L[Q].substr(12);break;case 16:S.setDiagramTitle(L[Q].substr(6)),this.$=L[Q].substr(6);break;case 17:this.$=L[Q].trim(),S.setAccTitle(this.$);break;case 18:case 19:this.$=L[Q].trim(),S.setAccDescription(this.$);break;case 20:S.addSection(L[Q].substr(8)),this.$=L[Q].substr(8);break;case 22:S.addTask(L[Q-1],L[Q]),this.$="task";break;case 26:this.$=L[Q-1],S.setClickEvent(L[Q-1],L[Q],null);break;case 27:this.$=L[Q-2],S.setClickEvent(L[Q-2],L[Q-1],L[Q]);break;case 28:this.$=L[Q-2],S.setClickEvent(L[Q-2],L[Q-1],null),S.setLink(L[Q-2],L[Q]);break;case 29:this.$=L[Q-3],S.setClickEvent(L[Q-3],L[Q-2],L[Q-1]),S.setLink(L[Q-3],L[Q]);break;case 30:this.$=L[Q-2],S.setClickEvent(L[Q-2],L[Q],null),S.setLink(L[Q-2],L[Q-1]);break;case 31:this.$=L[Q-3],S.setClickEvent(L[Q-3],L[Q-1],L[Q]),S.setLink(L[Q-3],L[Q-2]);break;case 32:this.$=L[Q-1],S.setLink(L[Q-1],L[Q]);break;case 33:case 39:this.$=L[Q-1]+" "+L[Q];break;case 34:case 35:case 37:this.$=L[Q-2]+" "+L[Q-1]+" "+L[Q];break;case 36:case 38:this.$=L[Q-3]+" "+L[Q-2]+" "+L[Q-1]+" "+L[Q];break;case 40:S.parseDirective("%%{","open_directive");break;case 41:S.parseDirective(L[Q],"type_directive");break;case 42:L[Q]=L[Q].trim().replace(/'/g,'"'),S.parseDirective(L[Q],"arg_directive");break;case 43:S.parseDirective("}%%","close_directive","gantt");break}},table:[{3:1,4:2,5:t,29:4,39:r},{1:[3]},{3:6,4:2,5:t,29:4,39:r},e(n,[2,3],{6:7}),{30:8,40:[1,9]},{40:[2,40]},{1:[2,1]},{4:29,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:o,13:l,14:u,15:h,16:f,17:d,18:p,19:m,20:g,22:b,24:v,25:T,26:27,27:R,29:4,34:I,39:r},{31:31,32:[1,32],42:N},e([32,42],[2,41]),e(n,[2,8],{1:[2,2]}),e(n,[2,4]),{4:29,10:34,12:o,13:l,14:u,15:h,16:f,17:d,18:p,19:m,20:g,22:b,24:v,25:T,26:27,27:R,29:4,34:I,39:r},e(n,[2,6]),e(n,[2,7]),e(n,[2,9]),e(n,[2,10]),e(n,[2,11]),e(n,[2,12]),e(n,[2,13]),e(n,[2,14]),e(n,[2,15]),e(n,[2,16]),{21:[1,35]},{23:[1,36]},e(n,[2,19]),e(n,[2,20]),e(n,[2,21]),{28:[1,37]},e(n,[2,23]),{35:[1,38],37:[1,39]},{11:[1,40]},{33:41,41:[1,42]},{11:[2,43]},e(n,[2,5]),e(n,[2,17]),e(n,[2,18]),e(n,[2,22]),e(n,[2,26],{36:[1,43],37:[1,44]}),e(n,[2,32],{35:[1,45]}),e(q,[2,24]),{31:46,42:N},{42:[2,42]},e(n,[2,27],{37:[1,47]}),e(n,[2,28]),e(n,[2,30],{36:[1,48]}),{11:[1,49]},e(n,[2,29]),e(n,[2,31]),e(q,[2,25])],defaultActions:{5:[2,40],6:[2,1],33:[2,43],42:[2,42]},parseError:function(G,P){if(P.recoverable)this.trace(G);else{var W=new Error(G);throw W.hash=P,W}},parse:function(G){var P=this,W=[0],S=[],U=[null],L=[],ae=this.table,Q="",ue=0,_e=0,ke=2,de=1,ce=L.slice.call(arguments,1),he=Object.create(this.lexer),Se={yy:{}};for(var ve in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ve)&&(Se.yy[ve]=this.yy[ve]);he.setInput(G,Se.yy),Se.yy.lexer=he,Se.yy.parser=this,typeof he.yylloc>"u"&&(he.yylloc={});var me=he.yylloc;L.push(me);var Ce=he.options&&he.options.ranges;typeof Se.yy.parseError=="function"?this.parseError=Se.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function xe(){var we;return we=S.pop()||he.lex()||de,typeof we!="number"&&(we instanceof Array&&(S=we,we=S.pop()),we=P.symbols_[we]||we),we}for(var Ne,pe,J,oe,ee={},Z,ie,se,te;;){if(pe=W[W.length-1],this.defaultActions[pe]?J=this.defaultActions[pe]:((Ne===null||typeof Ne>"u")&&(Ne=xe()),J=ae[pe]&&ae[pe][Ne]),typeof J>"u"||!J.length||!J[0]){var fe="";te=[];for(Z in ae[pe])this.terminals_[Z]&&Z>ke&&te.push("'"+this.terminals_[Z]+"'");he.showPosition?fe="Parse error on line "+(ue+1)+`:
`+he.showPosition()+`
Expecting `+te.join(", ")+", got '"+(this.terminals_[Ne]||Ne)+"'":fe="Parse error on line "+(ue+1)+": Unexpected "+(Ne==de?"end of input":"'"+(this.terminals_[Ne]||Ne)+"'"),this.parseError(fe,{text:he.match,token:this.terminals_[Ne]||Ne,line:he.yylineno,loc:me,expected:te})}if(J[0]instanceof Array&&J.length>1)throw new Error("Parse Error: multiple actions possible at state: "+pe+", token: "+Ne);switch(J[0]){case 1:W.push(Ne),U.push(he.yytext),L.push(he.yylloc),W.push(J[1]),Ne=null,_e=he.yyleng,Q=he.yytext,ue=he.yylineno,me=he.yylloc;break;case 2:if(ie=this.productions_[J[1]][1],ee.$=U[U.length-ie],ee._$={first_line:L[L.length-(ie||1)].first_line,last_line:L[L.length-1].last_line,first_column:L[L.length-(ie||1)].first_column,last_column:L[L.length-1].last_column},Ce&&(ee._$.range=[L[L.length-(ie||1)].range[0],L[L.length-1].range[1]]),oe=this.performAction.apply(ee,[Q,_e,ue,Se.yy,J[1],U,L].concat(ce)),typeof oe<"u")return oe;ie&&(W=W.slice(0,-1*ie*2),U=U.slice(0,-1*ie),L=L.slice(0,-1*ie)),W.push(this.productions_[J[1]][0]),U.push(ee.$),L.push(ee._$),se=ae[W[W.length-2]][W[W.length-1]],W.push(se);break;case 3:return!0}}return!0}},H=function(){var z={EOF:1,parseError:function(P,W){if(this.yy.parser)this.yy.parser.parseError(P,W);else throw new Error(P)},setInput:function(G,P){return this.yy=P||this.yy||{},this._input=G,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var G=this._input[0];this.yytext+=G,this.yyleng++,this.offset++,this.match+=G,this.matched+=G;var P=G.match(/(?:\r\n?|\n).*/g);return P?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),G},unput:function(G){var P=G.length,W=G.split(/(?:\r\n?|\n)/g);this._input=G+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-P),this.offset-=P;var S=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),W.length-1&&(this.yylineno-=W.length-1);var U=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:W?(W.length===S.length?this.yylloc.first_column:0)+S[S.length-W.length].length-W[0].length:this.yylloc.first_column-P},this.options.ranges&&(this.yylloc.range=[U[0],U[0]+this.yyleng-P]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(G){this.unput(this.match.slice(G))},pastInput:function(){var G=this.matched.substr(0,this.matched.length-this.match.length);return(G.length>20?"...":"")+G.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var G=this.match;return G.length<20&&(G+=this._input.substr(0,20-G.length)),(G.substr(0,20)+(G.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var G=this.pastInput(),P=new Array(G.length+1).join("-");return G+this.upcomingInput()+`
`+P+"^"},test_match:function(G,P){var W,S,U;if(this.options.backtrack_lexer&&(U={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(U.yylloc.range=this.yylloc.range.slice(0))),S=G[0].match(/(?:\r\n?|\n).*/g),S&&(this.yylineno+=S.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:S?S[S.length-1].length-S[S.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+G[0].length},this.yytext+=G[0],this.match+=G[0],this.matches=G,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(G[0].length),this.matched+=G[0],W=this.performAction.call(this,this.yy,this,P,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),W)return W;if(this._backtrack){for(var L in U)this[L]=U[L];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var G,P,W,S;this._more||(this.yytext="",this.match="");for(var U=this._currentRules(),L=0;L<U.length;L++)if(W=this._input.match(this.rules[U[L]]),W&&(!P||W[0].length>P[0].length)){if(P=W,S=L,this.options.backtrack_lexer){if(G=this.test_match(W,U[L]),G!==!1)return G;if(this._backtrack){P=!1;continue}else return!1}else if(!this.options.flex)break}return P?(G=this.test_match(P,U[S]),G!==!1?G:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var P=this.next();return P||this.lex()},begin:function(P){this.conditionStack.push(P)},popState:function(){var P=this.conditionStack.length-1;return P>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(P){return P=this.conditionStack.length-1-Math.abs(P||0),P>=0?this.conditionStack[P]:"INITIAL"},pushState:function(P){this.begin(P)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(P,W,S,U){switch(S){case 0:return this.begin("open_directive"),39;case 1:return this.begin("type_directive"),40;case 2:return this.popState(),this.begin("arg_directive"),32;case 3:return this.popState(),this.popState(),42;case 4:return 41;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:break;case 13:break;case 14:break;case 15:return 11;case 16:break;case 17:break;case 18:break;case 19:this.begin("href");break;case 20:this.popState();break;case 21:return 37;case 22:this.begin("callbackname");break;case 23:this.popState();break;case 24:this.popState(),this.begin("callbackargs");break;case 25:return 35;case 26:this.popState();break;case 27:return 36;case 28:this.begin("click");break;case 29:this.popState();break;case 30:return 34;case 31:return 5;case 32:return 12;case 33:return 13;case 34:return 14;case 35:return 15;case 36:return 17;case 37:return 16;case 38:return 18;case 39:return"date";case 40:return 19;case 41:return"accDescription";case 42:return 25;case 43:return 27;case 44:return 28;case 45:return 32;case 46:return 7;case 47:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[26,27],inclusive:!1},callbackname:{rules:[23,24,25],inclusive:!1},href:{rules:[20,21],inclusive:!1},click:{rules:[29,30],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,22,28,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47],inclusive:!0}}};return z}();F.lexer=H;function V(){this.yy={}}return V.prototype=F,F.Parser=V,new V}();parser$6.parser=parser$6;const ganttDetector=e=>e.match(/^\s*gantt/)!==null;let dateFormat="",axisFormat="",todayMarker="",includes=[],excludes=[],links={},sections$2=[],tasks$1=[],currentSection$1="";const tags=["active","done","crit","milestone"];let funs=[],inclusiveEndDates=!1,topAxis=!1,lastOrder=0;const parseDirective$6=function(e,t,r){mermaidAPI.parseDirective(this,e,t,r)},clear$5=function(){sections$2=[],tasks$1=[],currentSection$1="",funs=[],taskCnt=0,lastTask=void 0,lastTaskID=void 0,rawTasks$1=[],dateFormat="",axisFormat="",todayMarker="",includes=[],excludes=[],inclusiveEndDates=!1,topAxis=!1,lastOrder=0,links={},clear$g()},setAxisFormat=function(e){axisFormat=e},getAxisFormat=function(){return axisFormat},setTodayMarker=function(e){todayMarker=e},getTodayMarker=function(){return todayMarker},setDateFormat=function(e){dateFormat=e},enableInclusiveEndDates=function(){inclusiveEndDates=!0},endDatesAreInclusive=function(){return inclusiveEndDates},enableTopAxis=function(){topAxis=!0},topAxisEnabled=function(){return topAxis},getDateFormat=function(){return dateFormat},setIncludes=function(e){includes=e.toLowerCase().split(/[\s,]+/)},getIncludes=function(){return includes},setExcludes=function(e){excludes=e.toLowerCase().split(/[\s,]+/)},getExcludes=function(){return excludes},getLinks=function(){return links},addSection$2=function(e){currentSection$1=e,sections$2.push(e)},getSections$2=function(){return sections$2},getTasks$1=function(){let e=compileTasks$1();const t=10;let r=0;for(;!e&&r<t;)e=compileTasks$1(),r++;return tasks$1=rawTasks$1,tasks$1},isInvalidDate=function(e,t,r,n){return n.indexOf(e.format(t.trim()))>=0?!1:e.isoWeekday()>=6&&r.indexOf("weekends")>=0||r.indexOf(e.format("dddd").toLowerCase())>=0?!0:r.indexOf(e.format(t.trim()))>=0},checkTaskDates=function(e,t,r,n){if(!r.length||e.manualEndTime)return;let o=moment(e.startTime,t,!0);o.add(1,"d");let l=moment(e.endTime,t,!0),u=fixTaskDates(o,l,t,r,n);e.endTime=l.toDate(),e.renderEndTime=u},fixTaskDates=function(e,t,r,n,o){let l=!1,u=null;for(;e<=t;)l||(u=t.toDate()),l=isInvalidDate(e,r,n,o),l&&t.add(1,"d"),e.add(1,"d");return u},getStartDate=function(e,t,r){r=r.trim();const o=/^after\s+([\d\w- ]+)/.exec(r.trim());if(o!==null){let u=null;if(o[1].split(" ").forEach(function(h){let f=findTaskById(h);typeof f<"u"&&(u?f.endTime>u.endTime&&(u=f):u=f)}),u)return u.endTime;{const h=new Date;return h.setHours(0,0,0,0),h}}let l=moment(r,t.trim(),!0);if(l.isValid())return l.toDate();{log$1.debug("Invalid date:"+r),log$1.debug("With date format:"+t.trim());const u=new Date(r);if(typeof u>"u"||isNaN(u.getTime()))throw new Error("Invalid date:"+r);return u}},parseDuration=function(e){const t=/^(\d+(?:\.\d+)?)([yMwdhms]|ms)$/.exec(e.trim());return t!==null?moment.duration(Number.parseFloat(t[1]),t[2]):moment.duration.invalid()},getEndDate=function(e,t,r,n){n=n||!1,r=r.trim();let o=moment(r,t.trim(),!0);if(o.isValid())return n&&o.add(1,"d"),o.toDate();const l=moment(e),u=parseDuration(r);return u.isValid()&&l.add(u),l.toDate()};let taskCnt=0;const parseId=function(e){return typeof e>"u"?(taskCnt=taskCnt+1,"task"+taskCnt):e},compileData=function(e,t){let r;t.substr(0,1)===":"?r=t.substr(1,t.length):r=t;const n=r.split(","),o={};getTaskTags(n,o,tags);for(let u=0;u<n.length;u++)n[u]=n[u].trim();let l="";switch(n.length){case 1:o.id=parseId(),o.startTime=e.endTime,l=n[0];break;case 2:o.id=parseId(),o.startTime=getStartDate(void 0,dateFormat,n[0]),l=n[1];break;case 3:o.id=parseId(n[0]),o.startTime=getStartDate(void 0,dateFormat,n[1]),l=n[2];break}return l&&(o.endTime=getEndDate(o.startTime,dateFormat,l,inclusiveEndDates),o.manualEndTime=moment(l,"YYYY-MM-DD",!0).isValid(),checkTaskDates(o,dateFormat,excludes,includes)),o},parseData=function(e,t){let r;t.substr(0,1)===":"?r=t.substr(1,t.length):r=t;const n=r.split(","),o={};getTaskTags(n,o,tags);for(let l=0;l<n.length;l++)n[l]=n[l].trim();switch(n.length){case 1:o.id=parseId(),o.startTime={type:"prevTaskEnd",id:e},o.endTime={data:n[0]};break;case 2:o.id=parseId(),o.startTime={type:"getStartDate",startData:n[0]},o.endTime={data:n[1]};break;case 3:o.id=parseId(n[0]),o.startTime={type:"getStartDate",startData:n[1]},o.endTime={data:n[2]};break}return o};let lastTask,lastTaskID,rawTasks$1=[];const taskDb={},addTask$1=function(e,t){const r={section:currentSection$1,type:currentSection$1,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:t},task:e,classes:[]},n=parseData(lastTaskID,t);r.raw.startTime=n.startTime,r.raw.endTime=n.endTime,r.id=n.id,r.prevTaskId=lastTaskID,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,r.order=lastOrder,lastOrder++;const o=rawTasks$1.push(r);lastTaskID=r.id,taskDb[r.id]=o-1},findTaskById=function(e){const t=taskDb[e];return rawTasks$1[t]},addTaskOrg$1=function(e,t){const r={section:currentSection$1,type:currentSection$1,description:e,task:e,classes:[]},n=compileData(lastTask,t);r.startTime=n.startTime,r.endTime=n.endTime,r.id=n.id,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,lastTask=r,tasks$1.push(r)},compileTasks$1=function(){const e=function(r){const n=rawTasks$1[r];let o="";switch(rawTasks$1[r].raw.startTime.type){case"prevTaskEnd":{const l=findTaskById(n.prevTaskId);n.startTime=l.endTime;break}case"getStartDate":o=getStartDate(void 0,dateFormat,rawTasks$1[r].raw.startTime.startData),o&&(rawTasks$1[r].startTime=o);break}return rawTasks$1[r].startTime&&(rawTasks$1[r].endTime=getEndDate(rawTasks$1[r].startTime,dateFormat,rawTasks$1[r].raw.endTime.data,inclusiveEndDates),rawTasks$1[r].endTime&&(rawTasks$1[r].processed=!0,rawTasks$1[r].manualEndTime=moment(rawTasks$1[r].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),checkTaskDates(rawTasks$1[r],dateFormat,excludes,includes))),rawTasks$1[r].processed};let t=!0;for(let r=0;r<rawTasks$1.length;r++)e(r),t=t&&rawTasks$1[r].processed;return t},setLink=function(e,t){let r=t;getConfig$1().securityLevel!=="loose"&&(r=sanitizeUrl_1(t)),e.split(",").forEach(function(n){typeof findTaskById(n)<"u"&&(pushFun(n,()=>{window.open(r,"_self")}),links[n]=r)}),setClass(e,"clickable")},setClass=function(e,t){e.split(",").forEach(function(r){let n=findTaskById(r);typeof n<"u"&&n.classes.push(t)})},setClickFun=function(e,t,r){if(getConfig$1().securityLevel!=="loose"||typeof t>"u")return;let n=[];if(typeof r=="string"){n=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let l=0;l<n.length;l++){let u=n[l].trim();u.charAt(0)==='"'&&u.charAt(u.length-1)==='"'&&(u=u.substr(1,u.length-2)),n[l]=u}}n.length===0&&n.push(e),typeof findTaskById(e)<"u"&&pushFun(e,()=>{utils.runFunc(t,...n)})},pushFun=function(e,t){funs.push(function(){const r=document.querySelector(`[id="${e}"]`);r!==null&&r.addEventListener("click",function(){t()})}),funs.push(function(){const r=document.querySelector(`[id="${e}-text"]`);r!==null&&r.addEventListener("click",function(){t()})})},setClickEvent=function(e,t,r){e.split(",").forEach(function(n){setClickFun(n,t,r)}),setClass(e,"clickable")},bindFunctions=function(e){funs.forEach(function(t){t(e)})},ganttDb={parseDirective:parseDirective$6,getConfig:()=>getConfig$1().gantt,clear:clear$5,setDateFormat,getDateFormat,enableInclusiveEndDates,endDatesAreInclusive,enableTopAxis,topAxisEnabled,setAxisFormat,getAxisFormat,setTodayMarker,getTodayMarker,setAccTitle,getAccTitle,setDiagramTitle,getDiagramTitle,setAccDescription,getAccDescription,addSection:addSection$2,getSections:getSections$2,getTasks:getTasks$1,addTask:addTask$1,findTaskById,addTaskOrg:addTaskOrg$1,setIncludes,getIncludes,setExcludes,getExcludes,setClickEvent,setLink,getLinks,bindFunctions,parseDuration,isInvalidDate};function getTaskTags(e,t,r){let n=!0;for(;n;)n=!1,r.forEach(function(o){const l="^\\s*"+o+"\\s*$",u=new RegExp(l);e[0].match(u)&&(t[o]=!0,e.shift(1),n=!0)})}const setConf$5=function(){log$1.debug("Something is calling, setConf, remove the call")};let w;const draw$8=function(e,t,r,n){const o=getConfig$1().gantt,l=getConfig$1().securityLevel;let u;l==="sandbox"&&(u=select$1("#i"+t));const h=select$1(l==="sandbox"?u.nodes()[0].contentDocument.body:"body"),f=l==="sandbox"?u.nodes()[0].contentDocument:document,d=f.getElementById(t);w=d.parentElement.offsetWidth,typeof w>"u"&&(w=1200),typeof o.useWidth<"u"&&(w=o.useWidth);const p=n.db.getTasks(),m=p.length*(o.barHeight+o.barGap)+2*o.topPadding;d.setAttribute("viewBox","0 0 "+w+" "+m);const g=h.select(`[id="${t}"]`),b=time$2().domain([min$3(p,function(W){return W.startTime}),max$4(p,function(W){return W.endTime})]).rangeRound([0,w-o.leftPadding-o.rightPadding]);let v=[];for(let W=0;W<p.length;W++)v.push(p[W].type);const T=v;v=z(v);function R(W,S){const U=W.startTime,L=S.startTime;let ae=0;return U>L?ae=1:U<L&&(ae=-1),ae}p.sort(R),I(p,w,m),configureSvgSize(g,m,w,o.useMaxWidth),g.append("text").text(n.db.getDiagramTitle()).attr("x",w/2).attr("y",o.titleTopMargin).attr("class","titleText"),addSVGAccessibilityFields(n.db,g,t);function I(W,S,U){const L=o.barHeight,ae=L+o.barGap,Q=o.topPadding,ue=o.leftPadding,_e=linear$3().domain([0,v.length]).range(["#00B9FA","#F95002"]).interpolate(interpolateHcl);q(ae,Q,ue,S,U,W,n.db.getExcludes(),n.db.getIncludes()),F(ue,Q,S,U),N(W,ae,Q,ue,L,_e,S),H(ae,Q),V(ue,Q,S,U)}function N(W,S,U,L,ae,Q,ue){g.append("g").selectAll("rect").data(W).enter().append("rect").attr("x",0).attr("y",function(ce,he){return he=ce.order,he*S+U-2}).attr("width",function(){return ue-o.rightPadding/2}).attr("height",S).attr("class",function(ce){for(let he=0;he<v.length;he++)if(ce.type===v[he])return"section section"+he%o.numberSectionStyles;return"section section0"});const _e=g.append("g").selectAll("rect").data(W).enter(),ke=n.db.getLinks();if(_e.append("rect").attr("id",function(ce){return ce.id}).attr("rx",3).attr("ry",3).attr("x",function(ce){return ce.milestone?b(ce.startTime)+L+.5*(b(ce.endTime)-b(ce.startTime))-.5*ae:b(ce.startTime)+L}).attr("y",function(ce,he){return he=ce.order,he*S+U}).attr("width",function(ce){return ce.milestone?ae:b(ce.renderEndTime||ce.endTime)-b(ce.startTime)}).attr("height",ae).attr("transform-origin",function(ce,he){return he=ce.order,(b(ce.startTime)+L+.5*(b(ce.endTime)-b(ce.startTime))).toString()+"px "+(he*S+U+.5*ae).toString()+"px"}).attr("class",function(ce){const he="task";let Se="";ce.classes.length>0&&(Se=ce.classes.join(" "));let ve=0;for(let Ce=0;Ce<v.length;Ce++)ce.type===v[Ce]&&(ve=Ce%o.numberSectionStyles);let me="";return ce.active?ce.crit?me+=" activeCrit":me=" active":ce.done?ce.crit?me=" doneCrit":me=" done":ce.crit&&(me+=" crit"),me.length===0&&(me=" task"),ce.milestone&&(me=" milestone "+me),me+=ve,me+=" "+Se,he+me}),_e.append("text").attr("id",function(ce){return ce.id+"-text"}).text(function(ce){return ce.task}).attr("font-size",o.fontSize).attr("x",function(ce){let he=b(ce.startTime),Se=b(ce.renderEndTime||ce.endTime);ce.milestone&&(he+=.5*(b(ce.endTime)-b(ce.startTime))-.5*ae),ce.milestone&&(Se=he+ae);const ve=this.getBBox().width;return ve>Se-he?Se+ve+1.5*o.leftPadding>ue?he+L-5:Se+L+5:(Se-he)/2+he+L}).attr("y",function(ce,he){return he=ce.order,he*S+o.barHeight/2+(o.fontSize/2-2)+U}).attr("text-height",ae).attr("class",function(ce){const he=b(ce.startTime);let Se=b(ce.endTime);ce.milestone&&(Se=he+ae);const ve=this.getBBox().width;let me="";ce.classes.length>0&&(me=ce.classes.join(" "));let Ce=0;for(let Ne=0;Ne<v.length;Ne++)ce.type===v[Ne]&&(Ce=Ne%o.numberSectionStyles);let xe="";return ce.active&&(ce.crit?xe="activeCritText"+Ce:xe="activeText"+Ce),ce.done?ce.crit?xe=xe+" doneCritText"+Ce:xe=xe+" doneText"+Ce:ce.crit&&(xe=xe+" critText"+Ce),ce.milestone&&(xe+=" milestoneText"),ve>Se-he?Se+ve+1.5*o.leftPadding>ue?me+" taskTextOutsideLeft taskTextOutside"+Ce+" "+xe:me+" taskTextOutsideRight taskTextOutside"+Ce+" "+xe+" width-"+ve:me+" taskText taskText"+Ce+" "+xe+" width-"+ve}),getConfig$1().securityLevel==="sandbox"){let ce;ce=select$1("#i"+t);const he=ce.nodes()[0].contentDocument;_e.filter(function(Se){return typeof ke[Se.id]<"u"}).each(function(Se){var ve=he.querySelector("#"+Se.id),me=he.querySelector("#"+Se.id+"-text");const Ce=ve.parentNode;var xe=he.createElement("a");xe.setAttribute("xlink:href",ke[Se.id]),xe.setAttribute("target","_top"),Ce.appendChild(xe),xe.appendChild(ve),xe.appendChild(me)})}}function q(W,S,U,L,ae,Q,ue,_e){const ke=Q.reduce((Ce,{startTime:xe})=>Ce?Math.min(Ce,xe):xe,0),de=Q.reduce((Ce,{endTime:xe})=>Ce?Math.max(Ce,xe):xe,0),ce=n.db.getDateFormat();if(!ke||!de)return;const he=[];let Se=null,ve=moment(ke);for(;ve.valueOf()<=de;)n.db.isInvalidDate(ve,ce,ue,_e)?Se?Se.end=ve.clone():Se={start:ve.clone(),end:ve.clone()}:Se&&(he.push(Se),Se=null),ve.add(1,"d");g.append("g").selectAll("rect").data(he).enter().append("rect").attr("id",function(Ce){return"exclude-"+Ce.start.format("YYYY-MM-DD")}).attr("x",function(Ce){return b(Ce.start)+U}).attr("y",o.gridLineStartPadding).attr("width",function(Ce){const xe=Ce.end.clone().add(1,"day");return b(xe)-b(Ce.start)}).attr("height",ae-S-o.gridLineStartPadding).attr("transform-origin",function(Ce,xe){return(b(Ce.start)+U+.5*(b(Ce.end)-b(Ce.start))).toString()+"px "+(xe*W+.5*ae).toString()+"px"}).attr("class","exclude-range")}function F(W,S,U,L){let ae=axisBottom$1(b).tickSize(-L+S+o.gridLineStartPadding).tickFormat(timeFormat$1(n.db.getAxisFormat()||o.axisFormat||"%Y-%m-%d"));if(g.append("g").attr("class","grid").attr("transform","translate("+W+", "+(L-50)+")").call(ae).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),n.db.topAxisEnabled()||o.topAxis){let Q=axisTop$1(b).tickSize(-L+S+o.gridLineStartPadding).tickFormat(timeFormat$1(n.db.getAxisFormat()||o.axisFormat||"%Y-%m-%d"));g.append("g").attr("class","grid").attr("transform","translate("+W+", "+S+")").call(Q).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}function H(W,S){const U=[];let L=0;for(let ae=0;ae<v.length;ae++)U[ae]=[v[ae],P(v[ae],T)];g.append("g").selectAll("text").data(U).enter().append(function(ae){const Q=ae[0].split(common.lineBreakRegex),ue=-(Q.length-1)/2,_e=f.createElementNS("http://www.w3.org/2000/svg","text");_e.setAttribute("dy",ue+"em");for(let ke=0;ke<Q.length;ke++){const de=f.createElementNS("http://www.w3.org/2000/svg","tspan");de.setAttribute("alignment-baseline","central"),de.setAttribute("x","10"),ke>0&&de.setAttribute("dy","1em"),de.textContent=Q[ke],_e.appendChild(de)}return _e}).attr("x",10).attr("y",function(ae,Q){if(Q>0)for(let ue=0;ue<Q;ue++)return L+=U[Q-1][1],ae[1]*W/2+L*W+S;else return ae[1]*W/2+S}).attr("font-size",o.sectionFontSize).attr("font-size",o.sectionFontSize).attr("class",function(ae){for(let Q=0;Q<v.length;Q++)if(ae[0]===v[Q])return"sectionTitle sectionTitle"+Q%o.numberSectionStyles;return"sectionTitle"})}function V(W,S,U,L){const ae=n.db.getTodayMarker();if(ae==="off")return;const Q=g.append("g").attr("class","today"),ue=new Date,_e=Q.append("line");_e.attr("x1",b(ue)+W).attr("x2",b(ue)+W).attr("y1",o.titleTopMargin).attr("y2",L-o.titleTopMargin).attr("class","today"),ae!==""&&_e.attr("style",ae.replace(/,/g,";"))}function z(W){const S={},U=[];for(let L=0,ae=W.length;L<ae;++L)Object.prototype.hasOwnProperty.call(S,W[L])||(S[W[L]]=!0,U.push(W[L]));return U}function G(W){let S=W.length;const U={};for(;S;)U[W[--S]]=(U[W[S]]||0)+1;return U}function P(W,S){return G(S)[W]||0}},ganttRenderer={setConf:setConf$5,draw:draw$8};var parser$5=function(){var e=function(l,u,h,f){for(h=h||{},f=l.length;f--;h[l[f]]=u);return h},t=[6,9,10],r={trace:function(){},yy:{},symbols_:{error:2,start:3,info:4,document:5,EOF:6,line:7,statement:8,NL:9,showInfo:10,$accept:0,$end:1},terminals_:{2:"error",4:"info",6:"EOF",9:"NL",10:"showInfo"},productions_:[0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],performAction:function(u,h,f,d,p,m,g){switch(m.length-1,p){case 1:return d;case 4:break;case 6:d.setInfo(!0);break}},table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},e(t,[2,3]),e(t,[2,4]),e(t,[2,5]),e(t,[2,6])],defaultActions:{4:[2,1]},parseError:function(u,h){if(h.recoverable)this.trace(u);else{var f=new Error(u);throw f.hash=h,f}},parse:function(u){var h=this,f=[0],d=[],p=[null],m=[],g=this.table,b="",v=0,T=0,R=2,I=1,N=m.slice.call(arguments,1),q=Object.create(this.lexer),F={yy:{}};for(var H in this.yy)Object.prototype.hasOwnProperty.call(this.yy,H)&&(F.yy[H]=this.yy[H]);q.setInput(u,F.yy),F.yy.lexer=q,F.yy.parser=this,typeof q.yylloc>"u"&&(q.yylloc={});var V=q.yylloc;m.push(V);var z=q.options&&q.options.ranges;typeof F.yy.parseError=="function"?this.parseError=F.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function G(){var de;return de=d.pop()||q.lex()||I,typeof de!="number"&&(de instanceof Array&&(d=de,de=d.pop()),de=h.symbols_[de]||de),de}for(var P,W,S,U,L={},ae,Q,ue,_e;;){if(W=f[f.length-1],this.defaultActions[W]?S=this.defaultActions[W]:((P===null||typeof P>"u")&&(P=G()),S=g[W]&&g[W][P]),typeof S>"u"||!S.length||!S[0]){var ke="";_e=[];for(ae in g[W])this.terminals_[ae]&&ae>R&&_e.push("'"+this.terminals_[ae]+"'");q.showPosition?ke="Parse error on line "+(v+1)+`:
`+q.showPosition()+`
Expecting `+_e.join(", ")+", got '"+(this.terminals_[P]||P)+"'":ke="Parse error on line "+(v+1)+": Unexpected "+(P==I?"end of input":"'"+(this.terminals_[P]||P)+"'"),this.parseError(ke,{text:q.match,token:this.terminals_[P]||P,line:q.yylineno,loc:V,expected:_e})}if(S[0]instanceof Array&&S.length>1)throw new Error("Parse Error: multiple actions possible at state: "+W+", token: "+P);switch(S[0]){case 1:f.push(P),p.push(q.yytext),m.push(q.yylloc),f.push(S[1]),P=null,T=q.yyleng,b=q.yytext,v=q.yylineno,V=q.yylloc;break;case 2:if(Q=this.productions_[S[1]][1],L.$=p[p.length-Q],L._$={first_line:m[m.length-(Q||1)].first_line,last_line:m[m.length-1].last_line,first_column:m[m.length-(Q||1)].first_column,last_column:m[m.length-1].last_column},z&&(L._$.range=[m[m.length-(Q||1)].range[0],m[m.length-1].range[1]]),U=this.performAction.apply(L,[b,T,v,F.yy,S[1],p,m].concat(N)),typeof U<"u")return U;Q&&(f=f.slice(0,-1*Q*2),p=p.slice(0,-1*Q),m=m.slice(0,-1*Q)),f.push(this.productions_[S[1]][0]),p.push(L.$),m.push(L._$),ue=g[f[f.length-2]][f[f.length-1]],f.push(ue);break;case 3:return!0}}return!0}},n=function(){var l={EOF:1,parseError:function(h,f){if(this.yy.parser)this.yy.parser.parseError(h,f);else throw new Error(h)},setInput:function(u,h){return this.yy=h||this.yy||{},this._input=u,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var u=this._input[0];this.yytext+=u,this.yyleng++,this.offset++,this.match+=u,this.matched+=u;var h=u.match(/(?:\r\n?|\n).*/g);return h?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),u},unput:function(u){var h=u.length,f=u.split(/(?:\r\n?|\n)/g);this._input=u+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-h),this.offset-=h;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),f.length-1&&(this.yylineno-=f.length-1);var p=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:f?(f.length===d.length?this.yylloc.first_column:0)+d[d.length-f.length].length-f[0].length:this.yylloc.first_column-h},this.options.ranges&&(this.yylloc.range=[p[0],p[0]+this.yyleng-h]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(u){this.unput(this.match.slice(u))},pastInput:function(){var u=this.matched.substr(0,this.matched.length-this.match.length);return(u.length>20?"...":"")+u.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var u=this.match;return u.length<20&&(u+=this._input.substr(0,20-u.length)),(u.substr(0,20)+(u.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var u=this.pastInput(),h=new Array(u.length+1).join("-");return u+this.upcomingInput()+`
`+h+"^"},test_match:function(u,h){var f,d,p;if(this.options.backtrack_lexer&&(p={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(p.yylloc.range=this.yylloc.range.slice(0))),d=u[0].match(/(?:\r\n?|\n).*/g),d&&(this.yylineno+=d.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:d?d[d.length-1].length-d[d.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+u[0].length},this.yytext+=u[0],this.match+=u[0],this.matches=u,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(u[0].length),this.matched+=u[0],f=this.performAction.call(this,this.yy,this,h,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),f)return f;if(this._backtrack){for(var m in p)this[m]=p[m];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var u,h,f,d;this._more||(this.yytext="",this.match="");for(var p=this._currentRules(),m=0;m<p.length;m++)if(f=this._input.match(this.rules[p[m]]),f&&(!h||f[0].length>h[0].length)){if(h=f,d=m,this.options.backtrack_lexer){if(u=this.test_match(f,p[m]),u!==!1)return u;if(this._backtrack){h=!1;continue}else return!1}else if(!this.options.flex)break}return h?(u=this.test_match(h,p[d]),u!==!1?u:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var h=this.next();return h||this.lex()},begin:function(h){this.conditionStack.push(h)},popState:function(){var h=this.conditionStack.length-1;return h>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(h){return h=this.conditionStack.length-1-Math.abs(h||0),h>=0?this.conditionStack[h]:"INITIAL"},pushState:function(h){this.begin(h)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(h,f,d,p){switch(d){case 0:return 4;case 1:return 9;case 2:return"space";case 3:return 10;case 4:return 6;case 5:return"TXT"}},rules:[/^(?:info\b)/i,/^(?:[\s\n\r]+)/i,/^(?:[\s]+)/i,/^(?:showInfo\b)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5],inclusive:!0}}};return l}();r.lexer=n;function o(){this.yy={}}return o.prototype=r,r.Parser=o,new o}();parser$5.parser=parser$5;var message="",info=!1;const setMessage=e=>{log$1.debug("Setting message to: "+e),message=e},getMessage=()=>message,setInfo=e=>{info=e},getInfo=()=>info,infoDb={setMessage,getMessage,setInfo,getInfo,clear:clear$g},draw$7=(e,t,r,n)=>{try{log$1.debug(`Rendering info diagram
`+e);const o=getConfig$1().securityLevel;let l;o==="sandbox"&&(l=select$1("#i"+t));const h=select$1(o==="sandbox"?l.nodes()[0].contentDocument.body:"body").select("#"+t);h.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size","32px").style("text-anchor","middle").text("v "+r),h.attr("height",100),h.attr("width",400)}catch(o){log$1.error("Error while rendering info diagram"),log$1.error(o.message)}},infoRenderer={draw:draw$7},infoDetector=e=>e.match(/^\s*info/)!==null;var parser$4=function(){var e=function(V,z,G,P){for(G=G||{},P=V.length;P--;G[V[P]]=z);return G},t=[1,4],r=[1,5],n=[1,6],o=[1,7],l=[1,9],u=[1,11,13,15,17,19,20,26,27,28,29],h=[2,5],f=[1,6,11,13,15,17,19,20,26,27,28,29],d=[26,27,28],p=[2,8],m=[1,18],g=[1,19],b=[1,20],v=[1,21],T=[1,22],R=[1,23],I=[1,28],N=[6,26,27,28,29],q={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,PIE:6,document:7,showData:8,line:9,statement:10,txt:11,value:12,title:13,title_value:14,acc_title:15,acc_title_value:16,acc_descr:17,acc_descr_value:18,acc_descr_multiline_value:19,section:20,openDirective:21,typeDirective:22,closeDirective:23,":":24,argDirective:25,NEWLINE:26,";":27,EOF:28,open_directive:29,type_directive:30,arg_directive:31,close_directive:32,$accept:0,$end:1},terminals_:{2:"error",6:"PIE",8:"showData",11:"txt",12:"value",13:"title",14:"title_value",15:"acc_title",16:"acc_title_value",17:"acc_descr",18:"acc_descr_value",19:"acc_descr_multiline_value",20:"section",24:":",26:"NEWLINE",27:";",28:"EOF",29:"open_directive",30:"type_directive",31:"arg_directive",32:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[21,1],[22,1],[25,1],[23,1]],performAction:function(z,G,P,W,S,U,L){var ae=U.length-1;switch(S){case 4:W.setShowData(!0);break;case 7:this.$=U[ae-1];break;case 9:W.addSection(U[ae-1],W.cleanupValue(U[ae]));break;case 10:this.$=U[ae].trim(),W.setDiagramTitle(this.$);break;case 11:this.$=U[ae].trim(),W.setAccTitle(this.$);break;case 12:case 13:this.$=U[ae].trim(),W.setAccDescription(this.$);break;case 14:W.addSection(U[ae].substr(8)),this.$=U[ae].substr(8);break;case 21:W.parseDirective("%%{","open_directive");break;case 22:W.parseDirective(U[ae],"type_directive");break;case 23:U[ae]=U[ae].trim().replace(/'/g,'"'),W.parseDirective(U[ae],"arg_directive");break;case 24:W.parseDirective("}%%","close_directive","pie");break}},table:[{3:1,4:2,5:3,6:t,21:8,26:r,27:n,28:o,29:l},{1:[3]},{3:10,4:2,5:3,6:t,21:8,26:r,27:n,28:o,29:l},{3:11,4:2,5:3,6:t,21:8,26:r,27:n,28:o,29:l},e(u,h,{7:12,8:[1,13]}),e(f,[2,18]),e(f,[2,19]),e(f,[2,20]),{22:14,30:[1,15]},{30:[2,21]},{1:[2,1]},{1:[2,2]},e(d,p,{21:8,9:16,10:17,5:24,1:[2,3],11:m,13:g,15:b,17:v,19:T,20:R,29:l}),e(u,h,{7:25}),{23:26,24:[1,27],32:I},e([24,32],[2,22]),e(u,[2,6]),{4:29,26:r,27:n,28:o},{12:[1,30]},{14:[1,31]},{16:[1,32]},{18:[1,33]},e(d,[2,13]),e(d,[2,14]),e(d,[2,15]),e(d,p,{21:8,9:16,10:17,5:24,1:[2,4],11:m,13:g,15:b,17:v,19:T,20:R,29:l}),e(N,[2,16]),{25:34,31:[1,35]},e(N,[2,24]),e(u,[2,7]),e(d,[2,9]),e(d,[2,10]),e(d,[2,11]),e(d,[2,12]),{23:36,32:I},{32:[2,23]},e(N,[2,17])],defaultActions:{9:[2,21],10:[2,1],11:[2,2],35:[2,23]},parseError:function(z,G){if(G.recoverable)this.trace(z);else{var P=new Error(z);throw P.hash=G,P}},parse:function(z){var G=this,P=[0],W=[],S=[null],U=[],L=this.table,ae="",Q=0,ue=0,_e=2,ke=1,de=U.slice.call(arguments,1),ce=Object.create(this.lexer),he={yy:{}};for(var Se in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Se)&&(he.yy[Se]=this.yy[Se]);ce.setInput(z,he.yy),he.yy.lexer=ce,he.yy.parser=this,typeof ce.yylloc>"u"&&(ce.yylloc={});var ve=ce.yylloc;U.push(ve);var me=ce.options&&ce.options.ranges;typeof he.yy.parseError=="function"?this.parseError=he.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ce(){var fe;return fe=W.pop()||ce.lex()||ke,typeof fe!="number"&&(fe instanceof Array&&(W=fe,fe=W.pop()),fe=G.symbols_[fe]||fe),fe}for(var xe,Ne,pe,J,oe={},ee,Z,ie,se;;){if(Ne=P[P.length-1],this.defaultActions[Ne]?pe=this.defaultActions[Ne]:((xe===null||typeof xe>"u")&&(xe=Ce()),pe=L[Ne]&&L[Ne][xe]),typeof pe>"u"||!pe.length||!pe[0]){var te="";se=[];for(ee in L[Ne])this.terminals_[ee]&&ee>_e&&se.push("'"+this.terminals_[ee]+"'");ce.showPosition?te="Parse error on line "+(Q+1)+`:
`+ce.showPosition()+`
Expecting `+se.join(", ")+", got '"+(this.terminals_[xe]||xe)+"'":te="Parse error on line "+(Q+1)+": Unexpected "+(xe==ke?"end of input":"'"+(this.terminals_[xe]||xe)+"'"),this.parseError(te,{text:ce.match,token:this.terminals_[xe]||xe,line:ce.yylineno,loc:ve,expected:se})}if(pe[0]instanceof Array&&pe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ne+", token: "+xe);switch(pe[0]){case 1:P.push(xe),S.push(ce.yytext),U.push(ce.yylloc),P.push(pe[1]),xe=null,ue=ce.yyleng,ae=ce.yytext,Q=ce.yylineno,ve=ce.yylloc;break;case 2:if(Z=this.productions_[pe[1]][1],oe.$=S[S.length-Z],oe._$={first_line:U[U.length-(Z||1)].first_line,last_line:U[U.length-1].last_line,first_column:U[U.length-(Z||1)].first_column,last_column:U[U.length-1].last_column},me&&(oe._$.range=[U[U.length-(Z||1)].range[0],U[U.length-1].range[1]]),J=this.performAction.apply(oe,[ae,ue,Q,he.yy,pe[1],S,U].concat(de)),typeof J<"u")return J;Z&&(P=P.slice(0,-1*Z*2),S=S.slice(0,-1*Z),U=U.slice(0,-1*Z)),P.push(this.productions_[pe[1]][0]),S.push(oe.$),U.push(oe._$),ie=L[P[P.length-2]][P[P.length-1]],P.push(ie);break;case 3:return!0}}return!0}},F=function(){var V={EOF:1,parseError:function(G,P){if(this.yy.parser)this.yy.parser.parseError(G,P);else throw new Error(G)},setInput:function(z,G){return this.yy=G||this.yy||{},this._input=z,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var z=this._input[0];this.yytext+=z,this.yyleng++,this.offset++,this.match+=z,this.matched+=z;var G=z.match(/(?:\r\n?|\n).*/g);return G?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),z},unput:function(z){var G=z.length,P=z.split(/(?:\r\n?|\n)/g);this._input=z+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-G),this.offset-=G;var W=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),P.length-1&&(this.yylineno-=P.length-1);var S=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:P?(P.length===W.length?this.yylloc.first_column:0)+W[W.length-P.length].length-P[0].length:this.yylloc.first_column-G},this.options.ranges&&(this.yylloc.range=[S[0],S[0]+this.yyleng-G]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(z){this.unput(this.match.slice(z))},pastInput:function(){var z=this.matched.substr(0,this.matched.length-this.match.length);return(z.length>20?"...":"")+z.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var z=this.match;return z.length<20&&(z+=this._input.substr(0,20-z.length)),(z.substr(0,20)+(z.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var z=this.pastInput(),G=new Array(z.length+1).join("-");return z+this.upcomingInput()+`
`+G+"^"},test_match:function(z,G){var P,W,S;if(this.options.backtrack_lexer&&(S={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(S.yylloc.range=this.yylloc.range.slice(0))),W=z[0].match(/(?:\r\n?|\n).*/g),W&&(this.yylineno+=W.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:W?W[W.length-1].length-W[W.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+z[0].length},this.yytext+=z[0],this.match+=z[0],this.matches=z,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(z[0].length),this.matched+=z[0],P=this.performAction.call(this,this.yy,this,G,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),P)return P;if(this._backtrack){for(var U in S)this[U]=S[U];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var z,G,P,W;this._more||(this.yytext="",this.match="");for(var S=this._currentRules(),U=0;U<S.length;U++)if(P=this._input.match(this.rules[S[U]]),P&&(!G||P[0].length>G[0].length)){if(G=P,W=U,this.options.backtrack_lexer){if(z=this.test_match(P,S[U]),z!==!1)return z;if(this._backtrack){G=!1;continue}else return!1}else if(!this.options.flex)break}return G?(z=this.test_match(G,S[W]),z!==!1?z:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var G=this.next();return G||this.lex()},begin:function(G){this.conditionStack.push(G)},popState:function(){var G=this.conditionStack.length-1;return G>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(G){return G=this.conditionStack.length-1-Math.abs(G||0),G>=0?this.conditionStack[G]:"INITIAL"},pushState:function(G){this.begin(G)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(G,P,W,S){switch(W){case 0:return this.begin("open_directive"),29;case 1:return this.begin("type_directive"),30;case 2:return this.popState(),this.begin("arg_directive"),24;case 3:return this.popState(),this.popState(),32;case 4:return 31;case 5:break;case 6:break;case 7:return 26;case 8:break;case 9:break;case 10:return this.begin("title"),13;case 11:return this.popState(),"title_value";case 12:return this.begin("acc_title"),15;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),17;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:this.begin("string");break;case 20:this.popState();break;case 21:return"txt";case 22:return 6;case 23:return 8;case 24:return"value";case 25:return 28}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},title:{rules:[11],inclusive:!1},string:{rules:[20,21],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,12,14,16,19,22,23,24,25],inclusive:!0}}};return V}();q.lexer=F;function H(){this.yy={}}return H.prototype=q,q.Parser=H,new H}();parser$4.parser=parser$4;const pieDetector=e=>e.match(/^\s*pie/)!==null;let sections$1={},showData=!1;const parseDirective$5=function(e,t,r){mermaidAPI.parseDirective(this,e,t,r)},addSection$1=function(e,t){e=common.sanitizeText(e,getConfig$1()),typeof sections$1[e]>"u"&&(sections$1[e]=t,log$1.debug("Added new section :",e))},getSections$1=()=>sections$1,setShowData=function(e){showData=e},getShowData=function(){return showData},cleanupValue=function(e){return e.substring(0,1)===":"&&(e=e.substring(1).trim()),Number(e.trim())},clear$4=function(){sections$1={},showData=!1,clear$g()},pieDb={parseDirective:parseDirective$5,getConfig:()=>getConfig$1().pie,addSection:addSection$1,getSections:getSections$1,cleanupValue,clear:clear$4,setAccTitle,getAccTitle,setDiagramTitle,getDiagramTitle,setShowData,getShowData,getAccDescription,setAccDescription};let conf$6=getConfig$1(),width;const height=450,draw$6=(e,t,r,n)=>{try{conf$6=getConfig$1(),log$1.debug(`Rendering info diagram
`+e);const I=getConfig$1().securityLevel;let N;I==="sandbox"&&(N=select$1("#i"+t));const q=select$1(I==="sandbox"?N.nodes()[0].contentDocument.body:"body"),F=I==="sandbox"?N.nodes()[0].contentDocument:document;n.db.clear(),n.parser.parse(e),log$1.debug("Parsed info diagram");const H=F.getElementById(t);width=H.parentElement.offsetWidth,typeof width>"u"&&(width=1200),typeof conf$6.useWidth<"u"&&(width=conf$6.useWidth),typeof conf$6.pie.useWidth<"u"&&(width=conf$6.pie.useWidth);const V=q.select("#"+t);configureSvgSize(V,height,width,conf$6.pie.useMaxWidth),addSVGAccessibilityFields(n.db,V,t),H.setAttribute("viewBox","0 0 "+width+" "+height);var o=40,l=18,u=4,h=Math.min(width,height)/2-o,f=V.append("g").attr("transform","translate("+width/2+","+height/2+")"),d=n.db.getSections(),p=0;Object.keys(d).forEach(function(G){p+=d[G]});const z=conf$6.themeVariables;var m=[z.pie1,z.pie2,z.pie3,z.pie4,z.pie5,z.pie6,z.pie7,z.pie8,z.pie9,z.pie10,z.pie11,z.pie12],g=ordinal$1().range(m),b=pie$1().value(function(G){return G[1]}),v=b(Object.entries(d)),T=arc$1().innerRadius(0).outerRadius(h);f.selectAll("mySlices").data(v).enter().append("path").attr("d",T).attr("fill",function(G){return g(G.data[0])}).attr("class","pieCircle"),f.selectAll("mySlices").data(v).enter().append("text").text(function(G){return(G.data[1]/p*100).toFixed(0)+"%"}).attr("transform",function(G){return"translate("+T.centroid(G)+")"}).style("text-anchor","middle").attr("class","slice"),f.append("text").text(n.db.getDiagramTitle()).attr("x",0).attr("y",-(height-50)/2).attr("class","pieTitleText");var R=f.selectAll(".legend").data(g.domain()).enter().append("g").attr("class","legend").attr("transform",function(G,P){var W=l+u,S=W*g.domain().length/2,U=12*l,L=P*W-S;return"translate("+U+","+L+")"});R.append("rect").attr("width",l).attr("height",l).style("fill",g).style("stroke",g),R.data(v).append("text").attr("x",l+u).attr("y",l-u).text(function(G){return n.db.getShowData()||conf$6.showData||conf$6.pie.showData?G.data[0]+" ["+G.data[1]+"]":G.data[0]})}catch(I){log$1.error("Error while rendering info diagram"),log$1.error(I)}},pieRenderer={draw:draw$6};var parser$3=function(){var e=function(Ne,pe,J,oe){for(J=J||{},oe=Ne.length;oe--;J[Ne[oe]]=pe);return J},t=[1,3],r=[1,5],n=[1,6],o=[1,7],l=[1,8],u=[5,6,8,14,16,18,19,40,41,42,43,44,45,53,71,72],h=[1,22],f=[2,13],d=[1,26],p=[1,27],m=[1,28],g=[1,29],b=[1,30],v=[1,31],T=[1,24],R=[1,32],I=[1,33],N=[1,36],q=[71,72],F=[5,8,14,16,18,19,40,41,42,43,44,45,53,60,62,71,72],H=[1,56],V=[1,57],z=[1,58],G=[1,59],P=[1,60],W=[1,61],S=[1,62],U=[62,63],L=[1,74],ae=[1,70],Q=[1,71],ue=[1,72],_e=[1,73],ke=[1,75],de=[1,79],ce=[1,80],he=[1,77],Se=[1,78],ve=[5,8,14,16,18,19,40,41,42,43,44,45,53,71,72],me={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,openDirective:9,typeDirective:10,closeDirective:11,":":12,argDirective:13,acc_title:14,acc_title_value:15,acc_descr:16,acc_descr_value:17,acc_descr_multiline_value:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,requirementDef:23,elementDef:24,relationshipDef:25,requirementType:26,requirementName:27,STRUCT_START:28,requirementBody:29,ID:30,COLONSEP:31,id:32,TEXT:33,text:34,RISK:35,riskLevel:36,VERIFYMTHD:37,verifyType:38,STRUCT_STOP:39,REQUIREMENT:40,FUNCTIONAL_REQUIREMENT:41,INTERFACE_REQUIREMENT:42,PERFORMANCE_REQUIREMENT:43,PHYSICAL_REQUIREMENT:44,DESIGN_CONSTRAINT:45,LOW_RISK:46,MED_RISK:47,HIGH_RISK:48,VERIFY_ANALYSIS:49,VERIFY_DEMONSTRATION:50,VERIFY_INSPECTION:51,VERIFY_TEST:52,ELEMENT:53,elementName:54,elementBody:55,TYPE:56,type:57,DOCREF:58,ref:59,END_ARROW_L:60,relationship:61,LINE:62,END_ARROW_R:63,CONTAINS:64,COPIES:65,DERIVES:66,SATISFIES:67,VERIFIES:68,REFINES:69,TRACES:70,unqString:71,qString:72,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",12:":",14:"acc_title",15:"acc_title_value",16:"acc_descr",17:"acc_descr_value",18:"acc_descr_multiline_value",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",28:"STRUCT_START",30:"ID",31:"COLONSEP",33:"TEXT",35:"RISK",37:"VERIFYMTHD",39:"STRUCT_STOP",40:"REQUIREMENT",41:"FUNCTIONAL_REQUIREMENT",42:"INTERFACE_REQUIREMENT",43:"PERFORMANCE_REQUIREMENT",44:"PHYSICAL_REQUIREMENT",45:"DESIGN_CONSTRAINT",46:"LOW_RISK",47:"MED_RISK",48:"HIGH_RISK",49:"VERIFY_ANALYSIS",50:"VERIFY_DEMONSTRATION",51:"VERIFY_INSPECTION",52:"VERIFY_TEST",53:"ELEMENT",56:"TYPE",58:"DOCREF",60:"END_ARROW_L",62:"LINE",63:"END_ARROW_R",64:"CONTAINS",65:"COPIES",66:"DERIVES",67:"SATISFIES",68:"VERIFIES",69:"REFINES",70:"TRACES",71:"unqString",72:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,3],[4,5],[4,2],[4,2],[4,1],[9,1],[10,1],[13,1],[11,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[23,5],[29,5],[29,5],[29,5],[29,5],[29,2],[29,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[36,1],[36,1],[36,1],[38,1],[38,1],[38,1],[38,1],[24,5],[55,5],[55,5],[55,2],[55,1],[25,5],[25,5],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[27,1],[27,1],[32,1],[32,1],[34,1],[34,1],[54,1],[54,1],[57,1],[57,1],[59,1],[59,1]],performAction:function(pe,J,oe,ee,Z,ie,se){var te=ie.length-1;switch(Z){case 6:this.$=ie[te].trim(),ee.setAccTitle(this.$);break;case 7:case 8:this.$=ie[te].trim(),ee.setAccDescription(this.$);break;case 9:ee.parseDirective("%%{","open_directive");break;case 10:ee.parseDirective(ie[te],"type_directive");break;case 11:ie[te]=ie[te].trim().replace(/'/g,'"'),ee.parseDirective(ie[te],"arg_directive");break;case 12:ee.parseDirective("}%%","close_directive","pie");break;case 13:this.$=[];break;case 19:ee.addRequirement(ie[te-3],ie[te-4]);break;case 20:ee.setNewReqId(ie[te-2]);break;case 21:ee.setNewReqText(ie[te-2]);break;case 22:ee.setNewReqRisk(ie[te-2]);break;case 23:ee.setNewReqVerifyMethod(ie[te-2]);break;case 26:this.$=ee.RequirementType.REQUIREMENT;break;case 27:this.$=ee.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 28:this.$=ee.RequirementType.INTERFACE_REQUIREMENT;break;case 29:this.$=ee.RequirementType.PERFORMANCE_REQUIREMENT;break;case 30:this.$=ee.RequirementType.PHYSICAL_REQUIREMENT;break;case 31:this.$=ee.RequirementType.DESIGN_CONSTRAINT;break;case 32:this.$=ee.RiskLevel.LOW_RISK;break;case 33:this.$=ee.RiskLevel.MED_RISK;break;case 34:this.$=ee.RiskLevel.HIGH_RISK;break;case 35:this.$=ee.VerifyType.VERIFY_ANALYSIS;break;case 36:this.$=ee.VerifyType.VERIFY_DEMONSTRATION;break;case 37:this.$=ee.VerifyType.VERIFY_INSPECTION;break;case 38:this.$=ee.VerifyType.VERIFY_TEST;break;case 39:ee.addElement(ie[te-3]);break;case 40:ee.setNewElementType(ie[te-2]);break;case 41:ee.setNewElementDocRef(ie[te-2]);break;case 44:ee.addRelationship(ie[te-2],ie[te],ie[te-4]);break;case 45:ee.addRelationship(ie[te-2],ie[te-4],ie[te]);break;case 46:this.$=ee.Relationships.CONTAINS;break;case 47:this.$=ee.Relationships.COPIES;break;case 48:this.$=ee.Relationships.DERIVES;break;case 49:this.$=ee.Relationships.SATISFIES;break;case 50:this.$=ee.Relationships.VERIFIES;break;case 51:this.$=ee.Relationships.REFINES;break;case 52:this.$=ee.Relationships.TRACES;break}},table:[{3:1,4:2,6:t,9:4,14:r,16:n,18:o,19:l},{1:[3]},{3:10,4:2,5:[1,9],6:t,9:4,14:r,16:n,18:o,19:l},{5:[1,11]},{10:12,20:[1,13]},{15:[1,14]},{17:[1,15]},e(u,[2,8]),{20:[2,9]},{3:16,4:2,6:t,9:4,14:r,16:n,18:o,19:l},{1:[2,2]},{4:21,5:h,7:17,8:f,9:4,14:r,16:n,18:o,19:l,23:18,24:19,25:20,26:23,32:25,40:d,41:p,42:m,43:g,44:b,45:v,53:T,71:R,72:I},{11:34,12:[1,35],22:N},e([12,22],[2,10]),e(u,[2,6]),e(u,[2,7]),{1:[2,1]},{8:[1,37]},{4:21,5:h,7:38,8:f,9:4,14:r,16:n,18:o,19:l,23:18,24:19,25:20,26:23,32:25,40:d,41:p,42:m,43:g,44:b,45:v,53:T,71:R,72:I},{4:21,5:h,7:39,8:f,9:4,14:r,16:n,18:o,19:l,23:18,24:19,25:20,26:23,32:25,40:d,41:p,42:m,43:g,44:b,45:v,53:T,71:R,72:I},{4:21,5:h,7:40,8:f,9:4,14:r,16:n,18:o,19:l,23:18,24:19,25:20,26:23,32:25,40:d,41:p,42:m,43:g,44:b,45:v,53:T,71:R,72:I},{4:21,5:h,7:41,8:f,9:4,14:r,16:n,18:o,19:l,23:18,24:19,25:20,26:23,32:25,40:d,41:p,42:m,43:g,44:b,45:v,53:T,71:R,72:I},{4:21,5:h,7:42,8:f,9:4,14:r,16:n,18:o,19:l,23:18,24:19,25:20,26:23,32:25,40:d,41:p,42:m,43:g,44:b,45:v,53:T,71:R,72:I},{27:43,71:[1,44],72:[1,45]},{54:46,71:[1,47],72:[1,48]},{60:[1,49],62:[1,50]},e(q,[2,26]),e(q,[2,27]),e(q,[2,28]),e(q,[2,29]),e(q,[2,30]),e(q,[2,31]),e(F,[2,55]),e(F,[2,56]),e(u,[2,4]),{13:51,21:[1,52]},e(u,[2,12]),{1:[2,3]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{8:[2,17]},{8:[2,18]},{28:[1,53]},{28:[2,53]},{28:[2,54]},{28:[1,54]},{28:[2,59]},{28:[2,60]},{61:55,64:H,65:V,66:z,67:G,68:P,69:W,70:S},{61:63,64:H,65:V,66:z,67:G,68:P,69:W,70:S},{11:64,22:N},{22:[2,11]},{5:[1,65]},{5:[1,66]},{62:[1,67]},e(U,[2,46]),e(U,[2,47]),e(U,[2,48]),e(U,[2,49]),e(U,[2,50]),e(U,[2,51]),e(U,[2,52]),{63:[1,68]},e(u,[2,5]),{5:L,29:69,30:ae,33:Q,35:ue,37:_e,39:ke},{5:de,39:ce,55:76,56:he,58:Se},{32:81,71:R,72:I},{32:82,71:R,72:I},e(ve,[2,19]),{31:[1,83]},{31:[1,84]},{31:[1,85]},{31:[1,86]},{5:L,29:87,30:ae,33:Q,35:ue,37:_e,39:ke},e(ve,[2,25]),e(ve,[2,39]),{31:[1,88]},{31:[1,89]},{5:de,39:ce,55:90,56:he,58:Se},e(ve,[2,43]),e(ve,[2,44]),e(ve,[2,45]),{32:91,71:R,72:I},{34:92,71:[1,93],72:[1,94]},{36:95,46:[1,96],47:[1,97],48:[1,98]},{38:99,49:[1,100],50:[1,101],51:[1,102],52:[1,103]},e(ve,[2,24]),{57:104,71:[1,105],72:[1,106]},{59:107,71:[1,108],72:[1,109]},e(ve,[2,42]),{5:[1,110]},{5:[1,111]},{5:[2,57]},{5:[2,58]},{5:[1,112]},{5:[2,32]},{5:[2,33]},{5:[2,34]},{5:[1,113]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[2,38]},{5:[1,114]},{5:[2,61]},{5:[2,62]},{5:[1,115]},{5:[2,63]},{5:[2,64]},{5:L,29:116,30:ae,33:Q,35:ue,37:_e,39:ke},{5:L,29:117,30:ae,33:Q,35:ue,37:_e,39:ke},{5:L,29:118,30:ae,33:Q,35:ue,37:_e,39:ke},{5:L,29:119,30:ae,33:Q,35:ue,37:_e,39:ke},{5:de,39:ce,55:120,56:he,58:Se},{5:de,39:ce,55:121,56:he,58:Se},e(ve,[2,20]),e(ve,[2,21]),e(ve,[2,22]),e(ve,[2,23]),e(ve,[2,40]),e(ve,[2,41])],defaultActions:{8:[2,9],10:[2,2],16:[2,1],37:[2,3],38:[2,14],39:[2,15],40:[2,16],41:[2,17],42:[2,18],44:[2,53],45:[2,54],47:[2,59],48:[2,60],52:[2,11],93:[2,57],94:[2,58],96:[2,32],97:[2,33],98:[2,34],100:[2,35],101:[2,36],102:[2,37],103:[2,38],105:[2,61],106:[2,62],108:[2,63],109:[2,64]},parseError:function(pe,J){if(J.recoverable)this.trace(pe);else{var oe=new Error(pe);throw oe.hash=J,oe}},parse:function(pe){var J=this,oe=[0],ee=[],Z=[null],ie=[],se=this.table,te="",fe=0,we=0,Ye=2,He=1,je=ie.slice.call(arguments,1),Pe=Object.create(this.lexer),Ee={yy:{}};for(var Ie in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ie)&&(Ee.yy[Ie]=this.yy[Ie]);Pe.setInput(pe,Ee.yy),Ee.yy.lexer=Pe,Ee.yy.parser=this,typeof Pe.yylloc>"u"&&(Pe.yylloc={});var Le=Pe.yylloc;ie.push(Le);var Be=Pe.options&&Pe.options.ranges;typeof Ee.yy.parseError=="function"?this.parseError=Ee.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Te(){var Me;return Me=ee.pop()||Pe.lex()||He,typeof Me!="number"&&(Me instanceof Array&&(ee=Me,Me=ee.pop()),Me=J.symbols_[Me]||Me),Me}for(var dt,Ge,rt,it,st={},wt,nt,Ke,Je;;){if(Ge=oe[oe.length-1],this.defaultActions[Ge]?rt=this.defaultActions[Ge]:((dt===null||typeof dt>"u")&&(dt=Te()),rt=se[Ge]&&se[Ge][dt]),typeof rt>"u"||!rt.length||!rt[0]){var Oe="";Je=[];for(wt in se[Ge])this.terminals_[wt]&&wt>Ye&&Je.push("'"+this.terminals_[wt]+"'");Pe.showPosition?Oe="Parse error on line "+(fe+1)+`:
`+Pe.showPosition()+`
Expecting `+Je.join(", ")+", got '"+(this.terminals_[dt]||dt)+"'":Oe="Parse error on line "+(fe+1)+": Unexpected "+(dt==He?"end of input":"'"+(this.terminals_[dt]||dt)+"'"),this.parseError(Oe,{text:Pe.match,token:this.terminals_[dt]||dt,line:Pe.yylineno,loc:Le,expected:Je})}if(rt[0]instanceof Array&&rt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ge+", token: "+dt);switch(rt[0]){case 1:oe.push(dt),Z.push(Pe.yytext),ie.push(Pe.yylloc),oe.push(rt[1]),dt=null,we=Pe.yyleng,te=Pe.yytext,fe=Pe.yylineno,Le=Pe.yylloc;break;case 2:if(nt=this.productions_[rt[1]][1],st.$=Z[Z.length-nt],st._$={first_line:ie[ie.length-(nt||1)].first_line,last_line:ie[ie.length-1].last_line,first_column:ie[ie.length-(nt||1)].first_column,last_column:ie[ie.length-1].last_column},Be&&(st._$.range=[ie[ie.length-(nt||1)].range[0],ie[ie.length-1].range[1]]),it=this.performAction.apply(st,[te,we,fe,Ee.yy,rt[1],Z,ie].concat(je)),typeof it<"u")return it;nt&&(oe=oe.slice(0,-1*nt*2),Z=Z.slice(0,-1*nt),ie=ie.slice(0,-1*nt)),oe.push(this.productions_[rt[1]][0]),Z.push(st.$),ie.push(st._$),Ke=se[oe[oe.length-2]][oe[oe.length-1]],oe.push(Ke);break;case 3:return!0}}return!0}},Ce=function(){var Ne={EOF:1,parseError:function(J,oe){if(this.yy.parser)this.yy.parser.parseError(J,oe);else throw new Error(J)},setInput:function(pe,J){return this.yy=J||this.yy||{},this._input=pe,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var pe=this._input[0];this.yytext+=pe,this.yyleng++,this.offset++,this.match+=pe,this.matched+=pe;var J=pe.match(/(?:\r\n?|\n).*/g);return J?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),pe},unput:function(pe){var J=pe.length,oe=pe.split(/(?:\r\n?|\n)/g);this._input=pe+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-J),this.offset-=J;var ee=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),oe.length-1&&(this.yylineno-=oe.length-1);var Z=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:oe?(oe.length===ee.length?this.yylloc.first_column:0)+ee[ee.length-oe.length].length-oe[0].length:this.yylloc.first_column-J},this.options.ranges&&(this.yylloc.range=[Z[0],Z[0]+this.yyleng-J]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(pe){this.unput(this.match.slice(pe))},pastInput:function(){var pe=this.matched.substr(0,this.matched.length-this.match.length);return(pe.length>20?"...":"")+pe.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var pe=this.match;return pe.length<20&&(pe+=this._input.substr(0,20-pe.length)),(pe.substr(0,20)+(pe.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pe=this.pastInput(),J=new Array(pe.length+1).join("-");return pe+this.upcomingInput()+`
`+J+"^"},test_match:function(pe,J){var oe,ee,Z;if(this.options.backtrack_lexer&&(Z={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Z.yylloc.range=this.yylloc.range.slice(0))),ee=pe[0].match(/(?:\r\n?|\n).*/g),ee&&(this.yylineno+=ee.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ee?ee[ee.length-1].length-ee[ee.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+pe[0].length},this.yytext+=pe[0],this.match+=pe[0],this.matches=pe,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(pe[0].length),this.matched+=pe[0],oe=this.performAction.call(this,this.yy,this,J,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),oe)return oe;if(this._backtrack){for(var ie in Z)this[ie]=Z[ie];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var pe,J,oe,ee;this._more||(this.yytext="",this.match="");for(var Z=this._currentRules(),ie=0;ie<Z.length;ie++)if(oe=this._input.match(this.rules[Z[ie]]),oe&&(!J||oe[0].length>J[0].length)){if(J=oe,ee=ie,this.options.backtrack_lexer){if(pe=this.test_match(oe,Z[ie]),pe!==!1)return pe;if(this._backtrack){J=!1;continue}else return!1}else if(!this.options.flex)break}return J?(pe=this.test_match(J,Z[ee]),pe!==!1?pe:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var J=this.next();return J||this.lex()},begin:function(J){this.conditionStack.push(J)},popState:function(){var J=this.conditionStack.length-1;return J>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(J){return J=this.conditionStack.length-1-Math.abs(J||0),J>=0?this.conditionStack[J]:"INITIAL"},pushState:function(J){this.begin(J)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(J,oe,ee,Z){switch(ee){case 0:return this.begin("open_directive"),19;case 1:return this.begin("type_directive"),20;case 2:return this.popState(),this.begin("arg_directive"),12;case 3:return this.popState(),this.popState(),22;case 4:return 21;case 5:return"title";case 6:return this.begin("acc_title"),14;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),16;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 5;case 14:break;case 15:break;case 16:break;case 17:return 8;case 18:return 6;case 19:return 28;case 20:return 39;case 21:return 31;case 22:return 30;case 23:return 33;case 24:return 35;case 25:return 37;case 26:return 40;case 27:return 41;case 28:return 42;case 29:return 43;case 30:return 44;case 31:return 45;case 32:return 46;case 33:return 47;case 34:return 48;case 35:return 49;case 36:return 50;case 37:return 51;case 38:return 52;case 39:return 53;case 40:return 64;case 41:return 65;case 42:return 66;case 43:return 67;case 44:return 68;case 45:return 69;case 46:return 70;case 47:return 56;case 48:return 58;case 49:return 60;case 50:return 63;case 51:return 62;case 52:this.begin("string");break;case 53:this.popState();break;case 54:return"qString";case 55:return oe.yytext=oe.yytext.trim(),71}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[53,54],inclusive:!1},INITIAL:{rules:[0,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,55],inclusive:!0}}};return Ne}();me.lexer=Ce;function xe(){this.yy={}}return xe.prototype=me,me.Parser=xe,new xe}();parser$3.parser=parser$3;const requirementDetector=e=>e.match(/^\s*requirement(Diagram)?/)!==null;let relations=[],latestRequirement={},requirements={},latestElement={},elements={};const RequirementType={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},RiskLevel={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},VerifyType={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},Relationships={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},parseDirective$4=function(e,t,r){mermaidAPI.parseDirective(this,e,t,r)},addRequirement=(e,t)=>(typeof requirements[e]>"u"&&(requirements[e]={name:e,type:t,id:latestRequirement.id,text:latestRequirement.text,risk:latestRequirement.risk,verifyMethod:latestRequirement.verifyMethod}),latestRequirement={},requirements[e]),getRequirements=()=>requirements,setNewReqId=e=>{typeof latestRequirement<"u"&&(latestRequirement.id=e)},setNewReqText=e=>{typeof latestRequirement<"u"&&(latestRequirement.text=e)},setNewReqRisk=e=>{typeof latestRequirement<"u"&&(latestRequirement.risk=e)},setNewReqVerifyMethod=e=>{typeof latestRequirement<"u"&&(latestRequirement.verifyMethod=e)},addElement=e=>(typeof elements[e]>"u"&&(elements[e]={name:e,type:latestElement.type,docRef:latestElement.docRef},log$1.info("Added new requirement: ",e)),latestElement={},elements[e]),getElements=()=>elements,setNewElementType=e=>{typeof latestElement<"u"&&(latestElement.type=e)},setNewElementDocRef=e=>{typeof latestElement<"u"&&(latestElement.docRef=e)},addRelationship=(e,t,r)=>{relations.push({type:e,src:t,dst:r})},getRelationships=()=>relations,clear$3=()=>{relations=[],latestRequirement={},requirements={},latestElement={},elements={},clear$g()},requirementDb={RequirementType,RiskLevel,VerifyType,Relationships,parseDirective:parseDirective$4,getConfig:()=>getConfig$1().req,addRequirement,getRequirements,setNewReqId,setNewReqText,setNewReqRisk,setNewReqVerifyMethod,setAccTitle,getAccTitle,setAccDescription,getAccDescription,addElement,getElements,setNewElementType,setNewElementDocRef,addRelationship,getRelationships,clear:clear$3},ReqMarkers={CONTAINS:"contains",ARROW:"arrow"},insertLineEndings=(e,t)=>{let r=e.append("defs").append("marker").attr("id",ReqMarkers.CONTAINS+"_line_ending").attr("refX",0).attr("refY",t.line_height/2).attr("markerWidth",t.line_height).attr("markerHeight",t.line_height).attr("orient","auto").append("g");r.append("circle").attr("cx",t.line_height/2).attr("cy",t.line_height/2).attr("r",t.line_height/2).attr("fill","none"),r.append("line").attr("x1",0).attr("x2",t.line_height).attr("y1",t.line_height/2).attr("y2",t.line_height/2).attr("stroke-width",1),r.append("line").attr("y1",0).attr("y2",t.line_height).attr("x1",t.line_height/2).attr("x2",t.line_height/2).attr("stroke-width",1),e.append("defs").append("marker").attr("id",ReqMarkers.ARROW+"_line_ending").attr("refX",t.line_height).attr("refY",.5*t.line_height).attr("markerWidth",t.line_height).attr("markerHeight",t.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L${t.line_height},${t.line_height/2}
      M${t.line_height},${t.line_height/2}
      L0,${t.line_height}`).attr("stroke-width",1)},markers={ReqMarkers,insertLineEndings};let conf$5={},relCnt=0;const newRectNode=(e,t)=>e.insert("rect","#"+t).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",conf$5.rect_min_width+"px").attr("height",conf$5.rect_min_height+"px"),newTitleNode=(e,t,r)=>{let n=conf$5.rect_min_width/2,o=e.append("text").attr("class","req reqLabel reqTitle").attr("id",t).attr("x",n).attr("y",conf$5.rect_padding).attr("dominant-baseline","hanging"),l=0;r.forEach(d=>{l==0?o.append("tspan").attr("text-anchor","middle").attr("x",conf$5.rect_min_width/2).attr("dy",0).text(d):o.append("tspan").attr("text-anchor","middle").attr("x",conf$5.rect_min_width/2).attr("dy",conf$5.line_height*.75).text(d),l++});let u=1.5*conf$5.rect_padding,h=l*conf$5.line_height*.75,f=u+h;return e.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",conf$5.rect_min_width).attr("y1",f).attr("y2",f),{titleNode:o,y:f}},newBodyNode=(e,t,r,n)=>{let o=e.append("text").attr("class","req reqLabel").attr("id",t).attr("x",conf$5.rect_padding).attr("y",n).attr("dominant-baseline","hanging"),l=0;const u=30;let h=[];return r.forEach(f=>{let d=f.length;for(;d>u&&l<3;){let p=f.substring(0,u);f=f.substring(u,f.length),d=f.length,h[h.length]=p,l++}if(l==3){let p=h[h.length-1];h[h.length-1]=p.substring(0,p.length-4)+"..."}else h[h.length]=f;l=0}),h.forEach(f=>{o.append("tspan").attr("x",conf$5.rect_padding).attr("dy",conf$5.line_height).text(f)}),o},addEdgeLabel=(e,t,r,n)=>{const o=t.node().getTotalLength(),l=t.node().getPointAtLength(o*.5),u="rel"+relCnt;relCnt++;const f=e.append("text").attr("class","req relationshipLabel").attr("id",u).attr("x",l.x).attr("y",l.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(n).node().getBBox();e.insert("rect","#"+u).attr("class","req reqLabelBox").attr("x",l.x-f.width/2).attr("y",l.y-f.height/2).attr("width",f.width).attr("height",f.height).attr("fill","white").attr("fill-opacity","85%")},drawRelationshipFromLayout=function(e,t,r,n,o){const l=r.edge(elementString(t.src),elementString(t.dst)),u=line$2().x(function(f){return f.x}).y(function(f){return f.y}),h=e.insert("path","#"+n).attr("class","er relationshipLine").attr("d",u(l.points)).attr("fill","none");t.type==o.db.Relationships.CONTAINS?h.attr("marker-start","url("+common.getUrl(conf$5.arrowMarkerAbsolute)+"#"+t.type+"_line_ending)"):(h.attr("stroke-dasharray","10,7"),h.attr("marker-end","url("+common.getUrl(conf$5.arrowMarkerAbsolute)+"#"+markers.ReqMarkers.ARROW+"_line_ending)")),addEdgeLabel(e,h,conf$5,`<<${t.type}>>`)},drawReqs=(e,t,r)=>{Object.keys(e).forEach(n=>{let o=e[n];n=elementString(n),log$1.info("Added new requirement: ",n);const l=r.append("g").attr("id",n),u="req-"+n,h=newRectNode(l,u);let f=newTitleNode(l,n+"_title",[`<<${o.type}>>`,`${o.name}`]);newBodyNode(l,n+"_body",[`Id: ${o.id}`,`Text: ${o.text}`,`Risk: ${o.risk}`,`Verification: ${o.verifyMethod}`],f.y);const d=h.node().getBBox();t.setNode(n,{width:d.width,height:d.height,shape:"rect",id:n})})},drawElements=(e,t,r)=>{Object.keys(e).forEach(n=>{let o=e[n];const l=elementString(n),u=r.append("g").attr("id",l),h="element-"+l,f=newRectNode(u,h);let d=newTitleNode(u,h+"_title",["<<Element>>",`${n}`]);newBodyNode(u,h+"_body",[`Type: ${o.type||"Not Specified"}`,`Doc Ref: ${o.docRef||"None"}`],d.y);const p=f.node().getBBox();t.setNode(l,{width:p.width,height:p.height,shape:"rect",id:l})})},addRelationships=(e,t)=>(e.forEach(function(r){let n=elementString(r.src),o=elementString(r.dst);t.setEdge(n,o,{relationship:r})}),e),adjustEntities=function(e,t){t.nodes().forEach(function(r){typeof r<"u"&&typeof t.node(r)<"u"&&(e.select("#"+r),e.select("#"+r).attr("transform","translate("+(t.node(r).x-t.node(r).width/2)+","+(t.node(r).y-t.node(r).height/2)+" )"))})},elementString=e=>e.replace(/\s/g,"").replace(/\./g,"_"),draw$5=(e,t,r,n)=>{conf$5=getConfig$1().requirement,n.db.clear(),n.parser.parse(e);const o=conf$5.securityLevel;let l;o==="sandbox"&&(l=select$1("#i"+t));const h=select$1(o==="sandbox"?l.nodes()[0].contentDocument.body:"body").select(`[id='${t}']`);markers.insertLineEndings(h,conf$5);const f=new graphlib$2.Graph({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:conf$5.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let d=n.db.getRequirements(),p=n.db.getElements(),m=n.db.getRelationships();drawReqs(d,f,h),drawElements(p,f,h),addRelationships(m,f),dagre$1.layout(f),adjustEntities(h,f),m.forEach(function(R){drawRelationshipFromLayout(h,R,f,t,n)});const g=conf$5.rect_padding,b=h.node().getBBox(),v=b.width+g*2,T=b.height+g*2;configureSvgSize(h,T,v,conf$5.useMaxWidth),h.attr("viewBox",`${b.x-g} ${b.y-g} ${v} ${T}`),addSVGAccessibilityFields(n.db,h,t)},requirementRenderer={draw:draw$5};var parser$2=function(){var e=function(Ne,pe,J,oe){for(J=J||{},oe=Ne.length;oe--;J[Ne[oe]]=pe);return J},t=[1,2],r=[1,3],n=[1,5],o=[1,7],l=[2,5],u=[1,15],h=[1,17],f=[1,18],d=[1,19],p=[1,21],m=[1,22],g=[1,23],b=[1,29],v=[1,30],T=[1,31],R=[1,32],I=[1,33],N=[1,34],q=[1,35],F=[1,36],H=[1,37],V=[1,38],z=[1,39],G=[1,40],P=[1,43],W=[1,44],S=[1,45],U=[1,46],L=[1,47],ae=[1,48],Q=[1,51],ue=[1,4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],_e=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,53,58,59,60,61,69,79],ke=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,52,53,58,59,60,61,69,79],de=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,51,53,58,59,60,61,69,79],ce=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,53,58,59,60,61,69,79],he=[67,68,69],Se=[1,121],ve=[1,4,5,7,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],me={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,directive:6,SD:7,document:8,line:9,statement:10,openDirective:11,typeDirective:12,closeDirective:13,":":14,argDirective:15,participant:16,actor:17,AS:18,restOfLine:19,participant_actor:20,signal:21,autonumber:22,NUM:23,off:24,activate:25,deactivate:26,note_statement:27,links_statement:28,link_statement:29,properties_statement:30,details_statement:31,title:32,legacy_title:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,loop:39,end:40,rect:41,opt:42,alt:43,else_sections:44,par:45,par_sections:46,critical:47,option_sections:48,break:49,option:50,and:51,else:52,note:53,placement:54,text2:55,over:56,actor_pair:57,links:58,link:59,properties:60,details:61,spaceList:62,",":63,left_of:64,right_of:65,signaltype:66,"+":67,"-":68,ACTOR:69,SOLID_OPEN_ARROW:70,DOTTED_OPEN_ARROW:71,SOLID_ARROW:72,DOTTED_ARROW:73,SOLID_CROSS:74,DOTTED_CROSS:75,SOLID_POINT:76,DOTTED_POINT:77,TXT:78,open_directive:79,type_directive:80,arg_directive:81,close_directive:82,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",7:"SD",14:":",16:"participant",18:"AS",19:"restOfLine",20:"participant_actor",22:"autonumber",23:"NUM",24:"off",25:"activate",26:"deactivate",32:"title",33:"legacy_title",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",39:"loop",40:"end",41:"rect",42:"opt",43:"alt",45:"par",47:"critical",49:"break",50:"option",51:"and",52:"else",53:"note",56:"over",58:"links",59:"link",60:"properties",61:"details",63:",",64:"left_of",65:"right_of",67:"+",68:"-",69:"ACTOR",70:"SOLID_OPEN_ARROW",71:"DOTTED_OPEN_ARROW",72:"SOLID_ARROW",73:"DOTTED_ARROW",74:"SOLID_CROSS",75:"DOTTED_CROSS",76:"SOLID_POINT",77:"DOTTED_POINT",78:"TXT",79:"open_directive",80:"type_directive",81:"arg_directive",82:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[6,4],[6,6],[10,5],[10,3],[10,5],[10,3],[10,2],[10,4],[10,3],[10,3],[10,2],[10,3],[10,3],[10,2],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,2],[10,2],[10,1],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,1],[48,1],[48,4],[46,1],[46,4],[44,1],[44,4],[27,4],[27,4],[28,3],[29,3],[30,3],[31,3],[62,2],[62,1],[57,3],[57,1],[54,1],[54,1],[21,5],[21,5],[21,4],[17,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[55,1],[11,1],[12,1],[15,1],[13,1]],performAction:function(pe,J,oe,ee,Z,ie,se){var te=ie.length-1;switch(Z){case 4:return ee.apply(ie[te]),ie[te];case 5:this.$=[];break;case 6:ie[te-1].push(ie[te]),this.$=ie[te-1];break;case 7:case 8:this.$=ie[te];break;case 9:this.$=[];break;case 12:ie[te-3].type="addParticipant",ie[te-3].description=ee.parseMessage(ie[te-1]),this.$=ie[te-3];break;case 13:ie[te-1].type="addParticipant",this.$=ie[te-1];break;case 14:ie[te-3].type="addActor",ie[te-3].description=ee.parseMessage(ie[te-1]),this.$=ie[te-3];break;case 15:ie[te-1].type="addActor",this.$=ie[te-1];break;case 17:this.$={type:"sequenceIndex",sequenceIndex:Number(ie[te-2]),sequenceIndexStep:Number(ie[te-1]),sequenceVisible:!0,signalType:ee.LINETYPE.AUTONUMBER};break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(ie[te-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:ee.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:ee.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:ee.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"activeStart",signalType:ee.LINETYPE.ACTIVE_START,actor:ie[te-1]};break;case 22:this.$={type:"activeEnd",signalType:ee.LINETYPE.ACTIVE_END,actor:ie[te-1]};break;case 28:ee.setDiagramTitle(ie[te].substring(6)),this.$=ie[te].substring(6);break;case 29:ee.setDiagramTitle(ie[te].substring(7)),this.$=ie[te].substring(7);break;case 30:this.$=ie[te].trim(),ee.setAccTitle(this.$);break;case 31:case 32:this.$=ie[te].trim(),ee.setAccDescription(this.$);break;case 33:ie[te-1].unshift({type:"loopStart",loopText:ee.parseMessage(ie[te-2]),signalType:ee.LINETYPE.LOOP_START}),ie[te-1].push({type:"loopEnd",loopText:ie[te-2],signalType:ee.LINETYPE.LOOP_END}),this.$=ie[te-1];break;case 34:ie[te-1].unshift({type:"rectStart",color:ee.parseMessage(ie[te-2]),signalType:ee.LINETYPE.RECT_START}),ie[te-1].push({type:"rectEnd",color:ee.parseMessage(ie[te-2]),signalType:ee.LINETYPE.RECT_END}),this.$=ie[te-1];break;case 35:ie[te-1].unshift({type:"optStart",optText:ee.parseMessage(ie[te-2]),signalType:ee.LINETYPE.OPT_START}),ie[te-1].push({type:"optEnd",optText:ee.parseMessage(ie[te-2]),signalType:ee.LINETYPE.OPT_END}),this.$=ie[te-1];break;case 36:ie[te-1].unshift({type:"altStart",altText:ee.parseMessage(ie[te-2]),signalType:ee.LINETYPE.ALT_START}),ie[te-1].push({type:"altEnd",signalType:ee.LINETYPE.ALT_END}),this.$=ie[te-1];break;case 37:ie[te-1].unshift({type:"parStart",parText:ee.parseMessage(ie[te-2]),signalType:ee.LINETYPE.PAR_START}),ie[te-1].push({type:"parEnd",signalType:ee.LINETYPE.PAR_END}),this.$=ie[te-1];break;case 38:ie[te-1].unshift({type:"criticalStart",criticalText:ee.parseMessage(ie[te-2]),signalType:ee.LINETYPE.CRITICAL_START}),ie[te-1].push({type:"criticalEnd",signalType:ee.LINETYPE.CRITICAL_END}),this.$=ie[te-1];break;case 39:ie[te-1].unshift({type:"breakStart",breakText:ee.parseMessage(ie[te-2]),signalType:ee.LINETYPE.BREAK_START}),ie[te-1].push({type:"breakEnd",optText:ee.parseMessage(ie[te-2]),signalType:ee.LINETYPE.BREAK_END}),this.$=ie[te-1];break;case 42:this.$=ie[te-3].concat([{type:"option",optionText:ee.parseMessage(ie[te-1]),signalType:ee.LINETYPE.CRITICAL_OPTION},ie[te]]);break;case 44:this.$=ie[te-3].concat([{type:"and",parText:ee.parseMessage(ie[te-1]),signalType:ee.LINETYPE.PAR_AND},ie[te]]);break;case 46:this.$=ie[te-3].concat([{type:"else",altText:ee.parseMessage(ie[te-1]),signalType:ee.LINETYPE.ALT_ELSE},ie[te]]);break;case 47:this.$=[ie[te-1],{type:"addNote",placement:ie[te-2],actor:ie[te-1].actor,text:ie[te]}];break;case 48:ie[te-2]=[].concat(ie[te-1],ie[te-1]).slice(0,2),ie[te-2][0]=ie[te-2][0].actor,ie[te-2][1]=ie[te-2][1].actor,this.$=[ie[te-1],{type:"addNote",placement:ee.PLACEMENT.OVER,actor:ie[te-2].slice(0,2),text:ie[te]}];break;case 49:this.$=[ie[te-1],{type:"addLinks",actor:ie[te-1].actor,text:ie[te]}];break;case 50:this.$=[ie[te-1],{type:"addALink",actor:ie[te-1].actor,text:ie[te]}];break;case 51:this.$=[ie[te-1],{type:"addProperties",actor:ie[te-1].actor,text:ie[te]}];break;case 52:this.$=[ie[te-1],{type:"addDetails",actor:ie[te-1].actor,text:ie[te]}];break;case 55:this.$=[ie[te-2],ie[te]];break;case 56:this.$=ie[te];break;case 57:this.$=ee.PLACEMENT.LEFTOF;break;case 58:this.$=ee.PLACEMENT.RIGHTOF;break;case 59:this.$=[ie[te-4],ie[te-1],{type:"addMessage",from:ie[te-4].actor,to:ie[te-1].actor,signalType:ie[te-3],msg:ie[te]},{type:"activeStart",signalType:ee.LINETYPE.ACTIVE_START,actor:ie[te-1]}];break;case 60:this.$=[ie[te-4],ie[te-1],{type:"addMessage",from:ie[te-4].actor,to:ie[te-1].actor,signalType:ie[te-3],msg:ie[te]},{type:"activeEnd",signalType:ee.LINETYPE.ACTIVE_END,actor:ie[te-4]}];break;case 61:this.$=[ie[te-3],ie[te-1],{type:"addMessage",from:ie[te-3].actor,to:ie[te-1].actor,signalType:ie[te-2],msg:ie[te]}];break;case 62:this.$={type:"addParticipant",actor:ie[te]};break;case 63:this.$=ee.LINETYPE.SOLID_OPEN;break;case 64:this.$=ee.LINETYPE.DOTTED_OPEN;break;case 65:this.$=ee.LINETYPE.SOLID;break;case 66:this.$=ee.LINETYPE.DOTTED;break;case 67:this.$=ee.LINETYPE.SOLID_CROSS;break;case 68:this.$=ee.LINETYPE.DOTTED_CROSS;break;case 69:this.$=ee.LINETYPE.SOLID_POINT;break;case 70:this.$=ee.LINETYPE.DOTTED_POINT;break;case 71:this.$=ee.parseMessage(ie[te].trim().substring(1));break;case 72:ee.parseDirective("%%{","open_directive");break;case 73:ee.parseDirective(ie[te],"type_directive");break;case 74:ie[te]=ie[te].trim().replace(/'/g,'"'),ee.parseDirective(ie[te],"arg_directive");break;case 75:ee.parseDirective("}%%","close_directive","sequence");break}},table:[{3:1,4:t,5:r,6:4,7:n,11:6,79:o},{1:[3]},{3:8,4:t,5:r,6:4,7:n,11:6,79:o},{3:9,4:t,5:r,6:4,7:n,11:6,79:o},{3:10,4:t,5:r,6:4,7:n,11:6,79:o},e([1,4,5,16,20,22,25,26,32,33,34,36,38,39,41,42,43,45,47,49,53,58,59,60,61,69,79],l,{8:11}),{12:12,80:[1,13]},{80:[2,72]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:u,5:h,6:41,9:14,10:16,11:6,16:f,17:42,20:d,21:20,22:p,25:m,26:g,27:24,28:25,29:26,30:27,31:28,32:b,33:v,34:T,36:R,38:I,39:N,41:q,42:F,43:H,45:V,47:z,49:G,53:P,58:W,59:S,60:U,61:L,69:ae,79:o},{13:49,14:[1,50],82:Q},e([14,82],[2,73]),e(ue,[2,6]),{6:41,10:52,11:6,16:f,17:42,20:d,21:20,22:p,25:m,26:g,27:24,28:25,29:26,30:27,31:28,32:b,33:v,34:T,36:R,38:I,39:N,41:q,42:F,43:H,45:V,47:z,49:G,53:P,58:W,59:S,60:U,61:L,69:ae,79:o},e(ue,[2,8]),e(ue,[2,9]),{17:53,69:ae},{17:54,69:ae},{5:[1,55]},{5:[1,58],23:[1,56],24:[1,57]},{17:59,69:ae},{17:60,69:ae},{5:[1,61]},{5:[1,62]},{5:[1,63]},{5:[1,64]},{5:[1,65]},e(ue,[2,28]),e(ue,[2,29]),{35:[1,66]},{37:[1,67]},e(ue,[2,32]),{19:[1,68]},{19:[1,69]},{19:[1,70]},{19:[1,71]},{19:[1,72]},{19:[1,73]},{19:[1,74]},e(ue,[2,40]),{66:75,70:[1,76],71:[1,77],72:[1,78],73:[1,79],74:[1,80],75:[1,81],76:[1,82],77:[1,83]},{54:84,56:[1,85],64:[1,86],65:[1,87]},{17:88,69:ae},{17:89,69:ae},{17:90,69:ae},{17:91,69:ae},e([5,18,63,70,71,72,73,74,75,76,77,78],[2,62]),{5:[1,92]},{15:93,81:[1,94]},{5:[2,75]},e(ue,[2,7]),{5:[1,96],18:[1,95]},{5:[1,98],18:[1,97]},e(ue,[2,16]),{5:[1,100],23:[1,99]},{5:[1,101]},e(ue,[2,20]),{5:[1,102]},{5:[1,103]},e(ue,[2,23]),e(ue,[2,24]),e(ue,[2,25]),e(ue,[2,26]),e(ue,[2,27]),e(ue,[2,30]),e(ue,[2,31]),e(_e,l,{8:104}),e(_e,l,{8:105}),e(_e,l,{8:106}),e(ke,l,{44:107,8:108}),e(de,l,{46:109,8:110}),e(ce,l,{48:111,8:112}),e(_e,l,{8:113}),{17:116,67:[1,114],68:[1,115],69:ae},e(he,[2,63]),e(he,[2,64]),e(he,[2,65]),e(he,[2,66]),e(he,[2,67]),e(he,[2,68]),e(he,[2,69]),e(he,[2,70]),{17:117,69:ae},{17:119,57:118,69:ae},{69:[2,57]},{69:[2,58]},{55:120,78:Se},{55:122,78:Se},{55:123,78:Se},{55:124,78:Se},e(ve,[2,10]),{13:125,82:Q},{82:[2,74]},{19:[1,126]},e(ue,[2,13]),{19:[1,127]},e(ue,[2,15]),{5:[1,128]},e(ue,[2,18]),e(ue,[2,19]),e(ue,[2,21]),e(ue,[2,22]),{4:u,5:h,6:41,9:14,10:16,11:6,16:f,17:42,20:d,21:20,22:p,25:m,26:g,27:24,28:25,29:26,30:27,31:28,32:b,33:v,34:T,36:R,38:I,39:N,40:[1,129],41:q,42:F,43:H,45:V,47:z,49:G,53:P,58:W,59:S,60:U,61:L,69:ae,79:o},{4:u,5:h,6:41,9:14,10:16,11:6,16:f,17:42,20:d,21:20,22:p,25:m,26:g,27:24,28:25,29:26,30:27,31:28,32:b,33:v,34:T,36:R,38:I,39:N,40:[1,130],41:q,42:F,43:H,45:V,47:z,49:G,53:P,58:W,59:S,60:U,61:L,69:ae,79:o},{4:u,5:h,6:41,9:14,10:16,11:6,16:f,17:42,20:d,21:20,22:p,25:m,26:g,27:24,28:25,29:26,30:27,31:28,32:b,33:v,34:T,36:R,38:I,39:N,40:[1,131],41:q,42:F,43:H,45:V,47:z,49:G,53:P,58:W,59:S,60:U,61:L,69:ae,79:o},{40:[1,132]},{4:u,5:h,6:41,9:14,10:16,11:6,16:f,17:42,20:d,21:20,22:p,25:m,26:g,27:24,28:25,29:26,30:27,31:28,32:b,33:v,34:T,36:R,38:I,39:N,40:[2,45],41:q,42:F,43:H,45:V,47:z,49:G,52:[1,133],53:P,58:W,59:S,60:U,61:L,69:ae,79:o},{40:[1,134]},{4:u,5:h,6:41,9:14,10:16,11:6,16:f,17:42,20:d,21:20,22:p,25:m,26:g,27:24,28:25,29:26,30:27,31:28,32:b,33:v,34:T,36:R,38:I,39:N,40:[2,43],41:q,42:F,43:H,45:V,47:z,49:G,51:[1,135],53:P,58:W,59:S,60:U,61:L,69:ae,79:o},{40:[1,136]},{4:u,5:h,6:41,9:14,10:16,11:6,16:f,17:42,20:d,21:20,22:p,25:m,26:g,27:24,28:25,29:26,30:27,31:28,32:b,33:v,34:T,36:R,38:I,39:N,40:[2,41],41:q,42:F,43:H,45:V,47:z,49:G,50:[1,137],53:P,58:W,59:S,60:U,61:L,69:ae,79:o},{4:u,5:h,6:41,9:14,10:16,11:6,16:f,17:42,20:d,21:20,22:p,25:m,26:g,27:24,28:25,29:26,30:27,31:28,32:b,33:v,34:T,36:R,38:I,39:N,40:[1,138],41:q,42:F,43:H,45:V,47:z,49:G,53:P,58:W,59:S,60:U,61:L,69:ae,79:o},{17:139,69:ae},{17:140,69:ae},{55:141,78:Se},{55:142,78:Se},{55:143,78:Se},{63:[1,144],78:[2,56]},{5:[2,49]},{5:[2,71]},{5:[2,50]},{5:[2,51]},{5:[2,52]},{5:[1,145]},{5:[1,146]},{5:[1,147]},e(ue,[2,17]),e(ue,[2,33]),e(ue,[2,34]),e(ue,[2,35]),e(ue,[2,36]),{19:[1,148]},e(ue,[2,37]),{19:[1,149]},e(ue,[2,38]),{19:[1,150]},e(ue,[2,39]),{55:151,78:Se},{55:152,78:Se},{5:[2,61]},{5:[2,47]},{5:[2,48]},{17:153,69:ae},e(ve,[2,11]),e(ue,[2,12]),e(ue,[2,14]),e(ke,l,{8:108,44:154}),e(de,l,{8:110,46:155}),e(ce,l,{8:112,48:156}),{5:[2,59]},{5:[2,60]},{78:[2,55]},{40:[2,46]},{40:[2,44]},{40:[2,42]}],defaultActions:{7:[2,72],8:[2,1],9:[2,2],10:[2,3],51:[2,75],86:[2,57],87:[2,58],94:[2,74],120:[2,49],121:[2,71],122:[2,50],123:[2,51],124:[2,52],141:[2,61],142:[2,47],143:[2,48],151:[2,59],152:[2,60],153:[2,55],154:[2,46],155:[2,44],156:[2,42]},parseError:function(pe,J){if(J.recoverable)this.trace(pe);else{var oe=new Error(pe);throw oe.hash=J,oe}},parse:function(pe){var J=this,oe=[0],ee=[],Z=[null],ie=[],se=this.table,te="",fe=0,we=0,Ye=2,He=1,je=ie.slice.call(arguments,1),Pe=Object.create(this.lexer),Ee={yy:{}};for(var Ie in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ie)&&(Ee.yy[Ie]=this.yy[Ie]);Pe.setInput(pe,Ee.yy),Ee.yy.lexer=Pe,Ee.yy.parser=this,typeof Pe.yylloc>"u"&&(Pe.yylloc={});var Le=Pe.yylloc;ie.push(Le);var Be=Pe.options&&Pe.options.ranges;typeof Ee.yy.parseError=="function"?this.parseError=Ee.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Te(){var Me;return Me=ee.pop()||Pe.lex()||He,typeof Me!="number"&&(Me instanceof Array&&(ee=Me,Me=ee.pop()),Me=J.symbols_[Me]||Me),Me}for(var dt,Ge,rt,it,st={},wt,nt,Ke,Je;;){if(Ge=oe[oe.length-1],this.defaultActions[Ge]?rt=this.defaultActions[Ge]:((dt===null||typeof dt>"u")&&(dt=Te()),rt=se[Ge]&&se[Ge][dt]),typeof rt>"u"||!rt.length||!rt[0]){var Oe="";Je=[];for(wt in se[Ge])this.terminals_[wt]&&wt>Ye&&Je.push("'"+this.terminals_[wt]+"'");Pe.showPosition?Oe="Parse error on line "+(fe+1)+`:
`+Pe.showPosition()+`
Expecting `+Je.join(", ")+", got '"+(this.terminals_[dt]||dt)+"'":Oe="Parse error on line "+(fe+1)+": Unexpected "+(dt==He?"end of input":"'"+(this.terminals_[dt]||dt)+"'"),this.parseError(Oe,{text:Pe.match,token:this.terminals_[dt]||dt,line:Pe.yylineno,loc:Le,expected:Je})}if(rt[0]instanceof Array&&rt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ge+", token: "+dt);switch(rt[0]){case 1:oe.push(dt),Z.push(Pe.yytext),ie.push(Pe.yylloc),oe.push(rt[1]),dt=null,we=Pe.yyleng,te=Pe.yytext,fe=Pe.yylineno,Le=Pe.yylloc;break;case 2:if(nt=this.productions_[rt[1]][1],st.$=Z[Z.length-nt],st._$={first_line:ie[ie.length-(nt||1)].first_line,last_line:ie[ie.length-1].last_line,first_column:ie[ie.length-(nt||1)].first_column,last_column:ie[ie.length-1].last_column},Be&&(st._$.range=[ie[ie.length-(nt||1)].range[0],ie[ie.length-1].range[1]]),it=this.performAction.apply(st,[te,we,fe,Ee.yy,rt[1],Z,ie].concat(je)),typeof it<"u")return it;nt&&(oe=oe.slice(0,-1*nt*2),Z=Z.slice(0,-1*nt),ie=ie.slice(0,-1*nt)),oe.push(this.productions_[rt[1]][0]),Z.push(st.$),ie.push(st._$),Ke=se[oe[oe.length-2]][oe[oe.length-1]],oe.push(Ke);break;case 3:return!0}}return!0}},Ce=function(){var Ne={EOF:1,parseError:function(J,oe){if(this.yy.parser)this.yy.parser.parseError(J,oe);else throw new Error(J)},setInput:function(pe,J){return this.yy=J||this.yy||{},this._input=pe,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var pe=this._input[0];this.yytext+=pe,this.yyleng++,this.offset++,this.match+=pe,this.matched+=pe;var J=pe.match(/(?:\r\n?|\n).*/g);return J?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),pe},unput:function(pe){var J=pe.length,oe=pe.split(/(?:\r\n?|\n)/g);this._input=pe+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-J),this.offset-=J;var ee=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),oe.length-1&&(this.yylineno-=oe.length-1);var Z=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:oe?(oe.length===ee.length?this.yylloc.first_column:0)+ee[ee.length-oe.length].length-oe[0].length:this.yylloc.first_column-J},this.options.ranges&&(this.yylloc.range=[Z[0],Z[0]+this.yyleng-J]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(pe){this.unput(this.match.slice(pe))},pastInput:function(){var pe=this.matched.substr(0,this.matched.length-this.match.length);return(pe.length>20?"...":"")+pe.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var pe=this.match;return pe.length<20&&(pe+=this._input.substr(0,20-pe.length)),(pe.substr(0,20)+(pe.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pe=this.pastInput(),J=new Array(pe.length+1).join("-");return pe+this.upcomingInput()+`
`+J+"^"},test_match:function(pe,J){var oe,ee,Z;if(this.options.backtrack_lexer&&(Z={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Z.yylloc.range=this.yylloc.range.slice(0))),ee=pe[0].match(/(?:\r\n?|\n).*/g),ee&&(this.yylineno+=ee.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ee?ee[ee.length-1].length-ee[ee.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+pe[0].length},this.yytext+=pe[0],this.match+=pe[0],this.matches=pe,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(pe[0].length),this.matched+=pe[0],oe=this.performAction.call(this,this.yy,this,J,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),oe)return oe;if(this._backtrack){for(var ie in Z)this[ie]=Z[ie];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var pe,J,oe,ee;this._more||(this.yytext="",this.match="");for(var Z=this._currentRules(),ie=0;ie<Z.length;ie++)if(oe=this._input.match(this.rules[Z[ie]]),oe&&(!J||oe[0].length>J[0].length)){if(J=oe,ee=ie,this.options.backtrack_lexer){if(pe=this.test_match(oe,Z[ie]),pe!==!1)return pe;if(this._backtrack){J=!1;continue}else return!1}else if(!this.options.flex)break}return J?(pe=this.test_match(J,Z[ee]),pe!==!1?pe:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var J=this.next();return J||this.lex()},begin:function(J){this.conditionStack.push(J)},popState:function(){var J=this.conditionStack.length-1;return J>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(J){return J=this.conditionStack.length-1-Math.abs(J||0),J>=0?this.conditionStack[J]:"INITIAL"},pushState:function(J){this.begin(J)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(J,oe,ee,Z){switch(ee){case 0:return this.begin("open_directive"),79;case 1:return this.begin("type_directive"),80;case 2:return this.popState(),this.begin("arg_directive"),14;case 3:return this.popState(),this.popState(),82;case 4:return 81;case 5:return 5;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:return 23;case 12:return this.begin("ID"),16;case 13:return this.begin("ID"),20;case 14:return oe.yytext=oe.yytext.trim(),this.begin("ALIAS"),69;case 15:return this.popState(),this.popState(),this.begin("LINE"),18;case 16:return this.popState(),this.popState(),5;case 17:return this.begin("LINE"),39;case 18:return this.begin("LINE"),41;case 19:return this.begin("LINE"),42;case 20:return this.begin("LINE"),43;case 21:return this.begin("LINE"),52;case 22:return this.begin("LINE"),45;case 23:return this.begin("LINE"),51;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),50;case 26:return this.begin("LINE"),49;case 27:return this.popState(),19;case 28:return 40;case 29:return 64;case 30:return 65;case 31:return 58;case 32:return 59;case 33:return 60;case 34:return 61;case 35:return 56;case 36:return 53;case 37:return this.begin("ID"),25;case 38:return this.begin("ID"),26;case 39:return 32;case 40:return 33;case 41:return this.begin("acc_title"),34;case 42:return this.popState(),"acc_title_value";case 43:return this.begin("acc_descr"),36;case 44:return this.popState(),"acc_descr_value";case 45:this.begin("acc_descr_multiline");break;case 46:this.popState();break;case 47:return"acc_descr_multiline_value";case 48:return 7;case 49:return 22;case 50:return 24;case 51:return 63;case 52:return 5;case 53:return oe.yytext=oe.yytext.trim(),69;case 54:return 72;case 55:return 73;case 56:return 70;case 57:return 71;case 58:return 74;case 59:return 75;case 60:return 76;case 61:return 77;case 62:return 78;case 63:return 67;case 64:return 68;case 65:return 5;case 66:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:[^\->:\n,;]+?([\-]*[^\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[46,47],inclusive:!1},acc_descr:{rules:[44],inclusive:!1},acc_title:{rules:[42],inclusive:!1},open_directive:{rules:[1,8],inclusive:!1},type_directive:{rules:[2,3,8],inclusive:!1},arg_directive:{rules:[3,4,8],inclusive:!1},ID:{rules:[7,8,14],inclusive:!1},ALIAS:{rules:[7,8,15,16],inclusive:!1},LINE:{rules:[7,8,27],inclusive:!1},INITIAL:{rules:[0,5,6,8,9,10,11,12,13,17,18,19,20,21,22,23,24,25,26,28,29,30,31,32,33,34,35,36,37,38,39,40,41,43,45,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66],inclusive:!0}}};return Ne}();me.lexer=Ce;function xe(){this.yy={}}return xe.prototype=me,me.Parser=xe,new xe}();parser$2.parser=parser$2;const sequenceDetector=e=>e.match(/^\s*sequenceDiagram/)!==null;let prevActor,actors$1={},messages=[],sequenceNumbersEnabled=!1,wrapEnabled;const parseDirective$3=function(e,t,r){mermaidAPI.parseDirective(this,e,t,r)},addActor=function(e,t,r,n){const o=actors$1[e];o&&t===o.name&&r==null||((r==null||r.text==null)&&(r={text:t,wrap:null,type:n}),(n==null||r.text==null)&&(r={text:t,wrap:null,type:n}),actors$1[e]={name:t,description:r.text,wrap:r.wrap===void 0&&autoWrap()||!!r.wrap,prevActor,links:{},properties:{},actorCnt:null,rectData:null,type:n||"participant"},prevActor&&actors$1[prevActor]&&(actors$1[prevActor].nextActor=e),prevActor=e)},activationCount=e=>{let t,r=0;for(t=0;t<messages.length;t++)messages[t].type===LINETYPE.ACTIVE_START&&messages[t].from.actor===e&&r++,messages[t].type===LINETYPE.ACTIVE_END&&messages[t].from.actor===e&&r--;return r},addMessage=function(e,t,r,n){messages.push({from:e,to:t,message:r.text,wrap:r.wrap===void 0&&autoWrap()||!!r.wrap,answer:n})},addSignal=function(e,t,r={text:void 0,wrap:void 0},n){if(n===LINETYPE.ACTIVE_END&&activationCount(e.actor)<1){let l=new Error("Trying to inactivate an inactive participant ("+e.actor+")");throw l.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},l}return messages.push({from:e,to:t,message:r.text,wrap:r.wrap===void 0&&autoWrap()||!!r.wrap,type:n}),!0},getMessages=function(){return messages},getActors$1=function(){return actors$1},getActor=function(e){return actors$1[e]},getActorKeys=function(){return Object.keys(actors$1)},enableSequenceNumbers=function(){sequenceNumbersEnabled=!0},disableSequenceNumbers=function(){sequenceNumbersEnabled=!1},showSequenceNumbers=()=>sequenceNumbersEnabled,setWrap=function(e){wrapEnabled=e},autoWrap=()=>typeof wrapEnabled<"u"?wrapEnabled:getConfig$1().sequence.wrap,clear$2=function(){actors$1={},messages=[],sequenceNumbersEnabled=!1,clear$g()},parseMessage=function(e){const t=e.trim(),r={text:t.replace(/^[:]?(?:no)?wrap:/,"").trim(),wrap:t.match(/^[:]?wrap:/)!==null?!0:t.match(/^[:]?nowrap:/)!==null?!1:void 0};return log$1.debug("parseMessage:",r),r},LINETYPE={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31},ARROWTYPE={FILLED:0,OPEN:1},PLACEMENT={LEFTOF:0,RIGHTOF:1,OVER:2},addNote=function(e,t,r){r.text,r.wrap===void 0&&autoWrap()||r.wrap;const n=[].concat(e,e);messages.push({from:n[0],to:n[1],message:r.text,wrap:r.wrap===void 0&&autoWrap()||!!r.wrap,type:LINETYPE.NOTE,placement:t})},addLinks=function(e,t){const r=getActor(e);try{let n=sanitizeText$5(t.text,getConfig$1());n=n.replace(/&amp;/g,"&"),n=n.replace(/&equals;/g,"=");const o=JSON.parse(n);insertLinks(r,o)}catch(n){log$1.error("error while parsing actor link text",n)}},addALink=function(e,t){const r=getActor(e);try{const u={};let h=sanitizeText$5(t.text,getConfig$1());var n=h.indexOf("@");h=h.replace(/&amp;/g,"&"),h=h.replace(/&equals;/g,"=");var o=h.slice(0,n-1).trim(),l=h.slice(n+1).trim();u[o]=l,insertLinks(r,u)}catch(u){log$1.error("error while parsing actor link text",u)}};function insertLinks(e,t){if(e.links==null)e.links=t;else for(let r in t)e.links[r]=t[r]}const addProperties=function(e,t){const r=getActor(e);try{let n=sanitizeText$5(t.text,getConfig$1());const o=JSON.parse(n);insertProperties(r,o)}catch(n){log$1.error("error while parsing actor properties text",n)}};function insertProperties(e,t){if(e.properties==null)e.properties=t;else for(let r in t)e.properties[r]=t[r]}const addDetails=function(e,t){const r=getActor(e),n=document.getElementById(t.text);try{const o=n.innerHTML,l=JSON.parse(o);l.properties&&insertProperties(r,l.properties),l.links&&insertLinks(r,l.links)}catch(o){log$1.error("error while parsing actor details text",o)}},getActorProperty=function(e,t){if(typeof e<"u"&&typeof e.properties<"u")return e.properties[t]},apply=function(e){if(e instanceof Array)e.forEach(function(t){apply(t)});else switch(e.type){case"sequenceIndex":messages.push({from:void 0,to:void 0,message:{start:e.sequenceIndex,step:e.sequenceIndexStep,visible:e.sequenceVisible},wrap:!1,type:e.signalType});break;case"addParticipant":addActor(e.actor,e.actor,e.description,"participant");break;case"addActor":addActor(e.actor,e.actor,e.description,"actor");break;case"activeStart":addSignal(e.actor,void 0,void 0,e.signalType);break;case"activeEnd":addSignal(e.actor,void 0,void 0,e.signalType);break;case"addNote":addNote(e.actor,e.placement,e.text);break;case"addLinks":addLinks(e.actor,e.text);break;case"addALink":addALink(e.actor,e.text);break;case"addProperties":addProperties(e.actor,e.text);break;case"addDetails":addDetails(e.actor,e.text);break;case"addMessage":addSignal(e.from,e.to,e.msg,e.signalType);break;case"loopStart":addSignal(void 0,void 0,e.loopText,e.signalType);break;case"loopEnd":addSignal(void 0,void 0,void 0,e.signalType);break;case"rectStart":addSignal(void 0,void 0,e.color,e.signalType);break;case"rectEnd":addSignal(void 0,void 0,void 0,e.signalType);break;case"optStart":addSignal(void 0,void 0,e.optText,e.signalType);break;case"optEnd":addSignal(void 0,void 0,void 0,e.signalType);break;case"altStart":addSignal(void 0,void 0,e.altText,e.signalType);break;case"else":addSignal(void 0,void 0,e.altText,e.signalType);break;case"altEnd":addSignal(void 0,void 0,void 0,e.signalType);break;case"setAccTitle":setAccTitle(e.text);break;case"parStart":addSignal(void 0,void 0,e.parText,e.signalType);break;case"and":addSignal(void 0,void 0,e.parText,e.signalType);break;case"parEnd":addSignal(void 0,void 0,void 0,e.signalType);break;case"criticalStart":addSignal(void 0,void 0,e.criticalText,e.signalType);break;case"option":addSignal(void 0,void 0,e.optionText,e.signalType);break;case"criticalEnd":addSignal(void 0,void 0,void 0,e.signalType);break;case"breakStart":addSignal(void 0,void 0,e.breakText,e.signalType);break;case"breakEnd":addSignal(void 0,void 0,void 0,e.signalType);break}},sequenceDb={addActor,addMessage,addSignal,addLinks,addDetails,addProperties,autoWrap,setWrap,enableSequenceNumbers,disableSequenceNumbers,showSequenceNumbers,getMessages,getActors:getActors$1,getActor,getActorKeys,getActorProperty,getAccTitle,getDiagramTitle,setDiagramTitle,parseDirective:parseDirective$3,getConfig:()=>getConfig$1().sequence,clear:clear$2,parseMessage,LINETYPE,ARROWTYPE,PLACEMENT,addNote,setAccTitle,apply,setAccDescription,getAccDescription};let interactionFunctions=[];const addFunction=e=>{interactionFunctions.push(e)},attachFunctions=()=>{interactionFunctions.forEach(e=>{e()}),interactionFunctions=[]},drawRect$1=function(e,t){const r=e.append("rect");return r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),r.attr("rx",t.rx),r.attr("ry",t.ry),typeof t.class<"u"&&r.attr("class",t.class),r},addPopupInteraction=(e,t)=>{addFunction(()=>{const r=document.querySelectorAll(e);r.length!==0&&(r[0].addEventListener("mouseover",function(){popupMenuUpFunc("actor"+t+"_popup")}),r[0].addEventListener("mouseout",function(){popupMenuDownFunc("actor"+t+"_popup")}))})},drawPopup=function(e,t,r,n,o){if(t.links===void 0||t.links===null||Object.keys(t.links).length===0)return{height:0,width:0};const l=t.links,u=t.actorCnt,h=t.rectData;var f="none";o&&(f="block !important");const d=e.append("g");d.attr("id","actor"+u+"_popup"),d.attr("class","actorPopupMenu"),d.attr("display",f),addPopupInteraction("#actor"+u+"_popup",u);var p="";typeof h.class<"u"&&(p=" "+h.class);let m=h.width>r?h.width:r;const g=d.append("rect");if(g.attr("class","actorPopupMenuPanel"+p),g.attr("x",h.x),g.attr("y",h.height),g.attr("fill",h.fill),g.attr("stroke",h.stroke),g.attr("width",m),g.attr("height",h.height),g.attr("rx",h.rx),g.attr("ry",h.ry),l!=null){var b=20;for(let R in l){var v=d.append("a"),T=sanitizeUrl_1(l[R]);v.attr("xlink:href",T),v.attr("target","_blank"),_drawMenuItemTextCandidateFunc(n)(R,v,h.x+10,h.height+b,m,20,{class:"actor"},n),b+=30}}return g.attr("height",b),{height:h.height+b,width:m}},drawImage=function(e,t,r,n){const o=e.append("image");o.attr("x",t),o.attr("y",r);var l=sanitizeUrl_1(n);o.attr("xlink:href",l)},drawEmbeddedImage=function(e,t,r,n){const o=e.append("use");o.attr("x",t),o.attr("y",r);var l=sanitizeUrl_1(n);o.attr("xlink:href","#"+l)},popupMenu=function(e){return"var pu = document.getElementById('"+e+"'); if (pu != null) { pu.style.display = 'block'; }"},popdownMenu=function(e){return"var pu = document.getElementById('"+e+"'); if (pu != null) { pu.style.display = 'none'; }"},popupMenuUpFunc=function(e){var t=document.getElementById(e);t!=null&&(t.style.display="block")},popupMenuDownFunc=function(e){var t=document.getElementById(e);t!=null&&(t.style.display="none")},drawText$1=function(e,t){let r=0,n=0;const o=t.text.split(common.lineBreakRegex);let l=[],u=0,h=()=>t.y;if(typeof t.valign<"u"&&typeof t.textMargin<"u"&&t.textMargin>0)switch(t.valign){case"top":case"start":h=()=>Math.round(t.y+t.textMargin);break;case"middle":case"center":h=()=>Math.round(t.y+(r+n+t.textMargin)/2);break;case"bottom":case"end":h=()=>Math.round(t.y+(r+n+2*t.textMargin)-t.textMargin);break}if(typeof t.anchor<"u"&&typeof t.textMargin<"u"&&typeof t.width<"u")switch(t.anchor){case"left":case"start":t.x=Math.round(t.x+t.textMargin),t.anchor="start",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"middle":case"center":t.x=Math.round(t.x+t.width/2),t.anchor="middle",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"right":case"end":t.x=Math.round(t.x+t.width-t.textMargin),t.anchor="end",t.dominantBaseline="middle",t.alignmentBaseline="middle";break}for(let f=0;f<o.length;f++){let d=o[f];typeof t.textMargin<"u"&&t.textMargin===0&&typeof t.fontSize<"u"&&(u=f*t.fontSize);const p=e.append("text");if(p.attr("x",t.x),p.attr("y",h()),typeof t.anchor<"u"&&p.attr("text-anchor",t.anchor).attr("dominant-baseline",t.dominantBaseline).attr("alignment-baseline",t.alignmentBaseline),typeof t.fontFamily<"u"&&p.style("font-family",t.fontFamily),typeof t.fontSize<"u"&&p.style("font-size",t.fontSize),typeof t.fontWeight<"u"&&p.style("font-weight",t.fontWeight),typeof t.fill<"u"&&p.attr("fill",t.fill),typeof t.class<"u"&&p.attr("class",t.class),typeof t.dy<"u"?p.attr("dy",t.dy):u!==0&&p.attr("dy",u),t.tspan){const m=p.append("tspan");m.attr("x",t.x),typeof t.fill<"u"&&m.attr("fill",t.fill),m.text(d)}else p.text(d);typeof t.valign<"u"&&typeof t.textMargin<"u"&&t.textMargin>0&&(n+=(p._groups||p)[0][0].getBBox().height,r=n),l.push(p)}return l},drawLabel$1=function(e,t){function r(o,l,u,h,f){return o+","+l+" "+(o+u)+","+l+" "+(o+u)+","+(l+h-f)+" "+(o+u-f*1.2)+","+(l+h)+" "+o+","+(l+h)}const n=e.append("polygon");return n.attr("points",r(t.x,t.y,t.width,t.height,7)),n.attr("class","labelBox"),t.y=t.y+t.height/2,drawText$1(e,t),n};let actorCnt=-1;const fixLifeLineHeights=(e,t)=>{!e.selectAll||e.selectAll(".actor-line").attr("class","200").attr("y2",t-55)},drawActorTypeParticipant=function(e,t,r){const n=t.x+t.width/2,o=e.append("g");var l=o;t.y===0&&(actorCnt++,l.append("line").attr("id","actor"+actorCnt).attr("x1",n).attr("y1",5).attr("x2",n).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"),l=o.append("g"),t.actorCnt=actorCnt,t.links!=null&&(l.attr("id","root-"+actorCnt),addPopupInteraction("#root-"+actorCnt,actorCnt)));const u=getNoteRect$1();var h="actor";t.properties!=null&&t.properties.class?h=t.properties.class:u.fill="#eaeaea",u.x=t.x,u.y=t.y,u.width=t.width,u.height=t.height,u.class=h,u.rx=3,u.ry=3;const f=drawRect$1(l,u);if(t.rectData=u,t.properties!=null&&t.properties.icon){const p=t.properties.icon.trim();p.charAt(0)==="@"?drawEmbeddedImage(l,u.x+u.width-20,u.y+10,p.substr(1)):drawImage(l,u.x+u.width-20,u.y+10,p)}_drawTextCandidateFunc$1(r)(t.description,l,u.x,u.y,u.width,u.height,{class:"actor"},r);let d=t.height;if(f.node){const p=f.node().getBBox();t.height=p.height,d=p.height}return d},drawActorTypeActor=function(e,t,r){const n=t.x+t.width/2;t.y===0&&(actorCnt++,e.append("line").attr("id","actor"+actorCnt).attr("x1",n).attr("y1",80).attr("x2",n).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"));const o=e.append("g");o.attr("class","actor-man");const l=getNoteRect$1();l.x=t.x,l.y=t.y,l.fill="#eaeaea",l.width=t.width,l.height=t.height,l.class="actor",l.rx=3,l.ry=3,o.append("line").attr("id","actor-man-torso"+actorCnt).attr("x1",n).attr("y1",t.y+25).attr("x2",n).attr("y2",t.y+45),o.append("line").attr("id","actor-man-arms"+actorCnt).attr("x1",n-18).attr("y1",t.y+33).attr("x2",n+18).attr("y2",t.y+33),o.append("line").attr("x1",n-18).attr("y1",t.y+60).attr("x2",n).attr("y2",t.y+45),o.append("line").attr("x1",n).attr("y1",t.y+45).attr("x2",n+16).attr("y2",t.y+60);const u=o.append("circle");u.attr("cx",t.x+t.width/2),u.attr("cy",t.y+10),u.attr("r",15),u.attr("width",t.width),u.attr("height",t.height);const h=o.node().getBBox();return t.height=h.height,_drawTextCandidateFunc$1(r)(t.description,o,l.x,l.y+35,l.width,l.height,{class:"actor"},r),t.height},drawActor=function(e,t,r){switch(t.type){case"actor":return drawActorTypeActor(e,t,r);case"participant":return drawActorTypeParticipant(e,t,r)}},anchorElement=function(e){return e.append("g")},drawActivation=function(e,t,r,n,o){const l=getNoteRect$1(),u=t.anchored;l.x=t.startx,l.y=t.starty,l.class="activation"+o%3,l.width=t.stopx-t.startx,l.height=r-t.starty,drawRect$1(u,l)},drawLoop=function(e,t,r,n){const{boxMargin:o,boxTextMargin:l,labelBoxHeight:u,labelBoxWidth:h,messageFontFamily:f,messageFontSize:d,messageFontWeight:p}=n,m=e.append("g"),g=function(T,R,I,N){return m.append("line").attr("x1",T).attr("y1",R).attr("x2",I).attr("y2",N).attr("class","loopLine")};g(t.startx,t.starty,t.stopx,t.starty),g(t.stopx,t.starty,t.stopx,t.stopy),g(t.startx,t.stopy,t.stopx,t.stopy),g(t.startx,t.starty,t.startx,t.stopy),typeof t.sections<"u"&&t.sections.forEach(function(T){g(t.startx,T.y,t.stopx,T.y).style("stroke-dasharray","3, 3")});let b=getTextObj$1();b.text=r,b.x=t.startx,b.y=t.starty,b.fontFamily=f,b.fontSize=d,b.fontWeight=p,b.anchor="middle",b.valign="middle",b.tspan=!1,b.width=h||50,b.height=u||20,b.textMargin=l,b.class="labelText",drawLabel$1(m,b),b=getTextObj$1(),b.text=t.title,b.x=t.startx+h/2+(t.stopx-t.startx)/2,b.y=t.starty+o+l,b.anchor="middle",b.valign="middle",b.textMargin=l,b.class="loopText",b.fontFamily=f,b.fontSize=d,b.fontWeight=p,b.wrap=!0;let v=drawText$1(m,b);return typeof t.sectionTitles<"u"&&t.sectionTitles.forEach(function(T,R){if(T.message){b.text=T.message,b.x=t.startx+(t.stopx-t.startx)/2,b.y=t.sections[R].y+o+l,b.class="loopText",b.anchor="middle",b.valign="middle",b.tspan=!1,b.fontFamily=f,b.fontSize=d,b.fontWeight=p,b.wrap=t.wrap,v=drawText$1(m,b);let I=Math.round(v.map(N=>(N._groups||N)[0][0].getBBox().height).reduce((N,q)=>N+q));t.sections[R].height+=I-(o+l)}}),t.height=Math.round(t.stopy-t.starty),m},drawBackgroundRect$1=function(e,t){drawRect$1(e,{x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,class:"rect"}).lower()},insertDatabaseIcon=function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},insertComputerIcon=function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},insertClockIcon=function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},insertArrowHead=function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},insertArrowFilledHead=function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},insertSequenceNumber=function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},insertArrowCrossHead=function(e){const r=e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);r.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),r.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},getTextObj$1=function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},getNoteRect$1=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},_drawTextCandidateFunc$1=function(){function e(o,l,u,h,f,d,p){const m=l.append("text").attr("x",u+f/2).attr("y",h+d/2+5).style("text-anchor","middle").text(o);n(m,p)}function t(o,l,u,h,f,d,p,m){const{actorFontSize:g,actorFontFamily:b,actorFontWeight:v}=m;let T=g&&g.replace?g.replace("px",""):g;const R=o.split(common.lineBreakRegex);for(let I=0;I<R.length;I++){const N=I*T-T*(R.length-1)/2,q=l.append("text").attr("x",u+f/2).attr("y",h).style("text-anchor","middle").style("font-size",g).style("font-weight",v).style("font-family",b);q.append("tspan").attr("x",u+f/2).attr("dy",N).text(R[I]),q.attr("y",h+d/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(q,p)}}function r(o,l,u,h,f,d,p,m){const g=l.append("switch"),v=g.append("foreignObject").attr("x",u).attr("y",h).attr("width",f).attr("height",d).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");v.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(o),t(o,g,u,h,f,d,p,m),n(v,p)}function n(o,l){for(const u in l)l.hasOwnProperty(u)&&o.attr(u,l[u])}return function(o){return o.textPlacement==="fo"?r:o.textPlacement==="old"?e:t}}(),_drawMenuItemTextCandidateFunc=function(){function e(o,l,u,h,f,d,p){const m=l.append("text").attr("x",u).attr("y",h).style("text-anchor","start").text(o);n(m,p)}function t(o,l,u,h,f,d,p,m){const{actorFontSize:g,actorFontFamily:b,actorFontWeight:v}=m,T=o.split(common.lineBreakRegex);for(let R=0;R<T.length;R++){const I=R*g-g*(T.length-1)/2,N=l.append("text").attr("x",u).attr("y",h).style("text-anchor","start").style("font-size",g).style("font-weight",v).style("font-family",b);N.append("tspan").attr("x",u).attr("dy",I).text(T[R]),N.attr("y",h+d/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(N,p)}}function r(o,l,u,h,f,d,p,m){const g=l.append("switch"),v=g.append("foreignObject").attr("x",u).attr("y",h).attr("width",f).attr("height",d).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");v.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(o),t(o,g,u,h,f,d,p,m),n(v,p)}function n(o,l){for(const u in l)l.hasOwnProperty(u)&&o.attr(u,l[u])}return function(o){return o.textPlacement==="fo"?r:o.textPlacement==="old"?e:t}}(),svgDraw$1={drawRect:drawRect$1,drawText:drawText$1,drawLabel:drawLabel$1,drawActor,drawPopup,drawImage,drawEmbeddedImage,anchorElement,drawActivation,drawLoop,drawBackgroundRect:drawBackgroundRect$1,insertArrowHead,insertArrowFilledHead,insertSequenceNumber,insertArrowCrossHead,insertDatabaseIcon,insertComputerIcon,insertClockIcon,getTextObj:getTextObj$1,getNoteRect:getNoteRect$1,popupMenu,popdownMenu,fixLifeLineHeights,sanitizeUrl:sanitizeUrl_1};let conf$4={};const bounds$1={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(e=>e.height||0))+(this.loops.length===0?0:this.loops.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.messages.length===0?0:this.messages.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.notes.length===0?0:this.notes.map(e=>e.height||0).reduce((e,t)=>e+t))},clear:function(){this.actors=[],this.loops=[],this.messages=[],this.notes=[]},addActor:function(e){this.actors.push(e)},addLoop:function(e){this.loops.push(e)},addMessage:function(e){this.messages.push(e)},addNote:function(e){this.notes.push(e)},lastActor:function(){return this.actors[this.actors.length-1]},lastLoop:function(){return this.loops[this.loops.length-1]},lastMessage:function(){return this.messages[this.messages.length-1]},lastNote:function(){return this.notes[this.notes.length-1]},actors:[],loops:[],messages:[],notes:[]},init:function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,setConf$4(getConfig$1())},updateVal:function(e,t,r,n){typeof e[t]>"u"?e[t]=r:e[t]=n(r,e[t])},updateBounds:function(e,t,r,n){const o=this;let l=0;function u(h){return function(d){l++;const p=o.sequenceItems.length-l+1;o.updateVal(d,"starty",t-p*conf$4.boxMargin,Math.min),o.updateVal(d,"stopy",n+p*conf$4.boxMargin,Math.max),o.updateVal(bounds$1.data,"startx",e-p*conf$4.boxMargin,Math.min),o.updateVal(bounds$1.data,"stopx",r+p*conf$4.boxMargin,Math.max),h!=="activation"&&(o.updateVal(d,"startx",e-p*conf$4.boxMargin,Math.min),o.updateVal(d,"stopx",r+p*conf$4.boxMargin,Math.max),o.updateVal(bounds$1.data,"starty",t-p*conf$4.boxMargin,Math.min),o.updateVal(bounds$1.data,"stopy",n+p*conf$4.boxMargin,Math.max))}}this.sequenceItems.forEach(u()),this.activations.forEach(u("activation"))},insert:function(e,t,r,n){const o=Math.min(e,r),l=Math.max(e,r),u=Math.min(t,n),h=Math.max(t,n);this.updateVal(bounds$1.data,"startx",o,Math.min),this.updateVal(bounds$1.data,"starty",u,Math.min),this.updateVal(bounds$1.data,"stopx",l,Math.max),this.updateVal(bounds$1.data,"stopy",h,Math.max),this.updateBounds(o,u,l,h)},newActivation:function(e,t,r){const n=r[e.from.actor],o=actorActivations(e.from.actor).length||0,l=n.x+n.width/2+(o-1)*conf$4.activationWidth/2;this.activations.push({startx:l,starty:this.verticalPos+2,stopx:l+conf$4.activationWidth,stopy:void 0,actor:e.from.actor,anchored:svgDraw$1.anchorElement(t)})},endActivation:function(e){const t=this.activations.map(function(r){return r.actor}).lastIndexOf(e.from.actor);return this.activations.splice(t,1)[0]},createLoop:function(e={message:void 0,wrap:!1,width:void 0},t){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:e.message,wrap:e.wrap,width:e.width,height:0,fill:t}},newLoop:function(e={message:void 0,wrap:!1,width:void 0},t){this.sequenceItems.push(this.createLoop(e,t))},endLoop:function(){return this.sequenceItems.pop()},addSectionToLoop:function(e){const t=this.sequenceItems.pop();t.sections=t.sections||[],t.sectionTitles=t.sectionTitles||[],t.sections.push({y:bounds$1.getVerticalPos(),height:0}),t.sectionTitles.push(e),this.sequenceItems.push(t)},bumpVerticalPos:function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return{bounds:this.data,models:this.models}}},drawNote$1=function(e,t){bounds$1.bumpVerticalPos(conf$4.boxMargin),t.height=conf$4.boxMargin,t.starty=bounds$1.getVerticalPos();const r=svgDraw$1.getNoteRect();r.x=t.startx,r.y=t.starty,r.width=t.width||conf$4.width,r.class="note";const n=e.append("g"),o=svgDraw$1.drawRect(n,r),l=svgDraw$1.getTextObj();l.x=t.startx,l.y=t.starty,l.width=r.width,l.dy="1em",l.text=t.message,l.class="noteText",l.fontFamily=conf$4.noteFontFamily,l.fontSize=conf$4.noteFontSize,l.fontWeight=conf$4.noteFontWeight,l.anchor=conf$4.noteAlign,l.textMargin=conf$4.noteMargin,l.valign="center";const u=drawText$1(n,l),h=Math.round(u.map(f=>(f._groups||f)[0][0].getBBox().height).reduce((f,d)=>f+d));o.attr("height",h+2*conf$4.noteMargin),t.height+=h+2*conf$4.noteMargin,bounds$1.bumpVerticalPos(h+2*conf$4.noteMargin),t.stopy=t.starty+h+2*conf$4.noteMargin,t.stopx=t.startx+r.width,bounds$1.insert(t.startx,t.starty,t.stopx,t.stopy),bounds$1.models.addNote(t)},messageFont=e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),noteFont=e=>({fontFamily:e.noteFontFamily,fontSize:e.noteFontSize,fontWeight:e.noteFontWeight}),actorFont=e=>({fontFamily:e.actorFontFamily,fontSize:e.actorFontSize,fontWeight:e.actorFontWeight}),boundMessage=function(e,t){bounds$1.bumpVerticalPos(10);const{startx:r,stopx:n,message:o}=t,l=common.splitBreaks(o).length,u=utils.calculateTextDimensions(o,messageFont(conf$4)),h=u.height/l;t.height+=h,bounds$1.bumpVerticalPos(h);let f,d=u.height-10;const p=u.width;if(r===n){f=bounds$1.getVerticalPos()+d,conf$4.rightAngles||(d+=conf$4.boxMargin,f=bounds$1.getVerticalPos()+d),d+=30;const m=Math.max(p/2,conf$4.width/2);bounds$1.insert(r-m,bounds$1.getVerticalPos()-10+d,n+m,bounds$1.getVerticalPos()+30+d)}else d+=conf$4.boxMargin,f=bounds$1.getVerticalPos()+d,bounds$1.insert(r,f-10,n,f);return bounds$1.bumpVerticalPos(d),t.height+=d,t.stopy=t.starty+t.height,bounds$1.insert(t.fromBounds,t.starty,t.toBounds,t.stopy),f},drawMessage=function(e,t,r,n){const{startx:o,stopx:l,starty:u,message:h,type:f,sequenceIndex:d,sequenceVisible:p}=t,m=utils.calculateTextDimensions(h,messageFont(conf$4)),g=svgDraw$1.getTextObj();g.x=o,g.y=u+10,g.width=l-o,g.class="messageText",g.dy="1em",g.text=h,g.fontFamily=conf$4.messageFontFamily,g.fontSize=conf$4.messageFontSize,g.fontWeight=conf$4.messageFontWeight,g.anchor=conf$4.messageAlign,g.valign="center",g.textMargin=conf$4.wrapPadding,g.tspan=!1,drawText$1(e,g);const b=m.width;let v;o===l?conf$4.rightAngles?v=e.append("path").attr("d",`M  ${o},${r} H ${o+Math.max(conf$4.width/2,b/2)} V ${r+25} H ${o}`):v=e.append("path").attr("d","M "+o+","+r+" C "+(o+60)+","+(r-10)+" "+(o+60)+","+(r+30)+" "+o+","+(r+20)):(v=e.append("line"),v.attr("x1",o),v.attr("y1",r),v.attr("x2",l),v.attr("y2",r)),f===n.db.LINETYPE.DOTTED||f===n.db.LINETYPE.DOTTED_CROSS||f===n.db.LINETYPE.DOTTED_POINT||f===n.db.LINETYPE.DOTTED_OPEN?(v.style("stroke-dasharray","3, 3"),v.attr("class","messageLine1")):v.attr("class","messageLine0");let T="";conf$4.arrowMarkerAbsolute&&(T=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,T=T.replace(/\(/g,"\\("),T=T.replace(/\)/g,"\\)")),v.attr("stroke-width",2),v.attr("stroke","none"),v.style("fill","none"),(f===n.db.LINETYPE.SOLID||f===n.db.LINETYPE.DOTTED)&&v.attr("marker-end","url("+T+"#arrowhead)"),(f===n.db.LINETYPE.SOLID_POINT||f===n.db.LINETYPE.DOTTED_POINT)&&v.attr("marker-end","url("+T+"#filled-head)"),(f===n.db.LINETYPE.SOLID_CROSS||f===n.db.LINETYPE.DOTTED_CROSS)&&v.attr("marker-end","url("+T+"#crosshead)"),(p||conf$4.showSequenceNumbers)&&(v.attr("marker-start","url("+T+"#sequencenumber)"),e.append("text").attr("x",o).attr("y",r+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(d))},drawActors=function(e,t,r,n,o,l){if(o.hideUnusedParticipants===!0){const d=new Set;l.forEach(p=>{d.add(p.from),d.add(p.to)}),r=r.filter(p=>d.has(p))}let u=0,h=0,f=0;for(let d=0;d<r.length;d++){const p=t[r[d]];p.width=p.width||conf$4.width,p.height=Math.max(p.height||conf$4.height,conf$4.height),p.margin=p.margin||conf$4.actorMargin,p.x=u+h,p.y=n;const m=svgDraw$1.drawActor(e,p,conf$4);f=Math.max(f,m),bounds$1.insert(p.x,n,p.x+p.width,p.height),u+=p.width,h+=p.margin,bounds$1.models.addActor(p)}bounds$1.bumpVerticalPos(f)},drawActorsPopup=function(e,t,r,n){let o=0,l=0;for(let u=0;u<r.length;u++){const h=t[r[u]],f=getRequiredPopupWidth(h),d=svgDraw$1.drawPopup(e,h,f,conf$4,conf$4.forceMenus,n);d.height>o&&(o=d.height),d.width+h.x>l&&(l=d.width+h.x)}return{maxHeight:o,maxWidth:l}},setConf$4=function(e){assignWithDepth(conf$4,e),e.fontFamily&&(conf$4.actorFontFamily=conf$4.noteFontFamily=conf$4.messageFontFamily=e.fontFamily),e.fontSize&&(conf$4.actorFontSize=conf$4.noteFontSize=conf$4.messageFontSize=e.fontSize),e.fontWeight&&(conf$4.actorFontWeight=conf$4.noteFontWeight=conf$4.messageFontWeight=e.fontWeight)},actorActivations=function(e){return bounds$1.activations.filter(function(t){return t.actor===e})},activationBounds=function(e,t){const r=t[e],n=actorActivations(e),o=n.reduce(function(u,h){return Math.min(u,h.startx)},r.x+r.width/2),l=n.reduce(function(u,h){return Math.max(u,h.stopx)},r.x+r.width/2);return[o,l]};function adjustLoopHeightForWrap(e,t,r,n,o){bounds$1.bumpVerticalPos(r);let l=n;if(t.id&&t.message&&e[t.id]){const u=e[t.id].width,h=messageFont(conf$4);t.message=utils.wrapLabel(`[${t.message}]`,u-2*conf$4.wrapPadding,h),t.width=u,t.wrap=!0;const f=utils.calculateTextDimensions(t.message,h),d=Math.max(f.height,conf$4.labelBoxHeight);l=n+d,log$1.debug(`${d} - ${t.message}`)}o(t),bounds$1.bumpVerticalPos(l)}const draw$4=function(e,t,r,n){const{securityLevel:o,sequence:l}=getConfig$1();conf$4=l;let u;o==="sandbox"&&(u=select$1("#i"+t));const h=select$1(o==="sandbox"?u.nodes()[0].contentDocument.body:"body"),f=o==="sandbox"?u.nodes()[0].contentDocument:document;bounds$1.init(),log$1.debug(n.db);const d=o==="sandbox"?h.select(`[id="${t}"]`):select$1(`[id="${t}"]`),p=n.db.getActors(),m=n.db.getActorKeys(),g=n.db.getMessages(),b=n.db.getDiagramTitle(),v=getMaxMessageWidthPerActor(p,g,n);conf$4.height=calculateActorMargins(p,v),svgDraw$1.insertComputerIcon(d),svgDraw$1.insertDatabaseIcon(d),svgDraw$1.insertClockIcon(d),drawActors(d,p,m,0,conf$4,g);const T=calculateLoopBounds(g,p,v,n);svgDraw$1.insertArrowHead(d),svgDraw$1.insertArrowCrossHead(d),svgDraw$1.insertArrowFilledHead(d),svgDraw$1.insertSequenceNumber(d);function R(U,L){const ae=bounds$1.endActivation(U);ae.starty+18>L&&(ae.starty=L-6,L+=12),svgDraw$1.drawActivation(d,ae,L,conf$4,actorActivations(U.from.actor).length),bounds$1.insert(ae.startx,L-10,ae.stopx,L)}let I=1,N=1;const q=[];g.forEach(function(U){let L,ae,Q;switch(U.type){case n.db.LINETYPE.NOTE:ae=U.noteModel,drawNote$1(d,ae);break;case n.db.LINETYPE.ACTIVE_START:bounds$1.newActivation(U,d,p);break;case n.db.LINETYPE.ACTIVE_END:R(U,bounds$1.getVerticalPos());break;case n.db.LINETYPE.LOOP_START:adjustLoopHeightForWrap(T,U,conf$4.boxMargin,conf$4.boxMargin+conf$4.boxTextMargin,ue=>bounds$1.newLoop(ue));break;case n.db.LINETYPE.LOOP_END:L=bounds$1.endLoop(),svgDraw$1.drawLoop(d,L,"loop",conf$4),bounds$1.bumpVerticalPos(L.stopy-bounds$1.getVerticalPos()),bounds$1.models.addLoop(L);break;case n.db.LINETYPE.RECT_START:adjustLoopHeightForWrap(T,U,conf$4.boxMargin,conf$4.boxMargin,ue=>bounds$1.newLoop(void 0,ue.message));break;case n.db.LINETYPE.RECT_END:L=bounds$1.endLoop(),svgDraw$1.drawBackgroundRect(d,L),bounds$1.models.addLoop(L),bounds$1.bumpVerticalPos(L.stopy-bounds$1.getVerticalPos());break;case n.db.LINETYPE.OPT_START:adjustLoopHeightForWrap(T,U,conf$4.boxMargin,conf$4.boxMargin+conf$4.boxTextMargin,ue=>bounds$1.newLoop(ue));break;case n.db.LINETYPE.OPT_END:L=bounds$1.endLoop(),svgDraw$1.drawLoop(d,L,"opt",conf$4),bounds$1.bumpVerticalPos(L.stopy-bounds$1.getVerticalPos()),bounds$1.models.addLoop(L);break;case n.db.LINETYPE.ALT_START:adjustLoopHeightForWrap(T,U,conf$4.boxMargin,conf$4.boxMargin+conf$4.boxTextMargin,ue=>bounds$1.newLoop(ue));break;case n.db.LINETYPE.ALT_ELSE:adjustLoopHeightForWrap(T,U,conf$4.boxMargin+conf$4.boxTextMargin,conf$4.boxMargin,ue=>bounds$1.addSectionToLoop(ue));break;case n.db.LINETYPE.ALT_END:L=bounds$1.endLoop(),svgDraw$1.drawLoop(d,L,"alt",conf$4),bounds$1.bumpVerticalPos(L.stopy-bounds$1.getVerticalPos()),bounds$1.models.addLoop(L);break;case n.db.LINETYPE.PAR_START:adjustLoopHeightForWrap(T,U,conf$4.boxMargin,conf$4.boxMargin+conf$4.boxTextMargin,ue=>bounds$1.newLoop(ue));break;case n.db.LINETYPE.PAR_AND:adjustLoopHeightForWrap(T,U,conf$4.boxMargin+conf$4.boxTextMargin,conf$4.boxMargin,ue=>bounds$1.addSectionToLoop(ue));break;case n.db.LINETYPE.PAR_END:L=bounds$1.endLoop(),svgDraw$1.drawLoop(d,L,"par",conf$4),bounds$1.bumpVerticalPos(L.stopy-bounds$1.getVerticalPos()),bounds$1.models.addLoop(L);break;case n.db.LINETYPE.AUTONUMBER:I=U.message.start||I,N=U.message.step||N,U.message.visible?n.db.enableSequenceNumbers():n.db.disableSequenceNumbers();break;case n.db.LINETYPE.CRITICAL_START:adjustLoopHeightForWrap(T,U,conf$4.boxMargin,conf$4.boxMargin+conf$4.boxTextMargin,ue=>bounds$1.newLoop(ue));break;case n.db.LINETYPE.CRITICAL_OPTION:adjustLoopHeightForWrap(T,U,conf$4.boxMargin+conf$4.boxTextMargin,conf$4.boxMargin,ue=>bounds$1.addSectionToLoop(ue));break;case n.db.LINETYPE.CRITICAL_END:L=bounds$1.endLoop(),svgDraw$1.drawLoop(d,L,"critical",conf$4),bounds$1.bumpVerticalPos(L.stopy-bounds$1.getVerticalPos()),bounds$1.models.addLoop(L);break;case n.db.LINETYPE.BREAK_START:adjustLoopHeightForWrap(T,U,conf$4.boxMargin,conf$4.boxMargin+conf$4.boxTextMargin,ue=>bounds$1.newLoop(ue));break;case n.db.LINETYPE.BREAK_END:L=bounds$1.endLoop(),svgDraw$1.drawLoop(d,L,"break",conf$4),bounds$1.bumpVerticalPos(L.stopy-bounds$1.getVerticalPos()),bounds$1.models.addLoop(L);break;default:try{Q=U.msgModel,Q.starty=bounds$1.getVerticalPos(),Q.sequenceIndex=I,Q.sequenceVisible=n.db.showSequenceNumbers();const ue=boundMessage(d,Q);q.push({messageModel:Q,lineStarty:ue}),bounds$1.models.addMessage(Q)}catch(ue){log$1.error("error while drawing message",ue)}}[n.db.LINETYPE.SOLID_OPEN,n.db.LINETYPE.DOTTED_OPEN,n.db.LINETYPE.SOLID,n.db.LINETYPE.DOTTED,n.db.LINETYPE.SOLID_CROSS,n.db.LINETYPE.DOTTED_CROSS,n.db.LINETYPE.SOLID_POINT,n.db.LINETYPE.DOTTED_POINT].includes(U.type)&&(I=I+N)}),q.forEach(U=>drawMessage(d,U.messageModel,U.lineStarty,n)),conf$4.mirrorActors&&(bounds$1.bumpVerticalPos(conf$4.boxMargin*2),drawActors(d,p,m,bounds$1.getVerticalPos(),conf$4,g),bounds$1.bumpVerticalPos(conf$4.boxMargin),fixLifeLineHeights(d,bounds$1.getVerticalPos()));const F=drawActorsPopup(d,p,m,f),{bounds:H}=bounds$1.getBounds();log$1.debug("For line height fix Querying: #"+t+" .actor-line"),selectAll$1("#"+t+" .actor-line").attr("y2",H.stopy);let z=H.stopy-H.starty;z<F.maxHeight&&(z=F.maxHeight);let G=z+2*conf$4.diagramMarginY;conf$4.mirrorActors&&(G=G-conf$4.boxMargin+conf$4.bottomMarginAdj);let P=H.stopx-H.startx;P<F.maxWidth&&(P=F.maxWidth);const W=P+2*conf$4.diagramMarginX;b&&d.append("text").text(b).attr("x",(H.stopx-H.startx)/2-2*conf$4.diagramMarginX).attr("y",-25),configureSvgSize(d,G,W,conf$4.useMaxWidth);const S=b?40:0;d.attr("viewBox",H.startx-conf$4.diagramMarginX+" -"+(conf$4.diagramMarginY+S)+" "+W+" "+(G+S)),addSVGAccessibilityFields(n.db,d,t),log$1.debug("models:",bounds$1.models)},getMaxMessageWidthPerActor=function(e,t,r){const n={};return t.forEach(function(o){if(e[o.to]&&e[o.from]){const l=e[o.to];if(o.placement===r.db.PLACEMENT.LEFTOF&&!l.prevActor||o.placement===r.db.PLACEMENT.RIGHTOF&&!l.nextActor)return;const u=o.placement!==void 0,h=!u,f=u?noteFont(conf$4):messageFont(conf$4),d=o.wrap?utils.wrapLabel(o.message,conf$4.width-2*conf$4.wrapPadding,f):o.message,m=utils.calculateTextDimensions(d,f).width+2*conf$4.wrapPadding;h&&o.from===l.nextActor?n[o.to]=Math.max(n[o.to]||0,m):h&&o.from===l.prevActor?n[o.from]=Math.max(n[o.from]||0,m):h&&o.from===o.to?(n[o.from]=Math.max(n[o.from]||0,m/2),n[o.to]=Math.max(n[o.to]||0,m/2)):o.placement===r.db.PLACEMENT.RIGHTOF?n[o.from]=Math.max(n[o.from]||0,m):o.placement===r.db.PLACEMENT.LEFTOF?n[l.prevActor]=Math.max(n[l.prevActor]||0,m):o.placement===r.db.PLACEMENT.OVER&&(l.prevActor&&(n[l.prevActor]=Math.max(n[l.prevActor]||0,m/2)),l.nextActor&&(n[o.from]=Math.max(n[o.from]||0,m/2)))}}),log$1.debug("maxMessageWidthPerActor:",n),n},getRequiredPopupWidth=function(e){let t=0;const r=actorFont(conf$4);for(const n in e.links){const l=utils.calculateTextDimensions(n,r).width+2*conf$4.wrapPadding+2*conf$4.boxMargin;t<l&&(t=l)}return t},calculateActorMargins=function(e,t){let r=0;Object.keys(e).forEach(n=>{const o=e[n];o.wrap&&(o.description=utils.wrapLabel(o.description,conf$4.width-2*conf$4.wrapPadding,actorFont(conf$4)));const l=utils.calculateTextDimensions(o.description,actorFont(conf$4));o.width=o.wrap?conf$4.width:Math.max(conf$4.width,l.width+2*conf$4.wrapPadding),o.height=o.wrap?Math.max(l.height,conf$4.height):conf$4.height,r=Math.max(r,o.height)});for(const n in t){const o=e[n];if(!o)continue;const l=e[o.nextActor];if(!l)continue;const h=t[n]+conf$4.actorMargin-o.width/2-l.width/2;o.margin=Math.max(h,conf$4.actorMargin)}return Math.max(r,conf$4.height)},buildNoteModel=function(e,t,r){const n=t[e.from].x,o=t[e.to].x,l=e.wrap&&e.message;let u=utils.calculateTextDimensions(l?utils.wrapLabel(e.message,conf$4.width,noteFont(conf$4)):e.message,noteFont(conf$4));const h={width:l?conf$4.width:Math.max(conf$4.width,u.width+2*conf$4.noteMargin),height:0,startx:t[e.from].x,stopx:0,starty:0,stopy:0,message:e.message};return e.placement===r.db.PLACEMENT.RIGHTOF?(h.width=l?Math.max(conf$4.width,u.width):Math.max(t[e.from].width/2+t[e.to].width/2,u.width+2*conf$4.noteMargin),h.startx=n+(t[e.from].width+conf$4.actorMargin)/2):e.placement===r.db.PLACEMENT.LEFTOF?(h.width=Math.max(l?conf$4.width:t[e.from].width/2+t[e.to].width/2,u.width+2*conf$4.noteMargin),h.startx=n-h.width+(t[e.from].width-conf$4.actorMargin)/2):e.to===e.from?(u=utils.calculateTextDimensions(l?utils.wrapLabel(e.message,Math.max(conf$4.width,t[e.from].width),noteFont(conf$4)):e.message,noteFont(conf$4)),h.width=l?Math.max(conf$4.width,t[e.from].width):Math.max(t[e.from].width,conf$4.width,u.width+2*conf$4.noteMargin),h.startx=n+(t[e.from].width-h.width)/2):(h.width=Math.abs(n+t[e.from].width/2-(o+t[e.to].width/2))+conf$4.actorMargin,h.startx=n<o?n+t[e.from].width/2-conf$4.actorMargin/2:o+t[e.to].width/2-conf$4.actorMargin/2),l&&(h.message=utils.wrapLabel(e.message,h.width-2*conf$4.wrapPadding,noteFont(conf$4))),log$1.debug(`NM:[${h.startx},${h.stopx},${h.starty},${h.stopy}:${h.width},${h.height}=${e.message}]`),h},buildMessageModel=function(e,t,r){let n=!1;if([r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN,r.db.LINETYPE.SOLID,r.db.LINETYPE.DOTTED,r.db.LINETYPE.SOLID_CROSS,r.db.LINETYPE.DOTTED_CROSS,r.db.LINETYPE.SOLID_POINT,r.db.LINETYPE.DOTTED_POINT].includes(e.type)&&(n=!0),!n)return{};const o=activationBounds(e.from,t),l=activationBounds(e.to,t),u=o[0]<=l[0]?1:0,h=o[0]<l[0]?0:1,f=o.concat(l),d=Math.abs(l[h]-o[u]);e.wrap&&e.message&&(e.message=utils.wrapLabel(e.message,Math.max(d+2*conf$4.wrapPadding,conf$4.width),messageFont(conf$4)));const p=utils.calculateTextDimensions(e.message,messageFont(conf$4));return{width:Math.max(e.wrap?0:p.width+2*conf$4.wrapPadding,d+2*conf$4.wrapPadding,conf$4.width),height:0,startx:o[u],stopx:l[h],starty:0,stopy:0,message:e.message,type:e.type,wrap:e.wrap,fromBounds:Math.min.apply(null,f),toBounds:Math.max.apply(null,f)}},calculateLoopBounds=function(e,t,r,n){const o={},l=[];let u,h,f;return e.forEach(function(d){switch(d.id=utils.random({length:10}),d.type){case n.db.LINETYPE.LOOP_START:case n.db.LINETYPE.ALT_START:case n.db.LINETYPE.OPT_START:case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.CRITICAL_START:case n.db.LINETYPE.BREAK_START:l.push({id:d.id,msg:d.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case n.db.LINETYPE.ALT_ELSE:case n.db.LINETYPE.PAR_AND:case n.db.LINETYPE.CRITICAL_OPTION:d.message&&(u=l.pop(),o[u.id]=u,o[d.id]=u,l.push(u));break;case n.db.LINETYPE.LOOP_END:case n.db.LINETYPE.ALT_END:case n.db.LINETYPE.OPT_END:case n.db.LINETYPE.PAR_END:case n.db.LINETYPE.CRITICAL_END:case n.db.LINETYPE.BREAK_END:u=l.pop(),o[u.id]=u;break;case n.db.LINETYPE.ACTIVE_START:{const m=t[d.from?d.from.actor:d.to.actor],g=actorActivations(d.from?d.from.actor:d.to.actor).length,b=m.x+m.width/2+(g-1)*conf$4.activationWidth/2,v={startx:b,stopx:b+conf$4.activationWidth,actor:d.from.actor,enabled:!0};bounds$1.activations.push(v)}break;case n.db.LINETYPE.ACTIVE_END:{const m=bounds$1.activations.map(g=>g.actor).lastIndexOf(d.from.actor);delete bounds$1.activations.splice(m,1)[0]}break}d.placement!==void 0?(h=buildNoteModel(d,t,n),d.noteModel=h,l.forEach(m=>{u=m,u.from=Math.min(u.from,h.startx),u.to=Math.max(u.to,h.startx+h.width),u.width=Math.max(u.width,Math.abs(u.from-u.to))-conf$4.labelBoxWidth})):(f=buildMessageModel(d,t,n),d.msgModel=f,f.startx&&f.stopx&&l.length>0&&l.forEach(m=>{if(u=m,f.startx===f.stopx){const g=t[d.from],b=t[d.to];u.from=Math.min(g.x-f.width/2,g.x-g.width/2,u.from),u.to=Math.max(b.x+f.width/2,b.x+g.width/2,u.to),u.width=Math.max(u.width,Math.abs(u.to-u.from))-conf$4.labelBoxWidth}else u.from=Math.min(f.startx,u.from),u.to=Math.max(f.stopx,u.to),u.width=Math.max(u.width,f.width)-conf$4.labelBoxWidth}))}),bounds$1.activations=[],log$1.debug("Loop type widths:",o),o},sequenceRenderer={bounds:bounds$1,drawActors,drawActorsPopup,setConf:setConf$4,draw:draw$4};var parser$1=function(){var e=function(ke,de,ce,he){for(ce=ce||{},he=ke.length;he--;ce[ke[he]]=de);return ce},t=[1,2],r=[1,3],n=[1,5],o=[1,7],l=[2,5],u=[1,15],h=[1,17],f=[1,19],d=[1,20],p=[1,21],m=[1,22],g=[1,33],b=[1,23],v=[1,24],T=[1,25],R=[1,26],I=[1,27],N=[1,30],q=[1,31],F=[1,32],H=[1,35],V=[1,36],z=[1,37],G=[1,38],P=[1,34],W=[1,41],S=[1,4,5,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],U=[1,4,5,12,13,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],L=[1,4,5,7,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],ae=[4,5,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],Q={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,idStatement:11,DESCR:12,"-->":13,HIDE_EMPTY:14,scale:15,WIDTH:16,COMPOSIT_STATE:17,STRUCT_START:18,STRUCT_STOP:19,STATE_DESCR:20,AS:21,ID:22,FORK:23,JOIN:24,CHOICE:25,CONCURRENT:26,note:27,notePosition:28,NOTE_TEXT:29,direction:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,openDirective:36,typeDirective:37,closeDirective:38,":":39,argDirective:40,direction_tb:41,direction_bt:42,direction_rl:43,direction_lr:44,eol:45,";":46,EDGE_STATE:47,left_of:48,right_of:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",12:"DESCR",13:"-->",14:"HIDE_EMPTY",15:"scale",16:"WIDTH",17:"COMPOSIT_STATE",18:"STRUCT_START",19:"STRUCT_STOP",20:"STATE_DESCR",21:"AS",22:"ID",23:"FORK",24:"JOIN",25:"CHOICE",26:"CONCURRENT",27:"note",29:"NOTE_TEXT",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",39:":",41:"direction_tb",42:"direction_bt",43:"direction_rl",44:"direction_lr",46:";",47:"EDGE_STATE",48:"left_of",49:"right_of",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[10,2],[10,2],[10,1],[6,3],[6,5],[30,1],[30,1],[30,1],[30,1],[45,1],[45,1],[11,1],[11,1],[28,1],[28,1],[36,1],[37,1],[40,1],[38,1]],performAction:function(de,ce,he,Se,ve,me,Ce){var xe=me.length-1;switch(ve){case 4:return Se.setRootDoc(me[xe]),me[xe];case 5:this.$=[];break;case 6:me[xe]!="nl"&&(me[xe-1].push(me[xe]),this.$=me[xe-1]);break;case 7:case 8:this.$=me[xe];break;case 9:this.$="nl";break;case 10:this.$={stmt:"state",id:me[xe],type:"default",description:""};break;case 11:this.$={stmt:"state",id:me[xe-1],type:"default",description:Se.trimColon(me[xe])};break;case 12:this.$={stmt:"relation",state1:{stmt:"state",id:me[xe-2],type:"default",description:""},state2:{stmt:"state",id:me[xe],type:"default",description:""}};break;case 13:this.$={stmt:"relation",state1:{stmt:"state",id:me[xe-3],type:"default",description:""},state2:{stmt:"state",id:me[xe-1],type:"default",description:""},description:me[xe].substr(1).trim()};break;case 17:this.$={stmt:"state",id:me[xe-3],type:"default",description:"",doc:me[xe-1]};break;case 18:var Ne=me[xe],pe=me[xe-2].trim();if(me[xe].match(":")){var J=me[xe].split(":");Ne=J[0],pe=[pe,J[1]]}this.$={stmt:"state",id:Ne,type:"default",description:pe};break;case 19:this.$={stmt:"state",id:me[xe-3],type:"default",description:me[xe-5],doc:me[xe-1]};break;case 20:this.$={stmt:"state",id:me[xe],type:"fork"};break;case 21:this.$={stmt:"state",id:me[xe],type:"join"};break;case 22:this.$={stmt:"state",id:me[xe],type:"choice"};break;case 23:this.$={stmt:"state",id:Se.getDividerId(),type:"divider"};break;case 24:this.$={stmt:"state",id:me[xe-1].trim(),note:{position:me[xe-2].trim(),text:me[xe].trim()}};break;case 28:this.$=me[xe].trim(),Se.setAccTitle(this.$);break;case 29:case 30:this.$=me[xe].trim(),Se.setAccDescription(this.$);break;case 33:Se.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 34:Se.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 35:Se.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 36:Se.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 39:case 40:this.$=me[xe];break;case 43:Se.parseDirective("%%{","open_directive");break;case 44:Se.parseDirective(me[xe],"type_directive");break;case 45:me[xe]=me[xe].trim().replace(/'/g,'"'),Se.parseDirective(me[xe],"arg_directive");break;case 46:Se.parseDirective("}%%","close_directive","state");break}},table:[{3:1,4:t,5:r,6:4,7:n,36:6,50:o},{1:[3]},{3:8,4:t,5:r,6:4,7:n,36:6,50:o},{3:9,4:t,5:r,6:4,7:n,36:6,50:o},{3:10,4:t,5:r,6:4,7:n,36:6,50:o},e([1,4,5,14,15,17,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],l,{8:11}),{37:12,51:[1,13]},{51:[2,43]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:u,5:h,6:28,9:14,10:16,11:18,14:f,15:d,17:p,20:m,22:g,23:b,24:v,25:T,26:R,27:I,30:29,31:N,33:q,35:F,36:6,41:H,42:V,43:z,44:G,47:P,50:o},{38:39,39:[1,40],53:W},e([39,53],[2,44]),e(S,[2,6]),{6:28,10:42,11:18,14:f,15:d,17:p,20:m,22:g,23:b,24:v,25:T,26:R,27:I,30:29,31:N,33:q,35:F,36:6,41:H,42:V,43:z,44:G,47:P,50:o},e(S,[2,8]),e(S,[2,9]),e(S,[2,10],{12:[1,43],13:[1,44]}),e(S,[2,14]),{16:[1,45]},e(S,[2,16],{18:[1,46]}),{21:[1,47]},e(S,[2,20]),e(S,[2,21]),e(S,[2,22]),e(S,[2,23]),{28:48,29:[1,49],48:[1,50],49:[1,51]},e(S,[2,26]),e(S,[2,27]),{32:[1,52]},{34:[1,53]},e(S,[2,30]),e(U,[2,39]),e(U,[2,40]),e(S,[2,33]),e(S,[2,34]),e(S,[2,35]),e(S,[2,36]),e(L,[2,31]),{40:54,52:[1,55]},e(L,[2,46]),e(S,[2,7]),e(S,[2,11]),{11:56,22:g,47:P},e(S,[2,15]),e(ae,l,{8:57}),{22:[1,58]},{22:[1,59]},{21:[1,60]},{22:[2,41]},{22:[2,42]},e(S,[2,28]),e(S,[2,29]),{38:61,53:W},{53:[2,45]},e(S,[2,12],{12:[1,62]}),{4:u,5:h,6:28,9:14,10:16,11:18,14:f,15:d,17:p,19:[1,63],20:m,22:g,23:b,24:v,25:T,26:R,27:I,30:29,31:N,33:q,35:F,36:6,41:H,42:V,43:z,44:G,47:P,50:o},e(S,[2,18],{18:[1,64]}),{29:[1,65]},{22:[1,66]},e(L,[2,32]),e(S,[2,13]),e(S,[2,17]),e(ae,l,{8:67}),e(S,[2,24]),e(S,[2,25]),{4:u,5:h,6:28,9:14,10:16,11:18,14:f,15:d,17:p,19:[1,68],20:m,22:g,23:b,24:v,25:T,26:R,27:I,30:29,31:N,33:q,35:F,36:6,41:H,42:V,43:z,44:G,47:P,50:o},e(S,[2,19])],defaultActions:{7:[2,43],8:[2,1],9:[2,2],10:[2,3],50:[2,41],51:[2,42],55:[2,45]},parseError:function(de,ce){if(ce.recoverable)this.trace(de);else{var he=new Error(de);throw he.hash=ce,he}},parse:function(de){var ce=this,he=[0],Se=[],ve=[null],me=[],Ce=this.table,xe="",Ne=0,pe=0,J=2,oe=1,ee=me.slice.call(arguments,1),Z=Object.create(this.lexer),ie={yy:{}};for(var se in this.yy)Object.prototype.hasOwnProperty.call(this.yy,se)&&(ie.yy[se]=this.yy[se]);Z.setInput(de,ie.yy),ie.yy.lexer=Z,ie.yy.parser=this,typeof Z.yylloc>"u"&&(Z.yylloc={});var te=Z.yylloc;me.push(te);var fe=Z.options&&Z.options.ranges;typeof ie.yy.parseError=="function"?this.parseError=ie.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function we(){var Ge;return Ge=Se.pop()||Z.lex()||oe,typeof Ge!="number"&&(Ge instanceof Array&&(Se=Ge,Ge=Se.pop()),Ge=ce.symbols_[Ge]||Ge),Ge}for(var Ye,He,je,Pe,Ee={},Ie,Le,Be,Te;;){if(He=he[he.length-1],this.defaultActions[He]?je=this.defaultActions[He]:((Ye===null||typeof Ye>"u")&&(Ye=we()),je=Ce[He]&&Ce[He][Ye]),typeof je>"u"||!je.length||!je[0]){var dt="";Te=[];for(Ie in Ce[He])this.terminals_[Ie]&&Ie>J&&Te.push("'"+this.terminals_[Ie]+"'");Z.showPosition?dt="Parse error on line "+(Ne+1)+`:
`+Z.showPosition()+`
Expecting `+Te.join(", ")+", got '"+(this.terminals_[Ye]||Ye)+"'":dt="Parse error on line "+(Ne+1)+": Unexpected "+(Ye==oe?"end of input":"'"+(this.terminals_[Ye]||Ye)+"'"),this.parseError(dt,{text:Z.match,token:this.terminals_[Ye]||Ye,line:Z.yylineno,loc:te,expected:Te})}if(je[0]instanceof Array&&je.length>1)throw new Error("Parse Error: multiple actions possible at state: "+He+", token: "+Ye);switch(je[0]){case 1:he.push(Ye),ve.push(Z.yytext),me.push(Z.yylloc),he.push(je[1]),Ye=null,pe=Z.yyleng,xe=Z.yytext,Ne=Z.yylineno,te=Z.yylloc;break;case 2:if(Le=this.productions_[je[1]][1],Ee.$=ve[ve.length-Le],Ee._$={first_line:me[me.length-(Le||1)].first_line,last_line:me[me.length-1].last_line,first_column:me[me.length-(Le||1)].first_column,last_column:me[me.length-1].last_column},fe&&(Ee._$.range=[me[me.length-(Le||1)].range[0],me[me.length-1].range[1]]),Pe=this.performAction.apply(Ee,[xe,pe,Ne,ie.yy,je[1],ve,me].concat(ee)),typeof Pe<"u")return Pe;Le&&(he=he.slice(0,-1*Le*2),ve=ve.slice(0,-1*Le),me=me.slice(0,-1*Le)),he.push(this.productions_[je[1]][0]),ve.push(Ee.$),me.push(Ee._$),Be=Ce[he[he.length-2]][he[he.length-1]],he.push(Be);break;case 3:return!0}}return!0}},ue=function(){var ke={EOF:1,parseError:function(ce,he){if(this.yy.parser)this.yy.parser.parseError(ce,he);else throw new Error(ce)},setInput:function(de,ce){return this.yy=ce||this.yy||{},this._input=de,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var de=this._input[0];this.yytext+=de,this.yyleng++,this.offset++,this.match+=de,this.matched+=de;var ce=de.match(/(?:\r\n?|\n).*/g);return ce?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),de},unput:function(de){var ce=de.length,he=de.split(/(?:\r\n?|\n)/g);this._input=de+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ce),this.offset-=ce;var Se=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),he.length-1&&(this.yylineno-=he.length-1);var ve=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:he?(he.length===Se.length?this.yylloc.first_column:0)+Se[Se.length-he.length].length-he[0].length:this.yylloc.first_column-ce},this.options.ranges&&(this.yylloc.range=[ve[0],ve[0]+this.yyleng-ce]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(de){this.unput(this.match.slice(de))},pastInput:function(){var de=this.matched.substr(0,this.matched.length-this.match.length);return(de.length>20?"...":"")+de.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var de=this.match;return de.length<20&&(de+=this._input.substr(0,20-de.length)),(de.substr(0,20)+(de.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var de=this.pastInput(),ce=new Array(de.length+1).join("-");return de+this.upcomingInput()+`
`+ce+"^"},test_match:function(de,ce){var he,Se,ve;if(this.options.backtrack_lexer&&(ve={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ve.yylloc.range=this.yylloc.range.slice(0))),Se=de[0].match(/(?:\r\n?|\n).*/g),Se&&(this.yylineno+=Se.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Se?Se[Se.length-1].length-Se[Se.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+de[0].length},this.yytext+=de[0],this.match+=de[0],this.matches=de,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(de[0].length),this.matched+=de[0],he=this.performAction.call(this,this.yy,this,ce,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),he)return he;if(this._backtrack){for(var me in ve)this[me]=ve[me];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var de,ce,he,Se;this._more||(this.yytext="",this.match="");for(var ve=this._currentRules(),me=0;me<ve.length;me++)if(he=this._input.match(this.rules[ve[me]]),he&&(!ce||he[0].length>ce[0].length)){if(ce=he,Se=me,this.options.backtrack_lexer){if(de=this.test_match(he,ve[me]),de!==!1)return de;if(this._backtrack){ce=!1;continue}else return!1}else if(!this.options.flex)break}return ce?(de=this.test_match(ce,ve[Se]),de!==!1?de:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var ce=this.next();return ce||this.lex()},begin:function(ce){this.conditionStack.push(ce)},popState:function(){var ce=this.conditionStack.length-1;return ce>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(ce){return ce=this.conditionStack.length-1-Math.abs(ce||0),ce>=0?this.conditionStack[ce]:"INITIAL"},pushState:function(ce){this.begin(ce)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(ce,he,Se,ve){switch(Se){case 0:return 41;case 1:return 42;case 2:return 43;case 3:return 44;case 4:return this.begin("open_directive"),50;case 5:return this.begin("type_directive"),51;case 6:return this.popState(),this.begin("arg_directive"),39;case 7:return this.popState(),this.popState(),53;case 8:return 52;case 9:break;case 10:break;case 11:return 5;case 12:break;case 13:break;case 14:break;case 15:break;case 16:return this.pushState("SCALE"),15;case 17:return 16;case 18:this.popState();break;case 19:return this.begin("acc_title"),31;case 20:return this.popState(),"acc_title_value";case 21:return this.begin("acc_descr"),33;case 22:return this.popState(),"acc_descr_value";case 23:this.begin("acc_descr_multiline");break;case 24:this.popState();break;case 25:return"acc_descr_multiline_value";case 26:this.pushState("STATE");break;case 27:return this.popState(),he.yytext=he.yytext.slice(0,-8).trim(),23;case 28:return this.popState(),he.yytext=he.yytext.slice(0,-8).trim(),24;case 29:return this.popState(),he.yytext=he.yytext.slice(0,-10).trim(),25;case 30:return this.popState(),he.yytext=he.yytext.slice(0,-8).trim(),23;case 31:return this.popState(),he.yytext=he.yytext.slice(0,-8).trim(),24;case 32:return this.popState(),he.yytext=he.yytext.slice(0,-10).trim(),25;case 33:return 41;case 34:return 42;case 35:return 43;case 36:return 44;case 37:this.begin("STATE_STRING");break;case 38:return this.popState(),this.pushState("STATE_ID"),"AS";case 39:return this.popState(),"ID";case 40:this.popState();break;case 41:return"STATE_DESCR";case 42:return 17;case 43:this.popState();break;case 44:return this.popState(),this.pushState("struct"),18;case 45:return this.popState(),19;case 46:break;case 47:return this.begin("NOTE"),27;case 48:return this.popState(),this.pushState("NOTE_ID"),48;case 49:return this.popState(),this.pushState("NOTE_ID"),49;case 50:this.popState(),this.pushState("FLOATING_NOTE");break;case 51:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 52:break;case 53:return"NOTE_TEXT";case 54:return this.popState(),"ID";case 55:return this.popState(),this.pushState("NOTE_TEXT"),22;case 56:return this.popState(),he.yytext=he.yytext.substr(2).trim(),29;case 57:return this.popState(),he.yytext=he.yytext.slice(0,-8).trim(),29;case 58:return 7;case 59:return 7;case 60:return 14;case 61:return 47;case 62:return 22;case 63:return he.yytext=he.yytext.trim(),12;case 64:return 13;case 65:return 26;case 66:return 5;case 67:return"INVALID"}},rules:[/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[13,14],inclusive:!1},close_directive:{rules:[13,14],inclusive:!1},arg_directive:{rules:[7,8,13,14],inclusive:!1},type_directive:{rules:[6,7,13,14],inclusive:!1},open_directive:{rules:[5,13,14],inclusive:!1},struct:{rules:[13,14,26,33,34,35,36,45,46,47,61,62,63,64,65],inclusive:!1},FLOATING_NOTE_ID:{rules:[54],inclusive:!1},FLOATING_NOTE:{rules:[51,52,53],inclusive:!1},NOTE_TEXT:{rules:[56,57],inclusive:!1},NOTE_ID:{rules:[55],inclusive:!1},NOTE:{rules:[48,49,50],inclusive:!1},acc_descr_multiline:{rules:[24,25],inclusive:!1},acc_descr:{rules:[22],inclusive:!1},acc_title:{rules:[20],inclusive:!1},SCALE:{rules:[17,18],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[39],inclusive:!1},STATE_STRING:{rules:[40,41],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[13,14,27,28,29,30,31,32,37,38,42,43,44],inclusive:!1},ID:{rules:[13,14],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,12,14,15,16,19,21,23,26,44,47,58,59,60,61,62,63,64,66,67],inclusive:!0}}};return ke}();Q.lexer=ue;function _e(){this.yy={}}return _e.prototype=Q,Q.Parser=_e,new _e}();parser$1.parser=parser$1;const stateDetector=(e,t)=>{var r;return((r=t==null?void 0:t.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:e.match(/^\s*stateDiagram/)!==null},stateDetectorV2=(e,t)=>{var r;return!!(e.match(/^\s*stateDiagram-v2/)!==null||e.match(/^\s*stateDiagram/)&&((r=t==null?void 0:t.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper")},clone=e=>JSON.parse(JSON.stringify(e));let rootDoc=[];const parseDirective$2=function(e,t,r){mermaidAPI.parseDirective(this,e,t,r)},setRootDoc=e=>{log$1.info("Setting root doc",e),rootDoc=e},getRootDoc=()=>rootDoc,docTranslator=(e,t,r)=>{if(t.stmt==="relation")docTranslator(e,t.state1,!0),docTranslator(e,t.state2,!1);else if(t.stmt==="state"&&t.id==="[*]"&&(t.id=r?e.id+"_start":e.id+"_end",t.start=r),t.doc){const n=[];let o=0,l=[];for(o=0;o<t.doc.length;o++)if(t.doc[o].type==="divider"){const u=clone(t.doc[o]);u.doc=clone(l),n.push(u),l=[]}else l.push(t.doc[o]);if(n.length>0&&l.length>0){const u={stmt:"state",id:generateId$1(),type:"divider",doc:clone(l)};n.push(clone(u)),t.doc=n}t.doc.forEach(u=>docTranslator(t,u,!0))}},getRootDocV2=()=>(docTranslator({id:"root"},{id:"root",doc:rootDoc},!0),{id:"root",doc:rootDoc}),extract=e=>{let t;e.doc?t=e.doc:t=e,log$1.info(t),clear$1(!0),log$1.info("Extract",t),t.forEach(r=>{r.stmt==="state"&&addState(r.id,r.type,r.doc,r.description,r.note),r.stmt==="relation"&&addRelation(r.state1.id,r.state2.id,r.description)})},newDoc=()=>({relations:[],states:{},documents:{}});let documents={root:newDoc()},currentDocument=documents.root,startCnt=0;const addState=function(e,t,r,n,o){typeof currentDocument.states[e]>"u"?currentDocument.states[e]={id:e,descriptions:[],type:t,doc:r,note:o}:(currentDocument.states[e].doc||(currentDocument.states[e].doc=r),currentDocument.states[e].type||(currentDocument.states[e].type=t)),n&&(log$1.info("Adding state ",e,n),typeof n=="string"&&addDescription(e,n.trim()),typeof n=="object"&&n.forEach(l=>addDescription(e,l.trim()))),o&&(currentDocument.states[e].note=o,currentDocument.states[e].note.text=common.sanitizeText(currentDocument.states[e].note.text,getConfig$1()))},clear$1=function(e){documents={root:newDoc()},currentDocument=documents.root,currentDocument=documents.root,startCnt=0,classes=[],e||clear$g()},getState=function(e){return currentDocument.states[e]},getStates=function(){return currentDocument.states},logDocuments=function(){log$1.info("Documents = ",documents)},getRelations=function(){return currentDocument.relations},addRelation=function(e,t,r){let n=e,o=t,l="default",u="default";e==="[*]"&&(startCnt++,n="start"+startCnt,l="start"),t==="[*]"&&(o="end"+startCnt,u="end"),addState(n,l),addState(o,u),currentDocument.relations.push({id1:n,id2:o,title:common.sanitizeText(r,getConfig$1())})},addDescription=function(e,t){const r=currentDocument.states[e];let n=t;n[0]===":"&&(n=n.substr(1).trim()),r.descriptions.push(common.sanitizeText(n,getConfig$1()))},cleanupLabel=function(e){return e.substring(0,1)===":"?e.substr(2).trim():e.trim()},lineType={LINE:0,DOTTED_LINE:1};let dividerCnt=0;const getDividerId=()=>(dividerCnt++,"divider-id-"+dividerCnt);let classes=[];const getClasses$1=()=>classes;let direction="TB";const getDirection=()=>direction,setDirection=e=>{direction=e},relationType={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},trimColon=e=>e&&e[0]===":"?e.substr(1).trim():e.trim(),stateDb={parseDirective:parseDirective$2,getConfig:()=>getConfig$1().state,addState,clear:clear$1,getState,getStates,getRelations,getClasses:getClasses$1,getDirection,addRelation,getDividerId,setDirection,cleanupLabel,lineType,relationType,logDocuments,getRootDoc,setRootDoc,getRootDocV2,extract,trimColon,getAccTitle,setAccTitle,getAccDescription,setAccDescription},drawStartState=e=>e.append("circle").attr("class","start-state").attr("r",getConfig$1().state.sizeUnit).attr("cx",getConfig$1().state.padding+getConfig$1().state.sizeUnit).attr("cy",getConfig$1().state.padding+getConfig$1().state.sizeUnit),drawDivider=e=>e.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",getConfig$1().state.textHeight).attr("class","divider").attr("x2",getConfig$1().state.textHeight*2).attr("y1",0).attr("y2",0),drawSimpleState=(e,t)=>{const r=e.append("text").attr("x",2*getConfig$1().state.padding).attr("y",getConfig$1().state.textHeight+2*getConfig$1().state.padding).attr("font-size",getConfig$1().state.fontSize).attr("class","state-title").text(t.id),n=r.node().getBBox();return e.insert("rect",":first-child").attr("x",getConfig$1().state.padding).attr("y",getConfig$1().state.padding).attr("width",n.width+2*getConfig$1().state.padding).attr("height",n.height+2*getConfig$1().state.padding).attr("rx",getConfig$1().state.radius),r},drawDescrState=(e,t)=>{const r=function(g,b,v){const T=g.append("tspan").attr("x",2*getConfig$1().state.padding).text(b);v||T.attr("dy",getConfig$1().state.textHeight)},o=e.append("text").attr("x",2*getConfig$1().state.padding).attr("y",getConfig$1().state.textHeight+1.3*getConfig$1().state.padding).attr("font-size",getConfig$1().state.fontSize).attr("class","state-title").text(t.descriptions[0]).node().getBBox(),l=o.height,u=e.append("text").attr("x",getConfig$1().state.padding).attr("y",l+getConfig$1().state.padding*.4+getConfig$1().state.dividerMargin+getConfig$1().state.textHeight).attr("class","state-description");let h=!0,f=!0;t.descriptions.forEach(function(g){h||(r(u,g,f),f=!1),h=!1});const d=e.append("line").attr("x1",getConfig$1().state.padding).attr("y1",getConfig$1().state.padding+l+getConfig$1().state.dividerMargin/2).attr("y2",getConfig$1().state.padding+l+getConfig$1().state.dividerMargin/2).attr("class","descr-divider"),p=u.node().getBBox(),m=Math.max(p.width,o.width);return d.attr("x2",m+3*getConfig$1().state.padding),e.insert("rect",":first-child").attr("x",getConfig$1().state.padding).attr("y",getConfig$1().state.padding).attr("width",m+2*getConfig$1().state.padding).attr("height",p.height+l+2*getConfig$1().state.padding).attr("rx",getConfig$1().state.radius),e},addTitleAndBox=(e,t,r)=>{const n=getConfig$1().state.padding,o=2*getConfig$1().state.padding,l=e.node().getBBox(),u=l.width,h=l.x,f=e.append("text").attr("x",0).attr("y",getConfig$1().state.titleShift).attr("font-size",getConfig$1().state.fontSize).attr("class","state-title").text(t.id),p=f.node().getBBox().width+o;let m=Math.max(p,u);m===u&&(m=m+o);let g;const b=e.node().getBBox();t.doc,g=h-n,p>u&&(g=(u-m)/2+n),Math.abs(h-b.x)<n&&p>u&&(g=h-(p-u)/2);const v=1-getConfig$1().state.textHeight;return e.insert("rect",":first-child").attr("x",g).attr("y",v).attr("class",r?"alt-composit":"composit").attr("width",m).attr("height",b.height+getConfig$1().state.textHeight+getConfig$1().state.titleShift+1).attr("rx","0"),f.attr("x",g+n),p<=u&&f.attr("x",h+(m-o)/2-p/2+n),e.insert("rect",":first-child").attr("x",g).attr("y",getConfig$1().state.titleShift-getConfig$1().state.textHeight-getConfig$1().state.padding).attr("width",m).attr("height",getConfig$1().state.textHeight*3).attr("rx",getConfig$1().state.radius),e.insert("rect",":first-child").attr("x",g).attr("y",getConfig$1().state.titleShift-getConfig$1().state.textHeight-getConfig$1().state.padding).attr("width",m).attr("height",b.height+3+2*getConfig$1().state.textHeight).attr("rx",getConfig$1().state.radius),e},drawEndState=e=>(e.append("circle").attr("class","end-state-outer").attr("r",getConfig$1().state.sizeUnit+getConfig$1().state.miniPadding).attr("cx",getConfig$1().state.padding+getConfig$1().state.sizeUnit+getConfig$1().state.miniPadding).attr("cy",getConfig$1().state.padding+getConfig$1().state.sizeUnit+getConfig$1().state.miniPadding),e.append("circle").attr("class","end-state-inner").attr("r",getConfig$1().state.sizeUnit).attr("cx",getConfig$1().state.padding+getConfig$1().state.sizeUnit+2).attr("cy",getConfig$1().state.padding+getConfig$1().state.sizeUnit+2)),drawForkJoinState=(e,t)=>{let r=getConfig$1().state.forkWidth,n=getConfig$1().state.forkHeight;if(t.parentId){let o=r;r=n,n=o}return e.append("rect").style("stroke","black").style("fill","black").attr("width",r).attr("height",n).attr("x",getConfig$1().state.padding).attr("y",getConfig$1().state.padding)},_drawLongText=(e,t,r,n)=>{let o=0;const l=n.append("text");l.style("text-anchor","start"),l.attr("class","noteText");let u=e.replace(/\r\n/g,"<br/>");u=u.replace(/\n/g,"<br/>");const h=u.split(common.lineBreakRegex);let f=1.25*getConfig$1().state.noteMargin;for(const d of h){const p=d.trim();if(p.length>0){const m=l.append("tspan");m.text(p),f===0&&(f+=m.node().getBBox().height),o+=f,m.attr("x",t+getConfig$1().state.noteMargin),m.attr("y",r+o+1.25*getConfig$1().state.noteMargin)}}return{textWidth:l.node().getBBox().width,textHeight:o}},drawNote=(e,t)=>{t.attr("class","state-note");const r=t.append("rect").attr("x",0).attr("y",getConfig$1().state.padding),n=t.append("g"),{textWidth:o,textHeight:l}=_drawLongText(e,0,0,n);return r.attr("height",l+2*getConfig$1().state.noteMargin),r.attr("width",o+getConfig$1().state.noteMargin*2),r},drawState=function(e,t){const r=t.id,n={id:r,label:t.id,width:0,height:0},o=e.append("g").attr("id",r).attr("class","stateGroup");t.type==="start"&&drawStartState(o),t.type==="end"&&drawEndState(o),(t.type==="fork"||t.type==="join")&&drawForkJoinState(o,t),t.type==="note"&&drawNote(t.note.text,o),t.type==="divider"&&drawDivider(o),t.type==="default"&&t.descriptions.length===0&&drawSimpleState(o,t),t.type==="default"&&t.descriptions.length>0&&drawDescrState(o,t);const l=o.node().getBBox();return n.width=l.width+2*getConfig$1().state.padding,n.height=l.height+2*getConfig$1().state.padding,n};let edgeCount=0;const drawEdge=function(e,t,r){const n=function(f){switch(f){case stateDb.relationType.AGGREGATION:return"aggregation";case stateDb.relationType.EXTENSION:return"extension";case stateDb.relationType.COMPOSITION:return"composition";case stateDb.relationType.DEPENDENCY:return"dependency"}};t.points=t.points.filter(f=>!Number.isNaN(f.y));const o=t.points,l=line$2().x(function(f){return f.x}).y(function(f){return f.y}).curve(curveBasis),u=e.append("path").attr("d",l(o)).attr("id","edge"+edgeCount).attr("class","transition");let h="";if(getConfig$1().state.arrowMarkerAbsolute&&(h=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,h=h.replace(/\(/g,"\\("),h=h.replace(/\)/g,"\\)")),u.attr("marker-end","url("+h+"#"+n(stateDb.relationType.DEPENDENCY)+"End)"),typeof r.title<"u"){const f=e.append("g").attr("class","stateLabel"),{x:d,y:p}=utils.calcLabelPosition(t.points),m=common.getRows(r.title);let g=0;const b=[];let v=0,T=0;for(let N=0;N<=m.length;N++){const q=f.append("text").attr("text-anchor","middle").text(m[N]).attr("x",d).attr("y",p+g),F=q.node().getBBox();v=Math.max(v,F.width),T=Math.min(T,F.x),log$1.info(F.x,d,p+g),g===0&&(g=q.node().getBBox().height,log$1.info("Title height",g,p)),b.push(q)}let R=g*m.length;if(m.length>1){const N=(m.length-1)*g*.5;b.forEach((q,F)=>q.attr("y",p+F*g-N)),R=g*m.length}const I=f.node().getBBox();f.insert("rect",":first-child").attr("class","box").attr("x",d-v/2-getConfig$1().state.padding/2).attr("y",p-R/2-getConfig$1().state.padding/2-3.5).attr("width",v+getConfig$1().state.padding).attr("height",R+getConfig$1().state.padding),log$1.info(I)}edgeCount++};let conf$3;const transformationLog={},setConf$3=function(){},insertMarkers=function(e){e.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},draw$3=function(e,t,r,n){conf$3=getConfig$1().state;const o=getConfig$1().securityLevel;let l;o==="sandbox"&&(l=select$1("#i"+t));const u=select$1(o==="sandbox"?l.nodes()[0].contentDocument.body:"body"),h=o==="sandbox"?l.nodes()[0].contentDocument:document;log$1.debug("Rendering diagram "+e);const f=u.select(`[id='${t}']`);insertMarkers(f),new graphlib$2.Graph({multigraph:!0,compound:!0,rankdir:"RL"}).setDefaultEdgeLabel(function(){return{}});const p=n.db.getRootDoc();renderDoc(p,f,void 0,!1,u,h,n);const m=conf$3.padding,g=f.node().getBBox(),b=g.width+m*2,v=g.height+m*2,T=b*1.75;configureSvgSize(f,v,T,conf$3.useMaxWidth),f.attr("viewBox",`${g.x-conf$3.padding}  ${g.y-conf$3.padding} `+b+" "+v),addSVGAccessibilityFields(n.db,f,t)},getLabelWidth=e=>e?e.length*conf$3.fontSizeFactor:1,renderDoc=(e,t,r,n,o,l,u)=>{const h=new graphlib$2.Graph({compound:!0,multigraph:!0});let f,d=!0;for(f=0;f<e.length;f++)if(e[f].stmt==="relation"){d=!1;break}r?h.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:d?1:conf$3.edgeLengthFactor,nodeSep:d?1:50,isMultiGraph:!0}):h.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:d?1:conf$3.edgeLengthFactor,nodeSep:d?1:50,ranker:"tight-tree",isMultiGraph:!0}),h.setDefaultEdgeLabel(function(){return{}}),u.db.extract(e);const p=u.db.getStates(),m=u.db.getRelations(),g=Object.keys(p);for(let I=0;I<g.length;I++){const N=p[g[I]];r&&(N.parentId=r);let q;if(N.doc){let F=t.append("g").attr("id",N.id).attr("class","stateGroup");q=renderDoc(N.doc,F,N.id,!n,o,l,u);{F=addTitleAndBox(F,N,n);let H=F.node().getBBox();q.width=H.width,q.height=H.height+conf$3.padding/2,transformationLog[N.id]={y:conf$3.compositTitleSize}}}else q=drawState(t,N);if(N.note){const F={descriptions:[],id:N.id+"-note",note:N.note,type:"note"},H=drawState(t,F);N.note.position==="left of"?(h.setNode(q.id+"-note",H),h.setNode(q.id,q)):(h.setNode(q.id,q),h.setNode(q.id+"-note",H)),h.setParent(q.id,q.id+"-group"),h.setParent(q.id+"-note",q.id+"-group")}else h.setNode(q.id,q)}log$1.debug("Count=",h.nodeCount(),h);let b=0;m.forEach(function(I){b++,log$1.debug("Setting edge",I),h.setEdge(I.id1,I.id2,{relation:I,width:getLabelWidth(I.title),height:conf$3.labelHeight*common.getRows(I.title).length,labelpos:"c"},"id"+b)}),dagre$1.layout(h),log$1.debug("Graph after layout",h.nodes());const v=t.node();h.nodes().forEach(function(I){typeof I<"u"&&typeof h.node(I)<"u"?(log$1.warn("Node "+I+": "+JSON.stringify(h.node(I))),o.select("#"+v.id+" #"+I).attr("transform","translate("+(h.node(I).x-h.node(I).width/2)+","+(h.node(I).y+(transformationLog[I]?transformationLog[I].y:0)-h.node(I).height/2)+" )"),o.select("#"+v.id+" #"+I).attr("data-x-shift",h.node(I).x-h.node(I).width/2),l.querySelectorAll("#"+v.id+" #"+I+" .divider").forEach(q=>{const F=q.parentElement;let H=0,V=0;F&&(F.parentElement&&(H=F.parentElement.getBBox().width),V=parseInt(F.getAttribute("data-x-shift"),10),Number.isNaN(V)&&(V=0)),q.setAttribute("x1",0-V+8),q.setAttribute("x2",H-V-8)})):log$1.debug("No Node "+I+": "+JSON.stringify(h.node(I)))});let T=v.getBBox();h.edges().forEach(function(I){typeof I<"u"&&typeof h.edge(I)<"u"&&(log$1.debug("Edge "+I.v+" -> "+I.w+": "+JSON.stringify(h.edge(I))),drawEdge(t,h.edge(I),h.edge(I).relation))}),T=v.getBBox();const R={id:r||"root",label:r||"root",width:0,height:0};return R.width=T.width+2*conf$3.padding,R.height=T.height+2*conf$3.padding,log$1.debug("Doc rendered",R,h),R},stateRenderer={setConf:setConf$3,draw:draw$3},conf$2={},setConf$2=function(e){const t=Object.keys(e);for(let r=0;r<t.length;r++)conf$2[t[r]]=e[t[r]]};let nodeDb={};const getClasses=function(e,t){return log$1.trace("Extracting classes"),t.sb.clear(),t.parser.parse(e),t.sb.getClasses()},setupNode=(e,t,r,n)=>{if(r.id!=="root"){let o="rect";r.start===!0&&(o="start"),r.start===!1&&(o="end"),r.type!=="default"&&(o=r.type),nodeDb[r.id]||(nodeDb[r.id]={id:r.id,shape:o,description:common.sanitizeText(r.id,getConfig$1()),classes:"statediagram-state"}),r.description&&(Array.isArray(nodeDb[r.id].description)?(nodeDb[r.id].shape="rectWithTitle",nodeDb[r.id].description.push(r.description)):nodeDb[r.id].description.length>0?(nodeDb[r.id].shape="rectWithTitle",nodeDb[r.id].description===r.id?nodeDb[r.id].description=[r.description]:nodeDb[r.id].description=[nodeDb[r.id].description,r.description]):(nodeDb[r.id].shape="rect",nodeDb[r.id].description=r.description),nodeDb[r.id].description=common.sanitizeTextOrArray(nodeDb[r.id].description,getConfig$1())),nodeDb[r.id].description.length===1&&nodeDb[r.id].shape==="rectWithTitle"&&(nodeDb[r.id].shape="rect"),!nodeDb[r.id].type&&r.doc&&(log$1.info("Setting cluster for ",r.id,getDir(r)),nodeDb[r.id].type="group",nodeDb[r.id].dir=getDir(r),nodeDb[r.id].shape=r.type==="divider"?"divider":"roundedWithTitle",nodeDb[r.id].classes=nodeDb[r.id].classes+" "+(n?"statediagram-cluster statediagram-cluster-alt":"statediagram-cluster"));const l={labelStyle:"",shape:nodeDb[r.id].shape,labelText:nodeDb[r.id].description,classes:nodeDb[r.id].classes,style:"",id:r.id,dir:nodeDb[r.id].dir,domId:"state-"+r.id+"-"+cnt,type:nodeDb[r.id].type,padding:15};if(r.note){const u={labelStyle:"",shape:"note",labelText:r.note.text,classes:"statediagram-note",style:"",id:r.id+"----note-"+cnt,domId:"state-"+r.id+"----note-"+cnt,type:nodeDb[r.id].type,padding:15},h={labelStyle:"",shape:"noteGroup",labelText:r.note.text,classes:nodeDb[r.id].classes,style:"",id:r.id+"----parent",domId:"state-"+r.id+"----parent-"+cnt,type:"group",padding:0};cnt++,e.setNode(r.id+"----parent",h),e.setNode(u.id,u),e.setNode(r.id,l),e.setParent(r.id,r.id+"----parent"),e.setParent(u.id,r.id+"----parent");let f=r.id,d=u.id;r.note.position==="left of"&&(f=u.id,d=r.id),e.setEdge(f,d,{arrowhead:"none",arrowType:"",style:"fill:none",labelStyle:"",classes:"transition note-edge",arrowheadStyle:"fill: #333",labelpos:"c",labelType:"text",thickness:"normal"})}else e.setNode(r.id,l)}t&&t.id!=="root"&&(log$1.trace("Setting node ",r.id," to be child of its parent ",t.id),e.setParent(r.id,t.id)),r.doc&&(log$1.trace("Adding nodes children "),setupDoc(e,r,r.doc,!n))};let cnt=0;const setupDoc=(e,t,r,n)=>{log$1.trace("items",r),r.forEach(o=>{if(o.stmt==="state"||o.stmt==="default")setupNode(e,t,o,n);else if(o.stmt==="relation"){setupNode(e,t,o.state1,n),setupNode(e,t,o.state2,n);const l={id:"edge"+cnt,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:"fill:none",labelStyle:"",label:common.sanitizeText(o.description,getConfig$1()),arrowheadStyle:"fill: #333",labelpos:"c",labelType:"text",thickness:"normal",classes:"transition"};let u=o.state1.id,h=o.state2.id;e.setEdge(u,h,l,cnt),cnt++}})},getDir=(e,t)=>{let r=t||"TB";if(e.doc)for(let n=0;n<e.doc.length;n++){const o=e.doc[n];o.stmt==="dir"&&(r=o.value)}return r},draw$2=function(e,t,r,n){log$1.info("Drawing state diagram (v2)",t),nodeDb={},n.db.getDirection();const{securityLevel:o,state:l}=getConfig$1(),u=l.nodeSpacing||50,h=l.rankSpacing||50;log$1.info(n.db.getRootDocV2()),n.db.extract(n.db.getRootDocV2()),log$1.info(n.db.getRootDocV2());const f=new graphlib$2.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:getDir(n.db.getRootDocV2()),nodesep:u,ranksep:h,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});setupNode(f,void 0,n.db.getRootDocV2(),!0);let d;o==="sandbox"&&(d=select$1("#i"+t));const p=select$1(o==="sandbox"?d.nodes()[0].contentDocument.body:"body"),m=p.select(`[id="${t}"]`),g=p.select("#"+t+" g");render$1(g,f,["barb"],"statediagram",t);const b=8,v=m.node().getBBox(),T=v.width+b*2,R=v.height+b*2;m.attr("class","statediagram");const I=m.node().getBBox();configureSvgSize(m,R,T,l.useMaxWidth);const N=`${I.x-b} ${I.y-b} ${T} ${R}`;log$1.debug(`viewBox ${N}`),m.attr("viewBox",N);const q=document.querySelectorAll('[id="'+t+'"] .edgeLabel .label');for(let F=0;F<q.length;F++){const H=q[F],V=H.getBBox(),z=document.createElementNS("http://www.w3.org/2000/svg","rect");z.setAttribute("rx",0),z.setAttribute("ry",0),z.setAttribute("width",V.width),z.setAttribute("height",V.height),H.insertBefore(z,H.firstChild)}addSVGAccessibilityFields(n.db,m,t)},stateRendererV2={setConf:setConf$2,getClasses,draw:draw$2};var parser=function(){var e=function(T,R,I,N){for(I=I||{},N=T.length;N--;I[T[N]]=R);return I},t=[1,2],r=[1,5],n=[6,9,11,17,18,20,22,23,24,26],o=[1,15],l=[1,16],u=[1,17],h=[1,18],f=[1,19],d=[1,20],p=[1,24],m=[4,6,9,11,17,18,20,22,23,24,26],g={trace:function(){},yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,title:17,acc_title:18,acc_title_value:19,acc_descr:20,acc_descr_value:21,acc_descr_multiline_value:22,section:23,taskName:24,taskData:25,open_directive:26,type_directive:27,arg_directive:28,close_directive:29,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",17:"title",18:"acc_title",19:"acc_title_value",20:"acc_descr",21:"acc_descr_value",22:"acc_descr_multiline_value",23:"section",24:"taskName",25:"taskData",26:"open_directive",27:"type_directive",28:"arg_directive",29:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,2],[10,2],[10,1],[10,1],[10,2],[10,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(R,I,N,q,F,H,V){var z=H.length-1;switch(F){case 1:return H[z-1];case 3:this.$=[];break;case 4:H[z-1].push(H[z]),this.$=H[z-1];break;case 5:case 6:this.$=H[z];break;case 7:case 8:this.$=[];break;case 11:q.setDiagramTitle(H[z].substr(6)),this.$=H[z].substr(6);break;case 12:this.$=H[z].trim(),q.setAccTitle(this.$);break;case 13:case 14:this.$=H[z].trim(),q.setAccDescription(this.$);break;case 15:q.addSection(H[z].substr(8)),this.$=H[z].substr(8);break;case 16:q.addTask(H[z-1],H[z]),this.$="task";break;case 18:q.parseDirective("%%{","open_directive");break;case 19:q.parseDirective(H[z],"type_directive");break;case 20:H[z]=H[z].trim().replace(/'/g,'"'),q.parseDirective(H[z],"arg_directive");break;case 21:q.parseDirective("}%%","close_directive","journey");break}},table:[{3:1,4:t,7:3,12:4,26:r},{1:[3]},e(n,[2,3],{5:6}),{3:7,4:t,7:3,12:4,26:r},{13:8,27:[1,9]},{27:[2,18]},{6:[1,10],7:21,8:11,9:[1,12],10:13,11:[1,14],12:4,17:o,18:l,20:u,22:h,23:f,24:d,26:r},{1:[2,2]},{14:22,15:[1,23],29:p},e([15,29],[2,19]),e(n,[2,8],{1:[2,1]}),e(n,[2,4]),{7:21,10:25,12:4,17:o,18:l,20:u,22:h,23:f,24:d,26:r},e(n,[2,6]),e(n,[2,7]),e(n,[2,11]),{19:[1,26]},{21:[1,27]},e(n,[2,14]),e(n,[2,15]),{25:[1,28]},e(n,[2,17]),{11:[1,29]},{16:30,28:[1,31]},{11:[2,21]},e(n,[2,5]),e(n,[2,12]),e(n,[2,13]),e(n,[2,16]),e(m,[2,9]),{14:32,29:p},{29:[2,20]},{11:[1,33]},e(m,[2,10])],defaultActions:{5:[2,18],7:[2,2],24:[2,21],31:[2,20]},parseError:function(R,I){if(I.recoverable)this.trace(R);else{var N=new Error(R);throw N.hash=I,N}},parse:function(R){var I=this,N=[0],q=[],F=[null],H=[],V=this.table,z="",G=0,P=0,W=2,S=1,U=H.slice.call(arguments,1),L=Object.create(this.lexer),ae={yy:{}};for(var Q in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Q)&&(ae.yy[Q]=this.yy[Q]);L.setInput(R,ae.yy),ae.yy.lexer=L,ae.yy.parser=this,typeof L.yylloc>"u"&&(L.yylloc={});var ue=L.yylloc;H.push(ue);var _e=L.options&&L.options.ranges;typeof ae.yy.parseError=="function"?this.parseError=ae.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ke(){var J;return J=q.pop()||L.lex()||S,typeof J!="number"&&(J instanceof Array&&(q=J,J=q.pop()),J=I.symbols_[J]||J),J}for(var de,ce,he,Se,ve={},me,Ce,xe,Ne;;){if(ce=N[N.length-1],this.defaultActions[ce]?he=this.defaultActions[ce]:((de===null||typeof de>"u")&&(de=ke()),he=V[ce]&&V[ce][de]),typeof he>"u"||!he.length||!he[0]){var pe="";Ne=[];for(me in V[ce])this.terminals_[me]&&me>W&&Ne.push("'"+this.terminals_[me]+"'");L.showPosition?pe="Parse error on line "+(G+1)+`:
`+L.showPosition()+`
Expecting `+Ne.join(", ")+", got '"+(this.terminals_[de]||de)+"'":pe="Parse error on line "+(G+1)+": Unexpected "+(de==S?"end of input":"'"+(this.terminals_[de]||de)+"'"),this.parseError(pe,{text:L.match,token:this.terminals_[de]||de,line:L.yylineno,loc:ue,expected:Ne})}if(he[0]instanceof Array&&he.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ce+", token: "+de);switch(he[0]){case 1:N.push(de),F.push(L.yytext),H.push(L.yylloc),N.push(he[1]),de=null,P=L.yyleng,z=L.yytext,G=L.yylineno,ue=L.yylloc;break;case 2:if(Ce=this.productions_[he[1]][1],ve.$=F[F.length-Ce],ve._$={first_line:H[H.length-(Ce||1)].first_line,last_line:H[H.length-1].last_line,first_column:H[H.length-(Ce||1)].first_column,last_column:H[H.length-1].last_column},_e&&(ve._$.range=[H[H.length-(Ce||1)].range[0],H[H.length-1].range[1]]),Se=this.performAction.apply(ve,[z,P,G,ae.yy,he[1],F,H].concat(U)),typeof Se<"u")return Se;Ce&&(N=N.slice(0,-1*Ce*2),F=F.slice(0,-1*Ce),H=H.slice(0,-1*Ce)),N.push(this.productions_[he[1]][0]),F.push(ve.$),H.push(ve._$),xe=V[N[N.length-2]][N[N.length-1]],N.push(xe);break;case 3:return!0}}return!0}},b=function(){var T={EOF:1,parseError:function(I,N){if(this.yy.parser)this.yy.parser.parseError(I,N);else throw new Error(I)},setInput:function(R,I){return this.yy=I||this.yy||{},this._input=R,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var R=this._input[0];this.yytext+=R,this.yyleng++,this.offset++,this.match+=R,this.matched+=R;var I=R.match(/(?:\r\n?|\n).*/g);return I?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),R},unput:function(R){var I=R.length,N=R.split(/(?:\r\n?|\n)/g);this._input=R+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-I),this.offset-=I;var q=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),N.length-1&&(this.yylineno-=N.length-1);var F=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:N?(N.length===q.length?this.yylloc.first_column:0)+q[q.length-N.length].length-N[0].length:this.yylloc.first_column-I},this.options.ranges&&(this.yylloc.range=[F[0],F[0]+this.yyleng-I]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(R){this.unput(this.match.slice(R))},pastInput:function(){var R=this.matched.substr(0,this.matched.length-this.match.length);return(R.length>20?"...":"")+R.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var R=this.match;return R.length<20&&(R+=this._input.substr(0,20-R.length)),(R.substr(0,20)+(R.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var R=this.pastInput(),I=new Array(R.length+1).join("-");return R+this.upcomingInput()+`
`+I+"^"},test_match:function(R,I){var N,q,F;if(this.options.backtrack_lexer&&(F={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(F.yylloc.range=this.yylloc.range.slice(0))),q=R[0].match(/(?:\r\n?|\n).*/g),q&&(this.yylineno+=q.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:q?q[q.length-1].length-q[q.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+R[0].length},this.yytext+=R[0],this.match+=R[0],this.matches=R,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(R[0].length),this.matched+=R[0],N=this.performAction.call(this,this.yy,this,I,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),N)return N;if(this._backtrack){for(var H in F)this[H]=F[H];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var R,I,N,q;this._more||(this.yytext="",this.match="");for(var F=this._currentRules(),H=0;H<F.length;H++)if(N=this._input.match(this.rules[F[H]]),N&&(!I||N[0].length>I[0].length)){if(I=N,q=H,this.options.backtrack_lexer){if(R=this.test_match(N,F[H]),R!==!1)return R;if(this._backtrack){I=!1;continue}else return!1}else if(!this.options.flex)break}return I?(R=this.test_match(I,F[q]),R!==!1?R:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var I=this.next();return I||this.lex()},begin:function(I){this.conditionStack.push(I)},popState:function(){var I=this.conditionStack.length-1;return I>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(I){return I=this.conditionStack.length-1-Math.abs(I||0),I>=0?this.conditionStack[I]:"INITIAL"},pushState:function(I){this.begin(I)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(I,N,q,F){switch(q){case 0:return this.begin("open_directive"),26;case 1:return this.begin("type_directive"),27;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),29;case 4:return 28;case 5:break;case 6:break;case 7:return 11;case 8:break;case 9:break;case 10:return 4;case 11:return 17;case 12:return this.begin("acc_title"),18;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),20;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:return 23;case 20:return 24;case 21:return 25;case 22:return 15;case 23:return 6;case 24:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,14,16,19,20,21,22,23,24],inclusive:!0}}};return T}();g.lexer=b;function v(){this.yy={}}return v.prototype=g,g.Parser=v,new v}();parser.parser=parser;const journeyDetector=e=>e.match(/^\s*journey/)!==null;let currentSection="";const sections=[],tasks=[],rawTasks=[],parseDirective$1=function(e,t,r){mermaidAPI.parseDirective(this,e,t,r)},clear=function(){sections.length=0,tasks.length=0,currentSection="",rawTasks.length=0,clear$g()},addSection=function(e){currentSection=e,sections.push(e)},getSections=function(){return sections},getTasks=function(){let e=compileTasks();const t=100;let r=0;for(;!e&&r<t;)e=compileTasks(),r++;return tasks.push(...rawTasks),tasks},updateActors=function(){const e=[];return tasks.forEach(r=>{r.people&&e.push(...r.people)}),[...new Set(e)].sort()},addTask=function(e,t){const r=t.substr(1).split(":");let n=0,o=[];r.length===1?(n=Number(r[0]),o=[]):(n=Number(r[0]),o=r[1].split(","));const l=o.map(h=>h.trim()),u={section:currentSection,type:currentSection,people:l,task:e,score:n};rawTasks.push(u)},addTaskOrg=function(e){const t={section:currentSection,type:currentSection,description:e,task:e,classes:[]};tasks.push(t)},compileTasks=function(){const e=function(r){return rawTasks[r].processed};let t=!0;for(let r=0;r<rawTasks.length;r++)e(r),t=t&&rawTasks[r].processed;return t},getActors=function(){return updateActors()},journeyDb={parseDirective:parseDirective$1,getConfig:()=>getConfig$1().journey,clear,setDiagramTitle,getDiagramTitle,setAccTitle,getAccTitle,setAccDescription,getAccDescription,addSection,getSections,getTasks,addTask,addTaskOrg,getActors},drawRect=function(e,t){const r=e.append("rect");return r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),r.attr("rx",t.rx),r.attr("ry",t.ry),typeof t.class<"u"&&r.attr("class",t.class),r},drawFace=function(e,t){const n=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),o=e.append("g");o.append("circle").attr("cx",t.cx-15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),o.append("circle").attr("cx",t.cx+15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function l(f){const d=arc$1().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);f.append("path").attr("class","mouth").attr("d",d).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}function u(f){const d=arc$1().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);f.append("path").attr("class","mouth").attr("d",d).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}function h(f){f.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return t.score>3?l(o):t.score<3?u(o):h(o),n},drawCircle=function(e,t){const r=e.append("circle");return r.attr("cx",t.cx),r.attr("cy",t.cy),r.attr("class","actor-"+t.pos),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("r",t.r),typeof r.class<"u"&&r.attr("class",r.class),typeof t.title<"u"&&r.append("title").text(t.title),r},drawText=function(e,t){const r=t.text.replace(/<br\s*\/?>/gi," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.attr("class","legend"),n.style("text-anchor",t.anchor),typeof t.class<"u"&&n.attr("class",t.class);const o=n.append("tspan");return o.attr("x",t.x+t.textMargin*2),o.text(r),n},drawLabel=function(e,t){function r(o,l,u,h,f){return o+","+l+" "+(o+u)+","+l+" "+(o+u)+","+(l+h-f)+" "+(o+u-f*1.2)+","+(l+h)+" "+o+","+(l+h)}const n=e.append("polygon");n.attr("points",r(t.x,t.y,50,20,7)),n.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,drawText(e,t)},drawSection=function(e,t,r){const n=e.append("g"),o=getNoteRect();o.x=t.x,o.y=t.y,o.fill=t.fill,o.width=r.width,o.height=r.height,o.class="journey-section section-type-"+t.num,o.rx=3,o.ry=3,drawRect(n,o),_drawTextCandidateFunc(r)(t.text,n,o.x,o.y,o.width,o.height,{class:"journey-section section-type-"+t.num},r,t.colour)};let taskCount=-1;const drawTask=function(e,t,r){const n=t.x+r.width/2,o=e.append("g");taskCount++;const l=300+5*30;o.append("line").attr("id","task"+taskCount).attr("x1",n).attr("y1",t.y).attr("x2",n).attr("y2",l).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),drawFace(o,{cx:n,cy:300+(5-t.score)*30,score:t.score});const u=getNoteRect();u.x=t.x,u.y=t.y,u.fill=t.fill,u.width=r.width,u.height=r.height,u.class="task task-type-"+t.num,u.rx=3,u.ry=3,drawRect(o,u);let h=t.x+14;t.people.forEach(f=>{const d=t.actors[f].color,p={cx:h,cy:t.y,r:7,fill:d,stroke:"#000",title:f,pos:t.actors[f].position};drawCircle(o,p),h+=10}),_drawTextCandidateFunc(r)(t.task,o,u.x,u.y,u.width,u.height,{class:"task"},r,t.colour)},drawBackgroundRect=function(e,t){drawRect(e,{x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,class:"rect"}).lower()},getTextObj=function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},getNoteRect=function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},_drawTextCandidateFunc=function(){function e(o,l,u,h,f,d,p,m){const g=l.append("text").attr("x",u+f/2).attr("y",h+d/2+5).style("font-color",m).style("text-anchor","middle").text(o);n(g,p)}function t(o,l,u,h,f,d,p,m,g){const{taskFontSize:b,taskFontFamily:v}=m,T=o.split(/<br\s*\/?>/gi);for(let R=0;R<T.length;R++){const I=R*b-b*(T.length-1)/2,N=l.append("text").attr("x",u+f/2).attr("y",h).attr("fill",g).style("text-anchor","middle").style("font-size",b).style("font-family",v);N.append("tspan").attr("x",u+f/2).attr("dy",I).text(T[R]),N.attr("y",h+d/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(N,p)}}function r(o,l,u,h,f,d,p,m){const g=l.append("switch"),v=g.append("foreignObject").attr("x",u).attr("y",h).attr("width",f).attr("height",d).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");v.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(o),t(o,g,u,h,f,d,p,m),n(v,p)}function n(o,l){for(const u in l)u in l&&o.attr(u,l[u])}return function(o){return o.textPlacement==="fo"?r:o.textPlacement==="old"?e:t}}(),initGraphics=function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},svgDraw={drawRect,drawCircle,drawSection,drawText,drawLabel,drawTask,drawBackgroundRect,getTextObj,getNoteRect,initGraphics},setConf$1=function(e){Object.keys(e).forEach(function(r){conf$1[r]=e[r]})},actors={};function drawActorLegend(e){const t=getConfig$1().journey;let r=60;Object.keys(actors).forEach(n=>{const o=actors[n].color,l={cx:20,cy:r,r:7,fill:o,stroke:"#000",pos:actors[n].position};svgDraw.drawCircle(e,l);const u={x:40,y:r+7,fill:"#666",text:n,textMargin:t.boxTextMargin|5};svgDraw.drawText(e,u),r+=20})}const conf$1=getConfig$1().journey,LEFT_MARGIN=conf$1.leftMargin,draw$1=function(e,t,r,n){const o=getConfig$1().journey;n.db.clear(),n.parser.parse(e+`
`);const l=getConfig$1().securityLevel;let u;l==="sandbox"&&(u=select$1("#i"+t));const h=select$1(l==="sandbox"?u.nodes()[0].contentDocument.body:"body");bounds.init();const f=h.select("#"+t);svgDraw.initGraphics(f);const d=n.db.getTasks(),p=n.db.getDiagramTitle(),m=n.db.getActors();for(const I in actors)delete actors[I];let g=0;m.forEach(I=>{actors[I]={color:o.actorColours[g%o.actorColours.length],position:g},g++}),drawActorLegend(f),bounds.insert(0,0,LEFT_MARGIN,Object.keys(actors).length*50),drawTasks(f,d,0);const b=bounds.getBounds();p&&f.append("text").text(p).attr("x",LEFT_MARGIN).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);const v=b.stopy-b.starty+2*o.diagramMarginY,T=LEFT_MARGIN+b.stopx+2*o.diagramMarginX;configureSvgSize(f,v,T,o.useMaxWidth),f.append("line").attr("x1",LEFT_MARGIN).attr("y1",o.height*4).attr("x2",T-LEFT_MARGIN-4).attr("y2",o.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const R=p?70:0;f.attr("viewBox",`${b.startx} -25 ${T} ${v+R}`),f.attr("preserveAspectRatio","xMinYMin meet"),f.attr("height",v+R+25),addSVGAccessibilityFields(n.db,f,t)},bounds={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function(e,t,r,n){typeof e[t]>"u"?e[t]=r:e[t]=n(r,e[t])},updateBounds:function(e,t,r,n){const o=getConfig$1().journey,l=this;let u=0;function h(f){return function(p){u++;const m=l.sequenceItems.length-u+1;l.updateVal(p,"starty",t-m*o.boxMargin,Math.min),l.updateVal(p,"stopy",n+m*o.boxMargin,Math.max),l.updateVal(bounds.data,"startx",e-m*o.boxMargin,Math.min),l.updateVal(bounds.data,"stopx",r+m*o.boxMargin,Math.max),f!=="activation"&&(l.updateVal(p,"startx",e-m*o.boxMargin,Math.min),l.updateVal(p,"stopx",r+m*o.boxMargin,Math.max),l.updateVal(bounds.data,"starty",t-m*o.boxMargin,Math.min),l.updateVal(bounds.data,"stopy",n+m*o.boxMargin,Math.max))}}this.sequenceItems.forEach(h())},insert:function(e,t,r,n){const o=Math.min(e,r),l=Math.max(e,r),u=Math.min(t,n),h=Math.max(t,n);this.updateVal(bounds.data,"startx",o,Math.min),this.updateVal(bounds.data,"starty",u,Math.min),this.updateVal(bounds.data,"stopx",l,Math.max),this.updateVal(bounds.data,"stopy",h,Math.max),this.updateBounds(o,u,l,h)},bumpVerticalPos:function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}},fills=conf$1.sectionFills,textColours=conf$1.sectionColours,drawTasks=function(e,t,r){const n=getConfig$1().journey;let o="";const l=n.height*2+n.diagramMarginY,u=r+l;let h=0,f="#CCC",d="black",p=0;for(let m=0;m<t.length;m++){const g=t[m];if(o!==g.section){f=fills[h%fills.length],p=h%fills.length,d=textColours[h%textColours.length];const v={x:m*n.taskMargin+m*n.width+LEFT_MARGIN,y:50,text:g.section,fill:f,num:p,colour:d};svgDraw.drawSection(e,v,n),o=g.section,h++}const b=g.people.reduce((v,T)=>(actors[T]&&(v[T]=actors[T]),v),{});g.x=m*n.taskMargin+m*n.width+LEFT_MARGIN,g.y=u,g.width=n.diagramMarginX,g.height=n.diagramMarginY,g.colour=d,g.fill=f,g.num=p,g.actors=b,svgDraw.drawTask(e,g,n),bounds.insert(g.x,g.y,g.x+g.width+n.taskMargin,300+5*30)}},journeyRenderer={setConf:setConf$1,draw:draw$1};let conf={};const setConf=function(e){conf={...conf,...e}},draw=(e,t,r)=>{try{log$1.debug(`Renering svg for syntax error
`);const n=select$1("#"+t),o=n.append("g");o.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),o.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),o.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),o.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),o.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),o.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),o.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in graph"),o.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text("mermaid version "+r),n.attr("height",100),n.attr("width",500),n.attr("viewBox","768 0 912 512")}catch(n){log$1.error("Error while rendering info diagram"),log$1.error(getErrorMessage(n))}},errorRenderer={setConf,draw};let hasLoadedDiagrams=!1;const addDiagrams=()=>{hasLoadedDiagrams||(hasLoadedDiagrams=!0,registerDiagram("error",{db:{clear:()=>{}},styles:getStyles$b,renderer:errorRenderer,parser:{parser:{yy:{}},parse:()=>{}},init:()=>{}},e=>e.toLowerCase().trim()==="error"),registerDiagram("c4",{parser:parser$a,db:c4Db,renderer:c4Renderer,styles:getStyles$2,init:e=>{c4Renderer.setConf(e.c4)}},c4Detector),registerDiagram("class",{parser:parser$9,db:classDb,renderer:classRenderer,styles:getStyles$d,init:e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,classDb.clear()}},classDetector),registerDiagram("classDiagram",{parser:parser$9,db:classDb,renderer:classRendererV2,styles:getStyles$d,init:e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,classDb.clear()}},classDetectorV2),registerDiagram("er",{parser:parser$8,db:erDb,renderer:erRenderer,styles:getStyles$c},erDetector),registerDiagram("gantt",{parser:parser$6,db:ganttDb,renderer:ganttRenderer,styles:getStyles$9},ganttDetector),registerDiagram("info",{parser:parser$5,db:infoDb,renderer:infoRenderer,styles:getStyles$8},infoDetector),registerDiagram("pie",{parser:parser$4,db:pieDb,renderer:pieRenderer,styles:getStyles$7},pieDetector),registerDiagram("requirement",{parser:parser$3,db:requirementDb,renderer:requirementRenderer,styles:getStyles$6},requirementDetector),registerDiagram("sequence",{parser:parser$2,db:sequenceDb,renderer:sequenceRenderer,styles:getStyles$5,init:e=>{if(e.sequence||(e.sequence={}),e.sequence.arrowMarkerAbsolute=e.arrowMarkerAbsolute,"sequenceDiagram"in e)throw new Error("`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.");sequenceDb.setWrap(e.wrap),sequenceRenderer.setConf(e.sequence)}},sequenceDetector),registerDiagram("state",{parser:parser$1,db:stateDb,renderer:stateRenderer,styles:getStyles$4,init:e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,stateDb.clear()}},stateDetector),registerDiagram("stateDiagram",{parser:parser$1,db:stateDb,renderer:stateRendererV2,styles:getStyles$4,init:e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,stateDb.clear()}},stateDetectorV2),registerDiagram("journey",{parser,db:journeyDb,renderer:journeyRenderer,styles:getStyles$3,init:e=>{journeyRenderer.setConf(e.journey),journeyDb.clear()}},journeyDetector),registerDiagram("flowchart",{parser:parser$7,db:flowDb,renderer:flowRendererV2,styles:getStyles$a,init:e=>{e.flowchart||(e.flowchart={}),e.flowchart.arrowMarkerAbsolute=e.arrowMarkerAbsolute,flowRenderer.setConf(e.flowchart),flowDb.clear(),flowDb.setGen("gen-1")}},flowDetector),registerDiagram("flowchart-v2",{parser:parser$7,db:flowDb,renderer:flowRendererV2,styles:getStyles$a,init:e=>{e.flowchart||(e.flowchart={}),e.flowchart.arrowMarkerAbsolute=e.arrowMarkerAbsolute,setConfig({flowchart:{arrowMarkerAbsolute:e.arrowMarkerAbsolute}}),flowRendererV2.setConf(e.flowchart),flowDb.clear(),flowDb.setGen("gen-2")}},flowDetectorV2),registerDiagram("gitGraph",{parser:parser$b,db:gitGraphDb,renderer:gitGraphRenderer,styles:getStyles},gitGraphDetector))};class Diagram{constructor(t,r){__publicField(this,"type","graph"),__publicField(this,"parser"),__publicField(this,"renderer"),__publicField(this,"db"),__publicField(this,"detectTypeFailed",!1);var n,o;this.txt=t;const l=getConfig$1();this.txt=t;try{this.type=detectType(t,l)}catch(h){this.handleError(h,r),this.type="error",this.detectTypeFailed=!0}const u=getDiagram(this.type);log$1.debug("Type "+this.type),this.db=u.db,(o=(n=this.db).clear)==null||o.call(n),this.renderer=u.renderer,this.parser=u.parser,this.parser.parser.yy=this.db,u.init&&(u.init(l),log$1.debug("Initialized diagram "+this.type,l)),this.txt+=`
`,this.parse(this.txt,r)}parse(t,r){if(this.detectTypeFailed)return!1;try{return t=t+`
`,this.db.clear(),this.parser.parse(t),!0}catch(n){this.handleError(n,r)}return!1}handleError(t,r){if(r)isDetailedError(t)?r(t.str,t.hash):r(t);else throw t}getParser(){return this.parser}getType(){return this.type}}const getDiagramFromText=(e,t)=>{const r=detectType(e,getConfig$1());try{return getDiagram(r),new Diagram(e,t)}catch(n){if(!(n instanceof DiagramNotFoundError))throw log$1.error(n),n;const o=getDiagramLoader(r);if(!o)throw new Error(`Loader for ${r} not found.`);return o().then(({diagram:l})=>(registerDiagram(r,l,void 0),new Diagram(e,t)))}};function parse$1(e,t){return addDiagrams(),new Diagram(e,t).parse(e,t)}async function parseAsync$1(e,t){return addDiagrams(),(await getDiagramFromText(e,t)).parse(e,t)}const encodeEntities=function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/#\w+;/g,function(r){const n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?"\uFB02\xB0\xB0"+n+"\xB6\xDF":"\uFB02\xB0"+n+"\xB6\xDF"}),t},decodeEntities=function(e){let t=e;return t=t.replace(//g,function(){return"&#"}),t=t.replace(//g,function(){return"&"}),t=t.replace(//g,function(){return";"}),t},render$2=function(e,t,r,n){var o;addDiagrams(),reset(),t=t.replace(/\r\n?/g,`
`);const l=utils.detectInit(t);l&&(directiveSanitizer(l),addDirective(l));const u=getConfig$1();log$1.debug(u),t.length>u.maxTextSize&&(t="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");let h=select$1("body");if(typeof n<"u"){if(n&&(n.innerHTML=""),u.securityLevel==="sandbox"){const H=select$1(n).append("iframe").attr("id","i"+e).attr("style","width: 100%; height: 100%;").attr("sandbox","");h=select$1(H.nodes()[0].contentDocument.body),h.node().style.margin=0}else h=select$1(n);h.append("div").attr("id","d"+e).attr("style","font-family: "+u.fontFamily).append("svg").attr("id",e).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").attr("xmlns:xlink","http://www.w3.org/1999/xlink").append("g")}else{const H=document.getElementById(e);H&&H.remove();let V;if(u.securityLevel==="sandbox"?V=document.querySelector("#i"+e):V=document.querySelector("#d"+e),V&&V.remove(),u.securityLevel==="sandbox"){const z=select$1("body").append("iframe").attr("id","i"+e).attr("style","width: 100%; height: 100%;").attr("sandbox","");h=select$1(z.nodes()[0].contentDocument.body),h.node().style.margin=0}else h=select$1("body");h.append("div").attr("id","d"+e).append("svg").attr("id",e).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").append("g")}t=encodeEntities(t);let f,d;try{if(f=getDiagramFromText(t),"then"in f)throw new Error("Diagram is a promise")}catch(H){f=new Diagram("error"),d=H}const p=h.select("#d"+e).node(),m=f.type,g=p.firstChild,b=g.firstChild;let v="";if(u.themeCSS!==void 0&&(v+=`
${u.themeCSS}`),u.fontFamily!==void 0&&(v+=`
:root { --mermaid-font-family: ${u.fontFamily}}`),u.altFontFamily!==void 0&&(v+=`
:root { --mermaid-alt-font-family: ${u.altFontFamily}}`),m==="flowchart"||m==="flowchart-v2"||m==="graph"){const H=flowRenderer.getClasses(t,f),V=u.htmlLabels||((o=u.flowchart)==null?void 0:o.htmlLabels);for(const z in H)V?(v+=`
.${z} > * { ${H[z].styles.join(" !important; ")} !important; }`,v+=`
.${z} span { ${H[z].styles.join(" !important; ")} !important; }`):(v+=`
.${z} path { ${H[z].styles.join(" !important; ")} !important; }`,v+=`
.${z} rect { ${H[z].styles.join(" !important; ")} !important; }`,v+=`
.${z} polygon { ${H[z].styles.join(" !important; ")} !important; }`,v+=`
.${z} ellipse { ${H[z].styles.join(" !important; ")} !important; }`,v+=`
.${z} circle { ${H[z].styles.join(" !important; ")} !important; }`,H[z].textStyles&&(v+=`
.${z} tspan { ${H[z].textStyles.join(" !important; ")} !important; }`))}const R=((H,V)=>serialize(compile(`${H}{${V}}`),stringify))(`#${e}`,getStyles$1(m,v,u.themeVariables)),I=document.createElement("style");I.innerHTML=`#${e} `+R,g.insertBefore(I,b);try{f.renderer.draw(t,e,pkg.version,f)}catch(H){throw errorRenderer.draw(t,e,pkg.version),H}h.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");let N=h.select("#d"+e).node().innerHTML;if(log$1.debug("cnf.arrowMarkerAbsolute",u.arrowMarkerAbsolute),!evaluate(u.arrowMarkerAbsolute)&&u.securityLevel!=="sandbox"&&(N=N.replace(/marker-end="url\(.*?#/g,'marker-end="url(#',"g")),N=decodeEntities(N),N=N.replace(/<br>/g,"<br/>"),u.securityLevel==="sandbox"){const H=h.select("#d"+e+" svg").node(),V="100%";let z="100%";H&&(z=H.viewBox.baseVal.height+"px"),N=`<iframe style="width:${V};height:${z};border:0;margin:0;" src="data:text/html;base64,${btoa('<body style="margin:0">'+N+"</body>")}" sandbox="allow-top-navigation-by-user-activation allow-popups">
  The \u201Ciframe\u201D tag is not supported by your browser.
</iframe>`}else u.securityLevel!=="loose"&&(N=purify.sanitize(N,{ADD_TAGS:["foreignobject"],ADD_ATTR:["dominant-baseline"]}));if(typeof r<"u")switch(m){case"flowchart":case"flowchart-v2":r(N,flowDb.bindFunctions);break;case"gantt":r(N,ganttDb.bindFunctions);break;case"class":case"classDiagram":r(N,classDb.bindFunctions);break;default:r(N)}else log$1.debug("CB = undefined!");attachFunctions();const q=u.securityLevel==="sandbox"?"#i"+e:"#d"+e,F=select$1(q).node();if(F&&"remove"in F&&F.remove(),d)throw d;return N},renderAsync$1=async function(e,t,r,n){var o;addDiagrams(),reset(),t=t.replace(/\r\n?/g,`
`);const l=utils.detectInit(t);l&&(directiveSanitizer(l),addDirective(l));const u=getConfig$1();log$1.debug(u),t.length>u.maxTextSize&&(t="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");let h=select$1("body");if(typeof n<"u"){if(n&&(n.innerHTML=""),u.securityLevel==="sandbox"){const H=select$1(n).append("iframe").attr("id","i"+e).attr("style","width: 100%; height: 100%;").attr("sandbox","");h=select$1(H.nodes()[0].contentDocument.body),h.node().style.margin=0}else h=select$1(n);h.append("div").attr("id","d"+e).attr("style","font-family: "+u.fontFamily).append("svg").attr("id",e).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").attr("xmlns:xlink","http://www.w3.org/1999/xlink").append("g")}else{const H=document.getElementById(e);H&&H.remove();let V;if(u.securityLevel==="sandbox"?V=document.querySelector("#i"+e):V=document.querySelector("#d"+e),V&&V.remove(),u.securityLevel==="sandbox"){const z=select$1("body").append("iframe").attr("id","i"+e).attr("style","width: 100%; height: 100%;").attr("sandbox","");h=select$1(z.nodes()[0].contentDocument.body),h.node().style.margin=0}else h=select$1("body");h.append("div").attr("id","d"+e).append("svg").attr("id",e).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").append("g")}t=encodeEntities(t);let f,d;try{f=await getDiagramFromText(t)}catch(H){f=new Diagram("error"),d=H}const p=h.select("#d"+e).node(),m=f.type,g=p.firstChild,b=g.firstChild;let v="";if(u.themeCSS!==void 0&&(v+=`
${u.themeCSS}`),u.fontFamily!==void 0&&(v+=`
:root { --mermaid-font-family: ${u.fontFamily}}`),u.altFontFamily!==void 0&&(v+=`
:root { --mermaid-alt-font-family: ${u.altFontFamily}}`),m==="flowchart"||m==="flowchart-v2"||m==="graph"){const H=flowRenderer.getClasses(t,f),V=u.htmlLabels||((o=u.flowchart)==null?void 0:o.htmlLabels);for(const z in H)V?(v+=`
.${z} > * { ${H[z].styles.join(" !important; ")} !important; }`,v+=`
.${z} span { ${H[z].styles.join(" !important; ")} !important; }`):(v+=`
.${z} path { ${H[z].styles.join(" !important; ")} !important; }`,v+=`
.${z} rect { ${H[z].styles.join(" !important; ")} !important; }`,v+=`
.${z} polygon { ${H[z].styles.join(" !important; ")} !important; }`,v+=`
.${z} ellipse { ${H[z].styles.join(" !important; ")} !important; }`,v+=`
.${z} circle { ${H[z].styles.join(" !important; ")} !important; }`,H[z].textStyles&&(v+=`
.${z} tspan { ${H[z].textStyles.join(" !important; ")} !important; }`))}const R=((H,V)=>serialize(compile(`${H}{${V}}`),stringify))(`#${e}`,getStyles$1(m,v,u.themeVariables)),I=document.createElement("style");I.innerHTML=`#${e} `+R,g.insertBefore(I,b);try{await f.renderer.draw(t,e,pkg.version,f)}catch(H){throw errorRenderer.draw(t,e,pkg.version),H}h.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");let N=h.select("#d"+e).node().innerHTML;if(log$1.debug("cnf.arrowMarkerAbsolute",u.arrowMarkerAbsolute),!evaluate(u.arrowMarkerAbsolute)&&u.securityLevel!=="sandbox"&&(N=N.replace(/marker-end="url\(.*?#/g,'marker-end="url(#',"g")),N=decodeEntities(N),N=N.replace(/<br>/g,"<br/>"),u.securityLevel==="sandbox"){const H=h.select("#d"+e+" svg").node(),V="100%";let z="100%";H&&(z=H.viewBox.baseVal.height+"px"),N=`<iframe style="width:${V};height:${z};border:0;margin:0;" src="data:text/html;base64,${btoa('<body style="margin:0">'+N+"</body>")}" sandbox="allow-top-navigation-by-user-activation allow-popups">
  The \u201Ciframe\u201D tag is not supported by your browser.
</iframe>`}else u.securityLevel!=="loose"&&(N=purify.sanitize(N,{ADD_TAGS:["foreignobject"],ADD_ATTR:["dominant-baseline"]}));if(typeof r<"u")switch(m){case"flowchart":case"flowchart-v2":r(N,flowDb.bindFunctions);break;case"gantt":r(N,ganttDb.bindFunctions);break;case"class":case"classDiagram":r(N,classDb.bindFunctions);break;default:r(N)}else log$1.debug("CB = undefined!");attachFunctions();const q=u.securityLevel==="sandbox"?"#i"+e:"#d"+e,F=select$1(q).node();if(F&&"remove"in F&&F.remove(),d)throw d;return N};let currentDirective={};const parseDirective=function(e,t,r,n){try{if(t!==void 0)switch(t=t.trim(),r){case"open_directive":currentDirective={};break;case"type_directive":if(!currentDirective)throw new Error("currentDirective is undefined");currentDirective.type=t.toLowerCase();break;case"arg_directive":if(!currentDirective)throw new Error("currentDirective is undefined");currentDirective.args=JSON.parse(t);break;case"close_directive":handleDirective(e,currentDirective,n),currentDirective=void 0;break}}catch(o){log$1.error(`Error while rendering sequenceDiagram directive: ${t} jison context: ${r}`),log$1.error(o.message)}},handleDirective=function(e,t,r){switch(log$1.debug(`Directive type=${t.type} with args:`,t.args),t.type){case"init":case"initialize":{["config"].forEach(n=>{typeof t.args[n]<"u"&&(r==="flowchart-v2"&&(r="flowchart"),t.args[r]=t.args[n],delete t.args[n])}),log$1.debug("sanitize in handleDirective",t.args),directiveSanitizer(t.args),log$1.debug("sanitize in handleDirective (done)",t.args),addDirective(t.args);break}case"wrap":case"nowrap":e&&e.setWrap&&e.setWrap(t.type==="wrap");break;case"themeCss":log$1.warn("themeCss encountered");break;default:log$1.warn(`Unhandled directive: source: '%%{${t.type}: ${JSON.stringify(t.args?t.args:{})}}%%`,t);break}};function initialize$1(e={}){e.fontFamily&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),saveConfigFromInitialize(e),(e==null?void 0:e.theme)&&e.theme in theme?e.themeVariables=theme[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=theme.default.getThemeVariables(e.themeVariables));const t=typeof e=="object"?setSiteConfig(e):getSiteConfig();setLogLevel$1(t.logLevel),addDiagrams()}const mermaidAPI=Object.freeze({render:render$2,renderAsync:renderAsync$1,parse:parse$1,parseAsync:parseAsync$1,parseDirective,initialize:initialize$1,getConfig:getConfig$1,setConfig,getSiteConfig,updateSiteConfig,reset:()=>{reset()},globalReset:()=>{reset(defaultConfig)},defaultConfig});setLogLevel$1(getConfig$1().logLevel);reset(getConfig$1());let externalDiagramsRegistered=!1;const init$1=async function(e,t,r){try{externalDiagramsRegistered?await initThrowsErrorsAsync(e,t,r):initThrowsErrors(e,t,r)}catch(n){log$1.warn("Syntax Error rendering"),isDetailedError(n)&&log$1.warn(n.str),mermaid.parseError&&mermaid.parseError(n)}},handleError=(e,t,r)=>{log$1.warn(e),isDetailedError(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},initThrowsErrors=function(e,t,r){const n=mermaidAPI.getConfig();e&&(mermaid.sequenceConfig=e),log$1.debug(`${r?"":"No "}Callback function found`);let o;if(typeof t>"u")o=document.querySelectorAll(".mermaid");else if(typeof t=="string")o=document.querySelectorAll(t);else if(t instanceof HTMLElement)o=[t];else if(t instanceof NodeList)o=t;else throw new Error("Invalid argument nodes for mermaid.init");log$1.debug(`Found ${o.length} diagrams`),typeof(e==null?void 0:e.startOnLoad)<"u"&&(log$1.debug("Start On Load: "+(e==null?void 0:e.startOnLoad)),mermaidAPI.updateSiteConfig({startOnLoad:e==null?void 0:e.startOnLoad}));const l=new utils.initIdGenerator(n.deterministicIds,n.deterministicIDSeed);let u;const h=[];for(const f of Array.from(o)){log$1.info("Rendering diagram: "+f.id);/*! Check if previously processed */if(f.getAttribute("data-processed"))continue;f.setAttribute("data-processed","true");const d=`mermaid-${l.next()}`;u=f.innerHTML,u=utils.entityDecode(u).trim().replace(/<br\s*\/?>/gi,"<br/>");const p=utils.detectInit(u);p&&log$1.debug("Detected early reinit: ",p);try{mermaidAPI.render(d,u,(m,g)=>{f.innerHTML=m,typeof r<"u"&&r(d),g&&g(f)},f)}catch(m){handleError(m,h,mermaid.parseError)}}if(h.length>0)throw h[0]},registerLazyLoadedDiagrams=e=>{for(const{id:t,detector:r,loader:n}of e)addDetector(t,r,n)},loadExternalDiagrams=async e=>{log$1.debug(`Loading ${e.length} external diagrams`);const r=(await Promise.allSettled(e.map(async({id:n,detector:o,loader:l})=>{const{diagram:u}=await l();registerDiagram(n,u,o)}))).filter(n=>n.status==="rejected");if(r.length>0){log$1.error(`Failed to load ${r.length} external diagrams`);for(const n of r)log$1.error(n);throw new Error(`Failed to load ${r.length} external diagrams`)}},initThrowsErrorsAsync=async function(e,t,r){const n=mermaidAPI.getConfig();e&&(mermaid.sequenceConfig=e),log$1.debug(`${r?"":"No "}Callback function found`);let o;if(typeof t>"u")o=document.querySelectorAll(".mermaid");else if(typeof t=="string")o=document.querySelectorAll(t);else if(t instanceof HTMLElement)o=[t];else if(t instanceof NodeList)o=t;else throw new Error("Invalid argument nodes for mermaid.init");log$1.debug(`Found ${o.length} diagrams`),typeof(e==null?void 0:e.startOnLoad)<"u"&&(log$1.debug("Start On Load: "+(e==null?void 0:e.startOnLoad)),mermaidAPI.updateSiteConfig({startOnLoad:e==null?void 0:e.startOnLoad}));const l=new utils.initIdGenerator(n.deterministicIds,n.deterministicIDSeed);let u;const h=[];for(const f of Array.from(o)){log$1.info("Rendering diagram: "+f.id);/*! Check if previously processed */if(f.getAttribute("data-processed"))continue;f.setAttribute("data-processed","true");const d=`mermaid-${l.next()}`;u=f.innerHTML,u=utils.entityDecode(u).trim().replace(/<br\s*\/?>/gi,"<br/>");const p=utils.detectInit(u);p&&log$1.debug("Detected early reinit: ",p);try{await mermaidAPI.renderAsync(d,u,(m,g)=>{f.innerHTML=m,typeof r<"u"&&r(d),g&&g(f)},f)}catch(m){handleError(m,h,mermaid.parseError)}}if(h.length>0)throw h[0]},initialize$2=function(e){mermaidAPI.initialize(e)},registerExternalDiagrams=async(e,{lazyLoad:t=!0}={})=>{t?registerLazyLoadedDiagrams(e):await loadExternalDiagrams(e),externalDiagramsRegistered=!0},contentLoaded=function(){if(mermaid.startOnLoad){const{startOnLoad:e}=mermaidAPI.getConfig();e&&mermaid.init()}};if(typeof document<"u"){/*!
 * Wait for document loaded before starting the execution
 */window.addEventListener("load",contentLoaded,!1)}const setParseErrorHandler=function(e){mermaid.parseError=e},parse$2=e=>mermaidAPI.parse(e,mermaid.parseError),executionQueue=[];let executionQueueRunning=!1;const executeQueue=async()=>{if(!executionQueueRunning){for(executionQueueRunning=!0;executionQueue.length>0;){const e=executionQueue.shift();if(e)try{await e()}catch(t){log$1.error("Error executing queue",t)}}executionQueueRunning=!1}},parseAsync=e=>new Promise((t,r)=>{const n=()=>new Promise((o,l)=>{mermaidAPI.parseAsync(e,mermaid.parseError).then(u=>{o(u),t(u)},u=>{log$1.error("Error parsing",u),l(u),r(u)})});executionQueue.push(n),executeQueue()}),renderAsync=(e,t,r,n)=>new Promise((o,l)=>{const u=()=>new Promise((h,f)=>{mermaidAPI.renderAsync(e,t,r,n).then(d=>{h(d),o(d)},d=>{log$1.error("Error parsing",d),f(d),l(d)})});executionQueue.push(u),executeQueue()}),mermaid={startOnLoad:!0,diagrams:{},mermaidAPI,parse:parse$2,parseAsync,render:mermaidAPI.render,renderAsync,init:init$1,initThrowsErrors,initThrowsErrorsAsync,registerExternalDiagrams,initialize:initialize$2,parseError:void 0,contentLoaded,setParseErrorHandler},id="mindmap",detector=e=>e.match(/^\s*mindmap/)!==null,loader=async()=>{const{diagram:e}=await __vitePreload(()=>import("./diagram-definition.e1071f13-a205a1fe.js"),[],import.meta.url);return{id,diagram:e}},plugin={id,detector,loader},initialize=mermaid.registerExternalDiagrams([plugin]),init=async()=>{await initialize},render=async(e,t,r,n)=>{mermaid.initialize(e),await init(),await mermaid.mermaidAPI.renderAsync(r,t,n)},parse=async e=>(await init(),await mermaid.parseAsync(e)),loadStateFromURL=()=>{loadState(window.location.hash.slice(1))},syncDiagram=()=>{updateCodeStore({updateDiagram:!0})},initHandler=async()=>{applyMigrations(),await initLoading("Loading Mermaid...",init()),loadStateFromURL(),await initLoading("Loading Gist...",loadDataFromUrl().catch(console.error)),syncDiagram(),initURLSubscription(),await initAnalytics(),await(analytics==null?void 0:analytics.page())},isMac=navigator.platform.toUpperCase().includes("MAC"),cmdKey=isMac?"Cmd":"Ctrl";let count=0;const errorDebug=(e=100)=>{if(count+=1,count>e){console.log(count,e);debugger}},defaultState={code:`graph TD
    A[Christmas] -->|Get money| B(Go shopping)
    B --> C{Let me think}
    C -->|One| D[Laptop]
    C -->|Two| E[iPhone]
    C -->|Three| F[fa:fa-car Car]
  `,mermaid:JSON.stringify({theme:"default"},null,2),autoSync:!0,updateDiagram:!0},urlParseFailedState=`graph TD
    A[Loading URL failed. We can try to figure out why.] -->|Decode JSON| B(Please check the console to see the JSON and error details.)
    B --> C{Is the JSON correct?}
    C -->|Yes| D(Please Click here to Raise an issue in github.<br/>Including the broken link in the issue <br/> will speed up the fix.)
    C -->|No| E{Did someone <br/>send you this link?}
    E -->|Yes| F[Ask them to send <br/>you the complete link]
    E -->|No| G{Did you copy <br/> the complete URL?}
    G --> |Yes| D
    G --> |"No :("| H(Try using the Timeline tab in History <br/>from same browser you used to create the diagram.)
    click D href "https://github.com/mermaid-js/mermaid-live-editor/issues/new?assignees=&labels=bug&template=bug_report.md&title=Broken%20link" "Raise issue"`,inputStateStore=persist(writable(defaultState),localStorage(),"codeStore"),currentState=(()=>{var t;const e=get_store_value(inputStateStore);return{...e,serialized:serializeState(e),errorMarkers:[],error:void 0,editorMode:(t=e.editorMode)!=null?t:"code"}})(),processState=async e=>{var r;const t={...e,serialized:"",errorMarkers:[],error:void 0,editorMode:(r=e.editorMode)!=null?r:"code"};try{t.serialized=serializeState(e),await parse(e.code),JSON.parse(e.mermaid)}catch(n){if(t.error=n,errorDebug(),console.error(n),"hash"in n)try{const{loc:{first_line:o,last_line:l,first_column:u,last_column:h}}=n.hash,f={severity:8,startLineNumber:o,startColumn:u,endLineNumber:l,endColumn:h+1,message:n.str};t.errorMarkers=[f]}catch(o){console.error("Error without line helper",o)}}return t},stateStore=derived([inputStateStore],([e],t)=>{processState(e).then(t)},currentState),loadState=e=>{let t;console.log(`Loading '${e}'`);try{t=deserializeState(e);const r=typeof t.mermaid=="string"?JSON.parse(t.mermaid):t.mermaid;r.securityLevel&&r.securityLevel!=="strict"&&confirm(`Removing "securityLevel":"${r.securityLevel}" from the config for safety.
Click Cancel if you trust the source of this Diagram.`)&&delete r.securityLevel,t.mermaid=JSON.stringify(r,null,2)}catch(r){t=get_store_value(inputStateStore),e&&(console.error("Init error",r),t.code=urlParseFailedState,t.mermaid=defaultState.mermaid)}updateCodeStore(t)},updateCodeStore=e=>{inputStateStore.update(t=>({...t,...e}))};let prompted=!1;const updateCode=(e,{updateDiagram:t=!1,resetPanZoom:r=!1}={})=>{console.log("updateCode",e);const n=countLines(e);if(saveStatistics(e),errorDebug(),n>50&&!prompted&&get_store_value(stateStore).autoSync){const o=confirm(`Long diagram detected. Turn off Auto Sync? Use ${cmdKey} + Enter or click the sync logo to manually sync.`);prompted=!0,o&&updateCodeStore({autoSync:!1})}inputStateStore.update(o=>(r&&(o.pan=void 0,o.zoom=void 0),{...o,code:e,updateDiagram:t}))},updateConfig=e=>{console.log("updateConfig",e),inputStateStore.update(t=>({...t,mermaid:e}))},toggleDarkTheme=e=>{inputStateStore.update(t=>{const r=JSON.parse(t.mermaid);return(!r.theme||["dark","default"].includes(r.theme))&&(r.theme=e?"dark":"default"),{...t,mermaid:JSON.stringify(r,null,2)}})};let urlDebounce;const initURLSubscription=()=>{stateStore.subscribe(({serialized:e})=>{clearTimeout(urlDebounce),urlDebounce=window.setTimeout(()=>{history.replaceState(void 0,"",`#${e}`)},250)})},getStateString=()=>JSON.stringify(get_store_value(inputStateStore));export{render as A,getAugmentedNamespace as B,Color$2 as C,select$1 as D,lighten$1 as E,darken$1 as F,_$D as _,localStorage as a,logEvent as b,syncDiagram as c,updateConfig as d,errorDebug as e,analytics as f,pakoSerde as g,encode as h,initHandler as i,inputStateStore as j,historyStore as k,loadingStateStore as l,historyModeStore as m,loaderHistoryStore as n,getStateString as o,persist as p,getPreviousState as q,restoreHistory as r,stateStore as s,toggleDarkTheme as t,updateCode as u,addHistoryEntry as v,clearHistoryData as w,updateCodeStore as x,cmdKey as y,commonjsGlobal$1 as z};
